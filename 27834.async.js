"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[27834],{53147:function(e,t,r){r.d(t,{Z:function(){return p}});var n,i,o=r(38461),s=r(99574),a=r(95226);function l(e){return(0,s.uZ)((0,a.vU)(e),0,255)}function u(e,t){const r=e.toString(16).padStart(2,"0");return t?r.slice(0,1):r}class c{static blendColors(e,t,r,n=new c){return n.r=Math.round(e.r+(t.r-e.r)*r),n.g=Math.round(e.g+(t.g-e.g)*r),n.b=Math.round(e.b+(t.b-e.b)*r),n.a=e.a+(t.a-e.a)*r,n._sanitize()}static fromRgb(e,t){const r=(0,o.xO)(e);return r?c.fromArray(r,t):null}static fromHex(e,t=new c){const r=(0,o.yE)(e);return r?c.fromArray(r,t):null}static fromArray(e,t=new c){return t._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(t.a)&&(t.a=1),t._sanitize()}static fromString(e,t){const r=(0,o.uh)(e);return r?c.fromArray(r,t):null}static fromJSON(e){return null!=e?new c([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return null!=e?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return null!=e?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return"string"==typeof e?c.fromString(e,this):Array.isArray(e)?c.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof c||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const t=e?.capitalize??!1,r=e?.digits??6,n=3===r||4===r,i=4===r||8===r,o=`#${u(this.r,n)}${u(this.g,n)}${u(this.b,n)}${i?u(Math.round(255*this.a),n):""}`;return t?o.toUpperCase():o}toCss(e=!1){const t=this.r+", "+this.g+", "+this.b;return e?`rgba(${t}, ${this.a})`:`rgb(${t})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=c.AlphaMode.ALWAYS){const t=l(this.r),r=l(this.g),n=l(this.b);return e===c.AlphaMode.ALWAYS||1!==this.a?[t,r,n,l(255*this.a)]:[t,r,n]}clone(){return new c(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return null!=e&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=(0,o.OC)(this.r),this.g=(0,o.OC)(this.g),this.b=(0,o.OC)(this.b),this.a=(0,o.I2)(this.a),this}_set(e,t,r,n){this.r=e,this.g=t,this.b=r,this.a=n}}c.prototype.declaredClass="esri.Color",n=c||(c={}),(i=n.AlphaMode||(n.AlphaMode={}))[i.ALWAYS=0]="ALWAYS",i[i.UNLESS_OPAQUE=1]="UNLESS_OPAQUE";const p=c},73749:function(e,t,r){r.d(t,{a:function(){return x},b:function(){return m},c:function(){return i},d:function(){return p},e:function(){return C},f:function(){return d},g:function(){return a},h:function(){return g},i:function(){return o},j:function(){return h},l:function(){return b},n:function(){return y},s:function(){return s},t:function(){return v},v:function(){return N}});var n=r(66130);function i(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function o(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function s(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function a(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function l(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function u(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function c(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function p(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function f(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+o*o)}function d(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return r*r+n*n+i*i+o*o}function h(e){const t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function m(e){const t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function y(e,t){const r=t[0],n=t[1],i=t[2],o=t[3];let s=r*r+n*n+i*i+o*o;return s>0&&(s=1/Math.sqrt(s),e[0]=r*s,e[1]=n*s,e[2]=i*s,e[3]=o*s),e}function g(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function b(e,t,r,n){const i=t[0],o=t[1],s=t[2],a=t[3];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=s+n*(r[2]-s),e[3]=a+n*(r[3]-a),e}function v(e,t,r){const n=t[0],i=t[1],o=t[2],s=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*s,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*s,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*s,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*s,e}function x(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function C(e,t){const r=e[0],i=e[1],o=e[2],s=e[3],a=t[0],l=t[1],u=t[2],c=t[3],p=(0,n.bn)();return Math.abs(r-a)<=p*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(i-l)<=p*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(o-u)<=p*Math.max(1,Math.abs(o),Math.abs(u))&&Math.abs(s-c)<=p*Math.max(1,Math.abs(s),Math.abs(c))}const w=l,S=u,_=c,Z=f,O=d,M=h,T=m,N=Object.freeze(Object.defineProperty({__proto__:null,add:a,ceil:function(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e},copy:i,copyVec3:o,dist:Z,distance:f,div:_,divide:c,dot:g,equals:C,exactEquals:x,floor:function(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e},inverse:function(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e},len:M,length:h,lerp:b,max:function(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e},min:function(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e},mul:S,multiply:u,negate:function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e},normalize:y,random:function(e,t=1){const r=n.FD;let i,o,s,a,l,u;do{i=2*r()-1,o=2*r()-1,l=i*i+o*o}while(l>=1);do{s=2*r()-1,a=2*r()-1,u=s*s+a*a}while(u>=1);const c=Math.sqrt((1-l)/u);return e[0]=t*i,e[1]=t*o,e[2]=t*s*c,e[3]=t*a*c,e},round:function(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e},scale:p,scaleAndAdd:function(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e},set:s,sqrDist:O,sqrLen:T,squaredDistance:d,squaredLength:m,str:function(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"},sub:w,subtract:l,transformMat4:v,transformQuat:function(e,t,r){const n=t[0],i=t[1],o=t[2],s=r[0],a=r[1],l=r[2],u=r[3],c=u*n+a*o-l*i,p=u*i+l*n-s*o,f=u*o+s*i-a*n,d=-s*n-a*i-l*o;return e[0]=c*u+d*-s+p*-l-f*-a,e[1]=p*u+d*-a+f*-s-c*-l,e[2]=f*u+d*-l+c*-a-p*-s,e[3]=t[3],e}},Symbol.toStringTag,{value:"Module"}))},27583:function(e,t,r){function n(){return[0,0,0,0]}function i(e){return[e[0],e[1],e[2],e[3]]}function o(e,t,r,n){return[e,t,r,n]}function s(e,t,r,n){return[e,t,r,n]}function a(e,t=[0,0,0,0]){const r=Math.min(4,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function l(){return[0,0,0,0]}function u(){return o(1,1,1,1)}function c(){return o(1,0,0,0)}function p(){return o(0,1,0,0)}function f(){return o(0,0,1,0)}function d(){return o(0,0,0,1)}r.d(t,{AG:function(){return h},Ue:function(){return n},al:function(){return o},d9:function(){return i},hq:function(){return m},iU:function(){return u},nI:function(){return a},vV:function(){return s}});const h=[0,0,0,0],m=u(),y=c(),g=p(),b=f(),v=d();Object.freeze(Object.defineProperty({__proto__:null,ONES:m,UNIT_W:v,UNIT_X:y,UNIT_Y:g,UNIT_Z:b,ZEROS:h,clone:i,create:n,freeze:s,fromArray:a,fromValues:o,ones:u,unitW:d,unitX:c,unitY:p,unitZ:f,zeros:l},Symbol.toStringTag,{value:"Module"}))},10700:function(e,t,r){r.d(t,{Z:function(){return u}});var n,i=r(73440),o=r(70880),s=r(17155),a=(r(61432),r(96711),r(83850),r(48023)),l=r(44399);let u=n=class extends o.Z{constructor(e){super(e),this.steps=[]}getInverse(){const e=new n;for(let t=this.steps.length-1;t>=0;t--){const r=this.steps[t];e.steps.push(r.getInverse())}return e}};(0,i._)([(0,s.Cb)({type:[l.Z],nonNullable:!0})],u.prototype,"steps",void 0),u=n=(0,i._)([(0,a.j)("esri.geometry.operators.support.GeographicTransformation")],u)},44399:function(e,t,r){r.d(t,{Z:function(){return l}});var n,i=r(73440),o=r(70880),s=r(17155),a=(r(61432),r(96711),r(83850),r(48023));let l=n=class extends o.Z{constructor(e){super(e),this.isInverse=!1,this.wkt=null,this.wkid=null}getInverse(){return new n({isInverse:!this.isInverse,wkid:this.wkid,wkt:this.wkt})}};(0,i._)([(0,s.Cb)()],l.prototype,"isInverse",void 0),(0,i._)([(0,s.Cb)()],l.prototype,"wkt",void 0),(0,i._)([(0,s.Cb)()],l.prototype,"wkid",void 0),l=n=(0,i._)([(0,a.j)("esri.geometry.operators.support.GeographicTransformationStep")],l)},98842:function(e,t,r){r.d(t,{Mk:function(){return c},P$:function(){return p},qM:function(){return f}});var n=r(41773),i=r(71354),o=r(82890),s=r(82868),a=r(60508),l=r(67764),u=r(62197);const c=(0,n.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),p=(0,n.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),f={base:o.Z,key:"type",typeMap:{extent:i.Z,multipoint:s.Z,point:a.Z,polyline:u.Z,polygon:l.Z}}},41964:function(e,t,r){r.d(t,{u:function(){return l}});var n,i=r(73440),o=r(63255),s=r(17155),a=(r(61432),r(96711),r(83850),r(48023));let l=n=class extends o.Z{constructor(e){super(e),this.name=null,this.code=null}clone(){return new n({name:this.name,code:this.code})}};(0,i._)([(0,s.Cb)({type:String,json:{write:{isRequired:!0}}})],l.prototype,"name",void 0),(0,i._)([(0,s.Cb)({type:[String,Number],json:{write:{isRequired:!0}}})],l.prototype,"code",void 0),l=n=(0,i._)([(0,a.j)("esri.layers.support.CodedValue")],l)},37127:function(e,t,r){r.d(t,{Z:function(){return p}});var n,i=r(73440),o=r(28947),s=r(17155),a=(r(61432),r(96711),r(79775)),l=r(48023),u=r(41964),c=r(85853);let p=class extends c.Z{static{n=this}constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some((e=>(String(e.code)===r&&(t=e.name),!!t)))}return t}clone(){return new n({codedValues:(0,o.d9)(this.codedValues),name:this.name})}};(0,i._)([(0,s.Cb)({type:[u.u],json:{write:{isRequired:!0}}})],p.prototype,"codedValues",void 0),(0,i._)([(0,a.J)({codedValue:"coded-value"})],p.prototype,"type",void 0),p=n=(0,i._)([(0,l.j)("esri.layers.support.CodedValueDomain")],p)},85853:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(73440),i=r(41773),o=r(63255),s=r(17155),a=(r(61432),r(96711),r(83850),r(79775)),l=r(48023);const u=new i.X({inherited:"inherited",codedValue:"coded-value",range:"range"});let c=class extends o.Z{constructor(e){super(e),this.name=null,this.type=null}};(0,n._)([(0,s.Cb)({type:String,json:{write:!0}})],c.prototype,"name",void 0),(0,n._)([(0,a.J)(u),(0,s.Cb)({json:{write:{isRequired:!0}}})],c.prototype,"type",void 0),c=(0,n._)([(0,l.j)("esri.layers.support.Domain")],c)},49651:function(e,t,r){r.d(t,{Z:function(){return m}});var n,i=r(73440),o=r(41773),s=r(63255),a=r(17155),l=r(95226),u=(r(61432),r(83850),r(79775)),c=r(1194),p=r(48023),f=r(76746),d=r(72396);const h=new o.X({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let m=class extends s.Z{static{n=this}constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch(e){}return r?.value??null}readValueType(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch(e){}return r?h.fromJSON(r.fieldValueType):null}clone(){return new n({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],m.prototype,"alias",void 0),(0,i._)([(0,a.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],m.prototype,"defaultValue",void 0),(0,i._)([(0,a.Cb)()],m.prototype,"description",void 0),(0,i._)([(0,c.r)("description")],m.prototype,"readDescription",null),(0,i._)([(0,a.Cb)({types:f.V5,json:{read:{reader:f.im},write:!0}})],m.prototype,"domain",void 0),(0,i._)([(0,a.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"editable",void 0),(0,i._)([(0,a.Cb)({type:l.z8,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],m.prototype,"length",void 0),(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],m.prototype,"name",void 0),(0,i._)([(0,a.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"nullable",void 0),(0,i._)([(0,u.J)(d.v)],m.prototype,"type",void 0),(0,i._)([(0,a.Cb)()],m.prototype,"valueType",void 0),(0,i._)([(0,c.r)("valueType",["description"])],m.prototype,"readValueType",null),(0,i._)([(0,a.Cb)({type:Boolean,json:{read:!1}})],m.prototype,"visible",void 0),m=n=(0,i._)([(0,p.j)("esri.layers.support.Field")],m)},39502:function(e,t,r){r.d(t,{Z:function(){return l}});var n,i=r(73440),o=(r(96711),r(61432),r(83850),r(88194),r(79775)),s=r(48023),a=r(85853);let l=class extends a.Z{static{n=this}constructor(e){super(e),this.type="inherited"}clone(){return new n}};(0,i._)([(0,o.J)({inherited:"inherited"})],l.prototype,"type",void 0),l=n=(0,i._)([(0,s.j)("esri.layers.support.InheritedDomain")],l)},95951:function(e,t,r){r.d(t,{Z:function(){return u}});var n,i=r(73440),o=r(17155),s=(r(61432),r(96711),r(83850),r(79775)),a=r(48023),l=r(85853);let u=class extends l.Z{static{n=this}constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new n({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,i._)([(0,o.Cb)({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]},isRequired:!0}}})],u.prototype,"maxValue",void 0),(0,i._)([(0,o.Cb)({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]},isRequired:!0}}})],u.prototype,"minValue",void 0),(0,i._)([(0,s.J)({range:"range"})],u.prototype,"type",void 0),u=n=(0,i._)([(0,a.j)("esri.layers.support.RangeDomain")],u)},21017:function(e,t,r){r.r(t),r.d(t,{default:function(){return Z}});var n,i=r(71354),o=r(60508),s=r(10700),a=r(49542),l=r(89014),u=r(91172),c=r(25937),p=r(9524),f=r(13381),d=r(44946),h=r(62206),m=r(73440),y=(r(96711),r(61432),r(83850),r(88194),r(79775)),g=r(48023),b=r(93776);let v=n=class extends b.Z{constructor(){super(...arguments),this.type="identity"}clone(){return new n}};(0,m._)([(0,y.J)({IdentityXform:"identity"})],v.prototype,"type",void 0),v=n=(0,m._)([(0,g.j)("esri.layers.support.rasterTransforms.IdentityTransform")],v);var x=r(31509);const C={GCSShiftXform:h.Z,IdentityXform:v,PolynomialXform:x.Z};function w(e){const t=e?.type;if(!t)return null;const r=C[e?.type];if(r){const t=new r;return t.read(e),t}return null}var S=r(66164),_=r(58132);class Z{convertVectorFieldData(e){const t=a.Z.fromJSON(e.pixelBlock),r=(0,d.KC)(t,e.type);return Promise.resolve(null!=r?r.toJSON():null)}computeStatisticsHistograms(e){const t=a.Z.fromJSON(e.pixelBlock),r=(0,f.js)(t);return Promise.resolve(r)}async decode(e){const t=await(0,l.J)(e.data,e.options);return t&&t.toJSON()}symbolize(e){e.pixelBlock=a.Z.fromJSON(e.pixelBlock),e.extent=e.extent?i.Z.fromJSON(e.extent):null;const t=this.symbolizer.symbolize(e);return Promise.resolve(null!=t?t.toJSON():null)}async updateSymbolizer(e){this.symbolizer=S.Z.fromJSON(e.symbolizerJSON),e.histograms&&"rasterStretch"===this.symbolizer?.rendererJSON.type&&(this.symbolizer.rendererJSON.histograms=e.histograms)}async updateRasterFunction(e){this.rasterFunction=(0,c.Ue)(e.rasterFunctionJSON)}async process(e){const t=this.rasterFunction.process({extent:i.Z.fromJSON(e.extent),primaryPixelBlocks:e.primaryPixelBlocks.map((e=>null!=e?a.Z.fromJSON(e):null)),primaryPixelSizes:e.primaryPixelSizes?.map((e=>null!=e?o.Z.fromJSON(e):null)),primaryRasterIds:e.primaryRasterIds});return null!=t?t.toJSON():null}stretch(e){const t=this.symbolizer.simpleStretch(a.Z.fromJSON(e.srcPixelBlock),e.stretchParams);return Promise.resolve(t?.toJSON())}estimateStatisticsHistograms(e){const t=(0,f.Hv)(a.Z.fromJSON(e.srcPixelBlock));return Promise.resolve(t)}split(e){const t=(0,u.Vl)(a.Z.fromJSON(e.srcPixelBlock),e.tileSize,e.maximumPyramidLevel??0,!1===e.useBilinear);return t&&t.forEach(((e,r)=>{t.set(r,e?.toJSON())})),Promise.resolve(t)}clipTile(e){const t=a.Z.fromJSON(e.pixelBlock),r=(0,u.Uu)({...e,pixelBlock:t});return Promise.resolve(r?.toJSON())}async mosaicAndTransform(e){const t=e.srcPixelBlocks.map((e=>e?new a.Z(e):null)),r=(0,u.us)(t,e.srcMosaicSize,{blockWidths:e.blockWidths,alignmentInfo:e.alignmentInfo,clipOffset:e.clipOffset,clipSize:e.clipSize});let n,i=r;return e.coefs&&(i=(0,u.Uk)(r,e.destDimension,e.coefs,e.sampleSpacing,e.interpolation)),e.projectDirections&&e.gcsGrid&&(n=(0,u.Qh)(e.destDimension,e.gcsGrid),i=(0,d.xQ)(i,e.isUV?"vector-uv":"vector-magdir",n)),{pixelBlock:i?.toJSON(),localNorthDirections:n}}async createFlowMesh(e,t){const r={data:new Float32Array(e.flowData.buffer),mask:new Uint8Array(e.flowData.maskBuffer),width:e.flowData.width,height:e.flowData.height},{vertexData:n,indexData:i}=await(0,_.GE)(e.meshType,e.simulationSettings,r,t.signal);return{result:{vertexBuffer:n.buffer,indexBuffer:i.buffer},transferList:[n.buffer,i.buffer]}}async getProjectionOffsetGrid(e){const t=i.Z.fromJSON(e.projectedExtent),r=i.Z.fromJSON(e.srcBufferExtent);let n=null;e.datumTransformationSteps?.length&&(n=new s.Z({steps:e.datumTransformationSteps})),await(0,p.zD)();const o=e.rasterTransform?w(e.rasterTransform):null;return(0,p.Qp)({...e,projectedExtent:t,srcBufferExtent:r,datumTransformation:n,rasterTransform:o})}}},76746:function(e,t,r){r.d(t,{V5:function(){return a},im:function(){return l}});r(61432);var n=r(37127),i=r(85853),o=r(39502),s=r(95951);const a={key:"type",base:i.Z,typeMap:{range:s.Z,"coded-value":n.Z,inherited:o.Z}};function l(e){if(!e?.type)return null;switch(e.type){case"range":return s.Z.fromJSON(e);case"codedValue":return n.Z.fromJSON(e);case"inherited":return o.Z.fromJSON(e)}return null}},72396:function(e,t,r){r.d(t,{v:function(){return n}});const n=new(r(41773).X)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},93776:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(73440),i=r(63255),o=r(17155),s=(r(61432),r(96711),r(83850),r(48023));let a=class extends i.Z{get affectsPixelSize(){return!1}forwardTransform(e){return e}inverseTransform(e){return e}};(0,n._)([(0,o.Cb)()],a.prototype,"affectsPixelSize",null),(0,n._)([(0,o.Cb)({json:{write:!0}})],a.prototype,"spatialReference",void 0),a=(0,n._)([(0,s.j)("esri.layers.support.rasterTransforms.BaseRasterTransform")],a)},62206:function(e,t,r){r.d(t,{Z:function(){return u}});var n,i=r(73440),o=r(17155),s=(r(61432),r(96711),r(83850),r(79775)),a=r(48023),l=r(93776);let u=n=class extends l.Z{constructor(){super(...arguments),this.type="gcs-shift",this.tolerance=1e-8}forwardTransform(e){return"point"===(e=e.clone()).type?(e.x>180+this.tolerance&&(e.x-=360),e):(e.xmin>=180-this.tolerance?(e.xmax-=360,e.xmin-=360):e.xmax>180+this.tolerance&&(e.xmin=-180,e.xmax=180),e)}inverseTransform(e){return"point"===(e=e.clone()).type?(e.x<-this.tolerance&&(e.x+=360),e):(e.xmin<-this.tolerance&&(e.xmin+=360,e.xmax+=360),e)}clone(){return new n({tolerance:this.tolerance})}};(0,i._)([(0,s.J)({GCSShiftXform:"gcs-shift"})],u.prototype,"type",void 0),(0,i._)([(0,o.Cb)()],u.prototype,"tolerance",void 0),u=n=(0,i._)([(0,a.j)("esri.layers.support.rasterTransforms.GCSShiftTransform")],u)},31509:function(e,t,r){r.d(t,{Z:function(){return m}});var n,i=r(73440),o=r(17155),s=(r(61432),r(96711),r(83850),r(79775)),a=r(1194),l=r(48023),u=r(29884),c=r(71354),p=r(60508),f=r(93776);function d(e,t,r){const{x:n,y:i}=t;if(r<2)return{x:e[0]+n*e[2]+i*e[4],y:e[1]+n*e[3]+i*e[5]};if(2===r){const t=n*n,r=i*i,o=n*i;return{x:e[0]+n*e[2]+i*e[4]+t*e[6]+o*e[8]+r*e[10],y:e[1]+n*e[3]+i*e[5]+t*e[7]+o*e[9]+r*e[11]}}const o=n*n,s=i*i,a=n*i,l=o*n,u=o*i,c=n*s,p=i*s;return{x:e[0]+n*e[2]+i*e[4]+o*e[6]+a*e[8]+s*e[10]+l*e[12]+u*e[14]+c*e[16]+p*e[18],y:e[1]+n*e[3]+i*e[5]+o*e[7]+a*e[9]+s*e[11]+l*e[13]+u*e[15]+c*e[17]+p*e[19]}}function h(e,t,r){const{xmin:n,ymin:i,xmax:o,ymax:s,spatialReference:a}=t;let l=[];if(r<2)l.push({x:n,y:s}),l.push({x:o,y:s}),l.push({x:n,y:i}),l.push({x:o,y:i});else{let e=10;for(let t=0;t<e;t++)l.push({x:n,y:i+(s-i)*t/(e-1)}),l.push({x:o,y:i+(s-i)*t/(e-1)});e=8;for(let t=1;t<=e;t++)l.push({x:n+(o-n)*t/e,y:i}),l.push({x:n+(o-n)*t/e,y:s})}l=l.map((t=>d(e,t,r)));const u=l.map((e=>e.x)),p=l.map((e=>e.y));return new c.Z({xmin:Math.min.apply(null,u),xmax:Math.max.apply(null,u),ymin:Math.min.apply(null,p),ymax:Math.max.apply(null,p),spatialReference:a})}let m=n=class extends f.Z{constructor(){super(...arguments),this.polynomialOrder=1,this.type="polynomial"}readForwardCoefficients(e,t){const{coeffX:r,coeffY:n}=t;if(!r?.length||!n?.length||r.length!==n.length)return null;const i=[];for(let e=0;e<r.length;e++)i.push(r[e]),i.push(n[e]);return i}writeForwardCoefficients(e,t,r){const n=[],i=[];for(let t=0;t<e?.length;t++)t%2==0?n.push(e[t]):i.push(e[t]);t.coeffX=n,t.coeffY=i}get inverseCoefficients(){let e=this._get("inverseCoefficients");const t=this._get("forwardCoefficients");return!e&&t&&this.polynomialOrder<2&&(e=function(e){const[t,r,n,i,o,s]=e,a=n*s-o*i,l=o*i-n*s;return[(o*r-t*s)/a,(n*r-t*i)/l,s/a,i/l,-o/a,-n/l]}(t)),e}set inverseCoefficients(e){this._set("inverseCoefficients",e)}readInverseCoefficients(e,t){const{inverseCoeffX:r,inverseCoeffY:n}=t;if(!r?.length||!n?.length||r.length!==n.length)return null;const i=[];for(let e=0;e<r.length;e++)i.push(r[e]),i.push(n[e]);return i}writeInverseCoefficients(e,t,r){const n=[],i=[];for(let t=0;t<e?.length;t++)t%2==0?n.push(e[t]):i.push(e[t]);t.inverseCoeffX=n,t.inverseCoeffY=i}get affectsPixelSize(){return this.polynomialOrder>0}forwardTransform(e){if("point"===e.type){const t=d(this.forwardCoefficients,e,this.polynomialOrder);return new p.Z({x:t.x,y:t.y,spatialReference:e.spatialReference})}return h(this.forwardCoefficients,e,this.polynomialOrder)}inverseTransform(e){if("point"===e.type){const t=d(this.inverseCoefficients,e,this.polynomialOrder);return new p.Z({x:t.x,y:t.y,spatialReference:e.spatialReference})}return h(this.inverseCoefficients,e,this.polynomialOrder)}clone(){return new n({polynomialOrder:this.polynomialOrder,forwardCoefficients:this.forwardCoefficients?[...this.forwardCoefficients]:null,inverseCoefficients:this.inverseCoefficients?[...this.inverseCoefficients]:null})}};(0,i._)([(0,o.Cb)({json:{write:!0}})],m.prototype,"polynomialOrder",void 0),(0,i._)([(0,o.Cb)()],m.prototype,"forwardCoefficients",void 0),(0,i._)([(0,a.r)("forwardCoefficients",["coeffX","coeffY"])],m.prototype,"readForwardCoefficients",null),(0,i._)([(0,u.c)("forwardCoefficients")],m.prototype,"writeForwardCoefficients",null),(0,i._)([(0,o.Cb)({json:{write:!0}})],m.prototype,"inverseCoefficients",null),(0,i._)([(0,a.r)("inverseCoefficients",["inverseCoeffX","inverseCoeffY"])],m.prototype,"readInverseCoefficients",null),(0,i._)([(0,u.c)("inverseCoefficients")],m.prototype,"writeInverseCoefficients",null),(0,i._)([(0,o.Cb)()],m.prototype,"affectsPixelSize",null),(0,i._)([(0,s.J)({PolynomialXform:"polynomial"})],m.prototype,"type",void 0),m=n=(0,i._)([(0,l.j)("esri.layers.support.rasterTransforms.PolynomialTransform")],m)},54468:function(e,t,r){r.d(t,{Z:function(){return f}});var n,i=r(73440),o=r(53147),s=r(28947),a=r(17155),l=r(95226),u=r(79775),c=r(48023),p=r(78019);let f=n=class extends p.Z{constructor(e){super(e),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new n({fromColor:(0,s.d9)(this.fromColor),toColor:(0,s.d9)(this.toColor),algorithm:this.algorithm})}};(0,i._)([(0,u.J)({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],f.prototype,"algorithm",void 0),(0,i._)([(0,a.Cb)({type:o.Z,json:{type:[l.z8],write:!0}})],f.prototype,"fromColor",void 0),(0,i._)([(0,a.Cb)({type:o.Z,json:{type:[l.z8],write:!0}})],f.prototype,"toColor",void 0),(0,i._)([(0,a.Cb)({type:["algorithmic"]})],f.prototype,"type",void 0),f=n=(0,i._)([(0,c.j)("esri.rest.support.AlgorithmicColorRamp")],f)},78019:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(73440),i=r(63255),o=r(17155),s=(r(61432),r(96711),r(83850),r(48023));let a=class extends i.Z{constructor(e){super(e),this.type=null}};(0,n._)([(0,o.Cb)({readOnly:!0,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=(0,n._)([(0,s.j)("esri.rest.support.ColorRamp")],a)},6431:function(e,t,r){r.d(t,{Z:function(){return c}});var n,i=r(73440),o=r(28947),s=r(17155),a=(r(61432),r(96711),r(48023)),l=r(54468),u=r(78019);let c=n=class extends u.Z{constructor(e){super(e),this.colorRamps=null,this.type="multipart"}clone(){return new n({colorRamps:(0,o.d9)(this.colorRamps)})}};(0,i._)([(0,s.Cb)({type:[l.Z],json:{write:!0}})],c.prototype,"colorRamps",void 0),(0,i._)([(0,s.Cb)({type:["multipart"]})],c.prototype,"type",void 0),c=n=(0,i._)([(0,a.j)("esri.rest.support.MultipartColorRamp")],c)},41426:function(e,t,r){r.d(t,{V:function(){return s},i:function(){return a}});var n=r(54468),i=r(78019),o=r(6431);const s={key:"type",base:i.Z,typeMap:{algorithmic:n.Z,multipart:o.Z}};function a(e){return e?.type?"algorithmic"===e.type?n.Z.fromJSON(e):"multipart"===e.type?o.Z.fromJSON(e):null:null}}}]);