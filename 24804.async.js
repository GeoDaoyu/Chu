"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[24804],{58426:function(e,t,r){r.d(t,{$c:function(){return d},Hg:function(){return y},jW:function(){return p},xb:function(){return h}});var n=r(70880),i=r(43254),o=r(22018);const s=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function l(e){return e instanceof n.Z}function u(e){return e instanceof i.Z?Object.keys(e.items):l(e)?(0,o.vw)(e).keys():e?Object.keys(e):[]}function a(e,t){return e instanceof i.Z?e.items[t]:e[t]}function c(e){return e?e.declaredClass:null}function f(e,t){const r=e.diff;if(r&&"function"==typeof r)return r(e,t);const n=u(e),i=u(t);if(0===n.length&&0===i.length)return;if(!n.length||!i.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const o=i.filter((e=>!n.includes(e))),p=n.filter((e=>!i.includes(e))),d=n.filter((r=>i.includes(r)&&a(e,r)!==a(t,r))).concat(o,p).sort(),y=c(e);if(y&&s.has(y)&&d.length)return{type:"complete",oldValue:e,newValue:t};let h;const S=l(e)&&l(t);for(const n of d){const i=a(e,n),o=a(t,n);let s;if((S||"function"!=typeof i&&"function"!=typeof o)&&i!==o&&(null!=i||null!=o)){if(r&&r[n]&&"function"==typeof r[n])s=r[n]?.(i,o);else if(i instanceof Date&&o instanceof Date){if(i.getTime()===o.getTime())continue;s={type:"complete",oldValue:i,newValue:o}}else s="object"==typeof i&&"object"==typeof o&&c(i)===c(o)?f(i,o):{type:"complete",oldValue:i,newValue:o};null!=s&&(null!=h?h.diff[n]=s:h={type:"partial",diff:{[n]:s}})}}return h}function p(e,t){return function(e,t){if(null==e)return!1;const r=t.split(".");let n=e;for(const e of r){if("complete"===n.type)return!0;if("partial"!==n.type)return!1;{const t=n.diff[e];if(!t)return!1;n=t}}return!0}(e,t)}function d(e,t){if(!e)return!1;if("partial"===e.type){const r=Object.keys(e.diff);return 1===r.length&&r[0]===t}return!1}function y(e,t){if("function"!=typeof e&&"function"!=typeof t&&(null!=e||null!=t))return null==e||null==t||"object"==typeof e&&"object"==typeof t&&c(e)!==c(t)?{type:"complete",oldValue:e,newValue:t}:f(e,t)}function h(e){if(null==e)return!0;switch(e.type){case"complete":return!1;case"collection":{const t=e;for(const e of t.added)if(!h(e))return!1;for(const e of t.removed)if(!h(e))return!1;for(const e of t.changed)if(!h(e))return!1;return!0}case"partial":for(const t in e.diff)if(!h(e.diff[t]))return!1;return!0}}},87802:function(e,t,r){r.d(t,{UK:function(){return i},qo:function(){return o}});var n=r(29191);async function i(e,t,r){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=s(e));const n=o(e),i=e.capabilities.query.supportsPagination;t.start=0,t.num=n;let l=null;for(;;){const o=await e.source.queryFeaturesJSON(t,r);if(null==l?l=o:l.features=l.features.concat(o.features),l.exceededTransferLimit=o.exceededTransferLimit,!i||!o.exceededTransferLimit)break;t.start+=n}return l}function o(e){return s(e)*function(e){return e.capabilities.query.maxRecordCount||2e3}(e)}function s(e){return e.capabilities.query.supportsMaxRecordCountFactor?n.Z.MAX_MAX_RECORD_COUNT_FACTOR:1}},9350:function(e,t,r){r.d(t,{CJ:function(){return a},Rz:function(){return f},js:function(){return p},xA:function(){return u},z3:function(){return c}});r(61432);var n=r(89636),i=r(38096),o=r(19886),s=r(45433),l=r(54914);const u=o.Z.fromJSON(l.I4),a=i.Z.fromJSON(l.ET),c=n.Z.fromJSON(l.lF),f=s.Z.fromJSON(l.qP);function p(e){if(null==e)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return u;case"polyline":return a;case"polygon":case"extent":return c}return null}o.Z.fromJSON(l.eG),i.Z.fromJSON(l.wW),n.Z.fromJSON(l.lj)},54914:function(e,t,r){r.d(t,{ET:function(){return s},I4:function(){return o},SQ:function(){return n},X1:function(){return i},eG:function(){return a},lF:function(){return l},lj:function(){return f},qP:function(){return u},wW:function(){return c}});const n=[252,146,31,255],i=[153,153,153,255],o={type:"esriSMS",style:"esriSMSCircle",size:6,color:n,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},s={type:"esriSLS",style:"esriSLSSolid",width:.75,color:n},l={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},u={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},a={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},f={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},73051:function(e,t,r){r.r(t),r.d(t,{default:function(){return S}});var n=r(73440),i=r(46451),o=r(61432),s=r(90403),l=r(17155),u=(r(96711),r(83850),r(48023)),a=r(61197),c=r(94808),f=r(24381),p=r(81808),d=r(5527),y=r(27546);let h=class extends((0,a.N)((0,f.A)(d.Z))){constructor(){super(...arguments),this.type="integrated-mesh-3d",this._elevationContext="im",this._supportsLabeling=!1,this._applySSAO=!(0,o.Z)("disable-feature:im-ssao"),this._shadeNormals=!!(0,o.Z)("enable-feature:im-shading"),this.drapeTargetType=c.al.WithoutRasterImage}get i3slayer(){return this.layer}get updatingProgressValue(){return this._controller?.updatingProgress??0}get lodFactor(){return this.view?.qualitySettings?.sceneService?.integratedMesh?.lodFactor??1}get progressiveLoadFactor(){return this.lodFactor>=1?.2:1}get visibleAtCurrentScale(){return(0,y.GB)(this.i3slayer.effectiveScaleRange,this.view.scale)}get layerPopupEnabledAndHasTemplate(){return!1}initialize(){this._updatingHandles.add((()=>this.layer.modifications),(()=>this._loadModifications()),s.nn),this.view.basemapTerrain.overlayManager.registerDrapeTarget(this)}destroy(){this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this)}_createLayerGraphic(){return new i.Z({layer:this.layer,sourceLayer:this.layer})}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}_loadModifications(){if(this.removeHandles("modifications"),null==this.layer.modifications)return void(this._modifications=[]);const e=this.layer.modifications;this.addHandles(this._updatingHandles.addOnCollectionChange((()=>e),(()=>this._modifications=e.toArray()),s.nn),"modifications")}};(0,n._)([(0,l.Cb)()],h.prototype,"layer",void 0),(0,n._)([(0,l.Cb)()],h.prototype,"i3slayer",null),(0,n._)([(0,l.Cb)(p.q)],h.prototype,"updatingProgress",void 0),(0,n._)([(0,l.Cb)()],h.prototype,"updatingProgressValue",null),(0,n._)([(0,l.Cb)()],h.prototype,"lodFactor",null),(0,n._)([(0,l.Cb)({readOnly:!0})],h.prototype,"progressiveLoadFactor",null),(0,n._)([(0,l.Cb)({readOnly:!0})],h.prototype,"visibleAtCurrentScale",null),h=(0,n._)([(0,u.j)("esri.views.3d.layers.IntegratedMeshLayerView3D")],h);const S=h}}]);