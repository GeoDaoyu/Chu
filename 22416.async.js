"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[22416],{90900:function(e,t,i){i.d(t,{Z:function(){return y}});var s=i(73440),n=i(93460),r=i(70880),l=i(89314),a=i(15894),o=i(63255),d=i(17155),u=(i(61432),i(96711),i(83850),i(48023));let p=0,y=class extends(o.Z.JSONSupportMixin(l.Z.ClonableMixin(a.Z.IdentifiableMixin(r.Z)))){constructor(e){super(e),this.id=`${Date.now().toString(16)}-analysis-${p++}`,this.origin=null}get parent(){return this._get("parent")}set parent(e){const t=this.parent;if(null!=t)switch(t.type){case"line-of-sight":case"dimension":case"viewshed":t.releaseAnalysis(this);break;case"2d":case"3d":t.analyses.includes(this)&&t.analyses.remove(this)}this._set("parent",e)}equals(e){return!0}};(0,s._)([(0,d.Cb)({type:String,constructOnly:!0,clonable:!1})],y.prototype,"id",void 0),(0,s._)([(0,d.Cb)({clonable:!1,value:null})],y.prototype,"parent",null),(0,s._)([(0,d.Cb)({types:{key:"type",base:null,typeMap:{"web-scene":n.Z}}})],y.prototype,"origin",void 0),y=(0,s._)([(0,u.j)("esri.analysis.Analysis")],y)},22416:function(e,t,i){i.d(t,{default:function(){return x}});var s=i(73440),n=i(90900),r=i(68651),l=i(63255),a=i(17155),o=(i(61432),i(96711),i(83850),i(48023));let d=class extends l.Z{constructor(e){super(e),this.layerId=""}static fromLayer(e){return new this({layerId:"building-component"===e.type?e.layer.id:e.id,sublayerId:"building-component"===e.type?e.id:void 0})}};(0,s._)([(0,a.Cb)({type:String,json:{write:{isRequired:!0}}})],d.prototype,"layerId",void 0),(0,s._)([(0,a.Cb)({type:Number,json:{write:!0}})],d.prototype,"sublayerId",void 0),d=(0,s._)([(0,o.j)("esri.analysis.support.SliceAnalysisExcludedLayer")],d);var u=i(43254),p=i(41145),y=i(28947),c=i(61100),h=i(1194),b=i(29884);let _=class extends n.Z{constructor(e){super(e),this.type="slice",this.tiltEnabled=!1,this.shape=null,this.excludeGroundSurface=!1}get excludedLayers(){return this._get("excludedLayers")||new u.Z}set excludedLayers(e){this._set("excludedLayers",(0,p.Z)(e,this._get("excludedLayers")))}writeExcludedLayers(e,t,i,s){0!==e.length&&(t[i]=e.toArray().map((e=>d.fromLayer(e).toJSON(s))))}readExcludedLayers(e,t,i){const s=i?.initiator;s&&i?.hooks?.onAfterLoad((async()=>{for(const t of e){const{layerId:e,sublayerId:n}=d.fromJSON(t,i),r=s.allLayers.find((({id:t})=>t===e));if(r)if(null!=n&&"allSublayers"in r){await r.load();const e=r.allSublayers.find((({id:e})=>e===n));e&&"type"in e&&"building-component"===e.type&&this.excludedLayers.add(e)}else this.excludedLayers.add(r)}}))}get valid(){return null!=this.shape?.position}equals(e){return this===e||super.equals(e)&&(0,c._W)(this.shape,e.shape)&&this.tiltEnabled===e.tiltEnabled&&(0,y.y7)(this.excludedLayers.toArray(),e.excludedLayers.toArray())&&this.excludeGroundSurface===e.excludeGroundSurface}clear(){this.shape=null}};(0,s._)([(0,a.Cb)({type:["slice"],json:{read:!1,write:{isRequired:!0}}})],_.prototype,"type",void 0),(0,s._)([(0,a.Cb)({type:Boolean,nonNullable:!0,json:{write:!0,default:!1}})],_.prototype,"tiltEnabled",void 0),(0,s._)([(0,a.Cb)({types:{key:"type",base:null,typeMap:{plane:r.Z},defaultKeyValue:"plane"},json:{write:{isRequired:!0}}})],_.prototype,"shape",void 0),(0,s._)([(0,a.Cb)({cast:p.R,clonable:e=>e.slice(),json:{type:[d],write:!0}})],_.prototype,"excludedLayers",null),(0,s._)([(0,b.c)("excludedLayers")],_.prototype,"writeExcludedLayers",null),(0,s._)([(0,h.r)("excludedLayers")],_.prototype,"readExcludedLayers",null),(0,s._)([(0,a.Cb)({type:Boolean,nonNullable:!0,json:{write:!0}})],_.prototype,"excludeGroundSurface",void 0),(0,s._)([(0,a.Cb)({readOnly:!0})],_.prototype,"valid",null),_=(0,s._)([(0,o.j)("esri.analysis.SliceAnalysis")],_);const x=_},68651:function(e,t,i){i.d(t,{Z:function(){return h}});var s=i(73440),n=i(89314),r=i(95437),l=i(63255),a=i(61100),o=i(17155),d=i(90775),u=(i(61432),i(83850),i(48023)),p=i(95226),y=i(60508);let c=class extends(n.Z.ClonableMixin(l.Z)){constructor(e){super(e),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(e){return this.heading===e.heading&&this.tilt===e.tilt&&this.width===e.width&&this.height===e.height&&(0,a._W)(this.position,e.position)}};(0,s._)([(0,o.Cb)({type:["plane"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],c.prototype,"type",void 0),(0,s._)([(0,o.Cb)({type:y.Z,json:{write:{isRequired:!0}}})],c.prototype,"position",void 0),(0,s._)([(0,o.Cb)({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}}),(0,d.p)((e=>r.BV.normalize((0,p.q9)(e),0,!0)))],c.prototype,"heading",void 0),(0,s._)([(0,o.Cb)({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}}),(0,d.p)((e=>r.BV.normalize((0,p.q9)(e),0,!0)))],c.prototype,"tilt",void 0),(0,s._)([(0,o.Cb)({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],c.prototype,"width",void 0),(0,s._)([(0,o.Cb)({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],c.prototype,"height",void 0),c=(0,s._)([(0,u.j)("esri.analysis.SlicePlane")],c);const h=c}}]);