"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[75298],{46451:function(e,t,n){n.d(t,{Z:function(){return T}});var i,r=n(73440),s=n(997),o=n(89314),u=n(85168),a=n(63255),l=n(96711),c=n(90403),d=n(67908),h=n(17155),f=(n(61432),n(83850),n(48023)),p=n(69306),m=n(90756),g=n(98842),y=n(15083),_=n(68578);function b(e){if(null==e)return null;const t={};for(const n in e){const i=e[n];i&&(t[n]=i.toJSON())}return 0!==Object.keys(t).length?t:null}let T=class extends(o.Z.ClonableMixin(a.Z)){static{i=this}constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:(0,d.D)(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&(0,u.bP)(l.Z.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),"mesh"!==e?.type&&this._notifyLayer("geometry",t,e))}set popupTemplate(e){const t=this._get("popupTemplate");t!==e&&(this._set("popupTemplate",e),this._notifyLayer("popupTemplate",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new i({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const n of[t,this.sourceLayer,this.layer])if(n){if("popupTemplate"in n&&n.popupTemplate)return n.popupTemplate;if(e&&"defaultPopupTemplate"in n&&null!=n.defaultPopupTemplate)return n.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const n=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",n,t,e)}else this.attributes={[e]:t}}getObjectId(){const e=this.sourceLayer??this.layer;return e?(0,y.v)(this,e):null}getGlobalId(){const e=this.sourceLayer??this.layer;return e&&"globalIdField"in e&&e.globalIdField?this.getAttribute(e.globalIdField):null}toJSON(){return{aggregateGeometries:b(this.aggregateGeometries),geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:(0,p.A)(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if("mesh"===t?.type){const n={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",n,n,e.action)}}_notifyLayer(e,t,n,i){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const r={graphic:this,property:e,oldValue:t,newValue:n};"origin-transform"===e&&(r.action=i),"attributes"===e&&(r.attributeName=i),this.layer.graphicChanged(r)}_watchMeshGeometryChanges(){this.addHandles([(0,c.gx)((()=>"mesh"===this.geometry?.type&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0),(({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())})),(0,c.gx)((()=>"mesh"===this.geometry?.type?{vertexAttributes:this.geometry.vertexAttributes}:void 0),(()=>{const e=this.geometry;"mesh"===e?.type&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)}),{equals:(e,t)=>e===t,sync:!0})])}};(0,r._)([(0,h.Cb)({value:null,json:{read:function(e){if(!e)return null;const t={};for(const n in e){const i=(0,m.im)(e[n]);i&&(t[n]=i)}return 0!==Object.keys(t).length?t:null}}})],T.prototype,"aggregateGeometries",null),(0,r._)([(0,h.Cb)({value:null})],T.prototype,"attributes",null),(0,r._)([(0,h.Cb)({value:null,types:g.qM,json:{read:m.im}})],T.prototype,"geometry",null),(0,r._)([(0,h.Cb)({type:Boolean})],T.prototype,"isAggregate",void 0),(0,r._)([(0,h.Cb)({clonable:!1})],T.prototype,"layer",void 0),(0,r._)([(0,h.Cb)({clonable:"reference"})],T.prototype,"origin",void 0),(0,r._)([(0,h.Cb)({type:s.Z,value:null})],T.prototype,"popupTemplate",null),(0,r._)([(0,h.Cb)({clonable:"reference"})],T.prototype,"sourceLayer",void 0),(0,r._)([(0,h.Cb)({value:null,types:_.LB})],T.prototype,"symbol",null),(0,r._)([(0,h.Cb)({clonable:!1,json:{read:!1,write:!1}})],T.prototype,"_version",void 0),(0,r._)([(0,h.Cb)({type:Boolean,value:!0})],T.prototype,"visible",null),T=i=(0,r._)([(0,f.j)("esri.Graphic")],T)},29328:function(e,t,n){n.d(t,{F:function(){return f},M:function(){return i}});const i={Base64:0,Hex:1,String:2,Raw:3};function r(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e){const t=[];for(let n=0,i=8*e.length;n<i;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t}function o(e){const t=[];for(let n=0,i=32*e.length;n<i;n+=8)t.push(String.fromCharCode(e[n>>5]>>>n%32&255));return t.join("")}function u(e,t,n,i,s,o){return r(function(e,t){return e<<t|e>>>32-t}(r(r(t,e),r(i,o)),s),n)}function a(e,t,n,i,r,s,o){return u(t&n|~t&i,e,t,r,s,o)}function l(e,t,n,i,r,s,o){return u(t&i|n&~i,e,t,r,s,o)}function c(e,t,n,i,r,s,o){return u(t^n^i,e,t,r,s,o)}function d(e,t,n,i,r,s,o){return u(n^(t|~i),e,t,r,s,o)}function h(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;let n=1732584193,i=-271733879,s=-1732584194,o=271733878;for(let t=0;t<e.length;t+=16){const u=n,h=i,f=s,p=o;n=a(n,i,s,o,e[t],7,-680876936),o=a(o,n,i,s,e[t+1],12,-389564586),s=a(s,o,n,i,e[t+2],17,606105819),i=a(i,s,o,n,e[t+3],22,-1044525330),n=a(n,i,s,o,e[t+4],7,-176418897),o=a(o,n,i,s,e[t+5],12,1200080426),s=a(s,o,n,i,e[t+6],17,-1473231341),i=a(i,s,o,n,e[t+7],22,-45705983),n=a(n,i,s,o,e[t+8],7,1770035416),o=a(o,n,i,s,e[t+9],12,-1958414417),s=a(s,o,n,i,e[t+10],17,-42063),i=a(i,s,o,n,e[t+11],22,-1990404162),n=a(n,i,s,o,e[t+12],7,1804603682),o=a(o,n,i,s,e[t+13],12,-40341101),s=a(s,o,n,i,e[t+14],17,-1502002290),i=a(i,s,o,n,e[t+15],22,1236535329),n=l(n,i,s,o,e[t+1],5,-165796510),o=l(o,n,i,s,e[t+6],9,-1069501632),s=l(s,o,n,i,e[t+11],14,643717713),i=l(i,s,o,n,e[t],20,-373897302),n=l(n,i,s,o,e[t+5],5,-701558691),o=l(o,n,i,s,e[t+10],9,38016083),s=l(s,o,n,i,e[t+15],14,-660478335),i=l(i,s,o,n,e[t+4],20,-405537848),n=l(n,i,s,o,e[t+9],5,568446438),o=l(o,n,i,s,e[t+14],9,-1019803690),s=l(s,o,n,i,e[t+3],14,-187363961),i=l(i,s,o,n,e[t+8],20,1163531501),n=l(n,i,s,o,e[t+13],5,-1444681467),o=l(o,n,i,s,e[t+2],9,-51403784),s=l(s,o,n,i,e[t+7],14,1735328473),i=l(i,s,o,n,e[t+12],20,-1926607734),n=c(n,i,s,o,e[t+5],4,-378558),o=c(o,n,i,s,e[t+8],11,-2022574463),s=c(s,o,n,i,e[t+11],16,1839030562),i=c(i,s,o,n,e[t+14],23,-35309556),n=c(n,i,s,o,e[t+1],4,-1530992060),o=c(o,n,i,s,e[t+4],11,1272893353),s=c(s,o,n,i,e[t+7],16,-155497632),i=c(i,s,o,n,e[t+10],23,-1094730640),n=c(n,i,s,o,e[t+13],4,681279174),o=c(o,n,i,s,e[t],11,-358537222),s=c(s,o,n,i,e[t+3],16,-722521979),i=c(i,s,o,n,e[t+6],23,76029189),n=c(n,i,s,o,e[t+9],4,-640364487),o=c(o,n,i,s,e[t+12],11,-421815835),s=c(s,o,n,i,e[t+15],16,530742520),i=c(i,s,o,n,e[t+2],23,-995338651),n=d(n,i,s,o,e[t],6,-198630844),o=d(o,n,i,s,e[t+7],10,1126891415),s=d(s,o,n,i,e[t+14],15,-1416354905),i=d(i,s,o,n,e[t+5],21,-57434055),n=d(n,i,s,o,e[t+12],6,1700485571),o=d(o,n,i,s,e[t+3],10,-1894986606),s=d(s,o,n,i,e[t+10],15,-1051523),i=d(i,s,o,n,e[t+1],21,-2054922799),n=d(n,i,s,o,e[t+8],6,1873313359),o=d(o,n,i,s,e[t+15],10,-30611744),s=d(s,o,n,i,e[t+6],15,-1560198380),i=d(i,s,o,n,e[t+13],21,1309151649),n=d(n,i,s,o,e[t+4],6,-145523070),o=d(o,n,i,s,e[t+11],10,-1120210379),s=d(s,o,n,i,e[t+2],15,718787259),i=d(i,s,o,n,e[t+9],21,-343485551),n=r(n,u),i=r(i,h),s=r(s,f),o=r(o,p)}return[n,i,s,o]}function f(e,t=i.Hex){const n=t||i.Base64,r=h(s(e),8*e.length);switch(n){case i.Raw:return r;case i.Hex:return function(e){const t="0123456789abcdef",n=[];for(let i=0,r=4*e.length;i<r;i++)n.push(t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15));return n.join("")}(r);case i.String:return o(r);case i.Base64:return function(e){const t=[];for(let n=0,i=4*e.length;n<i;n+=3){const i=(e[n>>2]>>n%4*8&255)<<16|(e[n+1>>2]>>(n+1)%4*8&255)<<8|e[n+2>>2]>>(n+2)%4*8&255;for(let r=0;r<4;r++)8*n+6*r>32*e.length?t.push("="):t.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>6*(3-r)&63))}return t.join("")}(r)}}},69071:function(e,t,n){n.d(t,{Jv:function(){return r},M4:function(){return i},WJ:function(){return u},Xq:function(){return o},lN:function(){return s}});const i=-3,r=i-1;var s;!function(e){e[e.ALL=0]="ALL",e[e.SOME=1]="SOME"}(s||(s={}));class o{constructor(e,t,n,i=0){this.name=e,this._storage=t,this.removeFunc=n,this._defaultPriority=i,this.id=`${a++}${c}`,this.size=0,this._hit=0,this._miss=0,this._storage.register(this)}destroy(){this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(e){return this._storage.getSize(this,e)}set maxSize(e){this._storage.setMaxSize(this,e)}resetHitRate(){this._hit=this._miss=0}put(e,t,n=this._defaultPriority){this._storage.put(this,e,t,t.cachedMemory,n)}pop(e){const t=this._storage.pop(this,e);return void 0===t?++this._miss:++this._hit,t}get(e){const t=this._storage.get(this,e);return void 0===t?++this._miss:++this._hit,t}peek(e){return this._storage.peek(this,e)}updateSize(e,t){this._storage.updateSize(this,e,t,t.cachedMemory)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}*[Symbol.iterator](){yield*this._storage.values(this)}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class u{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._users=new Map,this._sizeLimits=new Map}destroy(){this.clearAll(),this._sizeLimits.clear(),this._users.clear()}register(e){this._users.set(e.id.slice(0,-1),e)}deregister(e){this.clear(e),this._sizeLimits.delete(e),this._users.delete(e.id.slice(0,-1))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,t){return this._db.get(e.id+t)?.size??0}put(e,t,n,o,u){t=e.id+t;const a=this._db.get(t);if(a&&(this._size-=a.size,e.size-=a.size,this._db.delete(t),a.entry!==n&&this._notifyRemove(t,a.entry,a.size,s.ALL)),o>this._maxSize)return void this._notifyRemove(t,n,o,s.ALL);if(void 0===n)return void console.warn("Refusing to cache undefined entry ");if(!o||o<0)return console.warn(`Refusing to cache entry with size ${o} for key ${t}`),void this._notifyRemove(t,n,0,s.ALL);const c=1+Math.max(u,r)-i;this._db.set(t,new l(n,o,c)),this._size+=o,e.size+=o,this._checkSize()}updateSize(e,t,n,i){t=e.id+t;const r=this._db.get(t);if(r&&r.entry===n){for(this._size-=r.size,e.size-=r.size;i>this._maxSize;){const e=this._notifyRemove(t,n,i,s.SOME);if(!(null!=e&&e>0))return void this._db.delete(t);i=e}r.size=i,this._size+=i,e.size+=i,this._checkSize()}}pop(e,t){t=e.id+t;const n=this._db.get(t);if(n)return this._size-=n.size,e.size-=n.size,this._db.delete(t),++this._hit,n.entry;++this._miss}get(e,t){t=e.id+t;const n=this._db.get(t);if(void 0!==n)return this._db.delete(t),n.lives=n.lifetime,this._db.set(t,n),++this._hit,n.entry;++this._miss}peek(e,t){const n=this._db.get(e.id+t);return n?++this._hit:++this._miss,n?.entry}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},n=new Array;this._db.forEach(((e,i)=>{const r=e.lifetime;n[r]=(n[r]||0)+e.size,this._users.forEach((n=>{const{id:r,name:s}=n;if(i.startsWith(r)){const n=t[s]||0;t[s]=n+e.size}}))}));const r={};this._users.forEach((e=>{const n=e.name;if("hitRate"in e&&"number"==typeof e.hitRate&&!isNaN(e.hitRate)&&e.hitRate>0){const i=t[n]||0;t[n]=i,r[n]=Math.round(100*e.hitRate)+"%"}else r[n]="0%"}));const s=Object.keys(t);s.sort(((e,n)=>t[n]-t[e])),s.forEach((n=>e[n]=Math.round(t[n]/2**20)+"MB / "+r[n]));for(let t=n.length-1;t>=0;--t){const r=n[t];r&&(e["Priority "+(t+i-1)]=Math.round(r/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forEach((e=>e.resetHitRate()))}clear(e){const t=e.id;this._db.forEach(((e,n)=>{n.startsWith(t)&&(this._size-=e.size,this._db.delete(n),this._notifyRemove(n,e.entry,e.size,s.ALL))})),e.size=0}clearAll(){this._db.forEach(((e,t)=>this._notifyRemove(t,e.entry,e.size,s.ALL))),this._users.forEach((e=>e.size=0)),this._size=0,this._db.clear()}*values(e){for(const[t,n]of this._db)t.startsWith(e.id)&&(yield n.entry)}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,t,n,i){const r=this._users.get(e.split(c)[0])?.removeFunc,s=r?.(t,i,n);return"number"==typeof s?s:null}_checkSize(){this._sizeLimits.forEach(((e,t)=>this._checkSizeLimits(e,t))),this._checkSizeLimits(this.maxSize)}setMaxSize(e,t){null==t||t<=0?this._sizeLimits.delete(e):this._sizeLimits.set(e,t)}_checkSizeLimits(e,t){const n=t??this;if(n.size<=e)return;const i=t?.id;let r=!0;for(;r;){r=!1;for(const[s,o]of this._db)if(0===o.lifetime&&(!i||s.startsWith(i))){const i=t??this._users.get(s.split(c)[0]);if(this._purgeItem(s,o,i),n.size<=.9*e)return;r||=this._db.has(s)}}for(const[r,s]of this._db)if(!i||r.startsWith(i)){const i=t??this._users.get(r.split(c)[0]);if(this._purgeItem(r,s,i),n.size<=.9*e)return}}_purgeItem(e,t,n){if(this._db.delete(e),t.lives<=1){this._size-=t.size,n&&(n.size-=t.size);const i=this._notifyRemove(e,t.entry,t.size,s.SOME);null!=i&&i>0&&(this._size+=i,n&&(n.size+=i),t.lives=t.lifetime,t.size=i,this._db.set(e,t))}else--t.lives,this._db.set(e,t)}}let a=0;class l{constructor(e,t,n){this.entry=e,this.size=t,this.lifetime=n,this.lives=n}}const c=":"},15322:function(e,t,n){n.d(t,{G:function(){return r}});var i=n(88194);let r=class e{constructor(e,t,n=""){this.major=e,this.minor=t,this._context=n}lessThan(e,t){return this.major<e||e===this.major&&this.minor<t}greaterEqual(e,t){return!this.lessThan(e,t)}validate(e){if(this.major!==e.major){const t=this._context&&this._context+":",n=this._context&&this._context+" ";throw new i.Z(t+"unsupported-version",`Required major ${n}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new e(this.major,this.minor,this._context)}static parse(t,n=""){const[r,s]=t.split("."),o=/^\s*\d+\s*$/;if(!r?.match||!o.test(r))throw new i.Z((n&&n+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!s?.match||!o.test(s))throw new i.Z((n&&n+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const u=parseInt(r,10),a=parseInt(s,10);return new e(u,a,n)}}},28960:function(e,t,n){n.d(t,{A4:function(){return s},L9:function(){return o},yV:function(){return r}});var i=n(87599);class r{static{this.instance=new i.vF("Etc/UTC")}}function s(e){return e instanceof i.ld?e===r.instance:"unknown"===e?.toString().toLowerCase()}function o(e){return s(e)?r.instance:e}},34415:function(e,t,n){n.d(t,{a:function(){return a},z:function(){return l}});var i=n(73440),r=n(43254),s=n(41145),o=(n(61432),n(96711),n(17155)),u=(n(83850),n(48023));let a=class extends r.Z{constructor(e){super(e),this.addHandles([this.on("before-add",(e=>{null==e.item&&e.preventDefault()})),this.on("after-add",(e=>this._own(e.item))),this.on("after-remove",(e=>this._release(e.item)))])}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(r.Z.ofType(this.itemType.Type))(e):new r.Z(e)}};function l(e,t){return{type:e,cast:s.R,set(n){const i=(0,s.Z)(n,this._get(t),e);i.owner=this,this._set(t,i)}}}(0,i._)([(0,o.Cb)()],a.prototype,"owner",null),a=(0,i._)([(0,u.j)("esri.core.support.OwningCollection")],a)},60199:function(e,t,n){n.d(t,{QZ:function(){return s},Rq:function(){return o},bg:function(){return r}});var i=n(59384);function r(e,t=!1){return e<=i.c8?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function s(e){return((0,i.fU)(e)?e.byteLength/8:e.length)<=i.c8?Array.from(e):new Float64Array(e)}function o(e,t,n){return Array.isArray(e)?e.slice(t,t+n):e.subarray(t,t+n)}},16447:function(e,t,n){n.d(t,{BD:function(){return M},Cb:function(){return v},FY:function(){return a},G1:function(){return g},G_:function(){return W},HH:function(){return d},I7:function(){return N},JR:function(){return Z},KE:function(){return L},TC:function(){return f},Tn:function(){return I},Ue:function(){return o},VK:function(){return p},Wi:function(){return y},Ye:function(){return T},Zp:function(){return R},al:function(){return u},bA:function(){return O},bM:function(){return $},bZ:function(){return B},be:function(){return w},bf:function(){return b},cS:function(){return P},cv:function(){return A},dp:function(){return x},eZ:function(){return c},fS:function(){return j},gy:function(){return V},is:function(){return k},kK:function(){return F},nX:function(){return h},op:function(){return E},pp:function(){return m},r3:function(){return C},re:function(){return J},sU:function(){return _},t8:function(){return z},wp:function(){return G},wq:function(){return l},wz:function(){return S},y8:function(){return D}});var i=n(71354),r=n(47566),s=n(60199);function o(e=$){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function u(e,t,n,i,r,s,u=o()){return u[0]=e,u[1]=t,u[2]=n,u[3]=i,u[4]=r,u[5]=s,u}function a(e,t=o()){return l(e,0,e.length/3,t)}function l(e,t,n,i=o()){return z(i,W),g(i,e,t,n),i}function c(e,t=(0,s.bg)(24)){const[n,i,r,o,u,a]=e;return t[0]=n,t[1]=i,t[2]=r,t[3]=n,t[4]=i,t[5]=a,t[6]=n,t[7]=u,t[8]=r,t[9]=n,t[10]=u,t[11]=a,t[12]=o,t[13]=i,t[14]=r,t[15]=o,t[16]=i,t[17]=a,t[18]=o,t[19]=u,t[20]=r,t[21]=o,t[22]=u,t[23]=a,t}function d(e,t){const n=isFinite(e[2])||isFinite(e[5]);return new i.Z(n?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function h(e,t,n=o()){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=t[0],n[4]=t[1],n[5]=t[2],n}function f(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function p(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function m(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function g(e,t,n=0,i=t.length/3){let r=e[0],s=e[1],o=e[2],u=e[3],a=e[4],l=e[5];for(let e=0;e<i;e++)r=Math.min(r,t[n+3*e]),s=Math.min(s,t[n+3*e+1]),o=Math.min(o,t[n+3*e+2]),u=Math.max(u,t[n+3*e]),a=Math.max(a,t[n+3*e+1]),l=Math.max(l,t[n+3*e+2]);e[0]=r,e[1]=s,e[2]=o,e[3]=u,e[4]=a,e[5]=l}function y(e,t,n){const i=t.length;let r=e[0],s=e[1],o=e[2],u=e[3],a=e[4],l=e[5];if(n)for(let e=0;e<i;e++){const n=t[e];r=Math.min(r,n[0]),s=Math.min(s,n[1]),o=Math.min(o,n[2]),u=Math.max(u,n[0]),a=Math.max(a,n[1]),l=Math.max(l,n[2])}else for(let e=0;e<i;e++){const n=t[e];r=Math.min(r,n[0]),s=Math.min(s,n[1]),u=Math.max(u,n[0]),a=Math.max(a,n[1])}e[0]=r,e[1]=s,e[2]=o,e[3]=u,e[4]=a,e[5]=l}function _(e){for(let t=0;t<6;t++)if(!isFinite(e[t]))return!1;return!0}function b(e){return e[0]>=e[3]?0:e[3]-e[0]}function T(e){return e[1]>=e[4]?0:e[4]-e[1]}function v(e){return e[2]>=e[5]?0:e[5]-e[2]}function S(e){const t=b(e),n=v(e),i=T(e);return Math.sqrt(t*t+n*n+i*i)}function w(e,t=[0,0,0]){return t[0]=e[0]+b(e)/2,t[1]=e[1]+T(e)/2,t[2]=e[2]+v(e)/2,t}function x(e,t=[0,0,0]){return t[0]=b(e),t[1]=T(e),t[2]=v(e),t}function M(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[0]<=e[3]&&t[1]<=e[4]&&t[2]<=e[5]}function C(e,t){return t[0]>=e[0]&&t[1]>=e[1]&&t[2]>=e[2]&&t[3]<=e[3]&&t[4]<=e[4]&&t[5]<=e[5]}function F(e,t){return Math.max(t[0],e[0])<=Math.min(t[3],e[3])&&Math.max(t[1],e[1])<=Math.min(t[4],e[4])&&Math.max(t[2],e[2])<=Math.min(t[5],e[5])}function R(e,t){return null==t||F(e,t)}function N(e,t,n){let i=0,r=1;for(let s=0;s<3;++s){const o=e[s],u=e[s+3],a=t[s],l=n[s],c=l<a,d=c?l:a,h=c?a:l,f=Math.max(o,d),p=Math.min(u,h);if(f>p)return!1;if(h===d)break;const m=h-d,g=(f-d)/m,y=(p-d)/m;if(i=Math.max(i,c?1-y:g),r=Math.min(r,c?1-g:y),i>r)return!1}return!0}function A(e,t,n,i,r=e){return r[0]=e[0]+t,r[1]=e[1]+n,r[2]=e[2]+i,r[3]=e[3]+t,r[4]=e[4]+n,r[5]=e[5]+i,r}function O(e,t,n=e){const i=e[0]+b(e)/2,r=e[1]+T(e)/2,s=e[2]+v(e)/2;return n[0]=i+(e[0]-i)*t,n[1]=r+(e[1]-r)*t,n[2]=s+(e[2]-s)*t,n[3]=i+(e[3]-i)*t,n[4]=r+(e[4]-r)*t,n[5]=s+(e[5]-s)*t,n}function L(e,t){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function E(e,t,n=e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n!==e&&(n[3]=e[3],n[4]=e[4],n[5]=e[5]),n}function I(e,t,n=e){return n[3]=t[0],n[4]=t[1],n[5]=t[2],n!==e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),e}function z(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function P(e){return e?z(e,W):o(W)}function D(e,t){return t||(t=(0,r.Ue)()),t[0]=e[0],t[1]=e[1],t[2]=e[3],t[3]=e[4],t}function Z(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function B(e,t,n,i,r){return e[0]=t,e[1]=n,e[2]=Number.NEGATIVE_INFINITY,e[3]=i,e[4]=r,e[5]=Number.POSITIVE_INFINITY,e}function k(e){return 6===e.length}function G(e){return 0===b(e)&&0===T(e)&&0===v(e)}function j(e,t,n){if(null==e||null==t)return e===t;if(!k(e)||!k(t))return!1;if(n){for(let i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function J(e,t,n,i,r,s){return u(e,t,n,i,r,s,q)}const V=[-1/0,-1/0,-1/0,1/0,1/0,1/0],W=[1/0,1/0,1/0,-1/0,-1/0,-1/0],$=[0,0,0,0,0,0],q=o()},4469:function(e,t,n){n.d(t,{DE:function(){return u},Nf:function(){return l},dp:function(){return o},o2:function(){return a},yZ:function(){return s}});var i=n(99574),r=n(26636);function s(e,t){const n=t||e.extent,i=e.width,s=(0,r.c9)(n?.spatialReference);return n&&i?n.width/i*s*r.hd*96:0}function o(e,t){return e/((0,r.c9)(t)*r.hd*96)}function u(e){return e/(96*r.hd)}function a(e,t,n){return function(e,t){return 0===t||(0,i.W8)(e,t)||e<t}(e,t)&&function(e,t){return 0===t||(0,i.W8)(e,t)||e>t}(e,n)}function l(e,t){return(0,i.W8)(e,t)?0:(e||Number.POSITIVE_INFINITY)>(t||Number.POSITIVE_INFINITY)?1:-1}},98842:function(e,t,n){n.d(t,{Mk:function(){return c},P$:function(){return d},qM:function(){return h}});var i=n(41773),r=n(71354),s=n(82890),o=n(82868),u=n(60508),a=n(67764),l=n(62197);const c=(0,i.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),d=(0,i.w)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),h={base:s.Z,key:"type",typeMap:{extent:r.Z,multipoint:o.Z,point:u.Z,polyline:l.Z,polygon:a.Z}}},15083:function(e,t,n){function i(e,t){switch(t.type){case"object-id":case"unique-id-simple":return e.attributes[t.fieldName];case"unique-id-composite":{const n=[];for(const i of t.fieldNames)n.push(e.attributes[i]??null);return JSON.stringify(n)}}}function r(e,t){if("uniqueIdFields"in t&&t.uniqueIdFields?.length){if(1===t.uniqueIdFields.length)return e.attributes?.[t.uniqueIdFields[0]];const n=t.uniqueIdFields.map((t=>e.attributes?.[t]));return JSON.stringify(n)}return"objectIdField"in t&&t.objectIdField?e.attributes?.[t.objectIdField]:null}n.d(t,{C:function(){return i},v:function(){return r}})},41964:function(e,t,n){n.d(t,{u:function(){return a}});var i,r=n(73440),s=n(63255),o=n(17155),u=(n(61432),n(96711),n(83850),n(48023));let a=i=class extends s.Z{constructor(e){super(e),this.name=null,this.code=null}clone(){return new i({name:this.name,code:this.code})}};(0,r._)([(0,o.Cb)({type:String,json:{write:{isRequired:!0}}})],a.prototype,"name",void 0),(0,r._)([(0,o.Cb)({type:[String,Number],json:{write:{isRequired:!0}}})],a.prototype,"code",void 0),a=i=(0,r._)([(0,u.j)("esri.layers.support.CodedValue")],a)},37127:function(e,t,n){n.d(t,{Z:function(){return d}});var i,r=n(73440),s=n(28947),o=n(17155),u=(n(61432),n(96711),n(79775)),a=n(48023),l=n(41964),c=n(85853);let d=class extends c.Z{static{i=this}constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const n=String(e);this.codedValues.some((e=>(String(e.code)===n&&(t=e.name),!!t)))}return t}clone(){return new i({codedValues:(0,s.d9)(this.codedValues),name:this.name})}};(0,r._)([(0,o.Cb)({type:[l.u],json:{write:{isRequired:!0}}})],d.prototype,"codedValues",void 0),(0,r._)([(0,u.J)({codedValue:"coded-value"})],d.prototype,"type",void 0),d=i=(0,r._)([(0,a.j)("esri.layers.support.CodedValueDomain")],d)},85853:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(73440),r=n(41773),s=n(63255),o=n(17155),u=(n(61432),n(96711),n(83850),n(79775)),a=n(48023);const l=new r.X({inherited:"inherited",codedValue:"coded-value",range:"range"});let c=class extends s.Z{constructor(e){super(e),this.name=null,this.type=null}};(0,i._)([(0,o.Cb)({type:String,json:{write:!0}})],c.prototype,"name",void 0),(0,i._)([(0,u.J)(l),(0,o.Cb)({json:{write:{isRequired:!0}}})],c.prototype,"type",void 0),c=(0,i._)([(0,a.j)("esri.layers.support.Domain")],c)},49651:function(e,t,n){n.d(t,{Z:function(){return m}});var i,r=n(73440),s=n(41773),o=n(63255),u=n(17155),a=n(95226),l=(n(61432),n(83850),n(79775)),c=n(1194),d=n(48023),h=n(76746),f=n(72396);const p=new s.X({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let m=class extends o.Z{static{i=this}constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let n=null;try{n=t?JSON.parse(t):null}catch(e){}return n?.value??null}readValueType(e,{description:t}){let n=null;try{n=t?JSON.parse(t):null}catch(e){}return n?p.fromJSON(n.fieldValueType):null}clone(){return new i({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};(0,r._)([(0,u.Cb)({type:String,json:{write:!0}})],m.prototype,"alias",void 0),(0,r._)([(0,u.Cb)({type:[String,Number],json:{write:{allowNull:!0}}})],m.prototype,"defaultValue",void 0),(0,r._)([(0,u.Cb)()],m.prototype,"description",void 0),(0,r._)([(0,c.r)("description")],m.prototype,"readDescription",null),(0,r._)([(0,u.Cb)({types:h.V5,json:{read:{reader:h.im},write:!0}})],m.prototype,"domain",void 0),(0,r._)([(0,u.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"editable",void 0),(0,r._)([(0,u.Cb)({type:a.z8,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],m.prototype,"length",void 0),(0,r._)([(0,u.Cb)({type:String,json:{write:!0}})],m.prototype,"name",void 0),(0,r._)([(0,u.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"nullable",void 0),(0,r._)([(0,l.J)(f.v)],m.prototype,"type",void 0),(0,r._)([(0,u.Cb)()],m.prototype,"valueType",void 0),(0,r._)([(0,c.r)("valueType",["description"])],m.prototype,"readValueType",null),(0,r._)([(0,u.Cb)({type:Boolean,json:{read:!1}})],m.prototype,"visible",void 0),m=i=(0,r._)([(0,d.j)("esri.layers.support.Field")],m)},299:function(e,t,n){n.d(t,{Z:function(){return f}});var i=n(88194),r=n(96711),s=n(79577),o=n(28960),u=n(69306),a=n(76554),l=n(41801),c=n(88097),d=n(87599);const h=new Map;class f{static fromJSON(e){return new f(e.fields,e.timeZoneByFieldName)}static fromLayer(e){return new f(e.fields??[],y(e))}static fromLayerJSON(e){return new f(e.fields??[],y(e))}constructor(e=[],t){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=t?new Map(t):null;const n=[];for(const e of this.fields){const t=e?.name,i=m(t);if(t&&i){const r=p(t);this._fieldsMap.set(t,e),this._fieldsMap.set(r,e),this._normalizedFieldsMap.set(i,e),n.push(`${r}:${e.type}:${this._timeZoneByFieldName?.get(t)}`),(0,a.y2)(e)?(this.dateFields.push(e),this._dateFieldsSet.add(e)):(0,a.H7)(e)&&(this._numericFieldsSet.add(e),this.numericFields.push(e)),(0,a.Dl)(e)||(0,a.Se)(e)||(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable)}}n.sort(),this.uid=n.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)(0,a.Dl)(e)||(0,a.Se)(e)||e.nullable||void 0!==(0,a.os)(e)||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===e?.uid}has(e){return null!=this.get(e)}get(e){if(!e)return;let t=this._fieldsMap.get(e);return t||(t=this._fieldsMap.get(p(e))??this._normalizedFieldsMap.get(m(e)),t&&this._fieldsMap.set(e,t),t)}getTimeZone(e){const t=this.get(e&&"string"!=typeof e?e.name:e);return t?this._timeZoneByFieldName?this._timeZoneByFieldName.get(t.name):"date"===t.type||"esriFieldTypeDate"===t.type?(r.Z.getLogger("esri.layers.support.FieldsIndex").errorOnce(new i.Z("getTimeZone:no-timezone-information",`no time zone information for field '${t.name}'`)),l.pt):g.has(t.type)?l._4:null:null}getLuxonTimeZone(e){const t=this.getTimeZone(e);return t?t===l._4?o.yV.instance:t===l.pt?d.Qf.utcInstance:(0,s.s1)(h,t,(()=>d.vF.create(t))):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return(0,a.sX)(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){return this.get(e)?.name??void 0}toJSON(){return{fields:this.fields.map((e=>(0,u.A)(e)?e.toJSON():e)),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function p(e){return e.trim().toLowerCase()}function m(e){return(0,a.q6)(e)?.toLowerCase()??""}const g=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function y(e){const t=new Map;if(!e.fields)return t;const n=!0===e.datesInUnknownTimezone,{timeInfo:i,editFieldsInfo:r}=e,s=(i?"startField"in i?i.startField:i.startTimeField:"")??"",o=(i?"endField"in i?i.endField:i.endTimeField:"")??"",u=function(e){return"dateFieldsTimeZone"in e}(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?(0,c.Jv)(e.dateFieldsTimeReference):null,a=r?function(e){return"timeZone"in e}(r)?r.timeZone??u:r.dateFieldsTimeReference?(0,c.Jv)(r.dateFieldsTimeReference):u??l.pt:null,d=i?function(e){return"timeZone"in e}(i)?i.timeZone??u:i.timeReference?(0,c.Jv)(i.timeReference):u:null,h=new Map([[p(r?.creationDateField??""),a],[p(r?.editDateField??""),a],[p(s),d],[p(o),d]]);for(const{name:i,type:r}of e.fields)if(g.has(r))t.set(i,l._4);else if("date"!==r&&"esriFieldTypeDate"!==r)t.set(i,null);else if(n)t.set(i,l._4);else{const e=h.get(p(i??""))??u;t.set(i,e)}return t}},39502:function(e,t,n){n.d(t,{Z:function(){return a}});var i,r=n(73440),s=(n(96711),n(61432),n(83850),n(88194),n(79775)),o=n(48023),u=n(85853);let a=class extends u.Z{static{i=this}constructor(e){super(e),this.type="inherited"}clone(){return new i}};(0,r._)([(0,s.J)({inherited:"inherited"})],a.prototype,"type",void 0),a=i=(0,r._)([(0,o.j)("esri.layers.support.InheritedDomain")],a)},95951:function(e,t,n){n.d(t,{Z:function(){return l}});var i,r=n(73440),s=n(17155),o=(n(61432),n(96711),n(83850),n(79775)),u=n(48023),a=n(85853);let l=class extends a.Z{static{i=this}constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new i({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};(0,r._)([(0,s.Cb)({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,n){t[n]=[this.minValue||0,e]},isRequired:!0}}})],l.prototype,"maxValue",void 0),(0,r._)([(0,s.Cb)({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[0]},write:{target:"range",writer(e,t,n){t[n]=[e,this.maxValue||0]},isRequired:!0}}})],l.prototype,"minValue",void 0),(0,r._)([(0,o.J)({range:"range"})],l.prototype,"type",void 0),l=i=(0,r._)([(0,u.j)("esri.layers.support.RangeDomain")],l)},76746:function(e,t,n){n.d(t,{V5:function(){return u},im:function(){return a}});n(61432);var i=n(37127),r=n(85853),s=n(39502),o=n(95951);const u={key:"type",base:r.Z,typeMap:{range:o.Z,"coded-value":i.Z,inherited:s.Z}};function a(e){if(!e?.type)return null;switch(e.type){case"range":return o.Z.fromJSON(e);case"codedValue":return i.Z.fromJSON(e);case"inherited":return s.Z.fromJSON(e)}return null}},72396:function(e,t,n){n.d(t,{v:function(){return i}});const i=new(n(41773).X)({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"})},48837:function(e,t,n){n.d(t,{UG:function(){return d},UO:function(){return m},YI:function(){return p},dI:function(){return g},el:function(){return v},hV:function(){return f},z7:function(){return h}});var i=n(29138);const r="__begin__",s="__end__",o=new RegExp(r,"ig"),u=new RegExp(s,"ig"),a=new RegExp("^"+r,"i"),l=new RegExp(s+"$","i"),c='"';function d(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function h(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function f(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=d(e.labelExpression),t.type="conventional"),t}function p(e){const t=f(e);if(!t)return null;switch(t.type){case"conventional":return g(t.expression);case"arcade":return t.expression}return null}function m(e){const t=f(e);if(!t)return null;switch(t.type){case"conventional":return function(e){const t=e?.match(y);return t?.[1].trim()||null}(t.expression);case"arcade":return v(t.expression)}return null}function g(e){let t;return e?(t=(0,i.gx)(e,(e=>r+'$feature["'+e+'"]'+s)),t=a.test(t)?t.replace(a,""):c+t,t=l.test(t)?t.replace(l,""):t+c,t=t.replaceAll(o,'" + ').replaceAll(u,' + "')):t='""',t}const y=/^\s*\{([^}]+)\}\s*$/i;const _=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,b=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,T=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function v(e){if(!e)return null;let t=_.exec(e)||b.exec(e);return t?t[1]||t[3]:(t=T.exec(e),t?t[2]:null)}},15065:function(e,t,n){n.d(t,{C7:function(){return h},WW:function(){return f},Yi:function(){return p},_b:function(){return _},kR:function(){return y},pp:function(){return m}});var i=n(11347),r=n(88194),s=(n(61432),n(21201)),o=n(88633),u=n(90756),a=n(299),l=n(3411),c=n(41801);const d=["geometry","scale","timeProperties"];function h(e,t){if(null!=t)for(const n of d)t.hasArcadeDependency(n)&&e.add(n);return e}function f(e,t){return g.create(e,t,null,["$feature","$view"])}function p(e,t){return g.create(e,t,null,["$feature","$view"])}function m(e,t,n){return g.create(e,t,n,["$feature","$view","$config"])}class g{static async create(e,t,n,i){const{arcade:s,Dictionary:o}=await(0,l.L)();let u;try{u=s.parseScript(e)}catch(t){throw new r.Z("arcade-bad-expression","Failed to parse arcade script",{script:e,error:t})}const a=s.scriptUsesGeometryEngine(u);a&&await s.enableGeometrySupport(),await s.loadDependentModules(new Set,u,null,!1,a);const c={vars:i.reduce(((e,t)=>({...e,[t]:null})),{}),spatialReference:t,useAsync:!1},d=s.compileScript(u,c);let h=null;null!=n&&(h=new o(n),h.immutable=!0);const f=new o;return f.immutable=!1,f.setField("scale",0),new g(e,s,u,d,t,f,h,o)}constructor(e,t,n,i,r,s,o,u){this.script=e,this._arcade=t,this._syntaxTree=n,this._compiled=i,this._spatialReference=r,this._viewDict=s,this._configDict=o,this._dictionaryCtor=u,this._dependencies=new Map,this._featureReader=new y,this._dependencies.set("geometry",t.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}evaluate(e,t){const n=t.$view?.timeZone;if(t.$view){let e;if(this._viewDict.setField("scale",t.$view.scale),null!=t.$view.timeProperties){const{currentStart:r,currentEnd:s}=t.$view.timeProperties;e=new this._dictionaryCtor({currentStart:null!=r?null!=n?i.iG.epochToArcadeDate(r,n):i.iG.unknownEpochToArcadeDate(r):void 0,currentEnd:null!=s?null!=n?i.iG.epochToArcadeDate(s,n):i.iG.unknownEpochToArcadeDate(s):void 0,startIncluded:!0,endIncluded:!0})}this._viewDict.setField("timeProperties",e)}return this._compiled({vars:{$view:this._viewDict,$config:this._configDict,$feature:e},spatialReference:this._spatialReference,timeZone:n})}repurposeFeature(e,t){return this._featureReader.bind(e,t,this._spatialReference),this._featureReader}references(e){return this._dependencies.get(e)??!1}}class y{constructor(){this._boundTarget=null,this._boundSchema={fields:null,fieldsIndex:null,spatialReference:null,get geometryType(){return null},get objectIdField(){return null}},this.arcadeDeclaredClass="esri.arcade.Feature",this._contextTimeZone=null}bind(e,t,n){const i=t??new a.Z(_(e.attributes));this._boundTarget=e,this._boundSchema.fields=i.fields,this._boundSchema.fieldsIndex=i,this._boundSchema.spatialReference=n}_getField(e){return this._boundSchema.fieldsIndex.get(e)}get contextTimeZone(){return this._contextTimeZone}set contextTimeZone(e){this._contextTimeZone=e}readArcadeFeature(){return this}hasField(e){return this._boundSchema.fieldsIndex.has(e)}geometry(){if("fromJSON"in this._boundTarget)return this._boundTarget.geometry;const e=(0,u.im)(this._boundTarget.geometry);if(e){if(!this._boundSchema.spatialReference)throw new Error("InternalError: Expected spatial reference to be defined");e.spatialReference=this._boundSchema.spatialReference}return e}isUnknownDateTimeField(e){return this._boundSchema.fieldsIndex.getTimeZone(e)===c._4}field(e,t=!0){const n=this._getField(e);if(n){const t=this._boundTarget.attributes[n.name];if(null==t)return null;switch(n.type){case"date-only":case"esriFieldTypeDateOnly":return s.u.fromReader(t);case"time-only":case"esriFieldTypeTimeOnly":return o.n.fromReader(t);case"esriFieldTypeTimestampOffset":case"timestamp-offset":return i.iG.fromReaderAsTimeStampOffset(t);case"date":case"esriFieldTypeDate":return this.isUnknownDateTimeField(e)?i.iG.unknownEpochToArcadeDate(t):i.iG.epochToArcadeDate(t,this.contextTimeZone??c.By);default:return t}}if(t)throw new Error(`Field ${e} does not exist`);return null}setField(e,t){throw new Error("Unable to update feature attribute values, feature is readonly")}keys(){return this._boundSchema.fieldsIndex.fields.map((e=>e.name))}castToText(e=!1){return JSON.stringify(this._boundTarget)}gdbVersion(){return null}fullSchema(){return this._boundSchema}castAsJson(e=null){return{attributes:this._boundTarget.attributes,geometry:!0===e?.keepGeometryType?this.geometry():this.geometry()?.toJSON()??null}}castAsJsonAsync(e=null,t=null){return Promise.resolve(this.castAsJson(t))}}function _(e){const t=[];for(const n in e)t.push({name:n,alias:n,type:"string"==typeof e[n]?"esriFieldTypeString":"esriFieldTypeDouble"});return t}},53866:function(e,t,n){n.d(t,{J:function(){return l}});var i=n(73440),r=n(46451),s=(n(96711),n(95226)),o=(n(61432),n(83850),n(88194),n(33680)),u=n(48023),a=n(34415);let l=class extends a.a{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};(0,i._)([(0,o.c)({Type:r.Z,ensureType:(0,s.se)(r.Z)})],l.prototype,"itemType",void 0),l=(0,i._)([(0,u.j)("esri.support.GraphicsCollection")],l)},44252:function(e,t,n){var i,r,s,o,u,a,l,c,d,h,f,p,m,g,y,_,b,T,v,S,w,x,M,C,F,R,N,A,O,L,E,I,z,P,D,Z,B,k,G,j,J,V,W,$,q,U,H,Y,X,K,Q,ee,te,ne,ie,re,se,oe,ue,ae,le,ce,de;n.d(t,{$y:function(){return M},AH:function(){return r},BZ:function(){return C},CS:function(){return X},DD:function(){return c},Dd:function(){return L},Em:function(){return x},IB:function(){return p},IH:function(){return re},JS:function(){return H},Ky:function(){return d},Lh:function(){return K},Qb:function(){return ue},RL:function(){return i},RS:function(){return le},TF:function(){return w},Tx:function(){return u},UR:function(){return T},UX:function(){return oe},bj:function(){return Y},eZ:function(){return l},id:function(){return R},kP:function(){return k},mC:function(){return ne},of:function(){return f},r4:function(){return V},sj:function(){return G},v2:function(){return s},zQ:function(){return O},zV:function(){return b}}),function(e){e[e.BUTT=0]="BUTT",e[e.ROUND=1]="ROUND",e[e.SQUARE=2]="SQUARE",e[e.UNKNOWN=4]="UNKNOWN"}(i||(i={})),function(e){e[e.BEVEL=0]="BEVEL",e[e.ROUND=1]="ROUND",e[e.MITER=2]="MITER",e[e.UNKNOWN=4]="UNKNOWN"}(r||(r={})),function(e){e[e.SCREEN=0]="SCREEN",e[e.MAP=1]="MAP"}(s||(s={})),function(e){e[e.Tint=0]="Tint",e[e.Ignore=1]="Ignore",e[e.Multiply=99]="Multiply"}(o||(o={})),function(e){e.Both="Both",e.JustBegin="JustBegin",e.JustEnd="JustEnd",e.None="None"}(u||(u={})),function(e){e[e.Mosaic=0]="Mosaic",e[e.Centered=1]="Centered"}(a||(a={})),function(e){e[e.Normal=0]="Normal",e[e.Superscript=1]="Superscript",e[e.Subscript=2]="Subscript"}(l||(l={})),function(e){e[e.MSSymbol=0]="MSSymbol",e[e.Unicode=1]="Unicode"}(c||(c={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.TrueType=1]="TrueType",e[e.PSOpenType=2]="PSOpenType",e[e.TTOpenType=3]="TTOpenType",e[e.Type1=4]="Type1"}(d||(d={})),function(e){e[e.Display=0]="Display",e[e.Map=1]="Map"}(h||(h={})),function(e){e.None="None",e.Loop="Loop",e.Oscillate="Oscillate"}(f||(f={})),function(e){e.Linear="Linear",e.EaseIn="EaseIn",e.EaseOut="EaseOut",e.EaseInOut="EaseInOut"}(p||(p={})),function(e){e[e.Z=0]="Z",e[e.X=1]="X",e[e.Y=2]="Y"}(m||(m={})),function(e){e[e.XYZ=0]="XYZ",e[e.ZXY=1]="ZXY",e[e.YXZ=2]="YXZ"}(g||(g={})),function(e){e[e.Rectangle=0]="Rectangle",e[e.RoundedRectangle=1]="RoundedRectangle",e[e.Oval=2]="Oval"}(y||(y={})),function(e){e[e.None=0]="None",e[e.Alpha=1]="Alpha",e[e.Screen=2]="Screen",e[e.Multiply=3]="Multiply",e[e.Add=4]="Add"}(_||(_={})),function(e){e[e.TTB=0]="TTB",e[e.RTL=1]="RTL",e[e.BTT=2]="BTT"}(b||(b={})),function(e){e[e.None=0]="None",e[e.SignPost=1]="SignPost",e[e.FaceNearPlane=2]="FaceNearPlane"}(T||(T={})),function(e){e[e.Float=0]="Float",e[e.String=1]="String",e[e.Boolean=2]="Boolean"}(v||(v={})),function(e){e[e.Intersect=0]="Intersect",e[e.Subtract=1]="Subtract"}(S||(S={})),function(e){e.OpenEnded="OpenEnded",e.Block="Block",e.Crossed="Crossed"}(w||(w={})),function(e){e.FullGeometry="FullGeometry",e.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",e.ReversedFirstSegment="ReversedFirstSegment",e.PerpendicularToSecondSegment="PerpendicularToSecondSegment",e.SecondSegmentWithTicks="SecondSegmentWithTicks",e.DoublePerpendicular="DoublePerpendicular",e.OppositeToFirstSegment="OppositeToFirstSegment",e.TriplePerpendicular="TriplePerpendicular",e.HalfCircleFirstSegment="HalfCircleFirstSegment",e.HalfCircleSecondSegment="HalfCircleSecondSegment",e.HalfCircleExtended="HalfCircleExtended",e.OpenCircle="OpenCircle",e.CoverageEdgesWithTicks="CoverageEdgesWithTicks",e.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",e.GapExtentMidline="GapExtentMidline",e.Chevron="Chevron",e.PerpendicularWithArc="PerpendicularWithArc",e.ClosedHalfCircle="ClosedHalfCircle",e.TripleParallelExtended="TripleParallelExtended",e.ParallelWithTicks="ParallelWithTicks",e.Parallel="Parallel",e.PerpendicularToFirstSegment="PerpendicularToFirstSegment",e.ParallelOffset="ParallelOffset",e.OffsetOpposite="OffsetOpposite",e.OffsetSame="OffsetSame",e.CircleWithArc="CircleWithArc",e.DoubleJog="DoubleJog",e.PerpendicularOffset="PerpendicularOffset",e.LineExcludingLastSegment="LineExcludingLastSegment",e.MultivertexArrow="MultivertexArrow",e.CrossedArrow="CrossedArrow",e.ChevronArrow="ChevronArrow",e.ChevronArrowOffset="ChevronArrowOffset",e.PartialFirstSegment="PartialFirstSegment",e.Arch="Arch",e.CurvedParallelTicks="CurvedParallelTicks",e.Arc90Degrees="Arc90Degrees",e.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",e.ConcentricCircles="ConcentricCircles",e.DoubleJogArrow="DoubleJogArrow",e.LinkedChevrons="LinkedChevrons",e.SegmentThenHalfCircle="SegmentThenHalfCircle",e.LineWithStraightTicks="LineWithStraightTicks",e.DoubleCurve="DoubleCurve",e.ParallelWithTicksByWidth="ParallelWithTicksByWidth",e.EnclosingRoundedRectangle="EnclosingRoundedRectangle"}(x||(x={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square",e.TrueBuffer="TrueBuffer"}(M||(M={})),function(e){e.ClosePath="ClosePath",e.ConvexHull="ConvexHull",e.RectangularBox="RectangularBox"}(C||(C={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(F||(F={})),function(e){e.Mitered="Mitered",e.Bevelled="Bevelled",e.Rounded="Rounded",e.Square="Square"}(R||(R={})),function(e){e.Fast="Fast",e.Accurate="Accurate"}(N||(N={})),function(e){e.BeginningOfLine="BeginningOfLine",e.EndOfLine="EndOfLine"}(A||(A={})),function(e){e.Sinus="Sinus",e.Square="Square",e.Triangle="Triangle",e.Random="Random"}(O||(O={})),function(e){e[e.None=0]="None",e[e.Default=1]="Default",e[e.Force=2]="Force"}(L||(L={})),function(e){e[e.Buffered=0]="Buffered",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.AlongLine=3]="AlongLine"}(E||(E={})),function(e){e[e.Linear=0]="Linear",e[e.Rectangular=1]="Rectangular",e[e.Circular=2]="Circular",e[e.Buffered=3]="Buffered"}(I||(I={})),function(e){e[e.Discrete=0]="Discrete",e[e.Continuous=1]="Continuous"}(z||(z={})),function(e){e[e.AcrossLine=0]="AcrossLine",e[e.AlongLine=1]="AlongLine"}(P||(P={})),function(e){e[e.Auto=0]="Auto",e[e.Clockwise=1]="Clockwise",e[e.Counterclockwise=2]="Counterclockwise"}(D||(D={})),function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Center=2]="Center",e[e.Justify=3]="Justify"}(Z||(Z={})),function(e){e[e.Base=0]="Base",e[e.MidPoint=1]="MidPoint",e[e.ThreePoint=2]="ThreePoint",e[e.FourPoint=3]="FourPoint",e[e.Underline=4]="Underline",e[e.CircularCW=5]="CircularCW",e[e.CircularCCW=6]="CircularCCW"}(B||(B={})),function(e){e.Butt="Butt",e.Round="Round",e.Square="Square"}(k||(k={})),function(e){e.NoConstraint="NoConstraint",e.HalfPattern="HalfPattern",e.HalfGap="HalfGap",e.FullPattern="FullPattern",e.FullGap="FullGap",e.Custom="Custom"}(G||(G={})),function(e){e[e.None=-1]="None",e[e.Custom=0]="Custom",e[e.Circle=1]="Circle",e[e.OpenArrow=2]="OpenArrow",e[e.ClosedArrow=3]="ClosedArrow",e[e.Diamond=4]="Diamond"}(j||(j={})),function(e){e[e.ExtraLeading=0]="ExtraLeading",e[e.Multiple=1]="Multiple",e[e.Exact=2]="Exact"}(J||(J={})),function(e){e.Bevel="Bevel",e.Round="Round",e.Miter="Miter"}(V||(V={})),function(e){e[e.Default=0]="Default",e[e.String=1]="String",e[e.Numeric=2]="Numeric"}(W||(W={})),function(e){e[e.InsidePolygon=0]="InsidePolygon",e[e.PolygonCenter=1]="PolygonCenter",e[e.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}($||($={})),function(e){e[e.Tint=0]="Tint",e[e.Replace=1]="Replace",e[e.Multiply=2]="Multiply"}(q||(q={})),function(e){e[e.ClipAtBoundary=0]="ClipAtBoundary",e[e.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",e[e.DoNotTouchBoundary=2]="DoNotTouchBoundary",e[e.DoNotClip=3]="DoNotClip"}(U||(U={})),function(e){e.NoConstraint="NoConstraint",e.WithMarkers="WithMarkers",e.WithFullGap="WithFullGap",e.WithHalfGap="WithHalfGap",e.Custom="Custom"}(H||(H={})),function(e){e.Fixed="Fixed",e.Random="Random",e.RandomFixedQuantity="RandomFixedQuantity"}(Y||(Y={})),function(e){e.LineMiddle="LineMiddle",e.LineBeginning="LineBeginning",e.LineEnd="LineEnd",e.SegmentMidpoint="SegmentMidpoint"}(X||(X={})),function(e){e.OnPolygon="OnPolygon",e.CenterOfMass="CenterOfMass",e.BoundingBoxCenter="BoundingBoxCenter"}(K||(K={})),function(e){e[e.Low=0]="Low",e[e.Medium=1]="Medium",e[e.High=2]="High"}(Q||(Q={})),function(e){e[e.MarkerCenter=0]="MarkerCenter",e[e.MarkerBounds=1]="MarkerBounds"}(ee||(ee={})),function(e){e[e.None=0]="None",e[e.PropUniform=1]="PropUniform",e[e.PropNonuniform=2]="PropNonuniform",e[e.DifUniform=3]="DifUniform",e[e.DifNonuniform=4]="DifNonuniform"}(te||(te={})),function(e){e.Tube="Tube",e.Strip="Strip",e.Wall="Wall"}(ne||(ne={})),function(e){e[e.Random=0]="Random",e[e.Increasing=1]="Increasing",e[e.Decreasing=2]="Decreasing",e[e.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(ie||(ie={})),function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(re||(re={})),function(e){e[e.Normal=0]="Normal",e[e.LowerCase=1]="LowerCase",e[e.Allcaps=2]="Allcaps"}(se||(se={})),function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(oe||(oe={})),function(e){e.Draft="Draft",e.Picture="Picture",e.Text="Text"}(ue||(ue={})),function(e){e[e.Top=0]="Top",e[e.Center=1]="Center",e[e.Baseline=2]="Baseline",e[e.Bottom=3]="Bottom"}(ae||(ae={})),function(e){e[e.Right=0]="Right",e[e.Upright=1]="Upright"}(le||(le={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(ce||(ce={})),function(e){e[e.Calm=0]="Calm",e[e.Rippled=1]="Rippled",e[e.Slight=2]="Slight",e[e.Moderate=3]="Moderate"}(de||(de={}))}}]);