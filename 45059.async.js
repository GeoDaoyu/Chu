"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[45059,93394],{45059:function(e,t,r){r.r(t),r.d(t,{getGeometryServiceURL:function(){return u},projectGeometry:function(){return c}});var o=r(81001),n=r(88194),i=r(77601),a=r(74935),s=r(8084);async function u(e=null,t){if(o.default.geometryServiceUrl)return o.default.geometryServiceUrl;if(!e)throw new n.Z("internal:geometry-service-url-not-configured","No geometryServiceUrl in configuration");let r;r="portal"in e?e.portal||i.Z.getDefault():e,await r.load({signal:t});const a=r.helperServices?.geometry?.url;if(!a)throw new n.Z("internal:geometry-service-url-not-configured","No geometryServiceUrl in configuration");return a}async function c(e,t,r=null,o){const i=await u(r,o),c=new s.Z({geometries:[e],outSpatialReference:t}),l=await(0,a.i)(i,c,{signal:o});if(l&&Array.isArray(l)&&1===l.length)return l[0];throw new n.Z("internal:geometry-service-projection-failed","Geometry projection failed on service")}},74935:function(e,t,r){r.d(t,{i:function(){return l}});var o=r(78619),n=r(95226),i=r(90756),a=r(56545),s=r(93333),u=r(8084);const c=(0,n.se)(u.Z);async function l(e,t,r){t=c(t);const n=(0,a.en)(e),u={...n.query,f:"json",...t.toJSON()},l=t.outSpatialReference,f=(0,i.Ji)(t.geometries[0]),m=(0,a.lA)(u,r);return(0,o.Z)(n.path+"/project",m).then((({data:{geometries:e}})=>(0,s.o)(e,f,l)))}},8084:function(e,t,r){r.d(t,{Z:function(){return l}});var o=r(73440),n=r(63255),i=r(17155),a=(r(61432),r(96711),r(83850),r(48023)),s=r(45213),u=r(90756),c=r(8554);let l=class extends n.Z{constructor(e){super(e),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map((e=>e.toJSON())),t=this.geometries[0],r={};return r.outSR=(0,c.B9)(this.outSpatialReference),r.inSR=(0,c.B9)(t.spatialReference),r.geometries=JSON.stringify({geometryType:(0,u.Ji)(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};(0,o._)([(0,i.Cb)()],l.prototype,"geometries",void 0),(0,o._)([(0,i.Cb)({type:s.Z,json:{read:{source:"outSR"}}})],l.prototype,"outSpatialReference",void 0),(0,o._)([(0,i.Cb)()],l.prototype,"transformation",void 0),(0,o._)([(0,i.Cb)()],l.prototype,"transformForward",void 0),l=(0,o._)([(0,a.j)("esri.rest.support.ProjectParameters")],l)}}]);