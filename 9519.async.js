"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9519],{10057:function(t,n,s){function e(t,n){try{if(!t)throw new Error(n)}catch(t){throw t}}s.d(n,{A:function(){return w},B:function(){return k},C:function(){return R},D:function(){return S},G:function(){return c},a:function(){return E},b:function(){return M},c:function(){return B},d:function(){return q},e:function(){return f},f:function(){return b},g:function(){return e},h:function(){return p},i:function(){return d},j:function(){return x},k:function(){return _},l:function(){return v},m:function(){return y},n:function(){return T},o:function(){return Z},p:function(){return I},q:function(){return A},r:function(){return g},s:function(){return z},t:function(){return P},u:function(){return D},v:function(){return N},w:function(){return C},x:function(){return L},y:function(){return G},z:function(){return l}});class i extends Error{constructor(t,n){super(n),this.m_AdditionalMessage=n,this.m_ErrorType=t,this.name="GeometryError"}what(){return function(t){switch(t){case 1:return"Unknown error";case 2:return"Corrupted geometry";case 3:return"Empty geometry";case 4:return"Math singularity";case 5:return"Buffer is too small";case 6:return"Invalid shape type";case 7:return"Projection out of supported range";case 8:return"Non simple geometry";case 9:return"Cannot calculate geodesic";case 10:return"Notation conversion";case 11:return"Missing grid file";case 12:return"Invalid call";case 13:return"Internal error";case 14:return"Not implemented";case 15:return"IO error";case 16:return"Invalid 3D";case 17:return"An ambiguous geography edge with antipodal points";case 18:return"Geocentric coordinates require ellipsoidal height";case 19:return"Geography cannot be projected into a gnomonic plane or a result of an operation cannot fit into a gnomonic plane";case 20:return"Geometry is too large to be exported in to a given format";case 22:return"Operation is canceled by the user";case 21:return"The operation, such as projection or geodetic computation, cannot be performed without pe-wasm loaded";default:return"unknown error"}}(this.m_ErrorType)}additionalMessage(){return this.m_AdditionalMessage?this.m_AdditionalMessage:""}code(){return this.m_ErrorType}}class r extends i{constructor(t){super(2,t),this.name="CorruptedGeometryError"}}class u extends i{constructor(t){super(3,t),this.name="EmptyGeometryError"}}class o extends i{constructor(t){super(4,t),this.name="MathSingularityError"}}class h extends i{constructor(t){super(21,t),this.name="ProjectionEngineNotLoadedError"}}class a extends i{constructor(t){super(8,t),this.name="NonSimpleGeometryError"}}var c;!function(t){t[t.enumUnknown=0]="enumUnknown",t[t.enumPoint=513]="enumPoint",t[t.enumLine=5122]="enumLine",t[t.enumBezier=5123]="enumBezier",t[t.enumEllipticArc=5124]="enumEllipticArc",t[t.enumEnvelope=3077]="enumEnvelope",t[t.enumMultiPoint=8710]="enumMultiPoint",t[t.enumPolyline=25607]="enumPolyline",t[t.enumPolygon=27656]="enumPolygon",t[t.enumMultipatch=40969]="enumMultipatch",t[t.enumGeometryCollection=3594]="enumGeometryCollection",t[t.enumRationalBezier2=5134]="enumRationalBezier2",t[t.enumBezier2=5135]="enumBezier2",t[t.enumRationalBezier23d=5392]="enumRationalBezier23d",t[t.enumGreatArc3d=5393]="enumGreatArc3d"}(c||(c={}));const m=[0,0,1,1,1,2,0,1,2,3,-1,-1,-1,-1,1,1];function l(t){return m[15&t]}function f(t){return!!(512&t)}function v(t){return!!(1024&t)}function _(t){return!!(2048&t)}function b(t){return!!(4096&t)}function d(t){return!!(8192&t)}function p(t){return!!(16384&t)}function x(t){return!!(32768&t)}function N(t){const n=t.getGeometryType();return d(n)?t.getPointCount():t.isEmpty()?0:n===c.enumEnvelope?4:n===c.enumPoint?1:b(n)?2:void q("missing type")}function y(t){const n=t.getGeometryType();if(p(n))return t.hasNonLinearSegments();if(n===c.enumGeometryCollection){const n=t;for(let t=0,s=n.getGeometryCount();t<s;t++)if(y(n.getGeometry(t)))return!0;return!1}return!!b(n)&&n!==c.enumLine}function g(t){throw new h(t)}function T(t){throw new r(t)}function E(t){throw new Error(t)}function M(t){throw new o(t)}function w(){E("Geometry type is not supported for 3D operations.")}function I(t){throw new i(12,t)}function D(t){throw new u(t)}function P(t){throw new i(14,t)}function A(t){throw new Error(t)}function q(t){throw new i(13,t)}function z(t){throw new Error(t)}function C(t){throw new a(t)}function Z(t){t&&y(t)&&P("Operation does not support curves.")}function B(t){t&&x(t.getGeometryType())&&P("Unsupported geometry type.")}function k(t){t===c.enumGeometryCollection&&E("Geometry_collection instances are not supported in this operation")}function G(t){k(t.getGeometryType())}function R(t){E(`bad wkid: ${t}`)}function S(t){let n="bad wkt: ";n+=t,n+="...",E(n)}function L(t,n){t||E(n)}},9519:function(t,n,s){s.d(n,{$:function(){return Gn},A:function(){return yt},B:function(){return In},C:function(){return It},D:function(){return qn},E:function(){return d},F:function(){return on},G:function(){return un},H:function(){return x},I:function(){return w},J:function(){return M},K:function(){return i},L:function(){return Gt},M:function(){return Un},N:function(){return Cn},O:function(){return zn},P:function(){return Wn},Q:function(){return rn},R:function(){return Yt},S:function(){return Ot},T:function(){return Sn},U:function(){return U},V:function(){return Nt},W:function(){return Ft},X:function(){return O},Y:function(){return Q},Z:function(){return wt},_:function(){return R},a:function(){return j},a0:function(){return kn},a1:function(){return Fn},a2:function(){return k},a3:function(){return G},a4:function(){return S},a5:function(){return L},a6:function(){return I},a7:function(){return Yn},a8:function(){return Dt},a9:function(){return Rn},aA:function(){return qt},aB:function(){return yn},aC:function(){return cn},aD:function(){return Bn},aE:function(){return C},aF:function(){return Tn},aG:function(){return Jn},aH:function(){return Hn},aI:function(){return wn},aJ:function(){return Xt},aK:function(){return gn},aa:function(){return mt},ab:function(){return lt},ac:function(){return Zt},ad:function(){return D},ae:function(){return P},af:function(){return ct},ag:function(){return Ut},ah:function(){return jn},ai:function(){return Vn},aj:function(){return xt},ak:function(){return On},al:function(){return Pt},am:function(){return X},an:function(){return Y},ao:function(){return dt},ap:function(){return $},aq:function(){return An},ar:function(){return ln},as:function(){return Tt},at:function(){return Nn},au:function(){return En},av:function(){return Rt},aw:function(){return kt},ax:function(){return B},ay:function(){return xn},az:function(){return Kn},b:function(){return gt},c:function(){return Et},d:function(){return Lt},e:function(){return H},f:function(){return Z},g:function(){return Pn},h:function(){return zt},i:function(){return mn},j:function(){return an},k:function(){return Qt},l:function(){return at},m:function(){return Bt},n:function(){return St},o:function(){return jt},p:function(){return Vt},q:function(){return F},r:function(){return hn},s:function(){return Zn},t:function(){return J},u:function(){return At},v:function(){return Mt},w:function(){return Ct},x:function(){return V},y:function(){return A},z:function(){return z}});var e=s(10057);class i{constructor(t){this.sum=t,this.compensation=0}assign(t){return this.compensation=t.compensation,this.sum=t.sum,this}reset(){this.sum=this.compensation=0}resetToStart(t){this.sum=t,this.compensation=0}normalize(){const t=[Number.NaN];this.sum=ht(this.sum,this.compensation,t),this.compensation=t[0]}add(t){const n=this.sum+t;let s;if(Math.abs(this.sum)>=Math.abs(t)){const e=this.sum-n+t;s=this.compensation+e}else{const e=t-n+this.sum;s=this.compensation+e}this.sum=n,this.compensation=s}sub(t){this.add(-t)}addProduct(t,n){const s=[0],e=it(t,n,s);this.add(e),this.add(s[0])}mul(t){const n=new i(0);n.addProduct(this.sum,t),n.addProduct(this.compensation,t),this.assign(n)}getResult(){return this.sum+this.compensation}pe(t){return this.add(t),this}me(t){return this.add(-t),this}}const r=0x00000000ffffffffn,u=0x0000ffffn,o=0x000000ffn,h=0x0fn,a=0xffff0000n,c=0xff00n,m=0xf0n,l=[5,1,2,1,3,1,2,1,4,1,2,1,3,1,2,1],f=[-1,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3];function v(t){let n=0;return t&u||(n+=16,t>>=16n),t&o||(n+=8,t>>=8n),t&h||(n+=4,t>>=4n),n+l[Number(BigInt.asUintN(4,t))]}function _(t){let n=0;return t&r||(n=32,t>>=32n),n+v(BigInt.asUintN(32,t))}function b(t){let n=0;return 0xffffffff00000000n&t&&(n=32,t>>=32n),n+function(t){let n=0;return t&a&&(n+=16,t>>=16n),t&c&&(n+=8,t>>=8n),t&m&&(n+=4,t>>=4n),n+f[Number(BigInt.asUintN(4,t))]+1}(t)}class d{constructor(t,n){if(this.m_EnvelopeType=1,void 0!==t){if(t instanceof d)return this.vmin=t.vmin,void(this.vmax=t.vmax);this.vmin=t,this.vmax=n,this.normalize()}else this.setEmpty()}static construct(t,n){return new d(t,n)}static constructEmpty(){return new d}setCoords(t,n){this.vmin=t,this.vmax=n,this.normalize()}setCoordsFromEnvelope(t){this.vmin=t.vmin,this.vmax=t.vmax}setEmpty(){this.vmin=Number.NaN,this.vmax=Number.NaN}getCenter(){return.5*(this.vmin+this.vmax)}equalsRange(t,n){return rn(this.vmin,t)&&rn(this.vmax,n)}equals(t,n){return!(!this.isEmpty()||!t.isEmpty())||(void 0!==n?Math.abs(this.vmin-t.vmin)<=n&&Math.abs(this.vmax-t.vmax)<=n:this.vmin===t.vmin&&this.vmax===t.vmax)}width(){return this.vmax-this.vmin}isEmpty(){return Number.isNaN(this.vmin)||Number.isNaN(this.vmax)}isZero(){return this.vmin===this.vmax}setInfinite(){this.vmin=Number.NEGATIVE_INFINITY,this.vmax=Number.POSITIVE_INFINITY}move(t){this.isEmpty()||(this.vmin+=t,this.vmax+=t)}contains(t){return t.vmin>=this.vmin&&t.vmax<=this.vmax}containsCoordinate(t){return t>=this.vmin&&t<=this.vmax}containsRightExclusive(t){return t>=this.vmin&&t<this.vmax}containsExclusiveCoordinate(t){return t>this.vmin&&t<this.vmax}containsExclusive(t){return t.vmin>this.vmin&&t.vmax<this.vmax}isIntersecting(t){return this.vmin<=t.vmin?this.vmax>=t.vmin:t.vmax>=this.vmin}mergeCoordinate(t){if(this.isEmpty())return this.vmin=t,void(this.vmax=t);this.mergeNeCoordinate(t)}merge(t){if(t.isEmpty())return;const n=t.vmin,s=t.vmax;this.mergeCoordinate(n),this.mergeCoordinate(s)}mergeNe(t){const n=t.vmin,s=t.vmax;this.mergeNeCoordinate(n),this.mergeNeCoordinate(s)}mergeNeCoordinate(t){t<this.vmin?this.vmin=t:t>this.vmax&&(this.vmax=t)}intersect(t){this.isEmpty()||t.isEmpty()?this.setEmpty():(this.vmin<t.vmin&&(this.vmin=t.vmin),this.vmax>t.vmax&&(this.vmax=t.vmax),this.vmin>this.vmax&&this.setEmpty())}inflate(t){this.isEmpty()||(this.vmin-=t,this.vmax+=t,this.vmax<this.vmin&&this.setEmpty())}normalize(){this.vmin<=this.vmax||(this.vmin>this.vmax?this.vmax=Et(this.vmin,this.vmin=this.vmax):this.setEmpty())}isValid(){return this.isEmpty()||this.vmin<=this.vmax}snapClip(t){return Zn(t,this.vmin,this.vmax)}calculateToleranceFromEnvelope(){return this.isEmpty()?Pn():(Math.abs(this.vmin)+Math.abs(this.vmax)+1)*Pn()}static unit(){return p}normalizeNoNAN(){this.vmin>this.vmax&&(this.vmax=Et(this.vmin,this.vmin=this.vmax))}setCoordsNoNAN(t,n){this.vmin=t,this.vmax=n,this.normalizeNoNAN()}clone(){return new d(this.vmin,this.vmax)}}const p=new d(0,1);class x{static getNAN(){return new x(Number.NaN)}constructor(t,n){this.m_value=t??0,this.m_eps=n??0}[Symbol.toPrimitive](t){return this}clone(){return new x(this.m_value,this.m_eps)}assign(t){return this.m_value=t.m_value,this.m_eps=t.m_eps,this}scaleError(t){this.m_eps*=t}setError(t){this.m_eps=t}set(t,n){return this.m_value=t,this.m_eps=n??0,this}setWithEps(t,n){return void 0===n&&(n=1),this.m_value=t,this.m_eps=x.ulp(t)*n,this}setE(t){return this.m_value=t.m_value,this.m_eps=t.m_eps,this}precise(){return new x(this.m_value)}value(){return this.m_value}toDouble(){return this.m_value}eps(){return this.m_eps}resetError(){return this.m_eps=0,this}absThis(){return this.m_value=Math.abs(this.m_value),this}add(t){return this.clone().addThis(t)}addE(t){return this.clone().addThisE(t)}addThisE(t){const n=this.m_value+t.m_value,s=this.m_eps+t.m_eps+x.ulp(n);return this.m_value=n,this.m_eps=s,this}addThis(t){const n=this.m_value+t,s=this.m_eps+x.ulp(n);return this.m_value=n,this.m_eps=s,this}subE(t){return this.clone().subThisE(t)}sub(t){return this.clone().subThis(t)}subThisE(t){const n=this.m_value-t.m_value,s=this.m_eps+t.m_eps+x.ulp(n);return this.m_value=n,this.m_eps=s,this}subThis(t){const n=this.m_value-t,s=this.m_eps+x.ulp(n);return this.m_value=n,this.m_eps=s,this}setAddE(t,n){return this.m_value=t.m_value+n.m_value,this.m_eps=t.m_eps+n.m_eps+x.ulp(this.m_value),this}setAdd(t,n){return this.m_value=t+n,this.m_eps=x.ulp(this.m_value),this}setAddEN(t,n){return this.m_value=t.m_value+n,this.m_eps=t.m_eps+x.ulp(this.m_value),this}setAddNE(t,n){return this.m_value=t+n.m_value,this.m_eps=n.m_eps+x.ulp(this.m_value),this}setSubE(t,n){return this.m_value=t.m_value-n.m_value,this.m_eps=t.m_eps+n.m_eps+x.ulp(this.m_value),this}setSub(t,n){return this.m_value=t-n,this.m_eps=x.ulp(this.m_value),this}setSubEN(t,n){return this.m_value=t.m_value-n,this.m_eps=t.m_eps+x.ulp(this.m_value),this}setSubNE(t,n){return this.m_value=t-n.m_value,this.m_eps=n.m_eps+x.ulp(this.m_value),this}mulThisE(t){const n=this.m_value*t.m_value;return this.m_eps=this.m_eps*Math.abs(t.m_value)+t.m_eps*Math.abs(this.m_value)+this.m_eps*t.m_eps+x.ulp(n),this.m_value=n,this}mulThis(t){const n=this.m_value*t;return this.m_eps=this.m_eps*Math.abs(t)+x.ulp(n),this.m_value=n,this}mul(t){return this.clone().mulThis(t)}mulE(t){return this.clone().mulThisE(t)}setMulE(t,n){const s=t.m_value*n.m_value;return this.m_eps=t.m_eps*Math.abs(n.m_value)+n.m_eps*Math.abs(t.m_value)+t.m_eps*n.m_eps+x.ulp(s),this.m_value=s,this}setMul(t,n){return this.m_value=t*n,this.m_eps=x.ulp(this.m_value),this}setMulEN(t,n){return this.setE(t),this.mulThis(n)}setMulNE(t,n){return this.setE(n),this.mulThis(t)}mulThisByPower2(t){return this.m_value*=t,this.m_eps*=Math.abs(t),this}static st_mulByPower2(t,n){return new x(t.m_value,t.m_eps).mulThisByPower2(n)}divE(t){return this.clone().divThisE(t)}divThisE(t){const n=Math.abs(t.m_value),s=this.m_value/t.m_value;let e=(this.m_eps+Math.abs(s)*t.m_eps)/n;if(t.m_eps>.01*n){const s=t.m_eps/n;e*=1+(1+s)*s}return this.m_value=s,this.m_eps=e+x.ulp(s),this}divThis(t){const n=Math.abs(t);return this.m_value/=t,this.m_eps=this.m_eps/n+x.ulp(this.m_value),this}setDivE(t,n){return this.setE(t),this.divThisE(n)}setDiv(t,n){return this.m_value=t/n,this.m_eps=x.ulp(this.m_value),this}setDivEN(t,n){return this.setE(t),this.divThis(n)}setDivNE(t,n){return this.set(t),this.divThisE(n)}divThisByPower2(t){return this.m_value/=t,this.m_eps/=Math.abs(t),this}invThis(){return this.setE(w.clone().divThisE(this)),this}sqrt(){return this.clone().sqrtThis()}sqrtThis(){let t,n;return this.m_value>=0?(t=Math.sqrt(this.m_value),n=this.m_value>10*this.m_eps?.5*this.m_eps/t:this.m_value>this.m_eps?t-Math.sqrt(this.m_value-this.m_eps):Math.max(t,Math.sqrt(this.m_value+this.m_eps)-t),n+=x.ulp(t)):this.m_value<-this.m_eps?(t=Number.NaN,n=Number.NaN):(t=0,n=Math.sqrt(this.m_eps)),this.m_value=t,this.m_eps=n,this}sqr(){return this.clone().sqrThis()}sqrThis(){const t=this.m_value*this.m_value;return this.m_eps=2*this.m_eps*Math.abs(this.m_value)+this.m_eps*this.m_eps+x.ulp(t),this.m_value=t,this}setSin(t){const n=Math.sin(t.m_value),s=Math.cos(t.m_value);this.m_value=n;const e=Math.abs(n),i=Math.abs(t.value());return this.m_eps=(Math.abs(s)+.5*e*t.m_eps)*t.m_eps+x.ulp(e+i),this}static ulp(t){let n=tn(t);const s=((0x7ff0000000000000n&n)>>52n)-1075n;return s>-1023n?(n=s+0x3ffn<<52n,function(t){return Jt[0]=t,Ht[0]}(n)):0===t?0:Number.MIN_VALUE}setCos(t){const n=Math.sin(t.m_value),s=Math.cos(t.m_value);this.m_value=s;const e=Math.abs(s),i=Math.abs(t.value());return this.m_eps=(Math.abs(n)+.5*e*t.m_eps)*t.m_eps+x.ulp(e+i),this}static st_cosAndSin(t,n,s){const e=Math.sin(t.m_value),i=Math.cos(t.m_value);s.m_value=e,n.m_value=i;const r=Math.abs(e),u=Math.abs(i),o=Math.abs(t.value());s.m_eps=(Math.abs(i)+.5*r*t.m_eps)*t.m_eps+x.ulp(r+o),n.m_eps=(Math.abs(e)+.5*u*t.m_eps)*t.m_eps+x.ulp(u+o)}negate(){return this.clone().negateThis()}negateThis(){return this.m_value=-this.m_value,this}setAbs(){return this.m_value=Math.abs(this.m_value),this}isInInterval(t){return d.construct(this.m_value-this.m_eps,this.m_value+this.m_eps).isIntersecting(t)}eq(t){return Math.abs(this.m_value-t.m_value)<=this.m_eps+t.m_eps}ne(t){return!this.eq(t)}gt(t){return this.m_value-t.m_value>this.m_eps+t.m_eps}lt(t){return t.m_value-this.m_value>this.m_eps+t.m_eps}ge(t){return!this.lt(t)}le(t){return!this.gt(t)}tolEQ(t,n){return Math.abs(this.m_value-t.m_value)<=n||this.eq(t)}tolNE(t,n){return!this.tolEQ(t,n)}tolGT(t,n){return this.m_value-t.m_value>n&&this.gt(t)}tolLT(t,n){return t.m_value-this.m_value>n&&this.lt(t)}tolGE(t,n){return!this.tolLT(t,n)}tolLE(t,n){return!this.tolGT(t,n)}isZero(){return Math.abs(this.m_value)<=this.m_eps}isFuzzyZero(){return this.isZero()&&0!==this.m_eps}tolIsZero(t){return Math.abs(this.m_value)<=Math.max(this.m_eps,t)}setPi(){this.setE(E)}setEuler(){this.set(2.718281828459045,T())}static size(){return 1}}function N(t,n){const s=nn(t),e=nn(n),i=53-_(s),r=53-_(e);return(i>=0?i:0)+(r>=0?r:0)<=52}function y(t,n){const s=t+n;return s-t===n&&s-n===t}function g(t,n){const s=t-n;return t-s===n&&n+s===t}function T(){return zn()}x.dimensions=1;const E=new x(Math.PI,.5*T()),M=new x(0,0),w=new x(1,0),I=new x(4,0);function D(t,n,s){return t.addE(n.subE(t).mulE(s))}function P(t,n,s){return n.subE(n.subE(t).mulE(w.subE(s)))}function A(t){let n;if(0===t)n=1;else if(Math.abs(t)>.01)n=function(t){return Math.atanh(t)}(t)/t;else{let s;const e=-36.841361487904734;n=0;const i=t*t;for(let t=2*Math.trunc(e/Math.log(i)+2.5)-1;t>1;t-=2)s=1/t,n=(n+s)*i;n+=1}return n}function q(t){const n=Math.PI*Math.PI/6;let s;if(1===t)s=n;else if(t>1)s=n;else if(0===t)s=t;else if(t<0){const n=1+(t=Math.abs(t)),e=Math.log(n);s=e*e/-2-q(t/n)}else if(t>.5){const e=1-t,i=Math.log(t)*Math.log(e);s=n-q(e)-i}else{s=0;const n=1+Math.trunc(-16*Math.log(10)/Math.log(t)+1.5);let e=n;for(let i=n;i>0;i--,e-=1)s*=t,s+=1/(e*e);s*=t}return s}function z(t,n){const s=n*t;if(Math.abs(n)<.1){let n=0;for(let t=60;t>=1;t--)n*=s,n+=1/t/t;return n*=t,n}return q(s)/n}function C(t,n){return t<n?Qt(t,n):Qt(n,t)}function Z(t,n){const s=Math.abs(t);return n>=0?s:-s}function B(t){return Math.round(t)}function k(t,n,s,e,i){i[0]=n[0]+(s[0]-n[0])*e,i[1]=n[1]+(s[1]-n[1])*e,3===t&&(i[2]=n[2]+(s[2]-n[2])*e)}function G(t,n,s,e,i){i[0]=s[0]-(s[0]-n[0])*(1-e),i[1]=s[1]-(s[1]-n[1])*(1-e),3===t&&(i[2]=s[2]-(s[2]-n[2])*(1-e))}function R(t,n,s,e,i){e<=.5?k(t,n,s,e,i):G(t,n,s,e,i)}function S(t,n,s,e,i){i[0]=n[0].addE(s[0].subE(n[0]).mulE(e)),i[1]=n[1].addE(s[1].subE(n[1]).mulE(e))}function L(t,n,s,e,i){i[0]=s[0].subE(s[0].subE(n[0]).mulE(w.subE(e))),i[1]=s[1].subE(s[1].subE(n[1]).mulE(w.subE(e)))}function F(t,n,s){let e;return e=s<=.5?t+(n-t)*s:n-(n-t)*(1-s),e}function O(t,n,s){return t+(n-t)*s}function Q(t,n,s){return n-(n-t)*(1-s)}function U(t,n,s,e){s<=.5?(e.x=t.x+(n.x-t.x)*s,e.y=t.y+(n.y-t.y)*s):(e.x=n.x-(n.x-t.x)*(1-s),e.y=n.y-(n.y-t.y)*(1-s))}function V(t,n,s,e){s<=.5?(e.x=t.x+(n.x-t.x)*s,e.y=t.y+(n.y-t.y)*s,e.z=t.z+(n.z-t.z)*s):(e.x=n.x-(n.x-t.x)*(1-s),e.y=n.y-(n.y-t.y)*(1-s),e.z=n.z-(n.z-t.z)*(1-s))}function j(t){return t*t}function Y(t){return t*t*t}function $(t){return 1/Math.sqrt(t)}function H(t){return t<0?-1:t>0?1:0}function J(t,n,s,e){const i=[0],r=[0],u=[0];return ht(it(t,s,i),it(n,e,r),u)+(i[0]+r[0]+u[0])}const K=[0],W=[0];function X(t,n,s){return function(t,n,s,e){const i=ht(t,n,ut),r=ht(i,s,ot);return ht(r,ut[0]+ot[0],e)}(it(t,n,K),s,K[0],W)}const tt=[0],nt=[0],st=[0],et=[0];function it(t,n,s){const e=t*n;return rt(t,tt,nt),rt(n,st,et),s[0]=nt[0]*et[0]-(e-tt[0]*st[0]-nt[0]*st[0]-tt[0]*et[0]),e}function rt(t,n,s){const e=134217729*t;n[0]=e-(e-t),s[0]=t-n[0]}const ut=[0],ot=[0];function ht(t,n,s){const e=t+n;return Math.abs(t)>Math.abs(n)?s[0]=t-e+n:s[0]=n-e+t,e}function at(t,n){return t%n}function ct(t){const n=1-t;if(0===n)return 1;let s;if(n<=.01){const t=n,e=Math.log(t);s=1+t*(.4431471805599453-.25*e+t*(.05680519270997949-.09375*e+t*(.02183137044373718-.05859375*e+t*(.011544521417308362-.042724609375*e+t*(.00714200031339596-.0336456298828125*e+t*(.004854743337164948-.027757644653320312*e+t*(.003514687963781376-.023627042770385742*e)))))))}else{if(t<.016){const n=t,s=.25,e=.046875,i=.01953125,r=.01068115234375,u=.0067291259765625,o=.004626274108886719,h=.0033752918243408203,a=.0025710230693221092;return Sn()*(1-n*(s+n*(e+n*(i+n*(r+n*(u+n*(o+n*(h+n*a))))))))}s=ft(0,n,1)-t*vt(0,n,1)/3}return Zn(s,1,Sn())}function mt(t,n,s=Number.NaN){if((0,e.g)(n>=0&&n<=1),0===n)return t;let i=1,r=t;if(r<0&&(r=-r,i=-1),1===n){const t=Math.round(r/Gn()),n=r-t*Gn();return i*(2*t+Math.sin(n))}const u=Sn(),o=Math.floor(r/u);1&o?r=(o+1)*u-r:r-=o*u;const h=Math.sin(r),a=Number.isNaN(s)?ct(n):s;let c;if(1===h)c=a+Math.sqrt(1-n)*(r-u);else{const t=r*r;if(.01424*Math.pow(t,4)<=2*zn())c=r*(1+t*n*(-1/6+t*((4-3*n)/120-(16+(45*n-60)*n)/5040*t)));else if(n<=.01){const t=Math.sin(2*r),s=Math.sin(4*r),e=Math.sin(6*r),i=Math.sin(8*r),u=Math.sin(10*r);c=r+n*((2*-r+t)/8+n*((-3*r+2*t-.25*s)/64+n*((-20*r+15*t-3*s+e/3)/1024+n*(5*(-140*r+112*t-28*s+16/3*e-.5*i)/65536+7*n*((-63*r+52.5*t-15*s+3.75*e-.625*i+.05*u)/65536+n*(-693*r+594*t-185.625*s+1.375*e-12.375*i+1.8*u-.125*Math.sin(12*r))/1048576)))))}else{const t=h*h,s=Math.cos(r),e=s*s,i=_t(h,s,n);c=h*(ft(e,i,1)-n*t*vt(e,i,1)/3)}}return 1&o?c=a*(o+1)-c:c+=a*o,i*c}function lt(t,n,s=Number.NaN){if(0===t)return 0;let e=1,i=t;t<0&&(i=-i,e=-1);const r=Number.isNaN(s)?ct(n):s,u=Math.floor(i/r);1&u?i=(u+1)*r-i:i-=u*r;let o=i<=0?0:i>=r?Sn():function(t,n,s){if(0===n)return t;if(1===n)return Math.asin(t);let e=0,i=!0;if(t<.2){const s=t*t,r=t*(1+s*n*(1/6+s*((13*n-4)/120+(16-284*n+493*n*n)/5040*s))),u=Math.abs(n*(4944*n-64-31224*n*n+37369*n*n*n)/362880*Math.pow(t,9));if(u<Math.abs(r)*zn())return r;e=r,i=u>.1*r}if(i){const i=1-n,r=1-t/s,u=Math.sqrt(r*r+i*i),o=Math.atan2(i,t+zn());e=Sn()+Math.sqrt(u)*(o-Sn())}let r=0;for(let i=0;i<7;i++){r=mt(e,n,s);const u=_t(Math.sin(e),Math.cos(e),n);if(e-=(r-t)/Math.sqrt(u),i>0&&Math.abs(r-t)<=4*zn()*t)break}return e}(i,n,r);return 1&u?o=Sn()*(u+1)-o:o+=Sn()*u,e*o}function ft(t,n,s){(0,e.g)((0!==t?1:0)+(0!==n?1:0)+1>1);let i=t,r=n,u=s;for(;;){const t=Math.sqrt(i*r)+Math.sqrt(r*u)+Math.sqrt(u*i);i=.25*(i+t),r=.25*(r+t),u=.25*(u+t);const n=(i+r+u)/3,s=(n-i)/n,e=(n-r)/n,o=(n-u)/n;if(Math.abs(s)<=.0024&&Math.abs(e)<=.0024&&Math.abs(o)<=.0024){const t=s*e-o*o,i=s*e*o;return(1+(1/24*t-.1-3/44*i-5*t*t/208+t*i/16)*t+(1/14+3*i/104)*i)/Math.sqrt(n)}}}function vt(t,n,s){(0,e.g)(0!==t||0!==n);let r=t,u=n,o=s;const h=new i(0);let a=1;for(;;){const t=.2*(r+u+3*o),n=(t-r)/t,s=(t-u)/t,e=(t-o)/t;if(Math.abs(n)<=.0015&&Math.abs(s)<=.0015&&Math.abs(e)<=.0015){const i=n*s,r=e*e,u=i-r,o=i-6*r,c=o+u+u,m=3/26,l=o*(9/22*.25*o-.21428571428571427-1.5*m*e*c),f=e*(1/6*c+e*(-.4090909090909091*u+e*m*i));return 3*h.getResult()+a*(1+l+f)/(t*Math.sqrt(t))}const i=Math.sqrt(r),c=Math.sqrt(u),m=Math.sqrt(o),l=i*(c+m)+c*m;h.add(a/(m*(o+l))),a*=.25,r=.25*(r+l),u=.25*(u+l),o=.25*(o+l)}}function _t(t,n,s){return t<.999?1-s*j(t):1-s+s*j(n)}const bt=new class{constructor(t){for(this.values=[[1]];this.values.length<t+1;){const t=this.values.at(-1),n=Lt(t.length+1,1);for(let s=1;s<t.length;++s)n[s]=t[s-1]+t[s];this.values.push(n)}}get(t,n){return this.values[t][n]}}(32);function dt(t,n){if(t<bt.values.length)return bt.get(t,n);const s=Math.exp(((0,e.g)(0),0));return s+.01>2147483647&&(0,e.q)("The result value of n choose k is out of range"),s+.01}function pt(t,n){if(t.isZero())return t.clone();const s=t.clone().divThis(t);if(n<0)return s.divThis(pt(t,-n));for(t=t.clone(),n=Math.trunc(n);1&n&&s.mulThis(t),n>>=1;)t.mulThis(t);return s}function xt(t,n){if(0===n)return[];const s=t[0].clone().mulDoubleThis(0),e=[];e.length=n;const i=n-1;for(let n=0;n<=i;++n){e[n]=s.clone();for(let s=0;s<=n;++s)e[n].addThis(t[s].clone().mulDoubleThis(dt(n,s)/dt(i,s)))}return e}function Nt(t,n,s,i,r){return 0===t?0===i?n:1===i?s:r:1===t?0===i?n:1===i?s:F(n,s,i):(2===t&&(0,e.t)("angular interpolation"),void(0,e.t)(""))}function yt(t,n,s,i,r,u,o,h){if(0===t)for(let t=0;t<u;++t)i[t+r]=0===o?n[t]:1===o?s[t]:h;else if(1===t)if(0===o)gt(i,n,r,0,u);else if(1===o)gt(i,s,r,0,u);else for(let t=0;t<u;++t)i[t+r]=F(n[t],s[t],o);else if(2===t)if(0===o)gt(i,n,r,0,u);else if(1===o)gt(i,s,r,0,u);else{let t=0;for(let e=0,h=r;e<u;++e,++h)i[h]=F(n[e],s[e],o),t+=i[h]*i[h];if(t>0){t=Math.sqrt(t);for(let n=r;n<r+u;++n)i[n]/=t}else{for(let t=r;t<r+u;++t)i[t]=0;i[r]=1}}else(0,e.t)("")}function gt(t,n,s,e,i){if(0===i)return;let r=0,u=s,o=e;for(;r++<i;)t[u++]=n[o++]}function Tt(t,n,s){let e=0;for(let i=0;!e&&i<s;++i)e=t[i]-n[i];return e}function Et(t,n){return t}function Mt(t){t.sort(((t,n)=>t<n?-1:t>n?1:0))}function wt(t,n){const s=t.slice(0,n);Mt(s),gt(t,s,0,0,n)}function It(t,n,s,e){const i=t.slice(n,n+s);i.sort(e),gt(t,i,n,0,s)}function Dt(t,n){return t<n?-1:t>n?1:0}function Pt(t,n,s,e){return t<s?-1:t>s?1:n<e?-1:n>e?1:0}function At(t,n){if(t.length<2)return t.length;let s=0;for(let e=1;e<t.length;++e)n(t[e],t[s])||(s++,t[e]=Et(t[s],t[s]=t[e]));return 1+s}function qt(t,n){t[n]=t.at(-1),t.pop()}function zt(t,n=!1){return{[Symbol.dispose](){this.bForget||t()},bForget:n}}function Ct(t,n,s){t.length=n,t.fill(s)}function Zt(t,n,s){t.length=s;for(let e=0;e<s;++e)t[e]=new n}function Bt(t,n){const s=new Array(n);for(let e=0;e<n;++e)s[e]=new t;return s}function kt(t,n,s){for(let e=0;e<s;++e)t[e].assign(n[e]);return s}function Gt(t,n){const s=t.slice(0,n);for(let t=0;t<n;++t)s[t]=s[t].clone();return s}function Rt(t){return Array.from({length:t},(()=>null))}function St(t,n){return Array.from({length:n},(()=>t()))}function Lt(t,n){const s=new Array(t);return s.fill(n),s}function Ft(t,n){return n in t&&1===Object.getOwnPropertyNames(t).length}class Ot{constructor(...t){this.m_elts=t}get length(){return this.m_elts.length}at(t){return this.m_elts[t]}[Symbol.dispose](){for(const t of this.m_elts)t[Symbol.dispose]()}}function Qt(t,n){return{first:t,second:n}}const Ut=Math.PI,Vt=2*Math.PI,jt=.5*Math.PI;class Yt{constructor(t,n){this.m_cr=t,this.m_cc=n,this.m_v=Lt(t*n,0)}get(t,n){return this.m_v[t*this.m_cc+n]}set(t,n,s){this.m_v[t*this.m_cc+n]=s}inc(t,n){return++this.m_v[t*this.m_cc+n]}}const $t=new ArrayBuffer(8),Ht=new Float64Array($t),Jt=new BigUint64Array($t),Kt=0x0fffffffffffffn,Wt=0x7ff0000000000000n;function Xt(){return Number.EPSILON*Dn}function tn(t){return Ht[0]=t,Jt[0]}function nn(t){return tn(t)&Kt}function sn(t){return Number((tn(t)&Wt)>>52n)}function en(t){if(0n===t)return-1n;if(1n===t||-1n===t)return 0n;t<0n&&(t=-t);let n=0n,s=512n,e=1n<<n+s;for(;t>=e;)n+=s,s<<=1n,e<<=s;let i=n;s>>=1n;let r=i+s;for(;s>0n;)t<1n<<r||(i=r),s>>=1n,r=i+s;return i}function rn(t,n){return t===n||Number.isNaN(t)&&Number.isNaN(n)}function un(t,n,s){return t===n||Math.abs(t-n)<=s||Number.isNaN(t)&&Number.isNaN(n)}function on(t,n){return t<n?-1:t>n?1:0}function hn(t,n){if(t<n)return-1;if(t>n)return 1;if(t===n)return 0;{const s=Number.isNaN(t),e=Number.isNaN(n);return s<e?-1:s>e?1:0}}function an(){return 2147483647}function cn(){return 32767}function mn(){return 2147483647}function ln(){return-2147483648}const fn=2147483647,vn=BigInt(fn),_n=2166136261,bn=16777619;const dn=14695981039346656037n,pn=1099511628211n;function xn(t){let n=_n;for(let s=0,e=t.length;s<e;++s)n=(n^t.charCodeAt(s))*bn;return n&fn}function Nn(t,n){return n+2654435769+(t<<6)+(t>>2)&fn}function yn(t,n){return Nn(t,Mn(n))}function gn(t){return Nn(3735928559,t)}function Tn(t,n){return Nn(t,gn(n))}function En(t){return function(t){let n=_n,s=t;return n=(n^255&s)*bn,s>>=8,n=(n^255&s)*bn,s>>=8,n=(n^255&s)*bn,s>>=8,n=(n^255&s)*bn,n&fn}(t)}function Mn(t){return Number(function(t){let n=dn,s=t;return n=(n^0xffn&s)*pn,s>>=8n,n=(n^0xffn&s)*pn,s>>=8n,n=(n^0xffn&s)*pn,s>>=8n,n=(n^0xffn&s)*pn,s>>=8n,n=(n^0xffn&s)*pn,s>>=8n,n=(n^0xffn&s)*pn,s>>=8n,n=(n^0xffn&s)*pn,n&vn}(t))}function wn(t){return Mn(tn(function(t){return On(t)}(t)))}function In(t){return function(t){return 1103515245*t+12345&2147483647}(t)}const Dn=100;function Pn(){return 100*Number.EPSILON}function An(){return.38196601125010515}function qn(){return 1.4142135623730951}function zn(){return Number.EPSILON}function Cn(t,n,s){return t===n||t===s}function Zn(t,n,s){return t>=n?t<=s?t:s:n}function Bn(t,n,s){const e=t[0];if(e>=n){if(e<=s)return!1;t[0]=s}else t[0]=n;return!0}function kn(t,n){return t>=n?n:t<-n?-n:t}function Gn(){return Ut}function Rn(){return Vt}function Sn(){return jt}const Ln=3*Sn();function Fn(){return Ln}function On(t){return t+0}function Qn(t){return{v:t}}class Un{constructor(){this.m_rn=Qn(0n),this.m_rd=Qn(1n),this.m_bNaN=!1,this.m_bNormalized=!1,this.m_power=0,this.m_sign=0}static constructAssign(t,n){const s=t.clone();return void 0!==n&&s.limitPrecisionThis(n),s}static constructDouble(t){return(new Un).setDouble(t)}static constructInt64(t){return(new Un).setInt64(t)}static constructRational(t,n){return(new Un).setRational(t,n)}static constructInt32(t){return this.constructInt64(BigInt(Math.trunc(t)))}[Symbol.toPrimitive](t){return this}compare(t){return this.lt(t)?-1:this.gt(t)?1:0}assignCopy(t){return this.setThis(t)}abs(){return this.clone().absThis()}absThis(){return this.isNAN()||(this.m_sign*=this.m_sign),this}clone(){return(new Un).setThis(this)}setThis(t){return this.m_bNaN=t.m_bNaN,this.m_bNormalized=t.m_bNormalized,this.m_rn.v=t.m_rn.v,this.m_rd.v=t.m_rd.v,this.m_power=t.m_power,this.m_sign=t.m_sign,this}setZero(){return this.m_rn.v=0n,this.m_rd.v=1n,this.m_bNaN=!1,this.m_power=0,this.m_bNormalized=!0,this.m_sign=0,this}setDouble(t){if(this.setZero(),0===t)return this;if(Number.isInteger(t)&&Math.abs(t)<2147483647)return this.setInt32(t);const n=tn(t),s=(n&Un.s_em)>>52n,i=!!(n&Un.s_sm),r=n&Un.s_fm;if(s===Un.s_emax)return r?(this.m_rn.v=this.m_rd.v=0n,this.m_bNaN=!0,this):(this.m_rn.v=i?-1n:1n,this.m_rd.v=0n,this);0n===s&&(0,e.t)("denormalized numbers not yet implemented");const u=s-1023n,o=u>=0n?u:0n,h=u<0n?-u:0n;return this.m_rn.v=(1n<<52n|r)<<o,this.m_rd.v=1n<<52n+h,this.m_sign=i?-1:1,this.m_bNormalized=!1,this.normalizeThis()}setInt64(t){return 0n===t?this.setZero():(this.m_bNaN=!1,this.m_sign=t>0n?1:-1,this.m_rn.v=t>0n?t:-t,this.m_rd.v=1n,this.m_power=0,this.m_bNormalized=!1,this.normalizeThis())}setRational(t,n){return 0n===t?0n===n?this.setNAN():this.setZero():0n===n?t>0n?this.setPositiveInf():this.setNegativeInf():(this.m_sign=(t>0n?1:-1)*(n>0n?1:-1),this.m_rn.v=t>0n?t:-t,this.m_rd.v=n>0n?n:-n,this.m_power=0,this.m_bNormalized=!1,this.normalizeThis())}setInt32(t){return this.setInt64(BigInt(Math.trunc(t)))}getDouble(){return this.convertToDouble()}toDouble(){return this.convertToDouble()}value(){return this.convertToDouble()}isNAN(){return this.m_bNaN}isPositiveInf(){return!this.isNAN()&&0n===this.m_rd.v&&1===this.m_sign}isNegativeInf(){return!this.isNAN()&&0n===this.m_rd.v&&-1===this.m_sign}isFinite(){return!this.isNAN()&&0n!==this.m_rd.v}setNAN(){return this.m_bNaN=!0,this.m_rn.v=0n,this.m_rd.v=0n,this.m_power=0,this.m_bNormalized=!0,this}setPositiveInf(){return this.m_rn.v=1n,this.m_rd.v=0n,this.m_bNaN=!1,this.m_bNormalized=!0,this.m_sign=1,this.m_power=0,this}setNegativeInf(){return this.m_rn.v=1n,this.m_rd.v=0n,this.m_bNaN=!1,this.m_bNormalized=!0,this.m_sign=-1,this.m_power=0,this}subThis(t){if(t.isNAN()&&this.setNAN(),this.isPositiveInf()&&t.isPositiveInf())this.setNAN();else{if(this.isPositiveInf()&&t.isNegativeInf())return this.setPositiveInf(),this;if(this.isNegativeInf()&&t.isNegativeInf())this.setNAN();else if(this.isNegativeInf()&&t.isPositiveInf())return this.setNegativeInf(),this}return this.isNAN()?this:this.opPlusMinus(t,!1)}thisSubAbs(t){return(0,e.g)(0),this}mulThis(t){return t.isNAN()&&this.setNAN(),this.isNAN()?this:(this.m_sign*=t.m_sign,0===this.m_sign?this.setZero():(this.m_rn.v*=t.m_rn.v,this.m_rd.v*=t.m_rd.v,this.m_power+=t.m_power,this.m_bNormalized=!1,this.normalizeThis(),this))}mulDoubleThis(t){return this.mulThis(Un.constructDouble(t))}thisMulInt64(t){return(0,e.g)(0),this}thisMulInt32(t){return(0,e.g)(0),this}divThis(t){return this.mulThis(t.clone().invertThis())}divDoubleThis(t){return this.divThis(Un.constructDouble(t))}addDoubleThis(t){return this.addThis(Un.constructDouble(t))}subDoubleThis(t){return this.subThis(Un.constructDouble(t))}mul(t){return this.clone().mulThis(t)}mulBigIntThis(t){return this.mulThis(Un.constructInt64(t))}mulDouble(t){return this.clone().mulThis(Un.constructDouble(t))}div(t){return this.clone().divThis(t)}divDouble(t){return this.clone().divDoubleThis(t)}add(t){return this.clone().addThis(t)}fmSubThis(t,n){return this.subThis(t.clone().mulThis(n))}fmAddThis(t,n){return this.addThis(t.clone().mulThis(n))}addThis(t){if(t.isNAN()&&this.setNAN(),this.isPositiveInf()&&t.isPositiveInf())return this.setPositiveInf(),this;if(this.isPositiveInf()&&t.isNegativeInf())this.setNAN();else{if(this.isNegativeInf()&&t.isNegativeInf())return this.setNegativeInf(),this;this.isNegativeInf()&&t.isPositiveInf()&&this.setNAN()}return this.isNAN()?this:this.opPlusMinus(t,!0)}addDouble(t){return this.clone().addThis(Un.constructDouble(t))}sub(t){return this.clone().subThis(t)}subDouble(t){return this.clone().subThis(Un.constructDouble(t))}isZero(){return 0===this.m_sign}equals(t){return this.clone().subThis(t).isZero()}lt(t){return!this.isNAN()&&!t.isNAN()&&!(this.isPositiveInf()&&t.isPositiveInf()||this.isNegativeInf()&&t.isNegativeInf())&&!this.isPositiveInf()&&(!!t.isPositiveInf()||this.clone().sub(t).LZ())}absLessAbs(t){return this.abs().lt(t.abs())}gt(t){return this.clone().sub(t).GZ()}lte(t){return this.sub(t).LEZ()}gte(t){return this.sub(t).GEZ()}normalizeThis(){if(this.m_bNormalized)return this;if(0n===this.m_rn.v)return this.setZero();let t=0,n=0xffffffffn;for(;0n===(this.m_rn.v&n)&&n<=this.m_rn.v;)n<<=32n,t+=32;n&=this.m_rn.v,n>>=BigInt(t),t+=v(BigInt.asUintN(32,n))-1;let s=0;for(n=0xffffffffn;0n===(this.m_rd.v&n)&&n<=this.m_rd.v;)n<<=32n,s+=32;return n&=this.m_rd.v,n>>=BigInt(s),s+=v(BigInt.asUintN(32,n))-1,this.m_rn.v>>=BigInt(t),this.m_rd.v>>=BigInt(s),this.m_power+=t-s,this.m_rn.v>1n&&this.m_rd.v>1n&&(this.m_rn.v%this.m_rd.v===0n?(this.m_rn.v/=this.m_rd.v,this.m_rd.v=1n):this.m_rd.v%this.m_rn.v===0n&&(this.m_rd.v/=this.m_rn.v,this.m_rn.v=1n)),this.m_bNormalized=!0,this}negateThis(){return this.isNAN()||(this.m_sign*=-1),this}negate(){return this.clone().negateThis()}invertThis(){return this.isNAN()?this:this.isPositiveInf()||this.isNegativeInf()?(this.setZero(),this):0n===this.m_rn.v?(this.setPositiveInf(),this):(this.m_rd=Et(this.m_rn,this.m_rn=this.m_rd),this.m_power=-this.m_power,this)}limitPrecisionThis(t){if(0===t)return this;if(this.isZero())return this.setZero();if(!this.isFinite())return this;this.normalizeThis();let n=Number(en(this.m_rn.v));if(n>t){const s=n-t;this.m_rn.v>>=BigInt(n-t),this.m_power+=s}if(n=Number(en(this.m_rd.v)),n>t){const s=n-t;this.m_rd.v>>=BigInt(n-t),this.m_power-=s}return this}hiBitIndex(){return Math.max(Number(en(this.m_rn.v)),Number(en(this.m_rd.v)))}ldexp(t){return this.clone().ldexpThis(t)}ldexpThis(t){return t&&(this.m_bNormalized=!1,this.m_power+=t,this.normalizeThis()),this}static lerp(t,n,s){return Un.lerpLo(n,n,s)}static lerpLo(t,n,s){return n.sub(t).mulThis(s).addThis(t)}static lerpHi(t,n,s){return n.sub(t).mulThis(Vn.sub(s)).addThis(t)}LZ(){return!this.isNAN()&&-1===this.m_sign}GZ(){return!this.isNAN()&&1===this.m_sign}LEZ(){return!this.isNAN()&&this.m_sign<=0}GEZ(){return!this.isNAN()&&this.m_sign>=0}toString(){return this.toDouble().toString()}sqr(){return this.clone().sqrThis()}sqrThis(){return this.mulThis(this.clone())}static sqrt(t,n){if(t.m_sign<0n&&(0,e.q)("MP_value: sqrt(-1)"),t.isZero())return t.clone();let s=52,i=2220446049250313e-31;for(;s<n;)2*s<=n?(i*=i,s*=2):(i*=2220446049250313e-31,s+=52);s+=52;const r=en(t.m_rn.v),u=en(t.m_rd.v);let o,h=t.m_power+Number(r-u);const a=new Un;Math.abs(h)>200?(1&Math.abs(h)&&(h+=1),o=Un.constructAssign(t,53).ldexpThis(-h).value(),a.setThis(t).ldexpThis(-h),(0,e.g)(Number.isFinite(o))):(a.setThis(t),o=a.value(),(0,e.g)(Number.isFinite(o)),h=0),o=Math.sqrt(o);const c=Un.constructDouble(o),m=Un.constructDouble(i);m.mulThis(c).ldexpThis(1);const l=i*o*2,f=c.clone(),v=new Un;let _;for(let t=0;t<10;++t){f.mulThis(c),v.setThis(a).subThis(f).absThis();let t=v.value();if(_=1,t<.9)for(;t>l;)t*=t,++_;else _=4;if(v.lte(m))break;for(let t=0;t<_;t++)f.setThis(c).divThis(a).invertThis().addThis(c).ldexpThis(-1).limitPrecisionThis(s),c.setThis(f)}return c.ldexpThis(h/2)}static cubicRoot(t,n){if(t.isZero())return t.clone();let s=52,e=2220446049250313e-31;for(;s<n;)2*s<=n?(e*=e,s*=2):(e*=2220446049250313e-31,s+=52);s+=52;const i=Math.pow(Math.abs(t.value()),1/3),r=Un.constructDouble(i),u=r.clone();u.sqrThis().mulDoubleThis(3).mulDoubleThis(e),u.limitPrecisionThis(32),t.LZ()&&r.negateThis();for(let n=0;n<10;++n){const n=r.clone();n.sqrThis().mulThis(r);const e=n.clone();if(e.subThis(t),e.absThis().limitPrecisionThis(32),e.lte(u))break;e.setThis(t),e.ldexpThis(1),e.addThis(n);const i=n.clone();i.ldexpThis(1),i.addThis(t),e.divThis(i),r.mulThis(e),r.limitPrecisionThis(s)}return r}isInTheRangeOfDouble(){return(0,e.g)(0),!1}sign(){return this.m_sign}cosAndSin(t,n){(0,e.g)(0)}pow(t){return pt(this,t)}static nan(){return(0,e.g)(0),new Un}convertToDouble(){if(this.m_bNaN)return Number.NaN;if(this.isZero())return 0;if(0n===this.m_rd.v)return 1===this.m_sign?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;const t=-1===this.m_sign,n=this.m_rn.v<<(this.m_power>=0?BigInt(this.m_power):0n);let s=this.m_rd.v<<(this.m_power<0?BigInt(-this.m_power):0n);const e=n/s;let i=Number(e);if(BigInt(i)!==e)return t?-i:i;let r=n-e*s;if(r){let t=en(s)-1023n;t>0n&&(s>>=t,r<<=52n,r>>=t);let n=Number(r);Number.isFinite(n)||(r>>=52n,n=Number(r),t=0n),t>0n&&(n/=Math.pow(2,52)),i+=n/Number(s)}return t?-i:i}signVal(){return 1===this.m_sign?1n:-1===this.m_sign?-1n:0n}opPlusMinus(t,n){const s=Math.min(this.m_power,t.m_power);let e,i;this.m_power>s?(e=BigInt(this.m_power-s),i=0n):(e=0n,i=BigInt(t.m_power-s));const r=this.signVal()*this.m_rn.v*t.m_rd.v<<e,u=t.signVal()*t.m_rn.v*this.m_rd.v<<i;return this.m_rn.v=n?r+u:r-u,this.m_rd.v*=t.m_rd.v,this.m_power=s,this.m_sign=1,this.m_rn.v<0n&&(this.m_sign=-1,this.m_rn.v=-this.m_rn.v),this.m_bNormalized=!1,this.normalizeThis(),this}}Un.s_sm=0x8000000000000000n,Un.s_em=0x7ff0000000000000n,Un.s_fm=0x000fffffffffffffn,Un.s_emax=0x7ffn;const Vn=Un.constructInt32(1),jn=Un.constructInt32(0),Yn=Un.constructDouble(.5);function $n(t,n){let s=sn(t);const e=sn(n);return s===e?(s-=53-function(t,n){return b(t^n)}(nn(t),nn(n)),s):s>e?s:e}function Hn(t,n){for(let s=0,e=0,i=t.length;s<i;s+=2,e++)n[e].x=t[s],n[e].y=t[s+1]}function Jn(t){const n=new Float64Array(2*t.length);for(let s=0,e=t.length;s<e;++s){const e=s<<1;n[e]=t[s].x,n[e+1]=t[s].y}return n}function Kn(t){const n=Bt(Wn,t.length);for(let s=0,e=t.length;s<e;++s)n[s].setCoords(t[s][0],t[s][1]);return n}class Wn{static construct(t,n){return new Wn(t,n)}constructor(t,n){void 0!==t?(this.x=t,this.y=n):this.x=this.y=Number.NaN}clone(){return new Wn(this.x,this.y)}assign(t){this.setCoordsPoint2D(t)}setCoords(t,n){return this.x=t,this.y=n,this}setCoordsPoint2D(t){this.x=t.x,this.y=t.y}isEqualPoint2D(t,n){return void 0!==n?Math.abs(this.x-t.x)<=n&&Math.abs(this.y-t.y)<=n:this.x===t.x&&this.y===t.y}isEqual(t,n,s){return void 0!==s?Math.abs(this.x-t)<=s&&Math.abs(this.y-n)<=s:this.x===t&&this.y===n}equalsPoint2D(t,n){return this.isEqualPoint2D(t,n)}setSub(t,n){this.x=t.x-n.x,this.y=t.y-n.y}addThis(t){return this.x+=t.x,this.y+=t.y,this}setAdd(t,n){return this.x=t.x+n.x,this.y=t.y+n.y,this}absoluteOther(t){}absolute(){return(0,e.g)(0),this}setNegate(){this.x=-this.x,this.y=-this.y}setNegateOther(t){this.x=-t.x,this.y=-t.y}interpolateThis(t,n){}interpolate(t,n,s){(0,e.g)(0)}scaleAddThis(t,n){this.x=this.x*t+n.x,this.y=this.y*t+n.y}setScaleAdd(t,n,s){this.x=n.x*t+s.x,this.y=n.y*t+s.y}scaleOther(t,n){(0,e.g)(0)}scale(t){this.x*=t,this.y*=t}compare(t){return this.y<t.y?-1:this.y>t.y?1:this.x<t.x?-1:this.x>t.x?1:0}compareX(t){return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0}normalizeOther(t){(0,e.g)(0)}normalize(){const t=this.length();return t?(this.x/=t,this.y/=t):(this.x=1,this.y=0),this}getUnitVector(){return this.clone().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}sqrLength(){return this.x*this.x+this.y*this.y}static averageFast(t,n){return(0,e.g)(0),{}}static average(t,n){const s=new Wn;if(0===n)return s.setNAN(),s;if(1===n)return s.assign(t[0]),s;const e=new i(t[0].x),r=new i(t[0].y);for(let s=1;s<n;s++)e.add(t[s].x),r.add(t[s].y),255&s||(e.normalize(),r.normalize());return s.x=e.getResult()/n,s.y=r.getResult()/n,s}static calculateLength(t,n){const s=new i(0);for(let e=1;e<n;e++)s.add(Wn.distance(t[e],t[e-1]));return s.getResult()}offset(t,n){const s=Wn.distance(t,n),e=Wn.construct(this.x,this.y);if(0===s)return Wn.distance(e,t);const i=n.clone();return i.subThis(t),e.subThis(t),e.crossProduct(i)/s}side(t,n){return t.equals(n)?this.equals(t)?0:1:Wn.orientationRobust(n,t,this)}static sqrDistance(t,n){const s=t.x-n.x,e=t.y-n.y;return s*s+e*e}static sqrDistanceCoords(t,n,s,e){const i=s-t,r=e-n;return i*i+r*r}static distance(t,n){return Math.sqrt(Wn.sqrDistance(t,n))}dotProduct(t){return this.x*t.x+this.y*t.y}dotProductAbs(t){return Math.abs(this.x*t.x)+Math.abs(this.y*t.y)}crossProduct(t){return this.x*t.y-this.y*t.x}crossProductAbs(t){return(0,e.g)(0),0}rotateDirect(t,n){const s=this.x*t-this.y*n,e=this.x*n+this.y*t;this.x=s,this.y=e}rotateReverse(t,n){const s=this.x*t+this.y*n,e=-this.x*n+this.y*t;this.x=s,this.y=e}leftPerpendicularThis(){const t=this.x;this.x=-this.y,this.y=t}leftPerpendicularOther(t){const n=t.x;this.x=-t.y,this.y=n}rightPerpendicularThis(){const t=this.x;this.x=this.y,this.y=-t}rightPerpendicularOther(t){const n=t.x;this.x=t.y,this.y=-n}equals(t){return this.x===t.x&&this.y===t.y}notequals(t){return this.x!==t.x||this.y!==t.y}not(){return!this.x&&!this.y}gt(t){return this.y>t.y||this.y===t.y&&this.x>t.x}gte(t){return!this.lt(t)}lt(t){return this.y<t.y||this.y===t.y&&this.x<t.x}lte(t){return!this.gt(t)}subThis(t){return this.x-=t.x,this.y-=t.y,this}divThis(t){return this.x/=t,this.y/=t,this}add(t){return new Wn(this.x+t.x,this.y+t.y)}sub(t){return new Wn(this.x-t.x,this.y-t.y)}negateThis(){return this.x=-this.x,this.y=-this.y,this}negate(){return new Wn(-this.x,-this.y)}mul(t){return new Wn(this.x*t,this.y*t)}mulThis(t){return this.x*=t,this.y*=t,this}divide(t){return new Wn(this.x/t,this.y/t)}setNAN(){this.x=this.y=Number.NaN}isNAN(){return Number.isNaN(this.x)||Number.isNaN(this.y)}static getNAN(){return new Wn(Number.NaN,Number.NaN)}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)}isZero(){return 0===this.x&&0===this.y}norm(t){switch(t){case 0:{const t=Math.abs(this.x),n=Math.abs(this.y),s=t-n;return s>=0?t:s<=0?n:Number.NaN}case 1:return Math.abs(this.x)+Math.abs(this.y);case 2:return Math.sqrt(this.x*this.x+this.y*this.y);default:(0,e.a)("norm")}}getQuarter(){return Wn.getQuarterCoords(this.x,this.y)}static getQuarterCoords(t,n){return t>0?n>=0?1:4:n>0?2:0===t?4:3}static compareVectors(t,n){const s=t.getQuarter(),e=n.getQuarter();return e===s?Wn.orientationRobustImpl(Wn.construct(0,0),n,t,!0):s<e?-1:1}static compareVectorsOrigin(t,n,s){const e=n.sub(t),i=s.sub(t),r=e.getQuarter(),u=i.getQuarter();return u===r?Wn.orientationRobustImpl(t,s,n,!0):r<u?-1:1}static orientationRobust(t,n,s){return Wn.orientationRobustImpl(t,n,s,!1)}static orientationRobustEx(t,n,s,e){if(t.equals(n)||s.equals(e))return 0;const i=n.x-t.x,r=n.y-t.y,u=e.x-s.x,o=e.y-s.y;{const t=Wn.getQuarterCoords(i,r)-1,n=Wn.getQuarterCoords(u,o)-1,s=Wn.d[t][n];if(0!==s)return s}const h=i*o,a=r*u,c=4*zn()*(Math.abs(h)+Math.abs(a)),m=h-a;return Math.abs(m)>=c?m<0?-1:m>0?1:0:Wn.orientationRobustExMp(t,n,s,e)}static orientationRobustExMp(t,n,s,e){const i=Un.constructDouble(n.x),r=Un.constructDouble(e.x);i.subThis(Un.constructDouble(t.x)),r.subThis(Un.constructDouble(s.x));const u=Un.constructDouble(n.y),o=Un.constructDouble(e.y);return u.subThis(Un.constructDouble(t.y)),o.subThis(Un.constructDouble(s.y)),i.mulThis(o),u.mulThis(r),i.subThis(u),i.LZ()?-1:i.GZ()?1:0}static orientationNonRobust(t,n,s){const e=n.sub(t).crossProduct(s.sub(t));return e<0?-1:e>0?1:0}static orientationRobustImpl(t,n,s,e){if(n.isEqualPoint2D(t)||s.isEqualPoint2D(t)||n.isEqualPoint2D(s))return 0;const i=n.x-t.x,r=n.y-t.y,u=s.x-t.x,o=s.y-t.y;if(!e){const t=Wn.getQuarterCoords(i,r)-1,n=Wn.getQuarterCoords(u,o)-1,s=Wn.d[t][n];if(0!==s)return s}const h=(Math.abs(i)+Math.abs(r)+Math.abs(u)+Math.abs(o))*(Math.abs(n.x)+Math.abs(n.y)+Math.abs(s.x)+Math.abs(s.y))*8*T(),a=i*o-r*u;if(Math.abs(a)>h)return a<0?-1:1;if(g(n.x,t.x)&&g(s.y,t.y)&&g(n.y,t.y)&&g(s.x,t.x)&&N(i,o)&&N(r,u)){const t=i*o,n=r*u;if(g(t,n)){const s=t-n;return s<0?-1:s>0?1:0}}return Wn.orientationRobustMp(t,n,s)}static orientationRobustMp(t,n,s){const e=Un.constructDouble(n.x),i=Un.constructDouble(s.x);{const n=Un.constructDouble(t.x);e.subThis(n),i.subThis(n)}const r=Un.constructDouble(s.y),u=Un.constructDouble(n.y);{const n=Un.constructDouble(t.y);r.subThis(n),u.subThis(n)}return e.mulThis(r),u.mulThis(i),e.subThis(u),e.LZ()?-1:e.GZ()?1:0}static inCircleRobust(t,n,s,e){const i=new x,r=new x;i.set(t.x),i.subThis(e.x),r.set(t.y),r.subThis(e.y);const u=new x,o=new x;u.set(n.x),u.subThis(e.x),o.set(n.y),o.subThis(e.y);const h=new x,a=new x;h.set(s.x),h.subThis(e.x),a.set(s.y),a.subThis(e.y);const c=i.mulE(o).subE(r.mulE(u)),m=u.mulE(a).subE(o.mulE(h)),l=i.mulE(a).subE(r.mulE(h)),f=i.mulE(i).addE(r.mulE(r)),v=u.mulE(u).addE(o.mulE(o)),_=h.mulE(h).addE(a.mulE(a)),b=f.mulE(m).subE(v.mulE(l)).addE(_.mulE(c));if(!b.isFuzzyZero()){const t=b.value();return t<0?-1:t>0?1:0}return Wn.inCircleRobustMp(t,n,s,e)}static inCircleRobustMp(t,n,s,e){do{if(!g(t.x,e.x)||!g(t.y,e.y))break;if(!g(n.x,e.x)||!g(n.y,e.y))break;if(!g(s.x,e.x)||!g(s.y,e.y))break;const i=t.x-e.x,r=t.y-e.y,u=n.x-e.x,o=n.y-e.y,h=s.x-e.x,a=s.y-e.y;if(!N(i,o)||!N(r,u))break;if(!N(u,a)||!N(o,h))break;if(!N(i,a)||!N(r,h))break;if(!N(i,i)||!N(r,r))break;if(!N(u,u)||!N(o,o))break;if(!N(h,h)||!N(a,a))break;const c=i*o,m=r*u,l=u*a,f=o*h,v=i*a,_=r*h,b=i*i,d=r*r,p=u*u,x=o*o,T=h*h,E=a*a;if(!g(c,m))break;if(!g(l,f))break;if(!g(v,_))break;if(!y(b,d))break;if(!y(p,x))break;if(!y(T,E))break;const M=c-m,w=l-f,I=v-_,D=b+d,P=p+x,A=T+E;if(!N(D,w))break;if(!N(P,I))break;if(!N(A,M))break;const q=D*w,z=P*I,C=A*M;if(!g(q,z))break;const Z=q-z;if(!y(Z,C))break;const B=Z+C;return B<0?-1:B>0?1:0}while(0);const i=Un.constructDouble(e.x),r=Un.constructDouble(e.y),u=Un.constructDouble(t.x),o=Un.constructDouble(t.y);u.subThis(i),o.subThis(r);const h=Un.constructDouble(n.x),a=Un.constructDouble(n.y);h.subThis(i),a.subThis(r);const c=Un.constructDouble(s.x),m=Un.constructDouble(s.y);c.subThis(i),m.subThis(r);const l=u.mul(a).sub(o.mul(h)),f=h.mul(m).sub(a.mul(c)),v=u.mul(m).sub(o.mul(c)),_=u.mul(u).add(o.mul(o)),b=h.mul(h).add(a.mul(a)),d=c.mul(c).add(m.mul(m)),p=_.mul(f).sub(b.mul(v)).add(d.mul(l));return p.LZ()?-1:p.GZ()?1:0}static inCircleRobustMp3Point(t,n,s){const e=Un.constructDouble(t.x),i=Un.constructDouble(t.y),r=Un.constructDouble(n.x),u=Un.constructDouble(n.y),o=Un.constructDouble(s.x),h=Un.constructDouble(s.y),a=o.mul(o).add(h.mul(h)).sub(o.mul(e).add(h.mul(i)).add(o.mul(r)).add(h.mul(u))).add(e.mul(r).add(i.mul(u)));return a.LZ()?-1:a.GZ()?1:0}static inCircleRobust3Point(t,n,s){const e=new x(t.x),i=new x(t.y),r=new x(n.x),u=new x(n.y),o=new x(s.x),h=new x(s.y),a=o.mulE(o).addE(h.mulE(h)).subE(o.mulE(e).addE(h.mulE(i)).addE(o.mulE(r)).addE(h.mulE(u))).addE(e.mulE(r).addE(i.mulE(u)));if(!a.isFuzzyZero()){const t=a.value();return t<0?-1:t>0?1:0}return Wn.inCircleRobustMp3Point(t,n,s)}static calculateCircleCenterFromThreePoints(t,n,s){if(t.equals(s)||t.equals(n)||s.equals(n))return Wn.getNAN();const e=function(t,n,s){const e=new x(n.x);e.subThis(t.x);const i=new x(n.y);i.subThis(t.y);const r=new x(s.x);r.subThis(t.x);const u=new x(s.y);u.subThis(t.y);const o=e.clone();o.mulThisE(u);let h=i.clone();if(h.mulThisE(r),o.subThisE(h),0===o.value())return Wn.getNAN();o.mulThis(2);const a=e.clone();a.mulThisE(e);const c=i.clone();c.mulThisE(i);const m=a.clone();m.addThisE(c);const l=r.clone();l.mulThisE(r);const f=u.clone();f.mulThisE(u);const v=l.clone();v.addThisE(f);const _=i.clone();_.mulThisE(v),h=u.clone(),h.mulThisE(m),_.subThisE(h),_.divThisE(o);const b=e.clone();b.mulThisE(v),h=r.clone(),h.mulThisE(m),b.subThisE(h),b.divThisE(o);const d=Wn.construct(t.x-_.value(),t.y+b.value()),p=t.sub(d).length(),N=n.sub(d).length(),y=s.sub(d).length(),g=1e-15*(p+Math.abs(t.x)+Math.abs(n.x)+Math.abs(s.x)+Math.abs(t.y)+Math.abs(n.y)+Math.abs(s.y));return Math.abs(p-N)<=g&&Math.abs(p-y)<=g&&_.eps()<g&&b.eps()<g?d:Wn.getNAN()}(t,n,s);return e.isNAN()?function(t,n,s){const e=Un.constructDouble(n.x);e.subDoubleThis(t.x);const i=Un.constructDouble(n.y);i.subDoubleThis(t.y);const r=Un.constructDouble(s.x);r.subDoubleThis(t.x);const u=Un.constructDouble(s.y);u.subDoubleThis(t.y);const o=e.clone();o.mulThis(u);let h=i.clone();if(h.mulThis(r),o.subThis(h),o.isZero())return Wn.getNAN();o.mulDoubleThis(2);const a=e.clone();a.mulThis(e);const c=i.clone();c.mulThis(i);const m=a.clone();m.addThis(c);const l=r.clone();l.mulThis(r);const f=u.clone();f.mulThis(u);const v=l.clone();v.addThis(f);const _=i.clone();_.mulThis(v),h=u.clone(),h.mulThis(m),_.subThis(h),_.divThis(o);const b=e.clone();return b.mulThis(v),h=r.clone(),h.mulThis(m),b.subThis(h),b.divThis(o),Wn.construct(t.x-_.value(),t.y+b.value())}(t,n,s):e}static calculateAngle(t,n){return Math.atan2(t.crossProduct(n),t.dotProduct(n))}static isBisectorRobust(t,n,s){return(0,e.g)(0),!1}static size(){return 2}get 0(){return this.x}get 1(){return this.y}set 0(t){this.x=t}set 1(t){this.y=t}static compareZorder(t,n){const s=Wn.c_compare_zorder_xx[t.x<0?1:0]|Wn.c_compare_zorder_yy[t.y<0?1:0],e=Wn.c_compare_zorder_xx[n.x<0?1:0]|Wn.c_compare_zorder_yy[n.y<0?1:0];if(s===e){let s=0,e=0;for(let i=0;i<2;++i){const r=$n(t[i],n[i]);r>s&&(s=r,e=i)}return t[e]<n[e]}return s<e}static lerp(t,n,s){const e=new Wn;return U(t,n,s,e),e}static getClosestCoordinate(t,n,s,e=!1){const i=Wn.getNAN();i.setSub(n,t);const r=i.sqrLength();if(0===r)return.5;if(n.isEqualPoint2D(s))return 1;const u=Wn.getNAN();u.setSub(s,t);let o=u.dotProduct(i)/r;return e||(o<0?o=0:o>1&&(o=1)),o}static intersectLinesAtOnePoint(t,n,s,e){if(t.equals(n)||s.equals(e))return Wn.getNAN();const i=n.x-t.x,r=s.x-e.x,u=n.y-t.y,o=s.y-e.y,h=i*o-r*u;if(!h)return Wn.getNAN();const a=h;if(0===a)return Wn.getNAN();let c=(s.x-t.x)*o-(s.y-t.y)*r;c/=a;const m=new Wn;return U(t,n,c,m),m.isFinite()?m:Wn.getNAN()}toString(){return`[${this.x},${this.y}]`}}Wn.dimensions=2,Wn.d=[[0,1,0,-1],[-1,0,1,0],[0,-1,0,1],[1,0,-1,0]],Wn.c_compare_zorder_xx=[2,0],Wn.c_compare_zorder_yy=[1,0]}}]);