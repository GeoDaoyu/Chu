"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[37608],{79578:function(t,e,n){n.d(e,{N:function(){return i}});const i={convertToGEGeometry:function(t,e){return null==e?null:t.convertJSONToGeometry(e)},exportPoint:function(t,e,n){const i=new r(t.getPointX(e),t.getPointY(e),n),s=t.hasZ(e),o=t.hasM(e);return s&&(i.z=t.getPointZ(e)),o&&(i.m=t.getPointM(e)),i},exportPolygon:function(t,e,n){return new s(t.exportPaths(e),n,t.hasZ(e),t.hasM(e))},exportPolyline:function(t,e,n){return new o(t.exportPaths(e),n,t.hasZ(e),t.hasM(e))},exportMultipoint:function(t,e,n){return new a(t.exportPoints(e),n,t.hasZ(e),t.hasM(e))},exportExtent:function(t,e,n){const i=t.hasZ(e),r=t.hasM(e),s=new l(t.getXMin(e),t.getYMin(e),t.getXMax(e),t.getYMax(e),n);if(i){const n=t.getZExtent(e);s.zmin=n.vmin,s.zmax=n.vmax}if(r){const n=t.getMExtent(e);s.mmin=n.vmin,s.mmax=n.vmax}return s}};class r{constructor(t,e,n){this.x=t,this.y=e,this.spatialReference=n,this.z=void 0,this.m=void 0}}class s{constructor(t,e,n,i){this.rings=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class o{constructor(t,e,n,i){this.paths=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class a{constructor(t,e,n,i){this.points=t,this.spatialReference=e,this.hasZ=void 0,this.hasM=void 0,n&&(this.hasZ=n),i&&(this.hasM=i)}}class l{constructor(t,e,n,i,r){this.xmin=t,this.ymin=e,this.xmax=n,this.ymax=i,this.spatialReference=r,this.zmin=void 0,this.zmax=void 0,this.mmin=void 0,this.mmax=void 0}}},85240:function(t,e,n){n.d(e,{_W:function(){return m},iV:function(){return f},oj:function(){return g}});var i=n(3480),r=n(93568),s=n(13132),o=n(79578),a=n(8554),l=n(97290);const u=[0,0];function p(t,e){if(!e)return null;if("x"in e){const n={x:0,y:0};return[n.x,n.y]=t(e.x,e.y,u),null!=e.z&&(n.z=e.z),null!=e.m&&(n.m=e.m),n}if("xmin"in e){const n={xmin:0,ymin:0,xmax:0,ymax:0};return[n.xmin,n.ymin]=t(e.xmin,e.ymin,u),[n.xmax,n.ymax]=t(e.xmax,e.ymax,u),e.hasZ&&(n.zmin=e.zmin,n.zmax=e.zmax,n.hasZ=!0),e.hasM&&(n.mmin=e.mmin,n.mmax=e.mmax,n.hasM=!0),n}return"rings"in e?{rings:c(e.rings,t),hasM:e.hasM,hasZ:e.hasZ}:"paths"in e?{paths:c(e.paths,t),hasM:e.hasM,hasZ:e.hasZ}:"points"in e?{points:y(e.points,t),hasM:e.hasM,hasZ:e.hasZ}:null}function c(t,e){const n=[];for(const i of t)n.push(y(i,e));return n}function y(t,e){const n=[];for(const i of t){const t=e(i[0],i[1],[0,0]);n.push(t),i.length>2&&t.push(i[2]),i.length>3&&t.push(i[3])}return n}async function m(t,e){if(!t||!e)return;const n=Array.isArray(t)?t.map((t=>null!=t.geometry?t.geometry.spatialReference:null)).filter(i.pC):[t];await(0,s.initializeProjection)(n.map((t=>({source:t,dest:e}))))}const d=p.bind(null,l.hG),h=p.bind(null,l.R6);function f(t,e,n,i){if(!t)return null;if(n||(n=e,e=t.spatialReference),!(0,a.JY)(e)||!(0,a.JY)(n)||(0,a.fS)(e,n))return t;if((0,l.Q8)(e,n)){const e=(0,a.sS)(n)?d(t):h(t);return e.spatialReference=n,e}return(0,s.projectMany)(o.N,[t],e,n,null,i)[0]}const v=new class{constructor(){this._jobs=[],this._timer=null,this._process=this._process.bind(this)}async push(t,e,n,i){if(!t?.length||!e||!n||(0,a.fS)(e,n))return t;const s={geometries:t,inSpatialReference:e,outSpatialReference:n,geographicTransformation:i,resolve:(0,r.hh)()};return this._jobs.push(s),this._timer??=setTimeout(this._process,10),s.resolve.promise}_process(){this._timer=null;const t=this._jobs.shift();if(!t)return;const{geometries:e,inSpatialReference:n,outSpatialReference:i,resolve:r,geographicTransformation:u}=t;(0,l.Q8)(n,i)?(0,a.sS)(i)?r(e.map(d)):r(e.map(h)):r((0,s.projectMany)(o.N,e,n,i,u,null)),this._jobs.length>0&&(this._timer=setTimeout(this._process,10))}};function g(t,e,n,i){return v.push(t,e,n,i)}},70196:function(t,e,n){n.d(e,{Rn:function(){return d},Ti:function(){return m},Up:function(){return h},fP:function(){return g},j6:function(){return f},ss:function(){return y}});var i=n(88194),r=n(41773),s=n(26636),o=n(13132),a=n(95666),l=n(90756),u=n(34042),p=n(8554),c=n(85240);const y=new r.X({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),m=Object.freeze({});async function d(t,e,n){const i=t.bin;return i.onField&&(i.onField=i.onField.trim()),i.onExpression?.value&&(i.onExpression.value=i.onExpression.value.trim()),i.splitBy&&(i.splitBy.value&&(i.splitBy.value=i.splitBy.value.trim()),i.splitBy.outAlias&&(i.splitBy.outAlias=i.splitBy.outAlias.trim())),i.stackBy&&(i.stackBy.value&&(i.stackBy.value=i.stackBy.value.trim()),i.stackBy.outAlias&&(i.stackBy.outAlias=i.stackBy.outAlias.trim())),"normalizationField"in i.parameters&&i.parameters.normalizationField&&(i.parameters.normalizationField=i.parameters.normalizationField.trim()),t.outStatistics?.length||(t.outStatistics=[{statisticType:"count",onStatisticField:"1",outStatisticFieldName:"frequency"}]),h(t,e,n)}async function h(t,e,n){const{outFields:i,orderByFields:r,groupByFieldsForStatistics:s,outStatistics:o}=t;if(i)for(let t=0;t<i.length;t++)i[t]=i[t].trim();if(r)for(let t=0;t<r.length;t++)r[t]=r[t].trim();if(s)for(let t=0;t<s.length;t++)s[t]=s[t].trim();if(o)for(let t=0;t<o.length;t++)o[t].onStatisticField&&(o[t].onStatisticField=o[t].onStatisticField.trim());return t.geometry&&!t.outSR&&(t.outSR=t.geometry.spatialReference),f(t,e,n)}async function f(t,e,r){if(!t)return null;let{where:o}=t;if(t.where=o=o?.trim(),(!o||/^1 *= *1$/.test(o)||e&&e===o)&&(t.where=null),!t.geometry)return t;let d=await async function(t){const{distance:e,units:r}=t,o=t.geometry;if(null==e||"vertexAttributes"in o)return o;const a=o.spatialReference,u=r?y.fromJSON(r):(0,s.qE)(a),m=a&&((0,p.sT)(a)||(0,p.sS)(a))?o:await(0,c._W)(a,p.YU).then((()=>(0,c.iV)(o,p.YU))),d=await n.e(70163).then(n.bind(n,70163));await d.load();const h=d.execute(m,e||1,{unit:u})??void 0;if(!h||!(0,l.oU)(h)||0===h.rings.length)throw new i.Z("unsupported-query:invalid-parameters","Invalid parameters for query by distance");return h}(t);if(t.distance=0,t.units=null,"esriSpatialRelEnvelopeIntersects"===t.spatialRel){const{spatialReference:e}=t.geometry;d=(0,a.aO)(d),d.spatialReference=e}if(d){await(0,c._W)(d.spatialReference,r),d=function(t,e){const n=t.spatialReference;return v(t,e)&&(0,l.YX)(t)?{spatialReference:n,rings:[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]]}:t}(d,r);const e=(await(0,u.aX)((0,l.im)(d)))[0];if(null==e)throw m;const n="quantizationParameters"in t&&t.quantizationParameters?.tolerance||"maxAllowableOffset"in t&&t.maxAllowableOffset||0,i=n&&v(d,r)?{densificationStep:8*n}:void 0,s=e.toJSON(),o=(0,c.iV)(s,s.spatialReference,r,i);if(!o)throw m;o.spatialReference=r,t.geometry=o}return t}function v(t,e){if(!t)return!1;const n=t.spatialReference;return((0,l.YX)(t)||(0,l.oU)(t)||(0,l.l9)(t))&&!(0,p.fS)(n,e)&&!(0,o.canProjectWithoutEngine)(n,e)}function g(t,e){return null==t?null:"string"==typeof t?e?new Date(`1970-01-01T${t}Z`).getTime():new Date(t).getTime():t instanceof Date?t.getTime():t}},37608:function(t,e,n){n.r(e),n.d(e,{default:function(){return T}});var i=n(73440),r=n(89314),s=n(41773),o=n(63255),a=n(96711),l=n(17155),u=n(95226),p=(n(61432),n(83850),n(79775)),c=n(48023),y=n(45213),m=n(90756),d=n(98842),h=n(70196),f=n(76466),v=n(8570),g=n(74537),w=n(69287),x=n(37378),b=n(63832),_=n(70132),S=n(85913),B=n(88097);const j=new s.X({asc:"ascending",desc:"descending"}),Z={base:v.Z,key:"type",typeMap:{"auto-interval":f.Z,date:g.Z,"fixed-boundaries":w.Z,"fixed-interval":x.Z}};let T=class extends(r.Z.ClonableMixin(o.Z)){constructor(t){super(t),this.binParameters=null,this.binOrder="ascending",this.cacheHint=void 0,this.datumTransformation=null,this.defaultSpatialReference=null,this.distance=void 0,this.geometry=null,this.lowerBoundaryAlias=null,this.outSpatialReference=null,this.outStatistics=null,this.returnDistinctValues=null,this.spatialRelationship="intersects",this.timeExtent=null,this.upperBoundaryAlias=null,this.units=null,this.where="1=1"}set outTimeZone(t){this._set("outTimeZone",t),t&&!(0,B.Do)(t)&&a.Z.getLogger(this).warn("#outTimeZone",`the parsed value '${t}' may not be a valid IANA time zone`)}};(0,i._)([(0,l.Cb)({types:Z,json:{name:"bin",write:!0}})],T.prototype,"binParameters",void 0),(0,i._)([(0,p.J)(j)],T.prototype,"binOrder",void 0),(0,i._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],T.prototype,"cacheHint",void 0),(0,i._)([(0,l.Cb)({json:{write:!0}})],T.prototype,"datumTransformation",void 0),(0,i._)([(0,l.Cb)({type:y.Z,json:{name:"defaultSR",write:!0}})],T.prototype,"defaultSpatialReference",void 0),(0,i._)([(0,l.Cb)({type:Number,json:{write:{overridePolicy:t=>({enabled:t>0})}}})],T.prototype,"distance",void 0),(0,i._)([(0,l.Cb)({types:d.qM,json:{read:m.im,write:!0}})],T.prototype,"geometry",void 0),(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],T.prototype,"lowerBoundaryAlias",void 0),(0,i._)([(0,l.Cb)({type:y.Z,json:{name:"outSR",write:!0}})],T.prototype,"outSpatialReference",void 0),(0,i._)([(0,l.Cb)({type:[_.Z],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],T.prototype,"outStatistics",void 0),(0,i._)([(0,l.Cb)({value:null,json:{name:"outTimeReference",read:{reader:t=>t.ianaTimeZone},write:{writer:(t,e,n)=>{t&&(e[n]={ianaTimeZone:t})}}}})],T.prototype,"outTimeZone",null),(0,i._)([(0,l.Cb)({type:Boolean,json:{write:!0}})],T.prototype,"returnDistinctValues",void 0),(0,i._)([(0,p.J)(b.A,{name:"spatialRel"})],T.prototype,"spatialRelationship",void 0),(0,i._)([(0,l.Cb)({type:S.T,json:{write:!0}})],T.prototype,"timeExtent",void 0),(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],T.prototype,"upperBoundaryAlias",void 0),(0,i._)([(0,l.Cb)({type:String,json:{read:h.ss.read,write:{writer:h.ss.write,overridePolicy(t){return{enabled:null!=t&&null!=this.distance}}}}})],T.prototype,"units",void 0),(0,i._)([(0,l.Cb)({type:String,json:{write:!0}})],T.prototype,"where",void 0),T=(0,i._)([(0,c.j)("esri.rest.support.AttributeBinsQuery")],T),T.from=(0,u.se)(T)},76466:function(t,e,n){n.d(e,{Z:function(){return y}});var i=n(73440),r=n(60123),s=n(17155),o=n(95226),a=(n(61432),n(83850),n(79775)),l=n(48023),u=n(8570),p=n(599);function c(t,e,n){(0,r.RB)(n,t instanceof Date?t.getTime():t,e)}let y=class extends((0,p.d)(u.Z)){constructor(t){super(t),this.numBins=null,this.end=null,this.start=null,this.type="auto-interval"}};(0,i._)([(0,s.Cb)({type:Number,json:{name:"parameters.numberOfBins",write:!0}})],y.prototype,"numBins",void 0),(0,i._)([(0,s.Cb)({json:{name:"parameters.end",write:{writer:c}}})],y.prototype,"end",void 0),(0,i._)([(0,s.Cb)({json:{name:"parameters.start",write:{writer:c}}})],y.prototype,"start",void 0),(0,i._)([(0,a.J)({autoIntervalBin:"auto-interval"},{readOnly:!0})],y.prototype,"type",void 0),y=(0,i._)([(0,l.j)("esri.rest.support.AutoIntervalBinParameters")],y),y.from=(0,o.se)(y)},8570:function(t,e,n){n.d(e,{Z:function(){return f}});var i=n(73440),r=n(89314),s=n(41773),o=n(63255),a=n(17155),l=(n(61432),n(96711),n(83850),n(79775)),u=n(48023),p=n(95226);const c=new s.X({esriFieldTypeInteger:"integer",esriFieldTypeString:"string"});let y=class extends(r.Z.ClonableMixin(o.Z)){constructor(t){super(t),this.alias=null,this.responseType=null,this.type=null,this.value=null,this.valueType=null}};(0,i._)([(0,a.Cb)({type:String,json:{name:"outAlias",write:!0}})],y.prototype,"alias",void 0),(0,i._)([(0,a.Cb)({type:String})],y.prototype,"responseType",void 0),(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],y.prototype,"type",void 0),(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],y.prototype,"value",void 0),(0,i._)([(0,l.J)(c)],y.prototype,"valueType",void 0),y=(0,i._)([(0,u.j)("esri.rest.support.AttributeBinsGrouping")],y);const m=y;y.from=(0,p.se)(y);const d=new s.X({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeDate:"date",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"}),h=new s.X({naturalLog:"natural-log",squareRoot:"square-root"});let f=class extends(r.Z.ClonableMixin(o.Z)){constructor(t){super(t),this.expression=null,this.expressionValueType=null,this.field=null,this.firstDayOfWeek=null,this.hideUpperBound=null,this.splitBy=null,this.stackBy=null,this.transformation=null}};(0,i._)([(0,a.Cb)({type:String,json:{name:"onExpression.value",write:!0}})],f.prototype,"expression",void 0),(0,i._)([(0,l.J)(d,{name:"onExpression.valueType"})],f.prototype,"expressionValueType",void 0),(0,i._)([(0,a.Cb)({type:String,json:{name:"onField",write:!0}})],f.prototype,"field",void 0),(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],f.prototype,"firstDayOfWeek",void 0),(0,i._)([(0,a.Cb)({type:String,json:{write:!0}})],f.prototype,"hideUpperBound",void 0),(0,i._)([(0,a.Cb)({type:m,json:{write:{overridePolicy(){return{enabled:null!=this.splitBy?.value||null!=this.splitBy?.type}}}}})],f.prototype,"splitBy",void 0),(0,i._)([(0,a.Cb)({type:m,json:{write:{target:{stackBy:{type:m},jsonStyle:{type:String}},writer:(t,e)=>{t&&(e.stackBy=t.toJSON(),null!=t.responseType&&(e.jsonStyle=t.responseType))},overridePolicy(){return{enabled:null!=this.stackBy?.value||null!=this.stackBy?.type}}},read:{source:["stackBy","jsonStyle"],reader:(t,e)=>m.fromJSON({...e.stackBy,responseType:e.jsonStyle})}}})],f.prototype,"stackBy",void 0),(0,i._)([(0,l.J)(h)],f.prototype,"transformation",void 0),f=(0,i._)([(0,u.j)("esri.rest.support.BinParametersBase")],f)},74537:function(t,e,n){n.d(e,{Z:function(){return v}});var i=n(73440),r=n(60123),s=n(17155),o=n(95226),a=(n(61432),n(83850),n(79775)),l=n(48023),u=n(8570),p=n(89314),c=n(63255),y=n(65724);let m=class extends(p.Z.ClonableMixin(c.Z)){constructor(t){super(t),this.value=null,this.unit=null}};(0,i._)([(0,s.Cb)({type:Number,json:{name:"number",write:!0}})],m.prototype,"value",void 0),(0,i._)([(0,a.J)(y.H)],m.prototype,"unit",void 0),m=(0,i._)([(0,l.j)("esri.rest.support.DateBinTimeInterval")],m);const d=m;function h(t,e,n){(0,r.RB)(n,"string"==typeof t?t:t?.getTime(),e)}function f(t,e){const n=t.parameters[e];return n?"string"==typeof n?n:new Date(n):null}m.from=(0,o.se)(m);let v=class extends u.Z{constructor(t){super(t),this.end=null,this.interval=null,this.offset=null,this.returnFullIntervalBin=!1,this.start=null,this.snapToData=null,this.type="date"}};(0,i._)([(0,s.Cb)({cast:t=>null!=t?"string"==typeof t?t:new Date(t):null,json:{name:"parameters.end",read:{reader:(t,e)=>f(e,"end")},write:{writer:h}}})],v.prototype,"end",void 0),(0,i._)([(0,s.Cb)({type:d,json:{name:"parameters",write:!0}})],v.prototype,"interval",void 0),(0,i._)([(0,s.Cb)({type:d,json:{name:"parameters.offset",write:!0}})],v.prototype,"offset",void 0),(0,i._)([(0,s.Cb)({type:Boolean,json:{name:"parameters.returnFullIntervalBin",write:!0}})],v.prototype,"returnFullIntervalBin",void 0),(0,i._)([(0,s.Cb)({cast:t=>null!=t?"string"==typeof t?t:new Date(t):null,json:{name:"parameters.start",read:{reader:(t,e)=>f(e,"start")},write:{writer:h}}})],v.prototype,"start",void 0),(0,i._)([(0,s.Cb)({type:String,json:{name:"parameters.snapToData",write:!0}})],v.prototype,"snapToData",void 0),(0,i._)([(0,a.J)({dateBin:"date"},{readOnly:!0})],v.prototype,"type",void 0),v=(0,i._)([(0,l.j)("esri.rest.support.DateBinParameters")],v),v.from=(0,o.se)(v)},65724:function(t,e,n){n.d(e,{H:function(){return i}});const i=(0,n(41773).w)()({year:"years",quarter:"quarters",month:"months",week:"weeks",day:"days",hour:"hours",minute:"minutes",second:"seconds"})},69287:function(t,e,n){n.d(e,{Z:function(){return p}});var i=n(73440),r=n(60123),s=n(17155),o=n(95226),a=(n(61432),n(83850),n(79775)),l=n(48023),u=n(8570);let p=class extends u.Z{constructor(t){super(t),this.boundaries=[],this.type="fixed-boundaries"}};(0,i._)([(0,s.Cb)({json:{name:"parameters.boundaries",write:{writer:function(t,e,n){(0,r.RB)(n,t&&function(t){return t[0]instanceof Date}(t)?t.map((t=>t.getTime())):t,e)}}}})],p.prototype,"boundaries",void 0),(0,i._)([(0,a.J)({fixedBoundariesBin:"fixed-boundaries"},{readOnly:!0})],p.prototype,"type",void 0),p=(0,i._)([(0,l.j)("esri.rest.support.FixedBoundariesBinParameters")],p),p.from=(0,o.se)(p)},37378:function(t,e,n){n.d(e,{Z:function(){return y}});var i=n(73440),r=n(60123),s=n(17155),o=n(95226),a=(n(61432),n(83850),n(79775)),l=n(48023),u=n(8570),p=n(599);function c(t,e,n){(0,r.RB)(n,t instanceof Date?t.getTime():t,e)}let y=class extends((0,p.d)(u.Z)){constructor(t){super(t),this.end=null,this.interval=null,this.start=null,this.type="fixed-interval"}};(0,i._)([(0,s.Cb)({json:{name:"parameters.end",write:{writer:c}}})],y.prototype,"end",void 0),(0,i._)([(0,s.Cb)({type:Number,json:{name:"parameters.interval",write:!0}})],y.prototype,"interval",void 0),(0,i._)([(0,s.Cb)({json:{name:"parameters.start",write:{writer:c}}})],y.prototype,"start",void 0),(0,i._)([(0,a.J)({fixedIntervalBin:"fixed-interval"},{readOnly:!0})],y.prototype,"type",void 0),y=(0,i._)([(0,l.j)("esri.rest.support.FixedIntervalBinParameters")],y),y.from=(0,o.se)(y)}}]);