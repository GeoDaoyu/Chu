"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[65652],{53147:function(t,e,n){n.d(e,{Z:function(){return h}});var i,r,s=n(38461),o=n(99574),u=n(95226);function a(t){return(0,o.uZ)((0,u.vU)(t),0,255)}function l(t,e){const n=t.toString(16).padStart(2,"0");return e?n.slice(0,1):n}class c{static blendColors(t,e,n,i=new c){return i.r=Math.round(t.r+(e.r-t.r)*n),i.g=Math.round(t.g+(e.g-t.g)*n),i.b=Math.round(t.b+(e.b-t.b)*n),i.a=t.a+(e.a-t.a)*n,i._sanitize()}static fromRgb(t,e){const n=(0,s.xO)(t);return n?c.fromArray(n,e):null}static fromHex(t,e=new c){const n=(0,s.yE)(t);return n?c.fromArray(n,e):null}static fromArray(t,e=new c){return e._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(e.a)&&(e.a=1),e._sanitize()}static fromString(t,e){const n=(0,s.uh)(t);return n?c.fromArray(n,e):null}static fromJSON(t){return null!=t?new c([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return null!=t?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return null!=t?[t.r/255,t.g/255,t.b/255,null!=t.a?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return"string"==typeof t?c.fromString(t,this):Array.isArray(t)?c.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof c||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const e=t?.capitalize??!1,n=t?.digits??6,i=3===n||4===n,r=4===n||8===n,s=`#${l(this.r,i)}${l(this.g,i)}${l(this.b,i)}${r?l(Math.round(255*this.a),i):""}`;return e?s.toUpperCase():s}toCss(t=!1){const e=this.r+", "+this.g+", "+this.b;return t?`rgba(${e}, ${this.a})`:`rgb(${e})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=c.AlphaMode.ALWAYS){const e=a(this.r),n=a(this.g),i=a(this.b);return t===c.AlphaMode.ALWAYS||1!==this.a?[e,n,i,a(255*this.a)]:[e,n,i]}clone(){return new c(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return null!=t&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=(0,s.OC)(this.r),this.g=(0,s.OC)(this.g),this.b=(0,s.OC)(this.b),this.a=(0,s.I2)(this.a),this}_set(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a=i}}c.prototype.declaredClass="esri.Color",i=c||(c={}),(r=i.AlphaMode||(i.AlphaMode={}))[r.ALWAYS=0]="ALWAYS",r[r.UNLESS_OPAQUE=1]="UNLESS_OPAQUE";const h=c},73749:function(t,e,n){n.d(e,{a:function(){return b},b:function(){return g},c:function(){return r},d:function(){return h},e:function(){return v},f:function(){return p},g:function(){return u},h:function(){return _},i:function(){return s},j:function(){return d},l:function(){return y},n:function(){return m},s:function(){return o},t:function(){return x},v:function(){return R}});var i=n(66130);function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function o(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function u(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function a(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function l(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function c(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function h(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function f(t,e){const n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],s=e[3]-t[3];return Math.sqrt(n*n+i*i+r*r+s*s)}function p(t,e){const n=e[0]-t[0],i=e[1]-t[1],r=e[2]-t[2],s=e[3]-t[3];return n*n+i*i+r*r+s*s}function d(t){const e=t[0],n=t[1],i=t[2],r=t[3];return Math.sqrt(e*e+n*n+i*i+r*r)}function g(t){const e=t[0],n=t[1],i=t[2],r=t[3];return e*e+n*n+i*i+r*r}function m(t,e){const n=e[0],i=e[1],r=e[2],s=e[3];let o=n*n+i*i+r*r+s*s;return o>0&&(o=1/Math.sqrt(o),t[0]=n*o,t[1]=i*o,t[2]=r*o,t[3]=s*o),t}function _(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function y(t,e,n,i){const r=e[0],s=e[1],o=e[2],u=e[3];return t[0]=r+i*(n[0]-r),t[1]=s+i*(n[1]-s),t[2]=o+i*(n[2]-o),t[3]=u+i*(n[3]-u),t}function x(t,e,n){const i=e[0],r=e[1],s=e[2],o=e[3];return t[0]=n[0]*i+n[4]*r+n[8]*s+n[12]*o,t[1]=n[1]*i+n[5]*r+n[9]*s+n[13]*o,t[2]=n[2]*i+n[6]*r+n[10]*s+n[14]*o,t[3]=n[3]*i+n[7]*r+n[11]*s+n[15]*o,t}function b(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function v(t,e){const n=t[0],r=t[1],s=t[2],o=t[3],u=e[0],a=e[1],l=e[2],c=e[3],h=(0,i.bn)();return Math.abs(n-u)<=h*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(r-a)<=h*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(s-l)<=h*Math.max(1,Math.abs(s),Math.abs(l))&&Math.abs(o-c)<=h*Math.max(1,Math.abs(o),Math.abs(c))}const S=a,M=l,w=c,C=f,P=p,A=d,T=g,R=Object.freeze(Object.defineProperty({__proto__:null,add:u,ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},copy:r,copyVec3:s,dist:C,distance:f,div:w,divide:c,dot:_,equals:v,exactEquals:b,floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},len:A,length:d,lerp:y,max:function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},min:function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},mul:M,multiply:l,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},normalize:m,random:function(t,e=1){const n=i.FD;let r,s,o,u,a,l;do{r=2*n()-1,s=2*n()-1,a=r*r+s*s}while(a>=1);do{o=2*n()-1,u=2*n()-1,l=o*o+u*u}while(l>=1);const c=Math.sqrt((1-a)/l);return t[0]=e*r,t[1]=e*s,t[2]=e*o*c,t[3]=e*u*c,t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},scale:h,scaleAndAdd:function(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t[2]=e[2]+n[2]*i,t[3]=e[3]+n[3]*i,t},set:o,sqrDist:P,sqrLen:T,squaredDistance:p,squaredLength:g,str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},sub:S,subtract:a,transformMat4:x,transformQuat:function(t,e,n){const i=e[0],r=e[1],s=e[2],o=n[0],u=n[1],a=n[2],l=n[3],c=l*i+u*s-a*r,h=l*r+a*i-o*s,f=l*s+o*r-u*i,p=-o*i-u*r-a*s;return t[0]=c*l+p*-o+h*-a-f*-u,t[1]=h*l+p*-u+f*-o-c*-a,t[2]=f*l+p*-a+c*-u-h*-o,t[3]=e[3],t}},Symbol.toStringTag,{value:"Module"}))},12853:function(t,e,n){n.d(e,{z:function(){return r}});var i=n(69071);class r{constructor(t,e){this.removeFunc=e,this._storage=new i.WJ,this.id="",this.name="",this.size=0,this._storage.maxSize=t,this._storage.register(this)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(t,e,n=1){this._storage.put(this,t,e,n,1)}pop(t){return this._storage.pop(this,t)}get(t){return this._storage.get(this,t)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(t){this._storage.maxSize=t}resetHitRate(){}}},69071:function(t,e,n){n.d(e,{Jv:function(){return r},M4:function(){return i},WJ:function(){return u},Xq:function(){return o},lN:function(){return s}});const i=-3,r=i-1;var s;!function(t){t[t.ALL=0]="ALL",t[t.SOME=1]="SOME"}(s||(s={}));class o{constructor(t,e,n,i=0){this.name=t,this._storage=e,this.removeFunc=n,this._defaultPriority=i,this.id=`${a++}${c}`,this.size=0,this._hit=0,this._miss=0,this._storage.register(this)}destroy(){this._storage.deregister(this),this._storage=null}get hitRate(){return this._hit/(this._hit+this._miss)}get storageSize(){return this._storage.size}getSize(t){return this._storage.getSize(this,t)}set maxSize(t){this._storage.setMaxSize(this,t)}resetHitRate(){this._hit=this._miss=0}put(t,e,n=this._defaultPriority){this._storage.put(this,t,e,e.cachedMemory,n)}pop(t){const e=this._storage.pop(this,t);return void 0===e?++this._miss:++this._hit,e}get(t){const e=this._storage.get(this,t);return void 0===e?++this._miss:++this._hit,e}peek(t){return this._storage.peek(this,t)}updateSize(t,e){this._storage.updateSize(this,t,e,e.cachedMemory)}clear(){this._storage.clear(this)}clearAll(){this._storage.clearAll()}*[Symbol.iterator](){yield*this._storage.values(this)}get performanceInfo(){return this._storage.performanceInfo}resetStats(){this._storage.resetStats()}}class u{get size(){return this._size}constructor(t=10485760){this._maxSize=t,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._users=new Map,this._sizeLimits=new Map}destroy(){this.clearAll(),this._sizeLimits.clear(),this._users.clear()}register(t){this._users.set(t.id.slice(0,-1),t)}deregister(t){this.clear(t),this._sizeLimits.delete(t),this._users.delete(t.id.slice(0,-1))}get maxSize(){return this._maxSize}set maxSize(t){this._maxSize=Math.max(t,-1),this._checkSize()}getSize(t,e){return this._db.get(t.id+e)?.size??0}put(t,e,n,o,u){e=t.id+e;const a=this._db.get(e);if(a&&(this._size-=a.size,t.size-=a.size,this._db.delete(e),a.entry!==n&&this._notifyRemove(e,a.entry,a.size,s.ALL)),o>this._maxSize)return void this._notifyRemove(e,n,o,s.ALL);if(void 0===n)return void console.warn("Refusing to cache undefined entry ");if(!o||o<0)return console.warn(`Refusing to cache entry with size ${o} for key ${e}`),void this._notifyRemove(e,n,0,s.ALL);const c=1+Math.max(u,r)-i;this._db.set(e,new l(n,o,c)),this._size+=o,t.size+=o,this._checkSize()}updateSize(t,e,n,i){e=t.id+e;const r=this._db.get(e);if(r&&r.entry===n){for(this._size-=r.size,t.size-=r.size;i>this._maxSize;){const t=this._notifyRemove(e,n,i,s.SOME);if(!(null!=t&&t>0))return void this._db.delete(e);i=t}r.size=i,this._size+=i,t.size+=i,this._checkSize()}}pop(t,e){e=t.id+e;const n=this._db.get(e);if(n)return this._size-=n.size,t.size-=n.size,this._db.delete(e),++this._hit,n.entry;++this._miss}get(t,e){e=t.id+e;const n=this._db.get(e);if(void 0!==n)return this._db.delete(e),n.lives=n.lifetime,this._db.set(e,n),++this._hit,n.entry;++this._miss}peek(t,e){const n=this._db.get(t.id+e);return n?++this._hit:++this._miss,n?.entry}get performanceInfo(){const t={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},e={},n=new Array;this._db.forEach(((t,i)=>{const r=t.lifetime;n[r]=(n[r]||0)+t.size,this._users.forEach((n=>{const{id:r,name:s}=n;if(i.startsWith(r)){const n=e[s]||0;e[s]=n+t.size}}))}));const r={};this._users.forEach((t=>{const n=t.name;if("hitRate"in t&&"number"==typeof t.hitRate&&!isNaN(t.hitRate)&&t.hitRate>0){const i=e[n]||0;e[n]=i,r[n]=Math.round(100*t.hitRate)+"%"}else r[n]="0%"}));const s=Object.keys(e);s.sort(((t,n)=>e[n]-e[t])),s.forEach((n=>t[n]=Math.round(e[n]/2**20)+"MB / "+r[n]));for(let e=n.length-1;e>=0;--e){const r=n[e];r&&(t["Priority "+(e+i-1)]=Math.round(r/this._size*100)+"%")}return t}resetStats(){this._hit=this._miss=0,this._users.forEach((t=>t.resetHitRate()))}clear(t){const e=t.id;this._db.forEach(((t,n)=>{n.startsWith(e)&&(this._size-=t.size,this._db.delete(n),this._notifyRemove(n,t.entry,t.size,s.ALL))})),t.size=0}clearAll(){this._db.forEach(((t,e)=>this._notifyRemove(e,t.entry,t.size,s.ALL))),this._users.forEach((t=>t.size=0)),this._size=0,this._db.clear()}*values(t){for(const[e,n]of this._db)e.startsWith(t.id)&&(yield n.entry)}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(t,e,n,i){const r=this._users.get(t.split(c)[0])?.removeFunc,s=r?.(e,i,n);return"number"==typeof s?s:null}_checkSize(){this._sizeLimits.forEach(((t,e)=>this._checkSizeLimits(t,e))),this._checkSizeLimits(this.maxSize)}setMaxSize(t,e){null==e||e<=0?this._sizeLimits.delete(t):this._sizeLimits.set(t,e)}_checkSizeLimits(t,e){const n=e??this;if(n.size<=t)return;const i=e?.id;let r=!0;for(;r;){r=!1;for(const[s,o]of this._db)if(0===o.lifetime&&(!i||s.startsWith(i))){const i=e??this._users.get(s.split(c)[0]);if(this._purgeItem(s,o,i),n.size<=.9*t)return;r||=this._db.has(s)}}for(const[r,s]of this._db)if(!i||r.startsWith(i)){const i=e??this._users.get(r.split(c)[0]);if(this._purgeItem(r,s,i),n.size<=.9*t)return}}_purgeItem(t,e,n){if(this._db.delete(t),e.lives<=1){this._size-=e.size,n&&(n.size-=e.size);const i=this._notifyRemove(t,e.entry,e.size,s.SOME);null!=i&&i>0&&(this._size+=i,n&&(n.size+=i),e.lives=e.lifetime,e.size=i,this._db.set(t,e))}else--e.lives,this._db.set(t,e)}}let a=0;class l{constructor(t,e,n){this.entry=t,this.size=e,this.lifetime=n,this.lives=n}}const c=":"},92643:function(t,e,n){n.d(e,{Ch:function(){return U},EX:function(){return A},G:function(){return z},H0:function(){return H},Ht:function(){return D},K6:function(){return T},O:function(){return O},WC:function(){return N},Y3:function(){return w},_Y:function(){return M},_j:function(){return L},c9:function(){return k},gp:function(){return F},jQ:function(){return l},mj:function(){return E},nR:function(){return B},sJ:function(){return C},vG:function(){return I},xr:function(){return S}});var i=n(53147),r=n(3480),s=n(28947),o=n(99574),u=n(73749),a=n(27583);function l(t){return"r"in t&&"g"in t&&"b"in t}function c(t){return"h"in t&&"s"in t&&"v"in t}function h(t){return"l"in t&&"a"in t&&"b"in t}function f(t){return"l"in t&&"c"in t&&"h"in t}const p=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],d=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function g(t,e){const n=[];let i,r;if(t[0].length!==e.length)throw new Error("dimensions do not match");const s=t.length,o=t[0].length;let u=0;for(i=0;i<s;i++){for(u=0,r=0;r<o;r++)u+=t[i][r]*e[r];n.push(u)}return n}function m(t){const e=[t.r/255,t.g/255,t.b/255].map((t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4)),n=g(p,e);return{x:100*n[0],y:100*n[1],z:100*n[2]}}function _(t){const e=g(d,[t.x/100,t.y/100,t.z/100]).map((t=>{const e=t<=.0031308?12.92*t:1.055*t**(1/2.4)-.055;return Math.min(1,Math.max(e,0))}));return{r:Math.round(255*e[0]),g:Math.round(255*e[1]),b:Math.round(255*e[2])}}function y(t){const e=[t.x/95.047,t.y/100,t.z/108.883].map((t=>t>(6/29)**3?t**(1/3):1/3*(29/6)**2*t+4/29));return{l:116*e[1]-16,a:500*(e[0]-e[1]),b:200*(e[1]-e[2])}}function x(t){const e=t.l,n=[(e+16)/116+t.a/500,(e+16)/116,(e+16)/116-t.b/200].map((t=>t>6/29?t**3:3*(6/29)**2*(t-4/29)));return{x:95.047*n[0],y:100*n[1],z:108.883*n[2]}}function b(t){return function(t){const e=t.l,n=t.a,i=t.b,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s=s>0?s:s+2*Math.PI,{l:e,c:r,h:s}}(y(m(t)))}function v(t){return _(x(function(t){const e=t.l,n=t.c,i=t.h;return{l:e,a:n*Math.cos(i),b:n*Math.sin(i)}}(t)))}function S(t){return l(t)?t:f(t)?v(t):h(t)?function(t){return _(x(t))}(t):function(t){return"x"in t&&"y"in t&&"z"in t}(t)?_(t):c(t)?function(t){const e=(t.h+360)%360/60,n=t.s/100,i=t.v/100*255,r=i*n,s=r*(1-Math.abs(e%2-1));let o;switch(Math.floor(e)){case 0:o={r:r,g:s,b:0};break;case 1:o={r:s,g:r,b:0};break;case 2:o={r:0,g:r,b:s};break;case 3:o={r:0,g:s,b:r};break;case 4:o={r:s,g:0,b:r};break;case 5:case 6:o={r:r,g:0,b:s};break;default:o={r:0,g:0,b:0}}return o.r=Math.round(o.r+i-r),o.g=Math.round(o.g+i-r),o.b=Math.round(o.b+i-r),o}(t):t}function M(t){return c(t)?t:function(t){const e=t.r,n=t.g,i=t.b,r=Math.max(e,n,i),s=r-Math.min(e,n,i);let o=r,u=0===s?0:r===e?(n-i)/s%6:r===n?(i-e)/s+2:(e-n)/s+4,a=0===s?0:s/o;return u<0&&(u+=6),u*=60,a*=100,o*=100/255,{h:u,s:a,v:o}}(S(t))}function w(t){return h(t)?t:function(t){return y(m(t))}(S(t))}function C(t){return f(t)?t:b(S(t))}function P(t){let{r:e,g:n,b:r,a:s}=t;return s<1&&(e=Math.round(s*e+255*(1-s)),n=Math.round(s*n+255*(1-s)),r=Math.round(s*r+255*(1-s))),new i.Z({r:e,g:n,b:r})}function A(t,e){const{r:n,g:i,b:r}=e?.ignoreAlpha?t:P(t);return.2126*n+.7152*i+.0722*r}var T,R;function E(t,e=T.High){return A(t,{ignoreAlpha:!0})>e?new i.Z([0,0,0,t.a]):new i.Z([255,255,255,t.a])}function L(t,e){const n=w(t);n.l*=1-e;const i=S(n),r=t.clone();return r.setColor(i),r.a=t.a,r}function z(t,e){const n=t.clone();return n.a*=e,n}function I(t,e){const n=M(t);n.s*=e;const i=S(n),r=t.clone();return r.setColor(i),r.a=t.a,r}function O(t){return i.Z.toUnitRGBA(t)}function N(t,e){return t===e||null!=t&&t.equals(e)}function D(t,e){return t===e||null!=t&&null!=e&&(0,u.e)(t,e)}function F(t){return(0,a.al)(t[0],t[1],t[2],t.length>3?t[3]:1)}function k(t){return t[0]??=0,t[1]??=0,t[2]??=0,t}function B(t){return t.length=4,k(t),t[3]??=1,(0,o.uZ)(t[3],0,1),t}function U(t,e){const n=i.Z.toUnitRGBA(t);return n[3]*=e,n}function H(t,e,n={}){if(0===t.length||e<=0)return[];if(1===(t=t.map((t=>"string"==typeof t?new i.Z(t):t))).length||1===e){const n=[],i=t[0];for(let t=0;t<e;t++)n.push(i.clone());return n}if(n.shuffle&&(t=(0,r.TV)((0,s.d9)(t),n.seed)),t.length>=e){const n=[],i=(t.length-1)/(e-1);for(let r=0;r<e;r++){const e=Math.round(r*i);n.push(t[e].clone())}return n}return function(t,e,n={}){const i=[],s=t.length-1,o=Math.ceil((e-t.length)/s);t:for(let r=0;r<s;r++){const s=t[r],u=t[r+1];for(let r=1;r<=o;r++){const a=r/(o+1);if(i.push(Z(s,u,a,n)),i.length+t.length===e)break t}}return[...t.map((t=>t.clone())),...(0,r.TV)(i,n.seed??1)]}(t,e,n)}(R=T||(T={}))[R.Low=160]="Low",R[R.High=225]="High";const W=(t,e)=>{const n=Math.floor(10*e())-5;return Math.min(255,Math.max(0,t+n))};function Z(t,e,n,s={}){const o=t.r,u=t.g,a=t.b,l=e.r,c=e.g,h=e.b,f=Math.round(o+(l-o)*n),p=Math.round(u+(c-u)*n),d=Math.round(a+(h-a)*n);if(!s.offset)return new i.Z([f,p,d]);const g=(0,r.FS)(s.seed);return new i.Z([W(f,g),W(p,g),W(d,g)])}},27583:function(t,e,n){function i(){return[0,0,0,0]}function r(t){return[t[0],t[1],t[2],t[3]]}function s(t,e,n,i){return[t,e,n,i]}function o(t,e,n,i){return[t,e,n,i]}function u(t,e=[0,0,0,0]){const n=Math.min(4,t.length);for(let i=0;i<n;++i)e[i]=t[i];return e}function a(){return[0,0,0,0]}function l(){return s(1,1,1,1)}function c(){return s(1,0,0,0)}function h(){return s(0,1,0,0)}function f(){return s(0,0,1,0)}function p(){return s(0,0,0,1)}n.d(e,{AG:function(){return d},Ue:function(){return i},al:function(){return s},d9:function(){return r},hq:function(){return g},iU:function(){return l},nI:function(){return u},vV:function(){return o}});const d=[0,0,0,0],g=l(),m=c(),_=h(),y=f(),x=p();Object.freeze(Object.defineProperty({__proto__:null,ONES:g,UNIT_W:x,UNIT_X:m,UNIT_Y:_,UNIT_Z:y,ZEROS:d,clone:r,create:i,freeze:o,fromArray:u,fromValues:s,ones:l,unitW:p,unitX:c,unitY:h,unitZ:f,zeros:a},Symbol.toStringTag,{value:"Module"}))},85881:function(t,e,n){n.d(e,{F$:function(){return o},G7:function(){return l},HG:function(){return f},Mm:function(){return h},Qi:function(){return p},YL:function(){return r},YN:function(){return c},du:function(){return s},kk:function(){return u}});var i=n(59384);function r(t){return 32+t.length}const s=16;function o(t){if(!t)return 0;let e=h;for(const n in t)t.hasOwnProperty(n)&&(e+=a(t[n],!1));return e}function u(t){if(!t)return 0;if("number"==typeof t[0])return l(t);if(Array.isArray(t))return function(t){const e=t.length;if(0===e||"number"==typeof t[0])return c(t,8);let n=f;for(let i=0;i<e;i++)n+=a(t[i]);return n}(t);let e=h;for(const n in t)t.hasOwnProperty(n)&&(e+=a(t[n]));return e}function a(t,e=!0){switch(typeof t){case"object":return e?u(t):h;case"string":return r(t);case"number":return s;case"boolean":return 4;default:return 8}}function l(...t){return t.reduce(((t,e)=>t+(e?(0,i.fU)(e)?e.byteLength+p:Array.isArray(e)?c(e,s):0:0)),0)}function c(t,e){return f+t.length*e}const h=32,f=16,p=145},82394:function(t,e,n){n.d(e,{E9:function(){return s},I6:function(){return a},Vl:function(){return i},bN:function(){return u}});var i,r;!function(t){t[t.Unknown=0]="Unknown",t[t.Point=1]="Point",t[t.LineString=2]="LineString",t[t.Polygon=3]="Polygon"}(i||(i={}));class s{constructor(t,e){this.x=t,this.y=e}static fromArray(t){return new s(t[0],t[1])}clone(){return new s(this.x,this.y)}equals(t,e){return t===this.x&&e===this.y}isEqual(t){return t.x===this.x&&t.y===this.y}setCoords(t,e){return this.x=t,this.y=e,this}normalize(){const t=this.x,e=this.y,n=Math.sqrt(t*t+e*e);return this.x/=n,this.y/=n,this}rightPerpendicular(){const t=this.x;return this.x=this.y,this.y=-t,this}leftPerpendicular(){const t=this.x;return this.x=-this.y,this.y=t,this}move(t,e){return this.x+=t,this.y+=e,this}assign(t){return this.x=t.x,this.y=t.y,this}assignAdd(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}assignSub(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}rotate(t,e){const n=this.x,i=this.y;return this.x=n*t-i*e,this.y=n*e+i*t,this}rotateReverse(t,e){const n=this.x,i=this.y;return this.x=n*t+i*e,this.y=-n*e+i*t,this}scale(t){return this.x*=t,this.y*=t,this}length(){const t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}sub(t){return this.x-=t.x,this.y-=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}static distance(t,e){const n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}static add(t,e){return new s(t.x+e.x,t.y+e.y)}static sub(t,e){return new s(t.x-e.x,t.y-e.y)}}class o{constructor(t,e,n){this.ratio=t,this.x=e,this.y=n}}class u{constructor(t,e,n,i=8,r=8){this._lines=[],this._starts=[],this.validateTessellation=!0,this._pixelRatio=i,this._pixelMargin=r,this._tileSize=512*i,this._dz=t,this._yPos=e,this._xPos=n}setPixelMargin(t){t!==this._pixelMargin&&(this._pixelMargin=t,this.setExtent(this._extent))}setExtent(t){this._extent=t,this._finalRatio=this._tileSize/t*(1<<this._dz);let e=this._pixelRatio*this._pixelMargin;e/=this._finalRatio;const n=t>>this._dz;e>n&&(e=n),this._margin=e,this._xmin=n*this._xPos-e,this._ymin=n*this._yPos-e,this._xmax=this._xmin+n+2*e,this._ymax=this._ymin+n+2*e}reset(t){this._type=t,this._lines=[],this._starts=[],this._line=null,this._start=0}moveTo(t,e){this._pushLine(),this._prevIsIn=this._isIn(t,e),this._moveTo(t,e,this._prevIsIn),this._prevPt=new s(t,e),this._firstPt=new s(t,e),this._dist=0}lineTo(t,e){const n=this._isIn(t,e),i=new s(t,e),r=s.distance(this._prevPt,i);let u,a,l,c,h,f,p,d;if(n)this._prevIsIn?this._lineTo(t,e,!0):(u=this._prevPt,a=i,l=this._intersect(a,u),this._start=this._dist+r*(1-this._r),this._lineTo(l.x,l.y,!0),this._lineTo(a.x,a.y,!0));else if(this._prevIsIn)a=this._prevPt,u=i,l=this._intersect(a,u),this._lineTo(l.x,l.y,!0),this._lineTo(u.x,u.y,!1);else{const t=this._prevPt,e=i;if(t.x<=this._xmin&&e.x<=this._xmin||t.x>=this._xmax&&e.x>=this._xmax||t.y<=this._ymin&&e.y<=this._ymin||t.y>=this._ymax&&e.y>=this._ymax)this._lineTo(e.x,e.y,!1);else{const n=[];if((t.x<this._xmin&&e.x>this._xmin||t.x>this._xmin&&e.x<this._xmin)&&(c=(this._xmin-t.x)/(e.x-t.x),d=t.y+c*(e.y-t.y),d<=this._ymin?f=!1:d>=this._ymax?f=!0:n.push(new o(c,this._xmin,d))),(t.x<this._xmax&&e.x>this._xmax||t.x>this._xmax&&e.x<this._xmax)&&(c=(this._xmax-t.x)/(e.x-t.x),d=t.y+c*(e.y-t.y),d<=this._ymin?f=!1:d>=this._ymax?f=!0:n.push(new o(c,this._xmax,d))),(t.y<this._ymin&&e.y>this._ymin||t.y>this._ymin&&e.y<this._ymin)&&(c=(this._ymin-t.y)/(e.y-t.y),p=t.x+c*(e.x-t.x),p<=this._xmin?h=!1:p>=this._xmax?h=!0:n.push(new o(c,p,this._ymin))),(t.y<this._ymax&&e.y>this._ymax||t.y>this._ymax&&e.y<this._ymax)&&(c=(this._ymax-t.y)/(e.y-t.y),p=t.x+c*(e.x-t.x),p<=this._xmin?h=!1:p>=this._xmax?h=!0:n.push(new o(c,p,this._ymax))),0===n.length)h?f?this._lineTo(this._xmax,this._ymax,!0):this._lineTo(this._xmax,this._ymin,!0):f?this._lineTo(this._xmin,this._ymax,!0):this._lineTo(this._xmin,this._ymin,!0);else if(n.length>1&&n[0].ratio>n[1].ratio)this._start=this._dist+r*n[1].ratio,this._lineTo(n[1].x,n[1].y,!0),this._lineTo(n[0].x,n[0].y,!0);else{this._start=this._dist+r*n[0].ratio;for(let t=0;t<n.length;t++)this._lineTo(n[t].x,n[t].y,!0)}this._lineTo(e.x,e.y,!1)}}this._dist+=r,this._prevIsIn=n,this._prevPt=i}close(){if(this._line.length>2){const t=this._firstPt,e=this._prevPt;t.x===e.x&&t.y===e.y||this.lineTo(t.x,t.y);const n=this._line;let i=n.length;for(;i>=4&&(n[0].x===n[1].x&&n[0].x===n[i-2].x||n[0].y===n[1].y&&n[0].y===n[i-2].y);)n.pop(),n[0].x=n[i-2].x,n[0].y=n[i-2].y,--i}}result(t=!0){return this._pushLine(),0===this._lines.length?null:(this._type===i.Polygon&&t&&l.simplify(this._tileSize,this._margin*this._finalRatio,this._lines),this._lines)}resultWithStarts(){if(this._type!==i.LineString)throw new Error("Only valid for lines");this._pushLine();const t=this._lines,e=t.length;if(0===e)return null;const n=[];for(let i=0;i<e;i++)n.push({line:t[i],start:this._starts[i]||0});return n}_isIn(t,e){return t>=this._xmin&&t<=this._xmax&&e>=this._ymin&&e<=this._ymax}_intersect(t,e){let n,i,r;if(e.x>=this._xmin&&e.x<=this._xmax)i=e.y<=this._ymin?this._ymin:this._ymax,r=(i-t.y)/(e.y-t.y),n=t.x+r*(e.x-t.x);else if(e.y>=this._ymin&&e.y<=this._ymax)n=e.x<=this._xmin?this._xmin:this._xmax,r=(n-t.x)/(e.x-t.x),i=t.y+r*(e.y-t.y);else{i=e.y<=this._ymin?this._ymin:this._ymax,n=e.x<=this._xmin?this._xmin:this._xmax;const s=(n-t.x)/(e.x-t.x),o=(i-t.y)/(e.y-t.y);s<o?(r=s,i=t.y+s*(e.y-t.y)):(r=o,n=t.x+o*(e.x-t.x))}return this._r=r,new s(n,i)}_pushLine(){this._line&&(this._type===i.Point?this._line.length>0&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===i.LineString?this._line.length>1&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===i.Polygon&&this._line.length>3&&(this._lines.push(this._line),this._starts.push(this._start))),this._line=[],this._start=0}_moveTo(t,e,n){this._type!==i.Polygon?n&&(t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),e=Math.round((e-(this._ymin+this._margin))*this._finalRatio),this._line.push(new s(t,e))):(n||(t<this._xmin&&(t=this._xmin),t>this._xmax&&(t=this._xmax),e<this._ymin&&(e=this._ymin),e>this._ymax&&(e=this._ymax)),t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),e=Math.round((e-(this._ymin+this._margin))*this._finalRatio),this._line.push(new s(t,e)),this._isH=!1,this._isV=!1)}_lineTo(t,e,n){let r,o;if(this._type!==i.Polygon)if(n){if(t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),e=Math.round((e-(this._ymin+this._margin))*this._finalRatio),this._line.length>0&&(r=this._line[this._line.length-1],r.equals(t,e)))return;this._line.push(new s(t,e))}else this._line&&this._line.length>0&&this._pushLine();else if(n||(t<this._xmin&&(t=this._xmin),t>this._xmax&&(t=this._xmax),e<this._ymin&&(e=this._ymin),e>this._ymax&&(e=this._ymax)),t=Math.round((t-(this._xmin+this._margin))*this._finalRatio),e=Math.round((e-(this._ymin+this._margin))*this._finalRatio),this._line&&this._line.length>0){r=this._line[this._line.length-1];const n=r.x===t,i=r.y===e;if(n&&i)return;this._isH&&n||this._isV&&i?(r.x=t,r.y=e,o=this._line[this._line.length-2],o.x===t&&o.y===e?(this._line.pop(),this._line.length<=1?(this._isH=!1,this._isV=!1):(o=this._line[this._line.length-2],this._isH=o.x===t,this._isV=o.y===e)):(this._isH=o.x===t,this._isV=o.y===e)):(this._line.push(new s(t,e)),this._isH=n,this._isV=i)}else this._line.push(new s(t,e))}}class a{setExtent(t){this._ratio=4096===t?1:4096/t}get validateTessellation(){return this._ratio<1}reset(t){this._lines=[],this._line=null}moveTo(t,e){this._line&&this._lines.push(this._line),this._line=[];const n=this._ratio;this._line.push(new s(t*n,e*n))}lineTo(t,e){const n=this._ratio;this._line.push(new s(t*n,e*n))}close(){const t=this._line;t&&!t[0].isEqual(t[t.length-1])&&t.push(t[0])}result(){return this._line&&this._lines.push(this._line),0===this._lines.length?null:this._lines}}!function(t){t[t.sideLeft=0]="sideLeft",t[t.sideRight=1]="sideRight",t[t.sideTop=2]="sideTop",t[t.sideBottom=3]="sideBottom"}(r||(r={}));class l{static simplify(t,e,n){if(!n)return;const i=-e,s=t+e,o=-e,u=t+e,a=[],c=[],h=n.length;for(let t=0;t<h;++t){const e=n[t];if(!e||e.length<2)continue;let l,h=e[0];const f=e.length;for(let n=1;n<f;++n)l=e[n],h.x===l.x&&(h.x<=i&&(h.y>l.y?(a.push(t),a.push(n),a.push(r.sideLeft),a.push(-1)):(c.push(t),c.push(n),c.push(r.sideLeft),c.push(-1))),h.x>=s&&(h.y<l.y?(a.push(t),a.push(n),a.push(r.sideRight),a.push(-1)):(c.push(t),c.push(n),c.push(r.sideRight),c.push(-1)))),h.y===l.y&&(h.y<=o&&(h.x<l.x?(a.push(t),a.push(n),a.push(r.sideTop),a.push(-1)):(c.push(t),c.push(n),c.push(r.sideTop),c.push(-1))),h.y>=u&&(h.x>l.x?(a.push(t),a.push(n),a.push(r.sideBottom),a.push(-1)):(c.push(t),c.push(n),c.push(r.sideBottom),c.push(-1)))),h=l}if(0===a.length||0===c.length)return;l.fillParent(n,c,a),l.fillParent(n,a,c);const f=[];l.calcDeltas(f,c,a),l.calcDeltas(f,a,c),l.addDeltas(f,n)}static fillParent(t,e,n){const i=n.length,s=e.length;for(let o=0;o<s;o+=4){const s=e[o],u=e[o+1],a=e[o+2],l=t[s][u-1],h=t[s][u];let f=8092,p=-1;for(let e=0;e<i;e+=4){if(n[e+2]!==a)continue;const i=n[e],s=n[e+1],o=t[i][s-1],u=t[i][s];switch(a){case r.sideLeft:case r.sideRight:if(c(l.y,o.y,u.y)&&c(h.y,o.y,u.y)){const t=Math.abs(u.y-o.y);t<f&&(f=t,p=e)}break;case r.sideTop:case r.sideBottom:if(c(l.x,o.x,u.x)&&c(h.x,o.x,u.x)){const t=Math.abs(u.x-o.x);t<f&&(f=t,p=e)}}}e[o+3]=p}}static calcDeltas(t,e,n){const i=e.length;for(let r=0;r<i;r+=4){const i=[],s=l.calcDelta(r,e,n,i);t.push(e[r]),t.push(e[r+1]),t.push(e[r+2]),t.push(s)}}static calcDelta(t,e,n,i){const r=e[t+3];if(-1===r)return 0;const s=i.length;return s>1&&i[s-2]===r?0:(i.push(r),l.calcDelta(r,n,e,i)+1)}static addDeltas(t,e){const n=t.length;let i=0;for(let e=0;e<n;e+=4){const n=t[e+3];n>i&&(i=n)}for(let s=0;s<n;s+=4){const n=e[t[s]],o=t[s+1],u=i-t[s+3];switch(t[s+2]){case r.sideLeft:n[o-1].x-=u,n[o].x-=u,1===o&&(n[n.length-1].x-=u),o===n.length-1&&(n[0].x-=u);break;case r.sideRight:n[o-1].x+=u,n[o].x+=u,1===o&&(n[n.length-1].x+=u),o===n.length-1&&(n[0].x+=u);break;case r.sideTop:n[o-1].y-=u,n[o].y-=u,1===o&&(n[n.length-1].y-=u),o===n.length-1&&(n[0].y-=u);break;case r.sideBottom:n[o-1].y+=u,n[o].y+=u,1===o&&(n[n.length-1].y+=u),o===n.length-1&&(n[0].y+=u)}}}}const c=(t,e,n)=>t>=e&&t<=n||t>=n&&t<=e},615:function(t,e,n){n.d(e,{cW:function(){return a},ij:function(){return u},rM:function(){return l}});var i=n(88194),r=n(60123),s=n(13928),o=n(8971);function u(t,e,n){try{return function(t){if(!t||0===t.length)return null;if(function(t){const e=t[0];return!!e&&"scale"in e}(t)){const e=[];for(const n of t)e.push({scale:n.scale,value:l(n.value)});return e}return l(t)}(t)}catch(t){n?.messages?.push(t)}return null}function a(t,e,n,i){try{const i=function(t){const e=(0,s.Q)(t);return e?(0,o.Cb)(e)?e.map((t=>t.toJSON())):e.map((({scale:t,effects:e})=>({scale:t,value:e.map((t=>t.toJSON()))}))):null}(t);(0,r.RB)(n,i,e)}catch(t){i.messages&&i.messages.push(t)}}function l(t){if(!t?.length)return"";const e=[];for(const n of t){let t=[];switch(n.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":t=[c(n,"amount")];break;case"blur":t=[c(n,"radius","pt")];break;case"hue-rotate":t=[c(n,"angle","deg")];break;case"drop-shadow":t=[c(n,"xoffset","pt"),c(n,"yoffset","pt"),c(n,"blurRadius","pt"),h(n,"color")];break;case"bloom":t=[c(n,"strength"),c(n,"radius","pt"),c(n,"threshold")]}const i=`${n.type}(${t.filter(Boolean).join(" ")})`;(0,s.Q)(i),e.push(i)}return e.join(" ")}function c(t,e,n){if(null==t[e])throw new i.Z("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});return n?t[e]+n:""+t[e]}function h(t,e){if(null==t[e])throw new i.Z("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});const n=t[e];return`rgba(${n[0]||0}, ${n[1]||0}, ${n[2]||0}, ${n[3]/255||0})`}},13928:function(t,e,n){n.d(e,{Q:function(){return l}});var i=n(38461),r=n(88194),s=n(71480),o=n(8971);class u extends SyntaxError{constructor(t,e,n,i){super(t),this.expected=e,this.found=n,this.location=i,this.name="SyntaxError"}format(t){let e="Error: "+this.message;if(this.location){let n=null;const i=t.find((t=>t.source===this.location.source));i&&(n=i.text.split(/\r\n|\n|\r/g));const r=this.location.start,s=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(r):r,o=this.location.source+":"+s.line+":"+s.column;if(n){const t=this.location.end,i="".padEnd(s.line.toString().length," "),u=n[r.line-1],a=(r.line===t.line?t.column:u.length+1)-r.column||1;e+="\n --\x3e "+o+"\n"+i+" |\n"+s.line+" | "+u+"\n"+i+" | "+"".padEnd(r.column-1," ")+"".padEnd(a,"^")}else e+="\n at "+o}return e}static buildMessage(t,e){function n(t){return t.codePointAt(0).toString(16).toUpperCase()}const i=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function r(t){return i?t.replace(i,(t=>"\\u{"+n(t)+"}")):t}function s(t){return r(t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(t=>"\\x0"+n(t))).replace(/[\x10-\x1F\x7F-\x9F]/g,(t=>"\\x"+n(t))))}function o(t){return r(t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(t=>"\\x0"+n(t))).replace(/[\x10-\x1F\x7F-\x9F]/g,(t=>"\\x"+n(t))))}const u={literal:t=>'"'+s(t.text)+'"',class(t){const e=t.parts.map((t=>Array.isArray(t)?o(t[0])+"-"+o(t[1]):o(t)));return"["+(t.inverted?"^":"")+e.join("")+"]"+(t.unicode?"u":"")},any:()=>"any character",end:()=>"end of input",other:t=>t.description};function a(t){return u[t.type](t)}return"Expected "+function(t){const e=t.map(a);if(e.sort(),e.length>0){let t=1;for(let n=1;n<e.length;n++)e[n-1]!==e[n]&&(e[t]=e[n],t++);e.length=t}switch(e.length){case 1:return e[0];case 2:return e[0]+" or "+e[1];default:return e.slice(0,-1).join(", ")+", or "+e[e.length-1]}}(t)+" but "+function(t){return t?'"'+s(t)+'"':"end of input"}(e)+" found."}}function a(t,e){const n={},i=(e=void 0!==e?e:{}).grammarSource,r={start:at};let s=at;const o="none",a=",",l="grad",c="turn",h=/^[ \t\n\r]/,f=/^[a-z\-]/,p=/^[0-9a-fA-F]/,d=/^[+\-]/,g=/^[0-9]/,m=rt("none"),_=nt("none",!1),y=nt(")",!1),x=nt(",",!1),b=it([" ","\t","\n","\r"],!1,!1,!1),v=rt("function"),S=nt("(",!1),M=rt("identifier"),w=it([["a","z"],"-"],!1,!1,!1),C=rt("percentage"),P=nt("%",!1),A=rt("length"),T=nt("px",!1),R=nt("cm",!1),E=nt("mm",!1),L=nt("in",!1),z=nt("pt",!1),I=nt("pc",!1),O=rt("angle"),N=nt("deg",!1),D=nt("rad",!1),F=nt("grad",!1),k=nt("turn",!1),B=rt("number"),U=rt("color"),H=nt("#",!1),W=it([["0","9"],["a","f"],["A","F"]],!1,!1,!1),Z=it(["+","-"],!1,!1,!1),$=it([["0","9"]],!1,!1,!1),j=nt(".",!1),q=nt("e",!1);function G(t,e){return e.length>0?function(t,e,n){return[t].concat(function(t,e){return t.map((function(t){return t[e]}))}(e,n))}(t,e,3):[t]}let V=0|e.peg$currPos,J=V;const Y=[{line:1,column:1}];let K,Q=V,X=e.peg$maxFailExpected||[],tt=0|e.peg$silentFails;if(e.startRule){if(!(e.startRule in r))throw new Error("Can't start parsing from rule \""+e.startRule+'".');s=r[e.startRule]}function et(){return t.substring(J,V)}function nt(t,e){return{type:"literal",text:t,ignoreCase:e}}function it(t,e,n,i){return{type:"class",parts:t,inverted:e,ignoreCase:n,unicode:i}}function rt(t){return{type:"other",description:t}}function st(e){let n,i=Y[e];if(i)return i;if(e>=Y.length)n=Y.length-1;else for(n=e;!Y[--n];);for(i=Y[n],i={line:i.line,column:i.column};n<e;)10===t.charCodeAt(n)?(i.line++,i.column=1):i.column++,n++;return Y[e]=i,i}function ot(t,e,n){const r=st(t),s=st(e);return{source:i,start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:s.line,column:s.column}}}function ut(t){V<Q||(V>Q&&(Q=V,X=[]),X.push(t))}function at(){let t;return t=lt(),t===n&&(t=function(){let t,e;if(t=[],e=ct(),e!==n)for(;e!==n;)t.push(e),e=ct();else t=n;return t}()),t}function lt(){let e,i;return tt++,e=V,ft(),t.substr(V,4)===o?(i=o,V+=4):(i=n,0===tt&&ut(_)),i!==n?(ft(),J=e,e=[]):(V=e,e=n),tt--,e===n&&0===tt&&ut(m),e}function ct(){let e,i,r,s;return e=V,ft(),i=function(){let e,i,r;return tt++,e=V,i=pt(),i!==n?(40===t.charCodeAt(V)?(r="(",V++):(r=n,0===tt&&ut(S)),r!==n?(J=e,e=i):(V=e,e=n)):(V=e,e=n),tt--,e===n&&(i=n,0===tt&&ut(v)),e}(),i!==n?(ft(),r=function(){let e,i,r,s,o,u,l,c;if(e=V,i=ht(),i!==n){for(r=[],s=V,o=ft(),44===t.charCodeAt(V)?(u=a,V++):(u=n,0===tt&&ut(x)),u===n&&(u=null),l=ft(),c=ht(),c!==n?(o=[o,u,l,c],s=o):(V=s,s=n);s!==n;)r.push(s),s=V,o=ft(),44===t.charCodeAt(V)?(u=a,V++):(u=n,0===tt&&ut(x)),u===n&&(u=null),l=ft(),c=ht(),c!==n?(o=[o,u,l,c],s=o):(V=s,s=n);J=e,e=G(i,r)}else V=e,e=n;return e}(),r===n&&(r=null),ft(),41===t.charCodeAt(V)?(s=")",V++):(s=n,0===tt&&ut(y)),s!==n?(ft(),J=e,e=function(t,e){return{type:"function",name:t,parameters:e||[]}}(i,r)):(V=e,e=n)):(V=e,e=n),e}function ht(){let t,e;return t=V,e=dt(),e===n&&(e=gt(),e===n&&(e=mt(),e===n&&(e=function(){let t,e;return tt++,t=V,ft(),e=yt(),e!==n?(J=t,t=function(t){return{value:t,unit:null}}(e)):(V=t,t=n),tt--,t===n&&0===tt&&ut(B),t}()))),e!==n&&(J=t,e=function(t){return{type:"quantity",value:t.value,unit:t.unit}}(e)),t=e,t===n&&(t=V,e=_t(),e!==n&&(J=t,e=function(t){return{type:"color",colorType:t.type,value:t.value}}(e)),t=e),t}function ft(){let e,i;for(tt++,e=[],i=t.charAt(V),h.test(i)?V++:(i=n,0===tt&&ut(b));i!==n;)e.push(i),i=t.charAt(V),h.test(i)?V++:(i=n,0===tt&&ut(b));return tt--,e}function pt(){let e,i,r;if(tt++,e=V,i=[],r=t.charAt(V),f.test(r)?V++:(r=n,0===tt&&ut(w)),r!==n)for(;r!==n;)i.push(r),r=t.charAt(V),f.test(r)?V++:(r=n,0===tt&&ut(w));else i=n;return i!==n&&(J=e,i=et()),e=i,tt--,e===n&&(i=n,0===tt&&ut(M)),e}function dt(){let e,i,r;return tt++,e=V,ft(),i=yt(),i!==n?(37===t.charCodeAt(V)?(r="%",V++):(r=n,0===tt&&ut(P)),r!==n?(J=e,e=function(t){return{value:t,unit:"%"}}(i)):(V=e,e=n)):(V=e,e=n),tt--,e===n&&0===tt&&ut(C),e}function gt(){let e,i,r;return tt++,e=V,ft(),i=yt(),i!==n?("px"===t.substr(V,2)?(r="px",V+=2):(r=n,0===tt&&ut(T)),r!==n?(J=e,e=function(t){return{value:t,unit:"px"}}(i)):(V=e,e=n)):(V=e,e=n),e===n&&(e=V,ft(),i=yt(),i!==n?("cm"===t.substr(V,2)?(r="cm",V+=2):(r=n,0===tt&&ut(R)),r!==n?(J=e,e=function(t){return{value:t,unit:"cm"}}(i)):(V=e,e=n)):(V=e,e=n),e===n&&(e=V,ft(),i=yt(),i!==n?("mm"===t.substr(V,2)?(r="mm",V+=2):(r=n,0===tt&&ut(E)),r!==n?(J=e,e=function(t){return{value:t,unit:"mm"}}(i)):(V=e,e=n)):(V=e,e=n),e===n&&(e=V,ft(),i=yt(),i!==n?("in"===t.substr(V,2)?(r="in",V+=2):(r=n,0===tt&&ut(L)),r!==n?(J=e,e=function(t){return{value:t,unit:"in"}}(i)):(V=e,e=n)):(V=e,e=n),e===n&&(e=V,ft(),i=yt(),i!==n?("pt"===t.substr(V,2)?(r="pt",V+=2):(r=n,0===tt&&ut(z)),r!==n?(J=e,e=function(t){return{value:t,unit:"pt"}}(i)):(V=e,e=n)):(V=e,e=n),e===n&&(e=V,ft(),i=yt(),i!==n?("pc"===t.substr(V,2)?(r="pc",V+=2):(r=n,0===tt&&ut(I)),r!==n?(J=e,e=function(t){return{value:t,unit:"pc"}}(i)):(V=e,e=n)):(V=e,e=n)))))),tt--,e===n&&0===tt&&ut(A),e}function mt(){let e,i,r;return tt++,e=V,i=yt(),i!==n?("deg"===t.substr(V,3)?(r="deg",V+=3):(r=n,0===tt&&ut(N)),r!==n?(J=e,e=function(t){return{value:t,unit:"deg"}}(i)):(V=e,e=n)):(V=e,e=n),e===n&&(e=V,i=yt(),i!==n?("rad"===t.substr(V,3)?(r="rad",V+=3):(r=n,0===tt&&ut(D)),r!==n?(J=e,e=function(t){return{value:t,unit:"rad"}}(i)):(V=e,e=n)):(V=e,e=n),e===n&&(e=V,i=yt(),i!==n?(t.substr(V,4)===l?(r=l,V+=4):(r=n,0===tt&&ut(F)),r!==n?(J=e,e=function(t){return{value:t,unit:"grad"}}(i)):(V=e,e=n)):(V=e,e=n),e===n&&(e=V,i=yt(),i!==n?(t.substr(V,4)===c?(r=c,V+=4):(r=n,0===tt&&ut(k)),r!==n?(J=e,e=function(t){return{value:t,unit:"turn"}}(i)):(V=e,e=n)):(V=e,e=n)))),tt--,e===n&&(i=n,0===tt&&ut(O)),e}function _t(){let e,i,r,s;if(tt++,e=V,35===t.charCodeAt(V)?(i="#",V++):(i=n,0===tt&&ut(H)),i!==n){if(r=[],s=t.charAt(V),p.test(s)?V++:(s=n,0===tt&&ut(W)),s!==n)for(;s!==n;)r.push(s),s=t.charAt(V),p.test(s)?V++:(s=n,0===tt&&ut(W));else r=n;r!==n?(J=e,e={type:"hex",value:et()}):(V=e,e=n)}else V=e,e=n;return e===n&&(e=V,i=ct(),i!==n&&(J=e,i=function(t){return{type:"function",value:t}}(i)),e=i,e===n&&(e=V,i=pt(),i!==n&&(J=e,i={type:"named",value:et()}),e=i)),tt--,e===n&&(i=n,0===tt&&ut(U)),e}function yt(){let e,i,r,s,o,u,a,l;for(e=V,i=t.charAt(V),d.test(i)?V++:(i=n,0===tt&&ut(Z)),i===n&&(i=null),r=V,s=[],o=t.charAt(V),g.test(o)?V++:(o=n,0===tt&&ut($));o!==n;)s.push(o),o=t.charAt(V),g.test(o)?V++:(o=n,0===tt&&ut($));if(46===t.charCodeAt(V)?(o=".",V++):(o=n,0===tt&&ut(j)),o!==n){if(u=[],a=t.charAt(V),g.test(a)?V++:(a=n,0===tt&&ut($)),a!==n)for(;a!==n;)u.push(a),a=t.charAt(V),g.test(a)?V++:(a=n,0===tt&&ut($));else u=n;u!==n?(s=[s,o,u],r=s):(V=r,r=n)}else V=r,r=n;if(r===n)if(r=[],s=t.charAt(V),g.test(s)?V++:(s=n,0===tt&&ut($)),s!==n)for(;s!==n;)r.push(s),s=t.charAt(V),g.test(s)?V++:(s=n,0===tt&&ut($));else r=n;if(r!==n){if(s=V,101===t.charCodeAt(V)?(o="e",V++):(o=n,0===tt&&ut(q)),o!==n){if(u=t.charAt(V),d.test(u)?V++:(u=n,0===tt&&ut(Z)),u===n&&(u=null),a=[],l=t.charAt(V),g.test(l)?V++:(l=n,0===tt&&ut($)),l!==n)for(;l!==n;)a.push(l),l=t.charAt(V),g.test(l)?V++:(l=n,0===tt&&ut($));else a=n;a!==n?(o=[o,u,a],s=o):(V=s,s=n)}else V=s,s=n;s===n&&(s=null),J=e,e=parseFloat(et())}else V=e,e=n;return e}K=s();const xt=K!==n&&V===t.length;function bt(){throw K!==n&&V<t.length&&ut({type:"end"}),function(t,e,n){return new u(u.buildMessage(t,e),t,e,n)}(X,Q<t.length?function(e=V){const n=t.codePointAt(e);return void 0===n?"":String.fromCodePoint(n)}(Q):null,Q<t.length?ot(Q,Q+1):ot(Q,Q))}return e.peg$library?{peg$result:K,peg$currPos:V,peg$FAILED:n,peg$maxFailExpected:X,peg$maxFailPos:Q,peg$success:xt,peg$throw:xt?void 0:bt}:xt?K:void bt()}function l(t){if(!t||0===t.length)return null;if("string"==typeof t){const e=c(t);return e&&0!==e.length?e:null}const e=t.map((t=>{if(!Number.isFinite(t.scale)||t.scale<=0)throw new r.Z("effect:invalid-scale","scale must be finite and greater than 0",{stop:t});return{scale:t.scale,effects:c(t.value)}}));e.sort(((t,e)=>e.effects.length-t.effects.length));for(let t=0;t<e.length-1;t++){if(!(0,o.AS)(e[t].effects,e[t+1].effects))throw new r.Z("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:e[t].effects,b:e[t+1].effects});(0,o.uF)(e[t].effects,e[t+1].effects)}return e.sort(((t,e)=>e.scale-t.scale)),e}function c(t){let e;if(!t)return[];try{e=a(t)}catch(e){throw new r.Z("effect:invalid-syntax","Invalid effect syntax",{value:t,error:e})}return e.map((t=>function(t){try{switch(t.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return function(t){let e=1;return h(t.parameters,1),1===t.parameters.length&&(e=m(t.parameters[0])),new s.GI(t.name,e)}(t);case"opacity":return function(t){let e=1;return h(t.parameters,1),1===t.parameters.length&&(e=m(t.parameters[0])),new s.Zx(e)}(t);case"hue-rotate":return function(t){let e=0;return h(t.parameters,1),1===t.parameters.length&&(e=function(t){return function(t){if("quantity"!==t.type||!(0===t.value&&null===t.unit||t.unit&&null!=d[t.unit]))throw new r.Z("effect:type-error",`Expected <angle>, Actual: ${f(t)}`,{term:t})}(t),t.value*d[t.unit]||0}(t.parameters[0])),new s.Tq(e)}(t);case"blur":return function(t){let e=0;return h(t.parameters,1),1===t.parameters.length&&(e=y(t.parameters[0]),p(e,t.parameters[0])),new s.Tj(e)}(t);case"drop-shadow":return function(t){const e=[];let n=null;for(const i of t.parameters)if("color"===i.type){if(e.length&&Object.freeze(e),n)throw new r.Z("effect:type-error","Accepts only one color",{});n=x(i)}else{const t=y(i);if(Object.isFrozen(e))throw new r.Z("effect:type-error","<length> parameters not consecutive",{lengths:e});e.push(t),3===e.length&&p(t,i)}if(e.length<2||e.length>3)throw new r.Z("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${e.length}}`,{lengths:e});return new s.CE(e[0],e[1],e[2]||0,n||b("black"))}(t);case"bloom":return function(t){let e=1,n=0,i=0;return h(t.parameters,3),t.parameters[0]&&(e=m(t.parameters[0])),t.parameters[1]&&(n=y(t.parameters[1]),p(n,t.parameters[1])),t.parameters[2]&&(i=m(t.parameters[2])),new s.rk(e,n,i)}(t)}}catch(e){throw e.details.filter=t,e}throw new r.Z("effect:unknown-effect",`Effect '${t.name}' is not supported`,{effect:t})}(t)))}function h(t,e){if(t.length>e)throw new r.Z("effect:type-error",`Function supports up to ${e} parameters, Actual: ${t.length}`,{parameters:t})}function f(t){if("color"===t.type)return"<color>";if(t.unit){if(t.unit in g)return"<length>";if(t.unit in d)return"<angle>";if("%"===t.unit)return"<percentage>"}return"<double>"}function p(t,e){if(t<0)throw new r.Z("effect:type-error",`Negative values are not allowed, Actual: ${t}`,{term:e})}const d={deg:1,grad:.9,rad:180/Math.PI,turn:360};const g={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function m(t){!function(t){if("quantity"!==t.type||null!==t.unit&&"%"!==t.unit)throw new r.Z("effect:type-error",`Expected <double> or <percentage>, Actual: ${f(t)}`,{term:t})}(t);const e=t.value;return p(e,t),"%"===t.unit?.01*e:e}function _(t){return function(t){if("quantity"!==t.type||null!==t.unit)throw new r.Z("effect:type-error",`Expected <double>, Actual: ${f(t)}`,{term:t})}(t),p(t.value,t),t.value}function y(t){return function(t){if("quantity"!==t.type||!(0===t.value&&null===t.unit||t.unit&&null!=g[t.unit]))throw new r.Z("effect:type-error",`Expected <length>, Actual: ${f(t)}`,{term:t})}(t),t.value*g[t.unit]||0}function x(t){switch(t.colorType){case"hex":return(0,i.a7)(t.value);case"named":return b(t.value);case"function":return function(t){if(h(t.parameters,4),v.test(t.name))return[m(t.parameters[0]),m(t.parameters[1]),m(t.parameters[2]),t.parameters[3]?m(t.parameters[3]):1];if(S.test(t.name))return(0,i.Y6)(_(t.parameters[0]),m(t.parameters[1]),m(t.parameters[2]),t.parameters[3]?m(t.parameters[3]):1);throw new r.Z("effect:syntax-error",`Invalid color function '${t.name}'`,{colorFunction:t})}(t.value)}}function b(t){if(!(0,i.St)(t))throw new r.Z("effect:unknown-color",`color '${t}' isn't valid`,{namedColor:t});return(0,i.VL)(t)}const v=/^rgba?/i,S=/^hsla?/i},38448:function(t,e,n){n.d(e,{V:function(){return o}});var i=n(73440),r=n(17155),s=(n(61432),n(96711),n(83850),n(48023));const o=t=>{let e=class extends t{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?this.portalItem?.apiKey:null}set apiKey(t){null!=t?this._override("apiKey",t):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,i._)([(0,r.Cb)({type:String})],e.prototype,"apiKey",null),e=(0,i._)([(0,s.j)("esri.layers.mixins.APIKeyMixin")],e),e}},58560:function(t,e,n){n.d(e,{Y:function(){return a}});var i=n(73440),r=n(96711),s=n(17155),o=(n(61432),n(83850),n(48023)),u=n(66619);const a=t=>{let e=class extends t{get title(){if(this._get("title")&&"defaults"!==this.originOf("title"))return this._get("title");if(this.url){const t=(0,u.Qc)(this.url);if(t?.title)return t.title}return this._get("title")||""}set title(t){this._set("title",t)}set url(t){this._set("url",(0,u.Nm)(t,r.Z.getLogger(this)))}};return(0,i._)([(0,s.Cb)()],e.prototype,"title",null),(0,i._)([(0,s.Cb)({type:String})],e.prototype,"url",null),e=(0,i._)([(0,o.j)("esri.layers.mixins.ArcGISService")],e),e}},83263:function(t,e,n){n.d(e,{h7:function(){return h},nE:function(){return a},qu:function(){return c}});var i=n(73440),r=n(17155),s=(n(61432),n(96711),n(83850),n(48023)),o=n(71840),u=n(615);const a={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:o.C}},"portal-item":{read:!0,write:{layerContainerTypes:o.C}}}}},l={read:{reader:u.ij},write:{allowNull:!0,writer:u.cW,layerContainerTypes:o.C}},c={json:{read:!1,write:!1,origins:{"web-map":l,"portal-item":l}}},h=t=>{let e=class extends t{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return(0,i._)([(0,r.Cb)(a)],e.prototype,"blendMode",void 0),(0,i._)([(0,r.Cb)(c)],e.prototype,"effect",void 0),e=(0,i._)([(0,s.j)("esri.layers.mixins.BlendLayer")],e),e}},55591:function(t,e,n){n.d(e,{N:function(){return o}});var i=n(73440),r=n(17155),s=(n(61432),n(96711),n(83850),n(48023));const o=t=>{let e=class extends t{constructor(){super(...arguments),this.customParameters=null}};return(0,i._)([(0,r.Cb)({type:Object,json:{write:{overridePolicy:t=>({enabled:!!(t&&Object.keys(t).length>0)})}}})],e.prototype,"customParameters",void 0),e=(0,i._)([(0,s.j)("esri.layers.mixins.CustomParametersMixin")],e),e}},27202:function(t,e,n){n.d(e,{I:function(){return S}});var i=n(73440),r=n(81001),s=n(10218),o=n(78619),u=n(29292),a=n(88194),l=n(96711),c=n(61100),h=n(93568),f=n(95490),p=n(17155),d=(n(61432),n(83850),n(1194)),g=n(48023),m=n(29884),_=n(75428),y=n(77601),x=n(96193),b=n(91525),v=n(47626);const S=t=>{let e=class extends t{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=(0,c.SC)(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(t){t!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",t))}readPortalItem(t,e,n){if(e.itemId)return new x.default({id:e.itemId,portal:n?.portal})}writePortalItem(t,e){t?.id&&(e.itemId=t.id)}async loadFromPortal(t,e){if(this.portalItem?.id)try{const{load:i}=await n.e(64975).then(n.bind(n,64975));return(0,h.k_)(e),await i({instance:this,supportedTypes:t.supportedTypes,validateItem:t.validateItem,supportsData:t.supportsData,layerModuleTypeMap:t.layerModuleTypeMap,populateGroupLayer:t.populateGroupLayer},e)}catch(t){throw(0,h.D_)(t)||l.Z.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})\n  ${t}`),t}}async finishLoadEditablePortalLayer(t){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(t).catch((t=>((0,h.r9)(t),!0))))}async setUserPrivileges(t,e){if(!r.default.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(e);if(this.url)try{const{features:{edit:n,fullEdit:i},content:{updateItem:r}}=await this._fetchUserPrivileges(t,e);this._set("userHasEditingPrivileges",n),this._set("userHasFullEditingPrivileges",i),this._set("userHasUpdateItemPrivileges",r)}catch(t){(0,h.r9)(t)}}async _fetchUserPrivileges(t,e){let n=this.portalItem;if(!t||!n||!n.loaded||n.sourceUrl)return this._fetchFallbackUserPrivileges(e);const i=!s.id?.findCredential(this.url),r=t===n.id;if(r&&n.portal.user)return this._getUserPrivileges(n,i);let o,u;if(r)o=n.portal.url;else try{o=await(0,_.oP)(this.url,e)}catch(t){(0,h.r9)(t)}if(!o||!(0,f.Zo)(o,n.portal.url))return this._fetchFallbackUserPrivileges(e);try{const t=null!=e?e.signal:null;u=await(s.id?.getCredential(`${o}/sharing`,{prompt:!1,signal:t}))}catch(t){(0,h.r9)(t)}if(!u)return{features:{edit:true,fullEdit:false},content:{updateItem:false}};try{if(r?await n.reload():(n=new x.default({id:t,portal:{url:o}}),await n.load(e)),n.portal.user)return this._getUserPrivileges(n,i)}catch(t){(0,h.r9)(t)}return{features:{edit:true,fullEdit:false},content:{updateItem:false}}}_getUserPrivileges(t,e){const n=(0,v.Ss)(t);return e&&(n.features.edit=!0),n}async _fetchFallbackUserPrivileges(t){let e=!0;try{e=await this._fetchUserHasEditingPrivileges(t)}catch(t){(0,h.r9)(t)}return{features:{edit:e,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(t){const e=this.url?s.id?.findCredential(this.url):null;if(!e)return!0;const n=M.credential===e?M.user:await this._fetchEditingUser(t);return M.credential=e,M.user=n,null==n?.privileges||n.privileges.includes("features:user:edit")}async _fetchEditingUser(t){const e=this.portalItem?.portal?.user;if(e)return e;const n=s.id?.findServerInfo(this.url??"");if(!n?.owningSystemUrl)return null;const i=`${n.owningSystemUrl}/sharing/rest`,r=y.Z.getDefault();if(r&&r.loaded&&(0,f.Fv)(r.restUrl)===(0,f.Fv)(i))return r.user;const a=`${i}/community/self`,l=null!=t?t.signal:null,c=await(0,u.q6)((0,o.Z)(a,{authMode:"no-prompt",query:{f:"json"},signal:l}));return c.ok?b.Z.fromJSON(c.value.data):null}read(t,e){e&&(e.layer=this),super.read(t,e)}write(t,e){const n=e?.portal,i=this.portalItem?.id&&(this.portalItem.portal||y.Z.getDefault());return n&&i&&!(0,f.tm)(i.restUrl,n.restUrl)?(e.messages&&e.messages.push(new a.Z("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(t,{...e,layer:this})}};return(0,i._)([(0,p.Cb)({type:x.default})],e.prototype,"portalItem",null),(0,i._)([(0,d.r)("web-document","portalItem",["itemId"])],e.prototype,"readPortalItem",null),(0,i._)([(0,m.c)("web-document","portalItem",{itemId:{type:String}})],e.prototype,"writePortalItem",null),(0,i._)([(0,p.Cb)({clonable:!1})],e.prototype,"resourceReferences",void 0),(0,i._)([(0,p.Cb)({type:Boolean,readOnly:!0})],e.prototype,"userHasEditingPrivileges",void 0),(0,i._)([(0,p.Cb)({type:Boolean,readOnly:!0})],e.prototype,"userHasFullEditingPrivileges",void 0),(0,i._)([(0,p.Cb)({type:Boolean,readOnly:!0})],e.prototype,"userHasUpdateItemPrivileges",void 0),e=(0,i._)([(0,g.j)("esri.layers.mixins.PortalLayer")],e),e},M={credential:null,user:null}},19306:function(t,e,n){n.d(e,{Q:function(){return v},d:function(){return b}});var i=n(73440),r=(n(61432),n(96711)),s=n(93568),o=n(17155),u=n(90775),a=(n(83850),n(48023)),l=n(71840),c=n(43254),h=n(90403),f=n(21260);const p=new c.Z,d=new WeakMap;function g(t){return null!=t&&"object"==typeof t&&"refreshInterval"in t&&"refresh"in t}function m(t,e){return Number.isFinite(t)&&Number.isFinite(e)?e<=0?t:m(e,t%e):0}let _=0,y=0;function x(){const t=Date.now();let e=!1;for(const n of p){const i=n.deref();i?i.refreshInterval&&t-(d.get(i)??0)+5>=6e4*i.refreshInterval&&(d.set(i,t),i.refresh(t)):e=!0}if(e)for(let t=p.length-1;t>=0;t--)p.at(t).deref()||p.removeAt(t)}(0,f.EH)((()=>{const t=Date.now();let e=0;for(const n of p){const i=n.deref();i&&(e=m(Math.round(6e4*i.refreshInterval),e),i.refreshInterval?d.get(i)||d.set(i,t):d.delete(i))}if(e!==y){if(y=e,clearInterval(_),0===y)return void(_=0);_=setInterval(x,y)}}),h.Z_);function b(t){return null!=t&&"object"==typeof t&&"refreshTimestamp"in t&&"refresh"in t}const v=t=>{let e=class extends t{constructor(...t){super(...t),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=(0,s.Ds)((()=>this.hasDataChanged())),this.when().then((()=>{this.destroyed||function(t){g(t)&&p.push(new WeakRef(t))}(this)}),(()=>{}))}destroy(){!function(t){const e=p.find((e=>e.deref()===t));e&&p.remove(e)}(this)}castRefreshInterval(t){return t>=.1?t:t<=0?0:.1}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(t=Date.now()){(0,s.R8)(this._debounceHasDataChanged()).then((e=>{e&&this._set("refreshTimestamp",t),this.emit("refresh",{dataChanged:e})}),(t=>{r.Z.getLogger(this).error(t),this.emit("refresh",{dataChanged:!1,error:t})}))}async hasDataChanged(){return!0}get test(){}};return(0,i._)([(0,o.Cb)({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:l.C}}}}})],e.prototype,"refreshInterval",void 0),(0,i._)([(0,u.p)("refreshInterval")],e.prototype,"castRefreshInterval",null),(0,i._)([(0,o.Cb)({readOnly:!0})],e.prototype,"refreshTimestamp",void 0),(0,i._)([(0,o.Cb)({readOnly:!0})],e.prototype,"refreshParameters",null),e=(0,i._)([(0,a.j)("esri.layers.mixins.RefreshableLayer")],e),e}},3752:function(t,e,n){n.d(e,{M:function(){return o}});var i=n(73440),r=n(17155),s=(n(61432),n(96711),n(83850),n(48023));const o=t=>{let e=class extends t{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const t={minScale:this.minScale,maxScale:this.maxScale},e=this.parent;e&&"effectiveScaleRange"in e&&function(t,e){t.minScale=t.minScale>0?e.minScale>0?Math.min(t.minScale,e.minScale):t.minScale:e.minScale,t.maxScale=t.maxScale>0?e.maxScale>0?Math.max(t.maxScale,e.maxScale):t.maxScale:e.maxScale}(t,e.effectiveScaleRange);const n=this._get("effectiveScaleRange");return n&&n.minScale===t.minScale&&n.maxScale===t.maxScale?n:t}};return(0,i._)([(0,r.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"minScale",void 0),(0,i._)([(0,r.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],e.prototype,"maxScale",void 0),(0,i._)([(0,r.Cb)({readOnly:!0})],e.prototype,"effectiveScaleRange",null),e=(0,i._)([(0,s.j)("esri.layers.mixins.ScaleRangeLayer")],e),e}},44252:function(t,e,n){var i,r,s,o,u,a,l,c,h,f,p,d,g,m,_,y,x,b,v,S,M,w,C,P,A,T,R,E,L,z,I,O,N,D,F,k,B,U,H,W,Z,$,j,q,G,V,J,Y,K,Q,X,tt,et,nt,it,rt,st,ot,ut,at,lt,ct,ht;n.d(e,{$y:function(){return C},AH:function(){return r},BZ:function(){return P},CS:function(){return K},DD:function(){return c},Dd:function(){return z},Em:function(){return w},IB:function(){return d},IH:function(){return rt},JS:function(){return J},Ky:function(){return h},Lh:function(){return Q},Qb:function(){return ut},RL:function(){return i},RS:function(){return lt},TF:function(){return M},Tx:function(){return u},UR:function(){return b},UX:function(){return ot},bj:function(){return Y},eZ:function(){return l},id:function(){return T},kP:function(){return U},mC:function(){return nt},of:function(){return p},r4:function(){return $},sj:function(){return H},v2:function(){return s},zQ:function(){return L},zV:function(){return x}}),function(t){t[t.BUTT=0]="BUTT",t[t.ROUND=1]="ROUND",t[t.SQUARE=2]="SQUARE",t[t.UNKNOWN=4]="UNKNOWN"}(i||(i={})),function(t){t[t.BEVEL=0]="BEVEL",t[t.ROUND=1]="ROUND",t[t.MITER=2]="MITER",t[t.UNKNOWN=4]="UNKNOWN"}(r||(r={})),function(t){t[t.SCREEN=0]="SCREEN",t[t.MAP=1]="MAP"}(s||(s={})),function(t){t[t.Tint=0]="Tint",t[t.Ignore=1]="Ignore",t[t.Multiply=99]="Multiply"}(o||(o={})),function(t){t.Both="Both",t.JustBegin="JustBegin",t.JustEnd="JustEnd",t.None="None"}(u||(u={})),function(t){t[t.Mosaic=0]="Mosaic",t[t.Centered=1]="Centered"}(a||(a={})),function(t){t[t.Normal=0]="Normal",t[t.Superscript=1]="Superscript",t[t.Subscript=2]="Subscript"}(l||(l={})),function(t){t[t.MSSymbol=0]="MSSymbol",t[t.Unicode=1]="Unicode"}(c||(c={})),function(t){t[t.Unspecified=0]="Unspecified",t[t.TrueType=1]="TrueType",t[t.PSOpenType=2]="PSOpenType",t[t.TTOpenType=3]="TTOpenType",t[t.Type1=4]="Type1"}(h||(h={})),function(t){t[t.Display=0]="Display",t[t.Map=1]="Map"}(f||(f={})),function(t){t.None="None",t.Loop="Loop",t.Oscillate="Oscillate"}(p||(p={})),function(t){t.Linear="Linear",t.EaseIn="EaseIn",t.EaseOut="EaseOut",t.EaseInOut="EaseInOut"}(d||(d={})),function(t){t[t.Z=0]="Z",t[t.X=1]="X",t[t.Y=2]="Y"}(g||(g={})),function(t){t[t.XYZ=0]="XYZ",t[t.ZXY=1]="ZXY",t[t.YXZ=2]="YXZ"}(m||(m={})),function(t){t[t.Rectangle=0]="Rectangle",t[t.RoundedRectangle=1]="RoundedRectangle",t[t.Oval=2]="Oval"}(_||(_={})),function(t){t[t.None=0]="None",t[t.Alpha=1]="Alpha",t[t.Screen=2]="Screen",t[t.Multiply=3]="Multiply",t[t.Add=4]="Add"}(y||(y={})),function(t){t[t.TTB=0]="TTB",t[t.RTL=1]="RTL",t[t.BTT=2]="BTT"}(x||(x={})),function(t){t[t.None=0]="None",t[t.SignPost=1]="SignPost",t[t.FaceNearPlane=2]="FaceNearPlane"}(b||(b={})),function(t){t[t.Float=0]="Float",t[t.String=1]="String",t[t.Boolean=2]="Boolean"}(v||(v={})),function(t){t[t.Intersect=0]="Intersect",t[t.Subtract=1]="Subtract"}(S||(S={})),function(t){t.OpenEnded="OpenEnded",t.Block="Block",t.Crossed="Crossed"}(M||(M={})),function(t){t.FullGeometry="FullGeometry",t.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment",t.ReversedFirstSegment="ReversedFirstSegment",t.PerpendicularToSecondSegment="PerpendicularToSecondSegment",t.SecondSegmentWithTicks="SecondSegmentWithTicks",t.DoublePerpendicular="DoublePerpendicular",t.OppositeToFirstSegment="OppositeToFirstSegment",t.TriplePerpendicular="TriplePerpendicular",t.HalfCircleFirstSegment="HalfCircleFirstSegment",t.HalfCircleSecondSegment="HalfCircleSecondSegment",t.HalfCircleExtended="HalfCircleExtended",t.OpenCircle="OpenCircle",t.CoverageEdgesWithTicks="CoverageEdgesWithTicks",t.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks",t.GapExtentMidline="GapExtentMidline",t.Chevron="Chevron",t.PerpendicularWithArc="PerpendicularWithArc",t.ClosedHalfCircle="ClosedHalfCircle",t.TripleParallelExtended="TripleParallelExtended",t.ParallelWithTicks="ParallelWithTicks",t.Parallel="Parallel",t.PerpendicularToFirstSegment="PerpendicularToFirstSegment",t.ParallelOffset="ParallelOffset",t.OffsetOpposite="OffsetOpposite",t.OffsetSame="OffsetSame",t.CircleWithArc="CircleWithArc",t.DoubleJog="DoubleJog",t.PerpendicularOffset="PerpendicularOffset",t.LineExcludingLastSegment="LineExcludingLastSegment",t.MultivertexArrow="MultivertexArrow",t.CrossedArrow="CrossedArrow",t.ChevronArrow="ChevronArrow",t.ChevronArrowOffset="ChevronArrowOffset",t.PartialFirstSegment="PartialFirstSegment",t.Arch="Arch",t.CurvedParallelTicks="CurvedParallelTicks",t.Arc90Degrees="Arc90Degrees",t.TipWithPerpendicularAndTicks="TipWithPerpendicularAndTicks",t.ConcentricCircles="ConcentricCircles",t.DoubleJogArrow="DoubleJogArrow",t.LinkedChevrons="LinkedChevrons",t.SegmentThenHalfCircle="SegmentThenHalfCircle",t.LineWithStraightTicks="LineWithStraightTicks",t.DoubleCurve="DoubleCurve",t.ParallelWithTicksByWidth="ParallelWithTicksByWidth",t.EnclosingRoundedRectangle="EnclosingRoundedRectangle"}(w||(w={})),function(t){t.Mitered="Mitered",t.Bevelled="Bevelled",t.Rounded="Rounded",t.Square="Square",t.TrueBuffer="TrueBuffer"}(C||(C={})),function(t){t.ClosePath="ClosePath",t.ConvexHull="ConvexHull",t.RectangularBox="RectangularBox"}(P||(P={})),function(t){t.BeginningOfLine="BeginningOfLine",t.EndOfLine="EndOfLine"}(A||(A={})),function(t){t.Mitered="Mitered",t.Bevelled="Bevelled",t.Rounded="Rounded",t.Square="Square"}(T||(T={})),function(t){t.Fast="Fast",t.Accurate="Accurate"}(R||(R={})),function(t){t.BeginningOfLine="BeginningOfLine",t.EndOfLine="EndOfLine"}(E||(E={})),function(t){t.Sinus="Sinus",t.Square="Square",t.Triangle="Triangle",t.Random="Random"}(L||(L={})),function(t){t[t.None=0]="None",t[t.Default=1]="Default",t[t.Force=2]="Force"}(z||(z={})),function(t){t[t.Buffered=0]="Buffered",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.AlongLine=3]="AlongLine"}(I||(I={})),function(t){t[t.Linear=0]="Linear",t[t.Rectangular=1]="Rectangular",t[t.Circular=2]="Circular",t[t.Buffered=3]="Buffered"}(O||(O={})),function(t){t[t.Discrete=0]="Discrete",t[t.Continuous=1]="Continuous"}(N||(N={})),function(t){t[t.AcrossLine=0]="AcrossLine",t[t.AlongLine=1]="AlongLine"}(D||(D={})),function(t){t[t.Auto=0]="Auto",t[t.Clockwise=1]="Clockwise",t[t.Counterclockwise=2]="Counterclockwise"}(F||(F={})),function(t){t[t.Left=0]="Left",t[t.Right=1]="Right",t[t.Center=2]="Center",t[t.Justify=3]="Justify"}(k||(k={})),function(t){t[t.Base=0]="Base",t[t.MidPoint=1]="MidPoint",t[t.ThreePoint=2]="ThreePoint",t[t.FourPoint=3]="FourPoint",t[t.Underline=4]="Underline",t[t.CircularCW=5]="CircularCW",t[t.CircularCCW=6]="CircularCCW"}(B||(B={})),function(t){t.Butt="Butt",t.Round="Round",t.Square="Square"}(U||(U={})),function(t){t.NoConstraint="NoConstraint",t.HalfPattern="HalfPattern",t.HalfGap="HalfGap",t.FullPattern="FullPattern",t.FullGap="FullGap",t.Custom="Custom"}(H||(H={})),function(t){t[t.None=-1]="None",t[t.Custom=0]="Custom",t[t.Circle=1]="Circle",t[t.OpenArrow=2]="OpenArrow",t[t.ClosedArrow=3]="ClosedArrow",t[t.Diamond=4]="Diamond"}(W||(W={})),function(t){t[t.ExtraLeading=0]="ExtraLeading",t[t.Multiple=1]="Multiple",t[t.Exact=2]="Exact"}(Z||(Z={})),function(t){t.Bevel="Bevel",t.Round="Round",t.Miter="Miter"}($||($={})),function(t){t[t.Default=0]="Default",t[t.String=1]="String",t[t.Numeric=2]="Numeric"}(j||(j={})),function(t){t[t.InsidePolygon=0]="InsidePolygon",t[t.PolygonCenter=1]="PolygonCenter",t[t.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"}(q||(q={})),function(t){t[t.Tint=0]="Tint",t[t.Replace=1]="Replace",t[t.Multiply=2]="Multiply"}(G||(G={})),function(t){t[t.ClipAtBoundary=0]="ClipAtBoundary",t[t.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary",t[t.DoNotTouchBoundary=2]="DoNotTouchBoundary",t[t.DoNotClip=3]="DoNotClip"}(V||(V={})),function(t){t.NoConstraint="NoConstraint",t.WithMarkers="WithMarkers",t.WithFullGap="WithFullGap",t.WithHalfGap="WithHalfGap",t.Custom="Custom"}(J||(J={})),function(t){t.Fixed="Fixed",t.Random="Random",t.RandomFixedQuantity="RandomFixedQuantity"}(Y||(Y={})),function(t){t.LineMiddle="LineMiddle",t.LineBeginning="LineBeginning",t.LineEnd="LineEnd",t.SegmentMidpoint="SegmentMidpoint"}(K||(K={})),function(t){t.OnPolygon="OnPolygon",t.CenterOfMass="CenterOfMass",t.BoundingBoxCenter="BoundingBoxCenter"}(Q||(Q={})),function(t){t[t.Low=0]="Low",t[t.Medium=1]="Medium",t[t.High=2]="High"}(X||(X={})),function(t){t[t.MarkerCenter=0]="MarkerCenter",t[t.MarkerBounds=1]="MarkerBounds"}(tt||(tt={})),function(t){t[t.None=0]="None",t[t.PropUniform=1]="PropUniform",t[t.PropNonuniform=2]="PropNonuniform",t[t.DifUniform=3]="DifUniform",t[t.DifNonuniform=4]="DifNonuniform"}(et||(et={})),function(t){t.Tube="Tube",t.Strip="Strip",t.Wall="Wall"}(nt||(nt={})),function(t){t[t.Random=0]="Random",t[t.Increasing=1]="Increasing",t[t.Decreasing=2]="Decreasing",t[t.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"}(it||(it={})),function(t){t[t.Relative=0]="Relative",t[t.Absolute=1]="Absolute"}(rt||(rt={})),function(t){t[t.Normal=0]="Normal",t[t.LowerCase=1]="LowerCase",t[t.Allcaps=2]="Allcaps"}(st||(st={})),function(t){t[t.LTR=0]="LTR",t[t.RTL=1]="RTL"}(ot||(ot={})),function(t){t.Draft="Draft",t.Picture="Picture",t.Text="Text"}(ut||(ut={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Baseline=2]="Baseline",t[t.Bottom=3]="Bottom"}(at||(at={})),function(t){t[t.Right=0]="Right",t[t.Upright=1]="Upright"}(lt||(lt={})),function(t){t[t.Small=0]="Small",t[t.Medium=1]="Medium",t[t.Large=2]="Large"}(ct||(ct={})),function(t){t[t.Calm=0]="Calm",t[t.Rippled=1]="Rippled",t[t.Slight=2]="Slight",t[t.Moderate=3]="Moderate"}(ht||(ht={}))},99719:function(t,e,n){n.d(e,{DQ:function(){return h},FM:function(){return s},KU:function(){return m},Of:function(){return _},Or:function(){return f},Px:function(){return x},RD:function(){return o},Wg:function(){return v},Z0:function(){return y},k3:function(){return d},nF:function(){return l},pK:function(){return b},s5:function(){return p},sX:function(){return g},yF:function(){return u}});var i=n(28931),r=n(82394);const s=Number.POSITIVE_INFINITY,o=Math.PI,u=2*o,a=128/o,l=o/180,c=1/Math.LN2;function h(t,e){return(t%=e)>=0?t:t+e}function f(t){return h(t*a,256)}function p(t){return h(.7111111111111111*t,256)}function d(t){return Math.log(t)*c}function g(t,e,n){return t*(1-n)+e*n}function m(t){return 8+Math.max(16*(t-14),0)}function _(t,e,n){let i,r,s,o=0;for(const u of n){i=u.length;for(let n=1;n<i;++n)r=u[n-1],s=u[n],r.y>e!=s.y>e&&((s.x-r.x)*(e-r.y)-(s.y-r.y)*(t-r.x)>0?o++:o--)}return 0!==o}function y(t,e,n,r){let s,o,u,a;const l=r*r;for(const r of n){const n=r.length;if(!(n<2)){s=r[0].x,o=r[0].y;for(let c=1;c<n;++c){if(u=r[c].x,a=r[c].y,(0,i.Hu)(t,e,s,o,u,a)<l)return!0;s=u,o=a}}}return!1}function x(t,e,n,i,r,s,o){const u=Math.max(i,Math.min(e,s))-e,a=Math.max(r,Math.min(n,o))-n;return u*u+a*a<=t*t}function b(t,e){if(0===e||Number.isNaN(e))return t;const n=[],i=new r.E9(0,0),s=new r.E9(0,0),o=new r.E9(0,0);for(let u=0;u<t.length;u++){const a=t[u],l=[];for(let t=0;t<a.length;t++){const n=a[t-1],u=a[t],c=a[t+1];0===t?i.setCoords(0,0):i.assignSub(u,n).normalize().rightPerpendicular(),t===a.length-1?s.setCoords(0,0):s.assignSub(c,u).normalize().rightPerpendicular(),o.assignAdd(i,s).normalize();const h=o.x*s.x+o.y*s.y;0!==h&&o.scale(1/h),l.push(r.E9.add(u,o.scale(e)))}n.push(l)}return n}function v(t,e,n,i){const s=new r.E9(t[0],t[1]);if(s.scale(i),"viewport"===e){const t=-n*(Math.PI/180),e=Math.cos(t),i=Math.sin(t);s.rotate(e,i)}return s}},30393:function(t,e,n){n.d(e,{A5:function(){return b},IZ:function(){return a},JS:function(){return _},KA:function(){return y},NT:function(){return v},Vo:function(){return d},_8:function(){return x},_E:function(){return p},aV:function(){return m},dD:function(){return f},do:function(){return h},g3:function(){return l},gj:function(){return o},i9:function(){return i},iD:function(){return s},kU:function(){return c},s4:function(){return g},uk:function(){return r},wi:function(){return u}});const i=512,r=29,s=24,o=4;var u;!function(t){t[t.FilterFlags=0]="FilterFlags",t[t.Animation=1]="Animation",t[t.GPGPU=2]="GPGPU",t[t.VV=3]="VV",t[t.DD0=4]="DD0",t[t.DD1=5]="DD1",t[t.DD2=6]="DD2",t[t.LocalTimeOrigin=7]="LocalTimeOrigin"}(u||(u={}));const a=6,l=1<<a,c=l<<1,h=1.05,f=5,p=6,d=1.15,g=4,m=1,_=10,y=1024,x=256,b=32,v=512}}]);