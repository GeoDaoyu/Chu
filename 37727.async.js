"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[37727],{59979:function(t,e,i){var a;i.d(e,{d:function(){return a}}),function(t){t[t.TRANSLATE_Z=0]="TRANSLATE_Z",t[t.TRANSLATE_XY=1]="TRANSLATE_XY",t[t.SCALE=2]="SCALE",t[t.ROTATE=3]="ROTATE",t[t.SCALE_ROTATE=4]="SCALE_ROTATE"}(a||(a={}))},72626:function(t,e,i){i.d(e,{w:function(){return n}});var a=i(530);class n extends a.b{constructor(){super(...arguments),this._interactive=!0}get interactive(){return this._interactive}set interactive(t){this._interactive!==t&&(this._interactive=t),this._updateManipulatorInteractivity()}_updateManipulatorInteractivity(){const t=!this.grabbing&&this._interactive;this.forEachManipulator((e=>{e.interactive=t||e.grabbing}))}}},530:function(t,e,i){i.d(e,{b:function(){return n}});var a=i(3682);class n{constructor(){this._available=!0}set location(t){this._forEachManipulator3D((e=>e.location=t))}set elevationAlignedLocation(t){this._forEachManipulator3D((e=>e.elevationAlignedLocation=t))}set elevationInfo(t){this._forEachManipulator3D((e=>e.elevationInfo=t))}get renderLocation(){let t;return this._forEachManipulator3D((e=>{t||(t=e.renderLocation)})),t}set renderLocation(t){this._forEachManipulator3D((e=>e.renderLocation=t))}get available(){return this._available}set available(t){this._available=t,this._forEachManipulator3D((e=>e.available=t))}get hovering(){return this.someManipulator((t=>t.hovering))}get grabbing(){return this.someManipulator((t=>t.grabbing))}get dragging(){return this.someManipulator((t=>t.dragging))}get selected(){return this.someManipulator((t=>t.selected))}hasManipulator(t){return this.someManipulator((e=>e===t))}someManipulator(t){let e=!1;return this.forEachManipulator((i=>{!e&&t(i)&&(e=!0)})),e}_forEachManipulator3D(t){this.forEachManipulator(((e,i)=>{e instanceof a.Z&&t(e,i)}))}}},37727:function(t,e,i){i.d(e,{p:function(){return G},b:function(){return j}});var a=i(12818),n=i(50702),r=i(61432),s=i(90403),o=i(59979),l=i(45501),c=i(72626),u=i(53147),h=i(87833),d=i(61100),p=i(31865),_=i(10934),f=i(24910),g=i(82846),M=i(69811),w=i(3682),m=i(23496),v=i(23857),y=i(530),A=i(21753),x=i(32420),O=i(86026),S=i(19596),T=i(80147),b=i(69880),E=i(55541);class C extends y.b{constructor(t){super(),this._handles=new a.Z,this._arrowManipulatorInfos=new Array,this._angle=0,this._scale=1,this._radius=l.dB,this._updateAfterDrag=!1,this.events=new h.Z,this._tool=t.tool,this._view=t.view,this._opaqueMaterial=this._createMaterial(),this._transparentMaterial=this._createMaterial(.5),null!=t.radius&&(this._radius=t.radius),this._createManipulators(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}set orthogonalAvailable(t){this._arrowManipulatorInfos.length>=3&&(this._arrowManipulatorInfos[1].manipulator.available=t,this._arrowManipulatorInfos[3].manipulator.available=t)}destroy(){this._handles=(0,d.SC)(this._handles),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._arrowManipulatorInfos.length=0}forEachManipulator(t){for(const{manipulator:e}of this._arrowManipulatorInfos)t(e,o.d.TRANSLATE_XY)}createManipulatedObjectDragPipeline(t,e,i){if(!e.operations)return(0,n.kB)();const a=e.operations.data.spatialReference,r=e.graphic;return(0,A.$)(e,i,(i=>this.createDragPipeline(((e,a,n,r,s)=>(({steps:a,cancel:n}=t(e,a,n,r,s)),i(e,a,n))),e.elevationInfo,a,r)))}createDragPipeline(t,e,i,a){return(0,n.AL)(this._arrowManipulatorInfos.map((({manipulator:n},r)=>(0,b.Xd)(n,((n,s,l,c,u)=>{const h=s.next((t=>({...t,manipulatorType:o.d.TRANSLATE_XY}))).next((0,b.kY)(this._view,n.elevationAlignedLocation)).next((0,v.G)(this._view,n.elevationAlignedLocation,e,i,a)).next((0,b.M2)(n.location,this.angle+(r+1)*Math.PI*.5)).next((0,b.zh)());t(n,h,l,c,u)})))))}get angle(){return this._angle}set angle(t){this._angle=t,this.dragging?this._updateAfterDrag=!0:this._updateManipulatorTransform()}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get radius(){return this._radius}set radius(t){this._radius!==t&&(this._radius=t,this._updateManipulators())}_updateManipulators(){for(let t=0;t<this._arrowManipulatorInfos.length;t++)this._updateArrowManipulator(this._arrowManipulatorInfos[t],t);this._updateManipulatorTransform()}_updateArrowManipulator({manipulator:t,transform:e},i){const a=this._radius/l.dB,n=l.fJ*a,r=n*Math.sqrt(3)/2,s=(0,O.DA)(this._opaqueMaterial,r,n/2,n/2,l.PM);(0,O.mx)(s,(0,p.vc)(M.MP.get(),(0,f.i)(M.WM.get(),0,-r/3,0))),t.renderObjects=[new m.r(s,E.Q9.Focused),new m.r(s.instantiate({material:this._transparentMaterial}),E.Q9.Unfocused)],t.radius=r/3*2*1.2;const o=(0,p.QO)(M.MP.get(),i*Math.PI/2),c=(0,p.vc)(M.MP.get(),(0,f.i)(M.WM.get(),0,l.ou*a,0));(0,p.Jp)(e,o,c)}_createManipulators(){for(let t=0;t<4;t++){const e=this._createArrowManipulator(t);this._arrowManipulatorInfos.push(e)}this._updateManipulatorTransform()}_updateManipulatorTransform(){const t=this.angle,e=(0,p.Us)(M.MP.get(),t,(0,g.al)(0,0,1));if(null==e)return;const i=(0,p.xJ)(M.MP.get(),(0,f.i)(M.WM.get(),this.displayScale,this.displayScale,this.displayScale)),a=(0,p.Jp)(M.MP.get(),i,e);for(const t of this._arrowManipulatorInfos){const e=(0,p.Jp)(M.MP.get(),a,t.transform);t.manipulator.modelTransform=e}}_createArrowManipulator(t){const e=new w.Z({view:this._view,autoScaleRenderObjects:!1,worldOriented:!0,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:(0,g.al)(0,0,1)}}),i={manipulator:e,transform:(0,_.Ue)()};return this._updateArrowManipulator(i,t),this._handles.add(e.events.on("drag",(t=>{this._updateAfterDrag&&"end"===t.action&&!this.dragging&&(this._updateManipulatorTransform(),this._updateAfterDrag=!1)}))),i}_createMaterial(t=1){const e=new T.E({cullFace:x.Vr.Back,renderOccluded:S.yD.Transparent,isDecoration:!0});return this._handles.add((0,s.YP)((()=>u.Z.toUnitRGBA(this._view.effectiveTheme.accentColor)),(i=>{i[3]*=t,e.setParameters({color:i})}),s.nn)),e}get test(){}}var D=i(51870);class P{constructor(){this._view=null,this._elevationInfo=null,this._lastDragEvent=null,this._next=null,this._enabled=!1}get enabled(){return this._enabled}set enabled(t){if(this._enabled!==t&&null!=this._lastDragEvent&&null!=this._next){const e=this._lastDragEvent.mapEnd,i=this._snap(this._lastDragEvent.screenEnd);if(null!=i){const a={action:"update",mapStart:this._lastDragEvent.mapStart,mapEnd:!0===t?i:e,screenStart:this._lastDragEvent.screenEnd,screenEnd:this._lastDragEvent.screenEnd};this._next.execute(a)}}this._enabled=t}_snap(t){const e=null!=this._view?this._view.toMap(t,{exclude:[]}):null;return null!=e&&null!=this._view&&(e.z=(0,D.Ou)(e,this._view,this._elevationInfo)),e}createDragEventPipelineStep(t,e){this._view=t,this._elevationInfo=e,this._lastDragEvent=null;const i=new b.hM;return this._next=i,[t=>{if(this._lastDragEvent="end"!==t.action?{...t}:null,this._enabled){const e=this._snap(t.screenEnd);return null!=e?{action:t.action,mapStart:t.mapStart,mapEnd:e,screenStart:t.screenStart,screenEnd:t.screenEnd}:null}return{action:t.action,mapStart:t.mapStart,mapEnd:t.mapEnd,screenStart:t.screenStart,screenEnd:t.screenEnd}},i]}}class z extends y.b{constructor(t){super(),this._handles=new a.Z,this._snapToScene=new P,this._scale=1,this._radius=l.dB,this._view=t.view,this._tool=t.tool,this._discMaterial=this._createMaterial(),this._discMaterialTransparent=this._createMaterial(.5),null!=t.snapToScene&&(this.snapToScene=t.snapToScene),null!=t.radius&&(this._radius=t.radius),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._handles=(0,d.SC)(this._handles),this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()})),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){t(this._manipulator,o.d.TRANSLATE_XY)}get displayScale(){return this._scale}set displayScale(t){this._scale=t,this._updateManipulatorTransform()}get snapToScene(){return this._snapToScene.enabled}set snapToScene(t){this._snapToScene.enabled=t}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}get discManipulator(){return this._manipulator}createManipulatedObjectDragPipeline(t,e,i){if(!e.operations)return(0,n.kB)();const a=e.graphic,r=e.elevationInfo,s=e.operations.data.spatialReference;return(0,A.$)(e,i,(e=>this.createDragPipeline(((i,a,n,r,s)=>(({steps:a,cancel:n}=t(i,a,n,r,s)),e(i,a,n))),r,s,a)))}createDragPipeline(t,e,i,a){const n=this._view;return(0,b.Xd)(this._manipulator,((r,s,l,c,u)=>{const h=s.next((0,b.kY)(n,r.elevationAlignedLocation)).next((0,v.G)(n,r.elevationAlignedLocation,e,i,a)).next(...this._snapToScene.createDragEventPipelineStep(n,e)).next((t=>({...t,manipulatorType:o.d.TRANSLATE_XY}))).next((0,b.zh)());t(r,h,l,c,u)}))}_updateManipulatorTransform(){const t=(0,p.xJ)(M.MP.get(),(0,f.i)(M.WM.get(),this.displayScale,this.displayScale,this.displayScale));this._manipulator.modelTransform=t}_createManipulator(){const t=this._view;this._manipulator=new w.Z({view:t,worldSized:!1,autoScaleRenderObjects:!1,focusMultiplier:1,touchMultiplier:1,collisionType:{type:"disc",direction:(0,g.al)(0,0,1)},worldOriented:!0}),this._updateManipulator()}_updateManipulator(){const t=(0,O.nb)(this._discMaterial,l.PM,1,l.NH,(0,g.al)(0,0,1),(0,g.al)(0,0,0));t.transformation=(0,p.xJ)((0,_.Ue)(),(0,g.al)(this._radius,this._radius,this._radius)),this._manipulator.renderObjects=[new m.r(t,E.Q9.Focused),new m.r(t.instantiate({material:this._discMaterialTransparent}),E.Q9.Unfocused)],this._manipulator.radius=l.sO*(this._radius/l.dB)}_createMaterial(t=1){const e=new T.E({cullFace:x.Vr.Back,renderOccluded:S.yD.Transparent,isDecoration:!0});return this._handles.add((0,s.YP)((()=>u.Z.toUnitRGBA(this._view.effectiveTheme.accentColor)),(i=>{i[3]*=t,e.setParameters({color:i})}),s.nn)),e}get test(){}}var L=i(92643),R=i(99574),Z=i(77811),I=i(42930);class X extends y.b{constructor(t){super(),this._radius=l.dB,this.events=new h.Z,this._tool=t.tool,this._view=t.view;const e=new I.Z({getTheme:()=>this._view.effectiveTheme});this._settings=e,null!=t.radius&&(this._radius=t.radius);const i=this._view.effectiveTheme.accentColor;this._materials={materialUnfocused:(0,Z.EA)(Y(i,1,.25),S.yD.Occlude),materialFocused:(0,Z.EA)(Y(i,1,0),S.yD.Occlude),materialOccludedUnfocused:(0,Z.EA)(Y(i,.7,0),e.zManipulator.renderOccluded),materialOccludedFocused:(0,Z.EA)(Y(i,.85,0),e.zManipulator.renderOccluded)},this._themeHandle=(0,s.YP)((()=>this._view.effectiveTheme.accentColor),(t=>{const e=Y(t,1,.25),i=Y(t,1,0),a=Y(t,.7,0),n=Y(t,.85,0),{materialUnfocused:r,materialFocused:s,materialOccludedUnfocused:o,materialOccludedFocused:l}=this._materials;r.setParameters({color:e}),s.setParameters({color:i}),o.setParameters({color:a}),l.setParameters({color:n})})),this._createManipulator(),this.forEachManipulator((t=>this._tool.manipulators.add(t)))}destroy(){this._themeHandle=(0,d.hw)(this._themeHandle),this._manipulator.applyObjectTransform=B,this.forEachManipulator((t=>{this._tool.manipulators.remove(t),t.destroy()}))}forEachManipulator(t){t(this._manipulator,o.d.TRANSLATE_Z)}createManipulatedObjectDragPipeline(t,e,i){if(!e.operations)return(0,n.kB)();const a=e.operations.data.spatialReference;return(0,A.$)(e,i,(e=>this.createDragPipeline(((i,a,n,r,s)=>(({steps:a,cancel:n}=t(i,a,n,r,s)),e(i,a,n))),a)))}createDragPipeline(t,e){const i=this._view;return(0,b.Xd)(this._manipulator,((a,n,r,s,l)=>{const c=n.next((t=>({...t,manipulatorType:o.d.TRANSLATE_Z}))).next((0,v.Sp)(i,a.renderLocation,e)).next((0,b.zh)());t(a,c,r,s,l)}))}get radius(){return this._radius}set radius(t){t!==this._radius&&(this._radius=t,this._updateManipulator())}_updateManipulator(){const t=this._settings,e=this._radius/l.dB,i=t.zManipulator.height*e,a=t.zManipulator.coneHeight*e,n=t.zManipulator.coneWidth*e,r=t.zManipulator.width*e,s=[(0,g.al)(0,0,0),(0,g.al)(0,0,i)],o=[(0,g.al)(0,0,0),(0,g.al)(0,0,i+a)],c=(()=>{const t=(0,_.Ue)();return(0,p.Iu)(t,t,[0,0,i]),(0,p.lM)(t,t,Math.PI/2),t})(),{materialUnfocused:u,materialFocused:h,materialOccludedUnfocused:d,materialOccludedFocused:f}=this._materials,M=(0,O.PD)(u,s,r/2,16,!1),w=(0,O.QL)(u,a,n/2,16,!1);w.transformation=c,this._manipulator.renderObjects=[new m.r(w,E.Q9.Unfocused),new m.r(M,E.Q9.Unfocused),new m.r(w.instantiate({material:h}),E.Q9.Focused),new m.r(M.instantiate({material:h}),E.Q9.Focused),new m.r(w.instantiate({material:d}),E.Q9.Unfocused),new m.r(M.instantiate({material:d}),E.Q9.Unfocused),new m.r(w.instantiate({material:f}),E.Q9.Focused),new m.r(M.instantiate({material:f}),E.Q9.Focused)],this._manipulator.radius=r/2+2,this._manipulator.collisionType={type:"line",paths:[o]}}_createManipulator(){const t=this._view,e=new w.Z({view:t,autoScaleRenderObjects:!1,worldSized:!1,selectable:!1,cursor:"ns-resize",elevationInfo:this.elevationInfo,worldOriented:!0,collisionPriority:1.6});e.applyObjectTransform=e=>{const i=t.state.camera,a=U;t.renderCoordsHelper.toRenderCoords(this._manipulator.elevationAlignedLocation,a);const n=(0,f.F)(i.eye,a),r=i.computeRenderPixelSizeAtDist(n),s=(0,f.d)(F,a,i.eye);(0,f.n)(s,s);const o=W;t.renderCoordsHelper.worldUpAtPosition(U,o);const c=Math.abs((0,f.e)(s,o)),u=(0,f.h)(F,s,o),h=(0,f.h)(F,u,o),d=(0,R.uZ)(c,.01,1),p=1-Math.sqrt(1-d*d)/d/i.fullWidth,_=this._settings,g=this._radius/l.dB,M=_.zManipulator.width*g;(0,f.g)(h,(0,f.n)(h,h),(1/p-1)*n+r*M),e[12]-=F[0],e[13]-=F[1],e[14]-=F[2]},this._manipulator=e,this._updateManipulator()}get test(){}}function Y(t,e,i){const a=(0,L._j)(t,i);return a.a*=e,u.Z.toUnitRGBA(a)}const U=(0,g.Ue)(),F=(0,g.Ue)(),W=(0,g.Ue)(),B=()=>{};class j extends c.w{constructor(t){super(),this._handles=new a.Z;const{tool:e,view:i,snapToScene:n,radius:r}=t;this._view=i,this.xyManipulation=new z({tool:e,view:i,snapToScene:n,radius:r}),this.xyAxisManipulation=new C({tool:e,view:i,radius:r}),this.zManipulation=new X({tool:e,view:i,radius:r}),this.xyManipulation.available=t.xyAvailable,this.xyAxisManipulation.available=t.xyAxisAvailable,this.zManipulation.available=t.zAvailable,this._autoHideXYAxis(),this.forEachManipulator((t=>this._handles.add(t.events.on("grab-changed",(()=>this._updateManipulatorInteractivity())))))}destroy(){this._handles.destroy(),this.xyManipulation.destroy(),this.xyAxisManipulation.destroy(),this.zManipulation.destroy()}createManipulatedObjectDragPipeline(t,e,i){return(0,n.AL)([this.xyManipulation.createManipulatedObjectDragPipeline(((e,i,a,n,r)=>t(G.XY,e,i,a,n,r)),e,i),this.xyAxisManipulation.createManipulatedObjectDragPipeline(((e,i,a,n,r)=>t(G.XY_AXIS,e,i,a,n,r)),e,i),this.zManipulation.createManipulatedObjectDragPipeline(((e,i,a,n,r)=>t(G.Z,e,i,a,n,r)),e,i)])}createDragPipeline(t,e,i,a){return(0,n.AL)([this.xyManipulation.createDragPipeline(((e,i,a,n,r)=>t(G.XY,e,i,a,n,r)),e,i,a),this.xyAxisManipulation.createDragPipeline(((e,i,a,n,r)=>t(G.XY_AXIS,e,i,a,n,r)),e,i,a),this.zManipulation.createDragPipeline(((e,i,a,n,r)=>t(G.Z,e,i,a,n,r)),i)])}set snapToScene(t){this.xyManipulation.snapToScene=t}set angle(t){this.xyAxisManipulation.angle=t}set radius(t){this.xyAxisManipulation.radius=t,this.xyManipulation.radius=t,this.zManipulation.radius=t}set displayScale(t){this.xyManipulation.displayScale=t,this.xyAxisManipulation.displayScale=t}forEachManipulator(t){this.xyManipulation.forEachManipulator((e=>t(e,o.d.TRANSLATE_XY))),this.xyAxisManipulation.forEachManipulator((e=>t(e,o.d.TRANSLATE_XY))),this.zManipulation.forEachManipulator((e=>t(e,o.d.TRANSLATE_Z)))}get _xyAxisVisible(){const t=this.xyManipulation.someManipulator((t=>t.focused))||this.xyAxisManipulation.someManipulator((t=>t.focused));return this._view.inputManager&&"touch"===this._view.inputManager.latestPointerType||t}_autoHideXYAxis(){const t=this.xyAxisManipulation,e=this.xyManipulation;if((0,r.Z)("esri-mobile"))return;const i=[];e.forEachManipulator((t=>i.push(t))),t.forEachManipulator((t=>i.push(t)));const a=()=>{const e=[];this._xyAxisVisible||t.forEachManipulator((t=>e.push(t.disableDisplay()))),this._handles.remove(N),this._handles.add(e,N)};for(const t of i)this._handles.add(t.events.on("focus-changed",a));this._view.inputManager&&this._handles.add((0,s.gx)((()=>this._view.inputManager?.latestPointerType),a)),a()}static radiusForSymbol(t){const e=null!=t&&"point-3d"===t.type&&t.symbolLayers;return e&&e.some((t=>"icon"===t.type))?l.E5:l.dB}}const N="disable-xy-axis-display";var G,Q;(Q=G||(G={}))[Q.XY=0]="XY",Q[Q.XY_AXIS=1]="XY_AXIS",Q[Q.Z=2]="Z"},45501:function(t,e,i){i.d(e,{$8:function(){return b},An:function(){return x},Az:function(){return d},CA:function(){return u},E5:function(){return c},Fv:function(){return M},Ls:function(){return O},NH:function(){return a},PM:function(){return s},Rn:function(){return E},Sn:function(){return m},UC:function(){return _},Xt:function(){return p},YK:function(){return y},_P:function(){return A},_v:function(){return h},dB:function(){return n},f2:function(){return v},fJ:function(){return o},j6:function(){return S},oB:function(){return T},ou:function(){return l},qi:function(){return f},sO:function(){return r},uA:function(){return g},xf:function(){return w}});const a=128,n=70,r=80,s=.02,o=54,l=100,c=Math.ceil(n/3*2),u=160,h=.5,d=24,p=9,_=u+30,f=u+53,g=60,M=23,w=5*Math.PI/12,m=1*Math.PI/3,v=10,y=.2,A=30,x=53,O=.2,S=.3,T=200,b=3,E=1e6},21753:function(t,e,i){i.d(e,{$:function(){return n},h:function(){return r}});var a=i(69880);function n(t,e,i){const n=(i,a)=>{e({action:i,object:t,dxScreen:a.screenDeltaX,dyScreen:a.screenDeltaY})};return i(((e,i,r)=>(i.next((t=>("start"===t.action&&n("start",t),t))).next((0,a.$Q)(t)).next((t=>{switch(t.action){case"start":case"update":(t.translationX||t.translationY||t.translationZ)&&n("update",t);break;case"end":n("end",t)}return t})),{steps:i,cancel:r=r.next((0,a.uI)(t)).next((t=>(n("end",{screenDeltaX:0,screenDeltaY:0}),t)))})))}function r(t){if(null==t?.axis)return 1;const{mapStart:e,mapEnd:i,axis:a}=t,n=[i.x-e.x,i.y-e.y];return n[0]*a[0]+n[1]*a[1]>0?1:-1}},42930:function(t,e,i){i.d(e,{Z:function(){return S}});var a=i(73440),n=i(53147),r=i(70880),s=i(92643),o=i(17155),l=(i(61432),i(96711),i(83850),i(48023)),c=i(38078),u=i(19596),h=i(85590);const d=.3;function p(t,e){e&&Object.assign(t,e)}class _{constructor(t){this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=u.yD.Opaque,this.color=t.accent}}class f{constructor({colors:t,...e}){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=t.accent,this.outlineColor=t.outline,this.renderOccluded=u.yD.Opaque,this.hoverOutlineColor=t.selectedOutline,p(this,e)}applyColor(t){this._apply(this.color,t)}applyOutline(t){this._apply(this.outlineColor,t)}applyHoverOutline(t){this._apply(this.hoverOutlineColor,t)}_apply(t,e){e.setParameters({color:(0,s.O)(t),renderOccluded:this.renderOccluded})}}class g{constructor({colors:t,...e}){this.size=40,this.height=.2,this.offset=.25,this.collisionPadding=2,this.renderOccluded=u.yD.Transparent,this.minSquaredEdgeLength=900,this.color=(0,s.G)(t.accent,.5),this.hoverColor=t.accent,p(this,e)}applyColor(t){this._apply(this.color,t)}applyHover(t){this._apply(this.hoverColor,t)}_apply(t,e){e.setParameters({color:(0,s.O)(t),renderOccluded:this.renderOccluded})}}class M{constructor(t){this.vertex=new f({colors:t,color:t.accent,outlineColor:t.outline}),this.edge=new f({colors:t,color:(0,s.vG)((0,s.G)(t.accent,2/3),.5),outlineColor:(0,s.G)(t.outline,.5),size:8,collisionPadding:8}),this.selected=new f({colors:t,color:t.selected,outlineColor:t.outline}),this.edgeOffset=new g({colors:t})}}class w{constructor({colors:t,...e}){this.width=1.5,this.stipplePattern=(0,h.z5)(3.3),this.falloff=0,this.innerWidth=1.5,this.renderOccluded=u.yD.OccludeAndTransparent,this.color=t.selected,this.stippleOffColor=t.outline,this.innerColor=t.selected,p(this,e)}apply(t){t.color=(0,s.O)(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=(0,s.O)(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=(0,s.O)(this.innerColor),t.renderOccluded=this.renderOccluded}}class m{constructor({colors:t,...e}){this.size=4,this.outlineSize=1,this.shape="square",this.color=t.selected,this.outlineColor=t.outline,p(this,e)}apply(t){t.color=(0,s.O)(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=(0,s.O)(this.outlineColor),t.primitive=this.shape}}class v{constructor({colors:t,...e}){this.innerWidth=1,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=d,this.globalAlphaContrastBoost=1.5,this.radius=3,this.innerColor=t.selected,this.glowColor=t.accent,this.heightFillColor=t.accent,p(this,e)}apply(t,e=1){const i={glowColor:n.Z.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:n.Z.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*e*this.glowColor.a,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};"style"in t?t.style=i:t.laserlineStyle=i}}class y{constructor(t){this.outline=new w({colors:t,color:t.stippleOff,renderOccluded:u.yD.OccludeAndTransparentStencil,stippleOffColor:t.stippleOn,innerWidth:0}),this.staged=new w({colors:t,color:t.stippleOn,renderOccluded:u.yD.OccludeAndTransparentStencil,innerColor:t.stagedSolid,stippleOffColor:t.stippleOff}),this.shadowStyle=new v({colors:t,globalAlpha:d,glowColor:t.accent,glowFalloff:8,glowWidth:8,innerColor:t.selected,innerWidth:1})}}class A{constructor(t){this.outline=new m({colors:t,color:t.selected,outlineColor:t.outline,outlineSize:1,shape:"circle",size:4}),this.shadowStyle=new v({colors:t,globalAlpha:d,glowColor:t.accent,glowFalloff:1.5,glowWidth:6,innerColor:t.selected,innerWidth:1,radius:2})}}class x extends w{constructor({colors:t,...e}){super({colors:t}),this.extensionType=c.n.GROUND_RAY,p(this,e)}}class O{constructor(t){this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,this.lineObjects=new y(t),this.pointObjects=new A(t),this.heightPlane=new v({colors:t,globalAlpha:d,glowColor:t.accent,glowFalloff:8,glowWidth:8,innerColor:t.selected,innerWidth:1}),this.heightBox=new v({colors:t,globalAlpha:d,glowColor:t.accent,glowFalloff:8,glowWidth:8,innerColor:t.selected,innerWidth:0,heightFillColor:t.accent}),this.zVerticalLine=new x({colors:t,color:(0,s.G)(t.accent,.5),falloff:2,innerColor:(0,s.G)(t.selected,0),renderOccluded:u.yD.OccludeAndTransparent,stipplePattern:null,width:5,extensionType:c.n.GROUND_RAY})}}let S=class extends r.Z{constructor(t){super(t)}get colors(){const t=this.getTheme().accentColor,e=t.a;return{accent:t,contrast:(0,s.mj)(t),selected:n.Z.fromArray([255,255,255,e]),selectedOutline:n.Z.fromArray([255,255,255,e]),staged:n.Z.fromArray([12,207,255,e]),stagedSolid:n.Z.fromArray([12,207,255,1]),outline:n.Z.fromArray([0,0,0,.5*e]),stippleOn:n.Z.fromArray([255,255,255,1]),stippleOff:n.Z.fromArray([0,0,0,.5])}}get visualElements(){return new O(this.colors)}get manipulators(){return new M(this.colors)}get zManipulator(){return new _(this.colors)}};(0,a._)([(0,o.Cb)()],S.prototype,"colors",null),(0,a._)([(0,o.Cb)()],S.prototype,"visualElements",null),(0,a._)([(0,o.Cb)()],S.prototype,"manipulators",null),(0,a._)([(0,o.Cb)()],S.prototype,"zManipulator",null),(0,a._)([(0,o.Cb)()],S.prototype,"getTheme",void 0),S=(0,a._)([(0,l.j)("esri.views.3d.interactive.editingTools.settings")],S)}}]);