"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[70244],{53147:function(t,e,n){n.d(e,{Z:function(){return h}});var i,s,r=n(38461),o=n(99574),l=n(95226);function a(t){return(0,o.uZ)((0,l.vU)(t),0,255)}function u(t,e){const n=t.toString(16).padStart(2,"0");return e?n.slice(0,1):n}class p{static blendColors(t,e,n,i=new p){return i.r=Math.round(t.r+(e.r-t.r)*n),i.g=Math.round(t.g+(e.g-t.g)*n),i.b=Math.round(t.b+(e.b-t.b)*n),i.a=t.a+(e.a-t.a)*n,i._sanitize()}static fromRgb(t,e){const n=(0,r.xO)(t);return n?p.fromArray(n,e):null}static fromHex(t,e=new p){const n=(0,r.yE)(t);return n?p.fromArray(n,e):null}static fromArray(t,e=new p){return e._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(e.a)&&(e.a=1),e._sanitize()}static fromString(t,e){const n=(0,r.uh)(t);return n?p.fromArray(n,e):null}static fromJSON(t){return null!=t?new p([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return null!=t?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return null!=t?[t.r/255,t.g/255,t.b/255,null!=t.a?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return"string"==typeof t?p.fromString(t,this):Array.isArray(t)?p.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof p||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const e=t?.capitalize??!1,n=t?.digits??6,i=3===n||4===n,s=4===n||8===n,r=`#${u(this.r,i)}${u(this.g,i)}${u(this.b,i)}${s?u(Math.round(255*this.a),i):""}`;return e?r.toUpperCase():r}toCss(t=!1){const e=this.r+", "+this.g+", "+this.b;return t?`rgba(${e}, ${this.a})`:`rgb(${e})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=p.AlphaMode.ALWAYS){const e=a(this.r),n=a(this.g),i=a(this.b);return t===p.AlphaMode.ALWAYS||1!==this.a?[e,n,i,a(255*this.a)]:[e,n,i]}clone(){return new p(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return null!=t&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=(0,r.OC)(this.r),this.g=(0,r.OC)(this.g),this.b=(0,r.OC)(this.b),this.a=(0,r.I2)(this.a),this}_set(t,e,n,i){this.r=t,this.g=e,this.b=n,this.a=i}}p.prototype.declaredClass="esri.Color",i=p||(p={}),(s=i.AlphaMode||(i.AlphaMode={}))[s.ALWAYS=0]="ALWAYS",s[s.UNLESS_OPAQUE=1]="UNLESS_OPAQUE";const h=p},65475:function(t,e,n){n.d(e,{Z:function(){return y}});var i=n(73440),s=n(89314),r=n(17155),o=(n(61432),n(96711),n(83850),n(48023));let l=class extends s.Z{constructor(t){super(t),this.type="web-scene"}equals(t){return this.type===t.type}};(0,i._)([(0,r.Cb)()],l.prototype,"type",void 0),l=(0,i._)([(0,o.j)("esri.analysis.support.AnalysisOriginWebScene")],l);const a=l;var u=n(70880),p=n(15894),h=n(63255);let c=0,y=class extends(h.Z.JSONSupportMixin(s.Z.ClonableMixin(p.Z.IdentifiableMixin(u.Z)))){constructor(t){super(t),this.id=`${Date.now().toString(16)}-analysis-${c++}`,this.origin=null}get parent(){return this._get("parent")}set parent(t){const e=this.parent;if(null!=e)switch(e.type){case"line-of-sight":case"dimension":case"viewshed":e.releaseAnalysis(this);break;case"2d":case"3d":e.analyses.includes(this)&&e.analyses.remove(this)}this._set("parent",t)}equals(t){return!0}};(0,i._)([(0,r.Cb)({type:String,constructOnly:!0,clonable:!1})],y.prototype,"id",void 0),(0,i._)([(0,r.Cb)({clonable:!1,value:null})],y.prototype,"parent",null),(0,i._)([(0,r.Cb)({types:{key:"type",base:null,typeMap:{"web-scene":a}}})],y.prototype,"origin",void 0),y=(0,i._)([(0,o.j)("esri.analysis.Analysis")],y)},15307:function(t,e,n){n.d(e,{Z:function(){return d}});var i=n(73440),s=n(89013),r=n(89314),o=n(95437),l=n(63255),a=n(61100),u=n(17155),p=n(90775),h=(n(61432),n(83850),n(48023)),c=n(95226),y=n(60508);let d=class extends(l.Z.JSONSupportMixin(r.Z)){constructor(t){super(t),this.type="length",this.startPoint=null,this.endPoint=null,this.measureType=s.n.Direct,this.offset=0,this.orientation=0}get valid(){return null!=this.startPoint&&null!=this.endPoint}equals(t){return this===t||(0,a._W)(this.startPoint,t.startPoint)&&(0,a._W)(this.endPoint,t.endPoint)&&this.measureType===t.measureType&&this.offset===t.offset&&this.orientation===t.orientation}};(0,i._)([(0,u.Cb)({type:["length"],json:{write:{isRequired:!0}}})],d.prototype,"type",void 0),(0,i._)([(0,u.Cb)({type:y.Z,json:{write:{isRequired:!0}}})],d.prototype,"startPoint",void 0),(0,i._)([(0,u.Cb)({type:y.Z,json:{write:{isRequired:!0}}})],d.prototype,"endPoint",void 0),(0,i._)([(0,u.Cb)({type:s.V,nonNullable:!0,json:{write:{isRequired:!0}}})],d.prototype,"measureType",void 0),(0,i._)([(0,u.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}})],d.prototype,"offset",void 0),(0,i._)([(0,u.Cb)({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),(0,p.p)((t=>o.BV.normalize((0,c.q9)(t),0,!0)))],d.prototype,"orientation",void 0),(0,i._)([(0,u.Cb)({readOnly:!0})],d.prototype,"valid",null),d=(0,i._)([(0,h.j)("esri.analysis.LengthDimension")],d)},89013:function(t,e,n){var i;n.d(e,{V:function(){return s},n:function(){return i}}),function(t){t.Horizontal="horizontal",t.Vertical="vertical",t.Direct="direct"}(i||(i={}));const s=[i.Horizontal,i.Vertical,i.Direct]},95437:function(t,e,n){n.d(e,{BV:function(){return u},Q4:function(){return a},c5:function(){return l},pE:function(){return s}});var i=n(99574);class s{constructor(t,e){this.min=t,this.max=e,this.range=e-t}normalize(t,e=0,n=!1){return r(this.range,this.min,this.max,t,e,n)}clamp(t,e=0){return(0,i.uZ)(t-e,this.min,this.max)+e}monotonic(t,e,n){return t<e?e:e+o(this.range,t-e,n)}minimalMonotonic(t,e,n){return r(this.range,t,t+this.range,e,n)}center(t,e,n){return e=this.monotonic(t,e,n),this.normalize((t+e)/2,n)}diff(t,e,n){return this.monotonic(t,e,n)-t}shortestSignedDiff(t,e){t=this.normalize(t);const n=(e=this.normalize(e))-t,i=e<t?this.minimalMonotonic(t,e)-t:e-this.minimalMonotonic(e,t);return Math.abs(n)<Math.abs(i)?n:i}contains(t,e,n){return e=this.minimalMonotonic(t,e),(n=this.minimalMonotonic(t,n))>t&&n<e}}function r(t,e,n,i,s=0,r=!1){return(i-=s)<e?i+=o(t,e-i):i>n&&(i-=o(t,i-n)),r&&i===n&&(i=e),i+s}function o(t,e,n=0){return Math.ceil((e-n)/t)*t+n}const l=new s(0,2*Math.PI),a=new s(-Math.PI,Math.PI),u=new s(0,360)},70244:function(t,e,n){n.r(e),n.d(e,{default:function(){return Z}});var i=n(73440),s=n(65475),r=n(53147),o=n(89314),l=n(63255),a=n(96094),u=n(17155),p=n(95226),h=(n(61432),n(83850),n(48023));let c=class extends(l.Z.JSONSupportMixin(o.Z)){constructor(t){super(t),this.type="simple",this.color=new r.Z("black"),this.lineSize=2,this.fontSize=10,this.textColor=new r.Z("black"),this.textBackgroundColor=new r.Z([255,255,255,.6])}equals(t){return this===t||this.color.equals(t.color)&&this.lineSize===t.lineSize&&this.fontSize===t.fontSize&&this.textColor.equals(t.textColor)&&this.textBackgroundColor.equals(t.textBackgroundColor)}};(0,i._)([(0,u.Cb)({type:["simple"],readOnly:!0,json:{write:{isRequired:!0}}})],c.prototype,"type",void 0),(0,i._)([(0,u.Cb)({type:r.Z,nonNullable:!0,json:{type:[p.z8],write:{isRequired:!0}}})],c.prototype,"color",void 0),(0,i._)([(0,u.Cb)({type:Number,cast:a.t_,nonNullable:!0,range:{min:(0,a.Wz)(1)},json:{write:{isRequired:!0}}})],c.prototype,"lineSize",void 0),(0,i._)([(0,u.Cb)({type:Number,cast:a.t_,nonNullable:!0,json:{write:{isRequired:!0}}})],c.prototype,"fontSize",void 0),(0,i._)([(0,u.Cb)({type:r.Z,nonNullable:!0,json:{type:[p.z8],write:{isRequired:!0}}})],c.prototype,"textColor",void 0),(0,i._)([(0,u.Cb)({type:r.Z,nonNullable:!0,json:{type:[p.z8],write:{isRequired:!0}}})],c.prototype,"textBackgroundColor",void 0),c=(0,i._)([(0,h.j)("esri.analysis.DimensionSimpleStyle")],c);var y=n(15307),d=n(3480),m=n(43254),b=n(41145),g=n(90403),f=(n(96711),n(71354)),_=n(13132);const C=m.Z.ofType(y.Z);let v=class extends s.Z{constructor(t){super(t),this.type="dimension",this.style=new c,this.extent=null}initialize(){this.addHandles((0,g.YP)((()=>this._computeExtent()),(t=>{null==t?.pending&&this._set("extent",null!=t?t.extent:null)}),g.tX))}get dimensions(){return this._get("dimensions")||new C}set dimensions(t){this._set("dimensions",(0,b.Z)(t,this.dimensions,C))}get spatialReference(){for(const t of this.dimensions){if(null!=t.startPoint)return t.startPoint.spatialReference;if(null!=t.endPoint)return t.endPoint.spatialReference}return null}get valid(){return this.dimensions.every((t=>t.valid))}async waitComputeExtent(){const t=this._computeExtent();return null!=t?t.pending:Promise.resolve()}_computeExtent(){const t=this.spatialReference;if(null==t)return{pending:null,extent:null};const e=[];for(const t of this.dimensions)null!=t.startPoint&&e.push(t.startPoint),null!=t.endPoint&&e.push(t.endPoint);const n=(0,_.projectOrLoadMany)(e,t);if(null!=n.pending)return{pending:n.pending,extent:null};let i=null;return null!=n.geometries&&(i=n.geometries.reduce(((t,e)=>null==t?null!=e?f.Z.fromPoint(e):null:null!=e?t.union(f.Z.fromPoint(e)):t),null)),{pending:null,extent:i}}clear(){this.dimensions.removeAll()}equals(t){return this===t||super.equals(t)&&this.style.equals(t.style)&&(0,d.fS)(this.dimensions.toArray(),t.dimensions.toArray(),((t,e)=>t.equals(e)))}};(0,i._)([(0,u.Cb)({type:["dimension"]})],v.prototype,"type",void 0),(0,i._)([(0,u.Cb)({cast:b.R,type:C,nonNullable:!0})],v.prototype,"dimensions",null),(0,i._)([(0,u.Cb)({readOnly:!0})],v.prototype,"spatialReference",null),(0,i._)([(0,u.Cb)({types:{key:"type",base:null,typeMap:{simple:c}},nonNullable:!0})],v.prototype,"style",void 0),(0,i._)([(0,u.Cb)({value:null,readOnly:!0})],v.prototype,"extent",void 0),(0,i._)([(0,u.Cb)({readOnly:!0})],v.prototype,"valid",null),v=(0,i._)([(0,h.j)("esri.analysis.DimensionAnalysis")],v);var w=n(84060),x=n(29884),S=n(38209),A=n(85330);let P=class extends((0,A.q)((0,w.R)(S.Z))){constructor(t){if(super(t),this.type="dimension",this.operationalLayerType="ArcGISDimensionLayer",this.source=new v,this.opacity=1,t){const{source:e,style:n}=t;e&&n&&(e.style=n)}}initialize(){this.addHandles([(0,g.YP)((()=>this.source),((t,e)=>{null!=e&&e.parent===this&&(e.parent=null),null!=t&&(t.parent=this)}),g.tX)])}async load(){return this.addResolvingPromise(this.source.waitComputeExtent()),this}get spatialReference(){return this.source.spatialReference}get style(){return this.source.style}set style(t){this.source.style=t}get fullExtent(){return this.source.extent}releaseAnalysis(t){this.source===t&&(this.source=new v)}get analysis(){return this.source}set analysis(t){this.source=t}get dimensions(){return this.source.dimensions}set dimensions(t){this.source.dimensions=t}writeDimensions(t,e,n,i){e.dimensions=t.filter((({startPoint:t,endPoint:e})=>null!=t&&null!=e)).toJSON(i)}};(0,i._)([(0,u.Cb)({json:{read:!1},readOnly:!0})],P.prototype,"type",void 0),(0,i._)([(0,u.Cb)({type:["ArcGISDimensionLayer"]})],P.prototype,"operationalLayerType",void 0),(0,i._)([(0,u.Cb)({nonNullable:!0})],P.prototype,"source",void 0),(0,i._)([(0,u.Cb)({readOnly:!0})],P.prototype,"spatialReference",null),(0,i._)([(0,u.Cb)({types:{key:"type",base:null,typeMap:{simple:c}},json:{write:{ignoreOrigin:!0}}})],P.prototype,"style",null),(0,i._)([(0,u.Cb)({readOnly:!0})],P.prototype,"fullExtent",null),(0,i._)([(0,u.Cb)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],P.prototype,"opacity",void 0),(0,i._)([(0,u.Cb)({type:["show","hide"]})],P.prototype,"listMode",void 0),(0,i._)([(0,u.Cb)({type:m.Z.ofType(y.Z),json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{ignoreOrigin:!0}}}}})],P.prototype,"dimensions",null),(0,i._)([(0,x.c)("web-scene","dimensions")],P.prototype,"writeDimensions",null),P=(0,i._)([(0,h.j)("esri.layers.DimensionLayer")],P);const Z=P}}]);