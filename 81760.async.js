"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[81760,34042,41161,92403],{12853:function(e,t,r){r.d(t,{z:function(){return o}});var n=r(69071);class o{constructor(e,t){this.removeFunc=t,this._storage=new n.WJ,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(e,t,r=1){this._storage.put(this,e,t,r,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}}},58426:function(e,t,r){r.d(t,{$c:function(){return y},Hg:function(){return d},jW:function(){return p},xb:function(){return m}});var n=r(70880),o=r(43254),i=r(22018);const s=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function l(e){return e instanceof n.Z}function a(e){return e instanceof o.Z?Object.keys(e.items):l(e)?(0,i.vw)(e).keys():e?Object.keys(e):[]}function u(e,t){return e instanceof o.Z?e.items[t]:e[t]}function c(e){return e?e.declaredClass:null}function f(e,t){const r=e.diff;if(r&&"function"==typeof r)return r(e,t);const n=a(e),o=a(t);if(0===n.length&&0===o.length)return;if(!n.length||!o.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const i=o.filter((e=>!n.includes(e))),p=n.filter((e=>!o.includes(e))),y=n.filter((r=>o.includes(r)&&u(e,r)!==u(t,r))).concat(i,p).sort(),d=c(e);if(d&&s.has(d)&&y.length)return{type:"complete",oldValue:e,newValue:t};let m;const h=l(e)&&l(t);for(const n of y){const o=u(e,n),i=u(t,n);let s;if((h||"function"!=typeof o&&"function"!=typeof i)&&o!==i&&(null!=o||null!=i)){if(r&&r[n]&&"function"==typeof r[n])s=r[n]?.(o,i);else if(o instanceof Date&&i instanceof Date){if(o.getTime()===i.getTime())continue;s={type:"complete",oldValue:o,newValue:i}}else s="object"==typeof o&&"object"==typeof i&&c(o)===c(i)?f(o,i):{type:"complete",oldValue:o,newValue:i};null!=s&&(null!=m?m.diff[n]=s:m={type:"partial",diff:{[n]:s}})}}return m}function p(e,t){return function(e,t){if(null==e)return!1;const r=t.split(".");let n=e;for(const e of r){if("complete"===n.type)return!0;if("partial"!==n.type)return!1;{const t=n.diff[e];if(!t)return!1;n=t}}return!0}(e,t)}function y(e,t){if(!e)return!1;if("partial"===e.type){const r=Object.keys(e.diff);return 1===r.length&&r[0]===t}return!1}function d(e,t){if("function"!=typeof e&&"function"!=typeof t&&(null!=e||null!=t))return null==e||null==t||"object"==typeof e&&"object"==typeof t&&c(e)!==c(t)?{type:"complete",oldValue:e,newValue:t}:f(e,t)}function m(e){if(null==e)return!0;switch(e.type){case"complete":return!1;case"collection":{const t=e;for(const e of t.added)if(!m(e))return!1;for(const e of t.removed)if(!m(e))return!1;for(const e of t.changed)if(!m(e))return!1;return!0}case"partial":for(const t in e.diff)if(!m(e.diff[t]))return!1;return!0}}},34042:function(e,t,r){r.d(t,{it:function(){return x},aX:function(){return I},hR:function(){return S}});var n=r(81001),o=r(88194),i=r(96711),s=r(67764),l=r(62197),a=r(76264),u=r(8554),c=r(97290),f=r(78619),p=r(90756),y=r(56545);var d=r(95490),m=r(93333);const h=()=>i.Z.getLogger("esri.geometry.support.normalizeUtils");function g(e){return"polygon"===e[0].type}function b(e){return"polyline"===e[0].type}function S(e,t){if(!(e instanceof l.Z||e instanceof s.Z)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw h().error(e),new o.Z("internal:geometry",e)}const r=(0,a.x3)(e),n=[];for(const e of r){const r=[];n.push(r),r.push([e[0][0],e[0][1]]);for(let n=0;n<e.length-1;n++){const o=e[n][0],i=e[n][1],s=e[n+1][0],l=e[n+1][1],a=Math.sqrt((s-o)*(s-o)+(l-i)*(l-i)),u=(l-i)/a,c=(s-o)/a,f=a/t;if(f>1){for(let e=1;e<=f-1;e++){const n=e*t,s=c*n+o,l=u*n+i;r.push([s,l])}const e=(a+Math.floor(f-1)*t)/2,n=c*e+o,s=u*e+i;r.push([n,s])}r.push([s,l])}}return function(e){return"polygon"===e.type}(e)?new s.Z({rings:n,spatialReference:e.spatialReference}):new l.Z({paths:n,spatialReference:e.spatialReference})}function C(e,t,r){if(t){const t=S(e,1e6);e=(0,c.Sx)(t,!0)}return r&&(e=(0,a.Sy)(e,r)),e}function v(e,t,r){if(Array.isArray(e)){const n=e[0];if(n>t){const r=(0,a.XZ)(n,t);e[0]=n+r*(-2*t)}else if(n<r){const t=(0,a.XZ)(n,r);e[0]=n+t*(-2*r)}}else{const n=e.x;if(n>t){const r=(0,a.XZ)(n,t);e=e.clone().offset(r*(-2*t),0)}else if(n<r){const t=(0,a.XZ)(n,r);e=e.clone().offset(t*(-2*r),0)}}return e}function M(e,t){let r=-1;for(let n=0;n<t.cutIndexes.length;n++){const o=t.cutIndexes[n],i=t.geometries[n],s=(0,a.x3)(i);for(let e=0;e<s.length;e++){const t=s[e];t.some((r=>{if(r[0]<180)return!0;{let r=0;for(let e=0;e<t.length;e++){const n=t[e][0];r=n>r?n:r}r=Number(r.toFixed(9));const n=-360*(0,a.XZ)(r,180);for(let r=0;r<t.length;r++){const t=i.getPoint(e,r);i.setPoint(e,r,t.clone().offset(n,0))}return!0}}))}if(o===r){if(g(e))for(const t of(0,a.x3)(i))e[o]=e[o].addRing(t);else if(b(e))for(const t of(0,a.x3)(i))e[o]=e[o].addPath(t)}else r=o,e[o]=i}return e}async function I(e,t,r){if(!Array.isArray(e))return I([e],t);t&&"string"!=typeof t&&h().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const o="string"==typeof t?t:t?.url??n.default.geometryServiceUrl;let i,g,b,S,x,w,_,P,T=0;const L=[],O=[];for(const t of e)if(null!=t)if(i||(i=t.spatialReference,g=(0,u.C5)(i),b=i.isWebMercator,w=b?102100:4326,S=a.UZ[w].maxX,x=a.UZ[w].minX,_=a.UZ[w].plus180Line,P=a.UZ[w].minus180Line),g)if("mesh"===t.type)O.push(t);else if("point"===t.type)O.push(v(t.clone(),S,x));else if("multipoint"===t.type){const e=t.clone();e.points=e.points.map((e=>v(e,S,x))),O.push(e)}else if("extent"===t.type){const e=t.clone()._normalize(!1,!1,g);O.push(e.rings?new s.Z(e):e)}else if(t.extent){const e=t.extent,r=(0,a.XZ)(e.xmin,x)*(2*S);let n=0===r?t.clone():(0,a.Sy)(t.clone(),r);e.offset(r,0);let{xmin:o,xmax:i}=e;o=Number(o.toFixed(9)),i=Number(i.toFixed(9)),e.intersects(_)&&i!==S?(T=i>T?i:T,n=C(n,b),L.push(n),O.push("cut")):e.intersects(P)&&o!==x?(T=i*(2*S)>T?i*(2*S):T,n=C(n,b,360),L.push(n),O.push("cut")):O.push(n)}else O.push(t.clone());else O.push(t);else O.push(t);let k=(0,a.XZ)(T,S),F=-90;const Z=k,R=new l.Z;for(;k>0;){const e=360*k-180;R.addPath([[e,F],[e,-1*F]]),F*=-1,k--}if(L.length>0&&Z>0){const t=M(L,await async function(e,t,r,n){const o=(0,y.en)(e),i=t[0].spatialReference,s={...n,responseType:"json",query:{...o.query,f:"json",sr:(0,u.B9)(i),target:JSON.stringify({geometryType:(0,p.Ji)(t[0]),geometries:t}),cutter:JSON.stringify(r)}},l=await(0,f.Z)(o.path+"/cut",s),{cutIndexes:a,geometries:c=[]}=l.data;return{cutIndexes:a,geometries:c.map((e=>{const t=(0,p.im)(e);return t.spatialReference=i,t}))}}(o,L,R,r)),n=[],i=[];for(let r=0;r<O.length;r++){const o=O[r];if("cut"!==o)i.push(o);else{const o=t.shift(),s=e[r];null!=s&&"polygon"===s.type&&s.rings&&s.rings.length>1&&o.rings.length>=s.rings.length?(n.push(o),i.push("simplify")):i.push(b?(0,c.$)(o):o)}}if(!n.length)return i;const s=await async function(e,t,r){const n="string"==typeof e?(0,d.mN)(e):e,o=t[0].spatialReference,i=(0,p.Ji)(t[0]),s={...r,query:{...n.query,f:"json",sr:(0,u.B9)(o),geometries:JSON.stringify((0,m.F)(t))}},{data:l}=await(0,f.Z)(n.path+"/simplify",s);return(0,m.o)(l.geometries,i,o)}(o,n,r),l=[];for(let e=0;e<i.length;e++){const t=i[e];"simplify"!==t?l.push(t):l.push(b?(0,c.$)(s.shift()):s.shift())}return l}const E=[];for(let e=0;e<O.length;e++){const t=O[e];if("cut"!==t)E.push(t);else{const e=L.shift();E.push(!0===b?(0,c.$)(e):e)}}return E}function x(e,t,r){const n=(0,u.C5)(r);if(null==n)return e;const[o,i]=n.valid,s=2*i;let l=0,a=0;t>i?l=Math.ceil(Math.abs(t-i)/s):t<o&&(l=-Math.ceil(Math.abs(t-o)/s)),e>i?a=Math.ceil(Math.abs(e-i)/s):e<o&&(a=-Math.ceil(Math.abs(e-o)/s));let c=e+(l-a)*s;const f=c-t;return f>i?c-=s:f<o&&(c+=s),c}},76264:function(e,t,r){r.d(t,{Sy:function(){return a},UZ:function(){return s},XZ:function(){return l},x3:function(){return u}});var n=r(62197),o=r(45213),i=r(90756);const s={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new n.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:o.Z.WebMercator}),minus180Line:new n.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:o.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new n.Z({paths:[[[180,-180],[180,180]]],spatialReference:o.Z.WGS84}),minus180Line:new n.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:o.Z.WGS84})}};function l(e,t){return Math.ceil((e-t)/(2*t))}function a(e,t){const r=u(e);for(const e of r)for(const r of e)r[0]+=t;return e}function u(e){return(0,i.oU)(e)?e.rings:e.paths}},57040:function(e,t,r){r.r(t),r.d(t,{default:function(){return J}});var n=r(73440),o=r(78619),i=r(88194),s=r(332),l=r(84060),a=r(93568),u=r(17155),c=r(95226),f=(r(61432),r(83850),r(1194)),p=r(48023),y=r(29884),d=r(66951),m=r(71354),h=r(4469),g=r(8554),b=r(38209),S=r(38448),C=r(34085),v=r(58560),M=r(83263),I=r(55591),x=r(85330),w=r(27202),_=r(19306),P=r(3752),T=r(70937),L=r(99671),O=r(93295),k=r(33287),F=r(97349),Z=r(38120),R=r(33285),E=r(10852),N=r(13689),A=r(85913),j=r(88097),z=r(3651);let G=class extends((0,M.h7)((0,L.n)((0,P.M)((0,T.x)((0,C.O)((0,v.Y)((0,x.q)((0,w.I)((0,l.R)((0,_.Q)((0,S.V)((0,I.N)(b.Z))))))))))))){constructor(...e){super(...e),this._exportImageParameters=new k.R({layer:this}),this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.dpi=96,this.elevationInfo=new N.Z({mode:"on-the-ground"}),this.gdbVersion=null,this.imageFormat="png24",this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.isReference=null,this.labelsVisible=!1,this.operationalLayerType="ArcGISMapServiceLayer",this.preferredTimeZone=null,this.sourceJSON=null,this.sublayers=null,this.type="map-image",this.url=null,this._debouncedSaveOperations=(0,a.Ds)((async(e,t,n)=>{const{save:o,saveAs:i}=await r.e(85790).then(r.bind(r,85790));switch(e){case z.x.SAVE:return o(this,t);case z.x.SAVE_AS:return i(this,n,t)}}))}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).catch(a.r9).then((()=>this._fetchService(t)))),Promise.resolve(this)}destroy(){this._exportImageParameters.destroy()}readImageFormat(e,t){const r=t.supportedImageFormatTypes;return r&&r.includes("PNG32")?"png32":"png24"}writeSublayers(e,t,r,n){if(!this.loaded||!e)return;const o=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray();let i=!1;const s=(0,d.M9)(n.origin);let l;if(this.capabilities?.operations.supportsExportMap&&this.capabilities?.exportMap?.supportsDynamicLayers)if(s===d.s3.PORTAL_ITEM){const e=this.createSublayersForOrigin("service").sublayers;i=(0,R.QV)(o,e,d.s3.SERVICE)}else if(s>d.s3.PORTAL_ITEM){const e=this.createSublayersForOrigin("portal-item");i=(0,R.QV)(o,e.sublayers,(0,d.M9)(e.origin)),l=e.originWithPartialOverrides}const a=[],u={writeSublayerStructure:i,...n,minimumWritableOrigin:l};let c=i||this.hasVisibleLayersForOrigin(s);o.forEach((e=>{const t=e.write({},u);a.push(t),c=c||"user"===e.originOf("visible")})),a.some((e=>Object.keys(e).length>1))&&(t.layers=a),c&&(t.visibleLayers=o.filter((e=>e.visible)).map((e=>e.id)))}createExportImageParameters(e,t,r,n){const o=n?.pixelRatio||1;e&&this.version>=10&&(e=e.clone().shiftCentralMeridian()),this._exportImageParameters.floors=n?.floors??null,this._exportImageParameters.scale=(0,h.yZ)({extent:e,width:t})*o;const i=this._exportImageParameters.toJSON(),s=!n?.rotation||this.version<10.3?{}:{rotation:-n.rotation},l=e?.spatialReference,a=(0,g.B9)(l);i.dpi*=o;const u={};if(n?.timeExtent){const{start:e,end:t}=n.timeExtent.toJSON();u.time=e&&t&&e===t?""+e:`${e??"null"},${t??"null"}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(u.time="null,null");return{bbox:e?e.xmin+","+e.ymin+","+e.xmax+","+e.ymax:void 0,bboxSR:a,imageSR:a,size:t+","+r,...i,...s,...u}}async fetchImage(e,t,r,n){const{data:o}=await this._fetchImage("image",e,t,r,n);return o}async fetchImageBitmap(e,t,r,n){const{data:o,url:i}=await this._fetchImage("blob",e,t,r,n);return(0,F.g)(o,i,n?.signal)}async fetchRecomputedExtents(e={}){const t={...e,query:{returnUpdates:!0,f:"json",...this.customParameters,token:this.apiKey}},{data:r}=await(0,o.Z)(this.url,t),{extent:n,fullExtent:i,timeExtent:s}=r,l=n||i;return{fullExtent:l&&m.Z.fromJSON(l),timeExtent:s&&A.T.fromJSON({start:s[0],end:s[1]})}}loadAll(){return(0,s.G)(this,(e=>{e(this.allSublayers),e(this.subtables)}))}async save(e){return this._debouncedSaveOperations(z.x.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(z.x.SAVE_AS,t,e)}serviceSupportsSpatialReference(e){return(0,E.D)(this,e)}async _fetchImage(e,t,r,n,s){const l={responseType:e,signal:s?.signal??null,query:{...this.parsedUrl.query,...this.createExportImageParameters(t,r,n,s),f:"image",...this.refreshParameters,...this.customParameters,token:this.apiKey}},u=this.parsedUrl.path+"/export";if(null!=l.query?.dynamicLayers&&!this.capabilities?.exportMap?.supportsDynamicLayers)throw new i.Z("mapimagelayer:dynamiclayer-not-supported",`service ${this.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,{query:l.query});try{const{data:e}=await(0,o.Z)(u,l);return{data:e,url:u}}catch(e){if((0,a.D_)(e))throw e;throw new i.Z("mapimagelayer:image-fetch-error",`Unable to load image: ${u}`,{error:e})}}async _fetchService(e){if(this.sourceJSON)return void this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl});const{data:t,ssl:r}=await(0,o.Z)(this.parsedUrl.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},signal:e});r&&(this.url=this.url.replace(/^http:/i,"https:")),this.sourceJSON=t,this.read(t,{origin:"service",url:this.parsedUrl})}hasVisibleLayersForOrigin(e){return!(null==e||!this.sublayersSourceJSON[e]?.visibleLayers)}};(0,n._)([(0,u.Cb)((0,j.mi)("dateFieldsTimeReference"))],G.prototype,"dateFieldsTimeZone",void 0),(0,n._)([(0,u.Cb)({type:Boolean})],G.prototype,"datesInUnknownTimezone",void 0),(0,n._)([(0,u.Cb)()],G.prototype,"dpi",void 0),(0,n._)([(0,u.Cb)()],G.prototype,"elevationInfo",void 0),(0,n._)([(0,u.Cb)()],G.prototype,"gdbVersion",void 0),(0,n._)([(0,u.Cb)()],G.prototype,"imageFormat",void 0),(0,n._)([(0,f.r)("imageFormat",["supportedImageFormatTypes"])],G.prototype,"readImageFormat",null),(0,n._)([(0,u.Cb)({json:{origins:{service:{read:{source:"maxImageHeight"}}}}})],G.prototype,"imageMaxHeight",void 0),(0,n._)([(0,u.Cb)({json:{origins:{service:{read:{source:"maxImageWidth"}}}}})],G.prototype,"imageMaxWidth",void 0),(0,n._)([(0,u.Cb)()],G.prototype,"imageTransparency",void 0),(0,n._)([(0,u.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],G.prototype,"isReference",void 0),(0,n._)([(0,u.Cb)({json:{read:!1,write:!1}})],G.prototype,"labelsVisible",void 0),(0,n._)([(0,u.Cb)({type:["ArcGISMapServiceLayer"]})],G.prototype,"operationalLayerType",void 0),(0,n._)([(0,u.Cb)({json:{read:!1,write:!1}})],G.prototype,"popupEnabled",void 0),(0,n._)([(0,u.Cb)((0,j.mi)("preferredTimeReference"))],G.prototype,"preferredTimeZone",void 0),(0,n._)([(0,u.Cb)()],G.prototype,"sourceJSON",void 0),(0,n._)([(0,u.Cb)({json:{write:{ignoreOrigin:!0}}})],G.prototype,"sublayers",void 0),(0,n._)([(0,y.c)("sublayers",{layers:{type:[Z.Z]},visibleLayers:{type:[c.z8]}})],G.prototype,"writeSublayers",null),(0,n._)([(0,u.Cb)({type:["show","hide","hide-children"],json:{origins:{"portal-item":{read:!1,write:!1}}}})],G.prototype,"listMode",void 0),(0,n._)([(0,u.Cb)({json:{read:!1},readOnly:!0,value:"map-image"})],G.prototype,"type",void 0),(0,n._)([(0,u.Cb)(O.HQ)],G.prototype,"url",void 0),G=(0,n._)([(0,p.j)("esri.layers.MapImageLayer")],G);const J=G},99671:function(e,t,r){r.d(t,{I:function(){return y},n:function(){return d}});var n=r(73440),o=r(17155),i=(r(61432),r(96711),r(83850),r(1194)),s=r(48023),l=r(71840),a=r(76554),u=r(83918),c=r(24009),f=r(85913),p=r(62920);const y={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:l.C}}},d=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){const r=t.timeInfo.exportOptions;if(!r)return null;const n=r.timeOffset,o=c.v.fromJSON(r.timeOffsetUnits);return n&&o?new p.T({value:n,unit:o}):null}set timeInfo(e){(0,a.UF)(e,this.fieldsIndex),this._set("timeInfo",e)}};return(0,n._)([(0,o.Cb)({type:f.T,json:{write:!1}})],t.prototype,"timeExtent",void 0),(0,n._)([(0,o.Cb)({type:p.T})],t.prototype,"timeOffset",void 0),(0,n._)([(0,i.r)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),(0,n._)([(0,o.Cb)({value:null,type:u.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),(0,n._)([(0,o.Cb)(y)],t.prototype,"useViewTime",void 0),t=(0,n._)([(0,s.j)("esri.layers.mixins.TemporalLayer")],t),t}},33287:function(e,t,r){r.d(t,{R:function(){return p}});var n=r(73440),o=r(70880),i=r(48797),s=r(17155),l=(r(61432),r(96711),r(83850),r(48023)),a=r(4469),u=r(44695),c=r(33285);const f={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};let p=class extends o.Z{constructor(e){super(e),this.floors=null,this.scale=0}destroy(){this.layer=null}get dynamicLayers(){if(!this.hasDynamicLayers)return null;const e=this.visibleSublayers.map((e=>{const t=(0,u.f)(this.floors,e);return e.toExportImageJSON(t)}));return e.length?JSON.stringify(e):null}get hasDynamicLayers(){return this.layer&&(0,c.FN)(this.visibleSublayers,this.layer.serviceSublayers,this.layer.gdbVersion)}set layer(e){this._get("layer")!==e&&(this._set("layer",e),this.removeHandles("layer"),e&&this.addHandles([e.allSublayers.on("change",(()=>this.notifyChange("visibleSublayers"))),e.on("sublayer-update",(e=>this.notifyChange(f[e.propertyName])))],"layer"))}get layers(){const e=this.visibleSublayers;return e?e.length?"show:"+e.map((e=>e.id)).join(","):"show:-1":null}get layerDefs(){const e=!!this.floors?.length,t=this.visibleSublayers.filter((t=>null!=t.definitionExpression||e&&null!=t.floorInfo));return t.length?JSON.stringify(t.reduce(((e,t)=>{const r=(0,u.f)(this.floors,t),n=(0,i._$)(r,t.definitionExpression);return null!=n&&(e[t.id]=n),e}),{})):null}get version(){this.commitProperty("layers"),this.commitProperty("layerDefs"),this.commitProperty("dynamicLayers");const e=this.layer;return e&&(e.commitProperty("dpi"),e.commitProperty("imageFormat"),e.commitProperty("imageTransparency"),e.commitProperty("gdbVersion")),(this._get("version")||0)+1}get visibleSublayers(){const e=[];if(!this.layer)return e;const t=this.layer.sublayers,r=this.scale,n=t=>{t.visible&&(0===r||(0,a.o2)(r,t.minScale,t.maxScale))&&(t.sublayers?t.sublayers.forEach(n):e.unshift(t))};t&&t.forEach(n);const o=this._get("visibleSublayers");return!o||o.length!==e.length||o.some(((t,r)=>e[r]!==t))?e:o}toJSON(){const e=this.layer;let t={dpi:e.dpi,format:e.imageFormat,transparent:e.imageTransparency,gdbVersion:e.gdbVersion||null};return this.hasDynamicLayers&&this.dynamicLayers?t.dynamicLayers=this.dynamicLayers:t={...t,layers:this.layers,layerDefs:this.layerDefs},t}};(0,n._)([(0,s.Cb)({readOnly:!0})],p.prototype,"dynamicLayers",null),(0,n._)([(0,s.Cb)()],p.prototype,"floors",void 0),(0,n._)([(0,s.Cb)({readOnly:!0})],p.prototype,"hasDynamicLayers",null),(0,n._)([(0,s.Cb)()],p.prototype,"layer",null),(0,n._)([(0,s.Cb)({readOnly:!0})],p.prototype,"layers",null),(0,n._)([(0,s.Cb)({readOnly:!0})],p.prototype,"layerDefs",null),(0,n._)([(0,s.Cb)({type:Number})],p.prototype,"scale",void 0),(0,n._)([(0,s.Cb)({readOnly:!0})],p.prototype,"version",null),(0,n._)([(0,s.Cb)({readOnly:!0})],p.prototype,"visibleSublayers",null),p=(0,n._)([(0,l.j)("esri.layers.support.ExportImageParameters")],p)},83918:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(73440),o=r(89314),i=r(63255),s=r(17155),l=(r(61432),r(96711),r(83850),r(1194)),a=r(48023),u=r(29884),c=r(85913),f=r(62920),p=r(88097);function y(e,t){return f.T.fromJSON({value:e,unit:t})}let d=class extends(o.Z.ClonableMixin(i.Z)){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(e,t){return t.timeExtent&&Array.isArray(t.timeExtent)&&2===t.timeExtent.length?c.T.fromArray(t.timeExtent):null}writeFullTimeExtent(e,t){null!=e?.start&&null!=e.end?t.timeExtent=e.toArray():t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?y(t.timeInterval,t.timeIntervalUnits):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?y(t.defaultTimeInterval,t.defaultTimeIntervalUnits):null}writeInterval(e,t){t.timeInterval=e?.toJSON().value??null,t.timeIntervalUnits=e?.toJSON().unit??null}};(0,n._)([(0,s.Cb)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],d.prototype,"cumulative",void 0),(0,n._)([(0,s.Cb)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],d.prototype,"endField",void 0),(0,n._)([(0,s.Cb)({type:c.T,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"fullTimeExtent",void 0),(0,n._)([(0,l.r)("fullTimeExtent",["timeExtent"])],d.prototype,"readFullTimeExtent",null),(0,n._)([(0,u.c)("fullTimeExtent")],d.prototype,"writeFullTimeExtent",null),(0,n._)([(0,s.Cb)({type:Boolean,json:{write:!0}})],d.prototype,"hasLiveData",void 0),(0,n._)([(0,s.Cb)({type:f.T,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"interval",void 0),(0,n._)([(0,l.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],d.prototype,"readInterval",null),(0,n._)([(0,u.c)("interval")],d.prototype,"writeInterval",null),(0,n._)([(0,s.Cb)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],d.prototype,"startField",void 0),(0,n._)([(0,s.Cb)((0,p.mi)("timeReference",!0))],d.prototype,"timeZone",void 0),(0,n._)([(0,s.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],d.prototype,"trackIdField",void 0),(0,n._)([(0,s.Cb)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],d.prototype,"useTime",void 0),(0,n._)([(0,s.Cb)({type:[Date],json:{read:!1}})],d.prototype,"stops",void 0),d=(0,n._)([(0,a.j)("esri.layers.support.TimeInfo")],d)},44695:function(e,t,r){function n(e){const t=e.layer;return"floorInfo"in t&&t.floorInfo?.floorField&&"floors"in e.view?i(e.view.floors,t.floorInfo.floorField):null}function o(e,t){return"floorInfo"in t&&t.floorInfo?.floorField?i(e,t.floorInfo.floorField):null}function i(e,t){if(!e?.length)return null;const r=e.filter((e=>""!==e)).map((e=>`'${e}'`));return r.push("''"),`${t} IN (${r.join(",")}) OR ${t} IS NULL`}r.d(t,{c:function(){return n},f:function(){return o}})},10852:function(e,t,r){r.d(t,{D:function(){return i}});var n=r(66619);const o=[];function i(e,t){if((0,n.M8)(e.url??""))return!0;const{wkid:r}=t;for(const t of o){if((e.version??0)>=t[0])return!0;if("function"==typeof t[1]&&(t[1]=t[1]()),t[1].has(r))return!1}return!0}o.push([10.91,()=>{const e=new Set([9709,9716,9741,9761,9766]);for(let t=9712;t<=9713;t++)e.add(t);for(let t=9748;t<=9749;t++)e.add(t);for(let t=20904;t<=20932;t++)e.add(t);for(let t=21004;t<=21032;t++)e.add(t);for(let t=21207;t<=21264;t++)e.add(t);for(let t=21307;t<=21364;t++)e.add(t);for(let t=23301;t<=23333;t++)e.add(t);for(let t=102759;t<=102760;t++)e.add(t);for(let t=102934;t<=102955;t++)e.add(t);return e}]),o.push([10.9,()=>{const e=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let t=9356;t<=9360;t++)e.add(t);for(let t=9404;t<=9407;t++)e.add(t);for(let t=9476;t<=9482;t++)e.add(t);for(let t=9487;t<=9494;t++)e.add(t);for(let t=9697;t<=9699;t++)e.add(t);return e}]),o.push([10.81,()=>{const e=new Set([9265,9333,103598,103699]);for(let t=9248;t<=9254;t++)e.add(t);for(let t=9271;t<=9273;t++)e.add(t);for(let t=9284;t<=9285;t++)e.add(t);for(let t=21453;t<=21463;t++)e.add(t);return e}]),o.push([10.8,()=>{const e=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let t=8035;t<=8036;t++)e.add(t);for(let t=8455;t<=8456;t++)e.add(t);for(let t=8518;t<=8529;t++)e.add(t);for(let t=8533;t<=8536;t++)e.add(t);for(let t=8538;t<=8540;t++)e.add(t);for(let t=8677;t<=8679;t++)e.add(t);for(let t=8902;t<=8903;t++)e.add(t);for(let t=8907;t<=8910;t++)e.add(t);for(let t=8949;t<=8951;t++)e.add(t);for(let t=8972;t<=8987;t++)e.add(t);for(let t=9039;t<=9040;t++)e.add(t);for(let t=9068;t<=9069;t++)e.add(t);for(let t=9140;t<=9141;t++)e.add(t);for(let t=9148;t<=9150;t++)e.add(t);for(let t=9153;t<=9159;t++)e.add(t);for(let t=9205;t<=9218;t++)e.add(t);for(let t=9221;t<=9222;t++)e.add(t);for(let t=54098;t<=54101;t++)e.add(t);return e}]),o.push([10.71,()=>{const e=new Set([6316]);for(let t=8351;t<=8353;t++)e.add(t);for(let t=9294;t<=9297;t++)e.add(t);for(let t=22619;t<=22621;t++)e.add(t);for(let t=103586;t<=103594;t++)e.add(t);return e}])},13878:function(e,t,r){r.d(t,{Z:function(){return b}});var n,o=r(73440),i=r(46451),s=r(41773),l=r(63255),a=r(28947),u=r(17155),c=(r(61432),r(96711),r(1194)),f=r(48023),p=r(29884),y=r(45213),d=r(90756),m=r(98842),h=r(49651);const g=new s.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let b=n=class extends l.Z{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){return this.readFeaturesWithClass(e,t,i.Z)}writeGeometryType(e,t,r,n){if(e)return void g.write(e,t,r,n);const{features:o}=this;if(o)for(const e of o)if(null!=e?.geometry)return void g.write(e.geometry.type,t,r,n)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,n=(0,d.im)(e);return n&&!r&&t.spatialReference&&(n.spatialReference=y.Z.fromJSON(t.spatialReference)),n}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r)for(const e of r)if(e&&null!=e.geometry&&e.geometry.spatialReference)return void(t.spatialReference=e.geometry.spatialReference.toJSON())}clone(){return new n(this.cloneProperties())}cloneProperties(){return(0,a.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const n=t.features[r];if(n.geometry){const t=e?.[r];n.geometry=t?.toJSON()||n.geometry}}return t}quantize(e){const{scale:[t,r],translate:[n,o]}=e,i=this.features,s=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-n)/t)),(e=>Math.round((o-e)/r)));for(let e=0,t=i.length;e<t;e++)s?.(i[e].geometry)||(i.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[n,o],scale:[i,s]}=r;let l=null,a=null;if(this.hasZ&&null!=r?.scale?.[2]){const{translate:[,,e],scale:[,,t]}=r;l=r=>r*t+e}if(this.hasM&&null!=r?.scale?.[3]){const{translate:[,,,e],scale:[,,,t]}=r;a=r=>null==r?r:r*t+e}const u=this._getHydrationFunction(e,(e=>e*i+n),(e=>o-e*s),l,a);for(const{geometry:e}of t)null!=e&&u&&u(e);return this.transform=null,this}readFeaturesWithClass(e,t,r){const n=y.Z.fromJSON(t.spatialReference),o=[];for(let t=0;t<e.length;t++){const i=e[t],s=r.fromJSON(i),l=i.geometry?.spatialReference;null==s.geometry||l||(s.geometry.spatialReference=n);const a=i.aggregateGeometries,u=s.aggregateGeometries;if(a&&null!=u)for(const e in u){const t=u[e],r=a[e]?.spatialReference;null==t||r||(t.spatialReference=n)}o.push(s)}return o}_quantizePoints(e,t,r){let n,o;const i=[];for(let s=0,l=e.length;s<l;s++){const l=e[s];if(s>0){const e=t(l[0]),s=r(l[1]);e===n&&s===o||(i.push([e-n,s-o]),n=e,o=s)}else n=t(l[0]),o=r(l[1]),i.push([n,o])}return i.length>0?i:null}_getQuantizationFunction(e,t,r){return"point"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):"polyline"===e||"polygon"===e?e=>{const n=(0,d.oU)(e)?e.rings:e.paths,o=[];for(let e=0,i=n.length;e<i;e++){const i=n[e],s=this._quantizePoints(i,t,r);s&&o.push(s)}return o.length>0?((0,d.oU)(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?e=>{const n=this._quantizePoints(e.points,t,r);return n&&n.length>0?(e.points=n,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,r,n,o){return"point"===e?e=>{e.x=t(e.x),e.y=r(e.y),n&&(e.z=n(e.z))}:"polyline"===e||"polygon"===e?e=>{const i=(0,d.oU)(e)?e.rings:e.paths;let s,l;for(let e=0,n=i.length;e<n;e++){const n=i[e];for(let e=0,o=n.length;e<o;e++){const o=n[e];e>0?(s+=o[0],l+=o[1]):(s=o[0],l=o[1]),o[0]=t(s),o[1]=r(l)}}if(n&&o)for(let e=0,t=i.length;e<t;e++){const t=i[e];for(let e=0,r=t.length;e<r;e++){const r=t[e];r[2]=n(r[2]),r[3]=o(r[3])}}else if(n)for(let e=0,t=i.length;e<t;e++){const t=i[e];for(let e=0,r=t.length;e<r;e++){const r=t[e];r[2]=n(r[2])}}else if(o)for(let e=0,t=i.length;e<t;e++){const t=i[e];for(let e=0,r=t.length;e<r;e++){const r=t[e];r[2]=o(r[2])}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax),n&&null!=e.zmax&&null!=e.zmin&&(e.zmax=n(e.zmax),e.zmin=n(e.zmin)),o&&null!=e.mmax&&null!=e.mmin&&(e.mmax=o(e.mmax),e.mmin=o(e.mmin))}:"multipoint"===e?e=>{const i=e.points;let s,l;for(let e=0,n=i.length;e<n;e++){const n=i[e];e>0?(s+=n[0],l+=n[1]):(s=n[0],l=n[1]),n[0]=t(s),n[1]=r(l)}if(n&&o)for(let e=0,t=i.length;e<t;e++){const t=i[e];t[2]=n(t[2]),t[3]=o(t[3])}else if(n)for(let e=0,t=i.length;e<t;e++){const t=i[e];t[2]=n(t[2])}else if(o)for(let e=0,t=i.length;e<t;e++){const t=i[e];t[2]=o(t[2])}}:null}};(0,o._)([(0,u.Cb)({type:String,json:{write:!0}})],b.prototype,"displayFieldName",void 0),(0,o._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],b.prototype,"exceededTransferLimit",void 0),(0,o._)([(0,u.Cb)({type:[i.Z],json:{write:!0}})],b.prototype,"features",void 0),(0,o._)([(0,c.r)("features")],b.prototype,"readFeatures",null),(0,o._)([(0,u.Cb)({type:[h.Z],json:{write:!0}})],b.prototype,"fields",void 0),(0,o._)([(0,u.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:g.read}}})],b.prototype,"geometryType",void 0),(0,o._)([(0,p.c)("geometryType")],b.prototype,"writeGeometryType",null),(0,o._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],b.prototype,"hasM",void 0),(0,o._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],b.prototype,"hasZ",void 0),(0,o._)([(0,u.Cb)({types:m.qM,json:{write:!0}})],b.prototype,"queryGeometry",void 0),(0,o._)([(0,c.r)("queryGeometry")],b.prototype,"readQueryGeometry",null),(0,o._)([(0,u.Cb)({type:y.Z,json:{write:!0}})],b.prototype,"spatialReference",void 0),(0,o._)([(0,p.c)("spatialReference")],b.prototype,"writeSpatialReference",null),(0,o._)([(0,u.Cb)({json:{write:!0}})],b.prototype,"transform",void 0),b=n=(0,o._)([(0,f.j)("esri.rest.support.FeatureSet")],b),b.prototype.toJSON.isDefaultToJSON=!0},6298:function(e,t,r){r.d(t,{E:function(){return o}});var n=r(44252);const o={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:n.IH.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:n.IH.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRadial:{angle:0,length:5},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:n.of.Loop,repeatdelay:0,easing:n.IB.Linear},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0},CIMSymbolAnimationMoveAlongLine:{speed:30,distanceAlong:100}}},61421:function(e,t,r){r.d(t,{$Z:function(){return I},BX:function(){return v},Cc:function(){return h},E_:function(){return l},F:function(){return x},FG:function(){return _},H1:function(){return i},J0:function(){return m},JW:function(){return L},Lb:function(){return J},Le:function(){return O},Ml:function(){return A},On:function(){return S},Qf:function(){return P},RI:function(){return g},TB:function(){return T},Ul:function(){return N},W7:function(){return M},X_:function(){return w},be:function(){return c},e0:function(){return R},gJ:function(){return d},hU:function(){return Z},hf:function(){return n},k5:function(){return y},oY:function(){return u},pJ:function(){return b},qQ:function(){return s},wi:function(){return C},yL:function(){return p},yl:function(){return k},zL:function(){return f}});r(6298);function n(e,t,r,n){return function(e){return"function"==typeof e}(e)?e(t,r,n):e}function o(e){let t=e.length;for(;t--;)if(!" /-,\n".includes(e.charAt(t)))return!1;return!0}function i(e,t){const r=[];let n=0,i=-1;do{if(i=e.indexOf("[",n),i>=n){if(i>n){const t=e.slice(n,i);r.push([t,null,o(t)])}if(n=i+1,i=e.indexOf("]",n),i>=n){if(i>n){const o=t[e.slice(n,i)];o&&r.push([null,o,!1])}n=i+1}}}while(-1!==i);if(n<e.length){const t=e.slice(n);r.push([t,null,o(t)])}return r}function s(e,t,r){let n="",o=null;for(const r of t){const[t,i,s]=r;if(null!=t&&""!==t)s?o=t:(null!=o&&(n+=o,o=null),n+=t);else{const t=e.readAttribute(i);null!=t&&""!==t&&(null!==o&&(n+=o,o=null),n+=t)}}return a(n,r)}function l(e,t,r,n){let o="",i=null;for(const n of t){const[t,s,l]=n;if(null!=t&&""!==t)l?i=t:(null!=i&&(o+=i,i=null),o+=t);else{let t=s;null!=r&&(t=E(s,r));const n=e.attributes[t];null!=n&&""!==n&&(null!=i&&(o+=i,i=null),o+=n)}}return a(o,n)}function a(e,t){switch("string"!=typeof e&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function u(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function c(e){return e.data?.symbol??null}function f(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function p(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function y(e){return null!=e&&("CIMGradientFill"===e.type||"CIMHatchFill"===e.type||"CIMPictureFill"===e.type||"CIMSolidFill"===e.type||"CIMWaterFill"===e.type)}function d(e){return null!=e&&("CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type)}const m=(e,t=0)=>null==e||isNaN(e)?t:e,h=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectDonut":case"CIMGeometricEffectOffset":case"CIMGeometricEffectTaperedPolygon":case"CIMGeometricEffectEnclosingPolygon":return!0}return!1};function g(){return Promise.all([r.e(27093),r.e(13323)]).then(r.bind(r,69339))}function b(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function S(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function C(e){let t="normal",r="normal";if(e){const n=e.toLowerCase();n.includes("italic")?t="italic":n.includes("oblique")&&(t="oblique"),n.includes("bold")?r="bold":n.includes("light")&&(r="lighter")}return{style:t,weight:r}}function v(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function M(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=M(t);if(null!=e)return e}break;case"CIMTextSymbol":return M(e.symbol);case"CIMSolidFill":return e.color}return null}function I(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const e of t){const t=I(e);if(null!=t)return t}break}case"CIMTextSymbol":return I(e.symbol);case"CIMSolidStroke":return e.color}}function x(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=x(t);if(void 0!==e)return e}break;case"CIMTextSymbol":return x(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function w(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function _(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function P(e){return(e?Object.keys(e):[]).map((t=>({name:t,alias:t,type:"string"==typeof e[t]?"esriFieldTypeString":"esriFieldTypeDouble"})))}const T=e=>e.includes("data:image/svg+xml");function L(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function O(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}function k(e,t,r,n,o,i,s=!0){const{infos:l}=i;let a=1,u=0,c=0,f=0,p=1;for(const{absoluteAnchorPoint:e,offsetX:t,offsetY:r,rotation:n,size:o,frameHeight:i,rotateClockWise:y,scaleSymbolsProportionally:d}of l)p=e?1:a,c=z(t,r,u,p,c),f=j(t,r,u,p,f),i&&(d||s)&&(a*=o/i),u=G(n,y,u);const y=z(n,o,u,p,c),d=j(n,o,u,p,f);return{size:e*a,rotation:G(t,r,u),offsetX:y,offsetY:d}}function F(e){return"string"==typeof e?function(e){return e.split(" ").map((e=>Number(e)))}(e):e}function Z(e){return e?.dashTemplate&&(e.dashTemplate=F(e.dashTemplate)),e}function R(e){if(null==e)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const e of t)if("CIMVectorMarker"===e.type)return R(e)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const e of t)if(e.symbol)return R(e.symbol)}}return"Normal"}function E(e,t){if(null!==t){const r=t.get(e);return r?r.name:e}return e}function N(e){return e.map((e=>({...e,propertyName:O(e.propertyName)})))}function A(e){const t={};for(const r in e){const n=e[r];t[O(r)]=n}return t}function j(e,t,r,n,o){const i=r*Math.PI/180;if(i){const r=Math.cos(i);return(Math.sin(i)*e+r*t)*n+o}return t*n+o}function z(e,t,r,n,o){const i=r*Math.PI/180;return i?(Math.cos(i)*e-Math.sin(i)*t)*n+o:e*n+o}function G(e,t,r){return t?r-e:r+e}function J(e,t){return Math.max(Math.min((e??t)/100,1),0)}},9350:function(e,t,r){r.d(t,{CJ:function(){return u},Rz:function(){return f},js:function(){return p},xA:function(){return a},z3:function(){return c}});r(61432);var n=r(89636),o=r(38096),i=r(19886),s=r(45433),l=r(54914);const a=i.Z.fromJSON(l.I4),u=o.Z.fromJSON(l.ET),c=n.Z.fromJSON(l.lF),f=s.Z.fromJSON(l.qP);function p(e){if(null==e)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return a;case"polyline":return u;case"polygon":case"extent":return c}return null}i.Z.fromJSON(l.eG),o.Z.fromJSON(l.wW),n.Z.fromJSON(l.lj)},54914:function(e,t,r){r.d(t,{ET:function(){return s},I4:function(){return i},SQ:function(){return n},X1:function(){return o},eG:function(){return u},lF:function(){return l},lj:function(){return f},qP:function(){return a},wW:function(){return c}});const n=[252,146,31,255],o=[153,153,153,255],i={type:"esriSMS",style:"esriSMSCircle",size:6,color:n,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},s={type:"esriSLS",style:"esriSLSSolid",width:.75,color:n},l={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},a={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},u={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},f={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);