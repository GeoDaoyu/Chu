"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[21067,917],{32505:function(e,t,n){n.d(t,{a:function(){return u},f:function(){return c},n:function(){return o}});var r=n(59384);function o(e,t){u(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function u(e,t,n=2,o=n){const u=t.length/2;let c=0,i=0;if(!(0,r.fU)(t)||(0,r.Q7)(t)){for(let r=0;r<u;++r)e[c]=t[i],e[c+1]=t[i+1],c+=n,i+=o;return}const s=(0,r.Op)(t);if((0,r.B3)(t))for(let r=0;r<u;++r)e[c]=Math.max(t[i]/s,-1),e[c+1]=Math.max(t[i+1]/s,-1),c+=n,i+=o;else for(let r=0;r<u;++r)e[c]=t[i]/s,e[c+1]=t[i+1]/s,c+=n,i+=o}function c(e,t,n,r){const o=e.typedBuffer,u=e.typedBufferStride,c=r?.count??e.count;let i=(r?.dstIndex??0)*u;for(let e=0;e<c;++e)o[i]=t,o[i+1]=n,i+=u}Object.freeze(Object.defineProperty({__proto__:null,fill:c,normalizeIntegerBuffer:u,normalizeIntegerBufferView:o},Symbol.toStringTag,{value:"Module"}))},32222:function(e,t,n){function r(e,t,n=3,r=n){const o=t.length/r;let u=0,c=0;for(let i=0;i<o;++i)e[u]=t[c],e[u+1]=t[c+1],e[u+2]=t[c+2],u+=n,c+=r}function o(e,t,n,r,o){const u=e.typedBuffer,c=e.typedBufferStride,i=o?.count??e.count;let s=(o?.dstIndex??0)*c;for(let e=0;e<i;++e)u[s]=t,u[s+1]=n,u[s+2]=r,s+=c}n.d(t,{c:function(){return r},f:function(){return o}});Object.freeze(Object.defineProperty({__proto__:null,copy:r,copyView:function(e,t){r(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)},fill:o},Symbol.toStringTag,{value:"Module"}))},6567:function(e,t,n){function r(e){switch(e){case"u8":case"i8":return 1;case"u16":case"i16":case"f16":return 2;case"u32":case"i32":case"f32":return 4;case"f64":return 8}}n.d(t,{n1:function(){return r}})},21067:function(e,t,n){n.r(t),n.d(t,{loadGLTFMesh:function(){return L}});var r=n(53147),o=n(38461),u=n(78619),c=n(88194),i=n(79577),s=n(99574),a=n(96373),f=n(30748),l=n(82846),d=n(27583),p=n(7148),m=n(99310),y=n(59639),g=n(72002),T=n(98556),h=n(52861),x=n(81342),w=n(2875),B=n(91426),b=n(6567);Object.freeze(Object.defineProperty({__proto__:null,copy:function(e,t,n){const r=e.typedBuffer,o=e.typedBufferStride,u=t.typedBuffer,c=t.typedBufferStride,i=n?n.count:t.count;let s=(n?.dstIndex??0)*o,a=(n?.srcIndex??0)*c;for(let e=0;e<i;++e){for(let e=0;e<9;++e)r[s+e]=u[a+e];s+=o,a+=c}}},Symbol.toStringTag,{value:"Module"}));Object.freeze(Object.defineProperty({__proto__:null,copy:function(e,t,n){const r=e.typedBuffer,o=e.typedBufferStride,u=t.typedBuffer,c=t.typedBufferStride,i=n?n.count:t.count;let s=(n?.dstIndex??0)*o,a=(n?.srcIndex??0)*c;for(let e=0;e<i;++e){for(let e=0;e<16;++e)r[s+e]=u[a+e];s+=o,a+=c}}},Symbol.toStringTag,{value:"Module"}));n(60987);var v=n(32505),O=n(32222);function _(e,t,n=4){const r=t.typedBuffer,o=t.typedBufferStride,u=t.count;let c=0,i=0;for(let t=0;t<u;++t)e[c]=r[i],e[c+1]=r[i+1],e[c+2]=r[i+2],e[c+3]=r[i+3],c+=n,i+=o}function S(e,t,n,r,o,u){const c=e.typedBuffer,i=e.typedBufferStride,s=u?.count??e.count;let a=(u?.dstIndex??0)*i;for(let e=0;e<s;++e)c[a]=t,c[a+1]=n,c[a+2]=r,c[a+3]=o,a+=i}Object.freeze(Object.defineProperty({__proto__:null,copy:_,copyView:function(e,t){_(e.typedBuffer,t,e.typedBufferStride)},fill:S},Symbol.toStringTag,{value:"Module"}));function E(e,t){return new e(new ArrayBuffer(t*e.ElementCount*(0,b.n1)(e.ElementType)))}var A=n(63827),M=n(95631),C=n(50022),N=n(42869),R=n(917),I=n(65650);async function L(e,t,n){const o=new M.C(function(e){const t=e?.resolveFile;return t?{busy:!1,request:async(e,n,r)=>{const o=t?.(e)??e,c="image"===n?"image":"binary"===n||"image+type"===n?"array-buffer":"json";return(await(0,u.Z)(o,{responseType:c,signal:r?.signal,timeout:0})).data}}:null}(n)),a=(await(0,C.loadGLTF)(o,t,n,!0)).model,f=a.lods.shift(),p=new Map,w=new Map;a.textures.forEach(((e,t)=>p.set(t,function(e){return new y.Z({data:((0,R.$A)(e.data),e.data),wrap:G(e.parameters.wrap)})}(e)))),a.materials.forEach(((e,t)=>w.set(t,function(e,t){const n=new r.Z(function(e,t){return(0,d.al)(q(e[0]),q(e[1]),q(e[2]),t)}(e.color,e.opacity)),o=e.emissiveFactor?new r.Z(function(e){return(0,l.al)(q(e[0]),q(e[1]),q(e[2]))}(e.emissiveFactor)):null,u=e=>e?new g.Z({scale:e.scale?[e.scale[0],e.scale[1]]:[1,1],rotation:(0,s.BV)(e.rotation??0),offset:e.offset?[e.offset[0],e.offset[1]]:[0,0]}):null;return new m.Z({color:n,colorTexture:t.get(e.colorTexture),normalTexture:t.get(e.normalTexture),emissiveColor:o,emissiveTexture:t.get(e.emissiveTexture),occlusionTexture:t.get(e.occlusionTexture),alphaMode:j(e.alphaMode),alphaCutoff:e.alphaCutoff,doubleSided:e.doubleSided,metallic:e.metallicFactor,roughness:e.roughnessFactor,metallicRoughnessTexture:t.get(e.metallicRoughnessTexture),colorTextureTransform:u(e.colorTextureTransform),normalTextureTransform:u(e.normalTextureTransform),occlusionTextureTransform:u(e.occlusionTextureTransform),emissiveTextureTransform:u(e.emissiveTextureTransform),metallicRoughnessTextureTransform:u(e.metallicRoughnessTextureTransform)})}(e,p))));const B=function(e){let t=0;const n={color:!1,tangent:!1,normal:!1,texCoord0:!1},r=new Map,o=new Map,u=[];for(const c of e.parts){const{position:e,normal:s,color:a,tangent:f,texCoord0:l}=c.attributes,d=`\n      ${D(e,r)}/\n      ${D(s,r)}/\n      ${D(a,r)}/\n      ${D(f,r)}/\n      ${D(l,r)}/\n      ${U(c.transform)}\n    `;let p=!1;const m=(0,i.s1)(o,d,(()=>(p=!0,{start:t,length:e.count})));p&&(t+=e.count),s&&(n.normal=!0),a&&(n.color=!0),f&&(n.tangent=!0),l&&(n.texCoord0=!0),u.push({gltf:c,writeVertices:p,region:m})}return{vertexAttributes:{position:E(x.fP,t),normal:n.normal?E(x.ct,t):null,tangent:n.tangent?E(x.ek,t):null,color:n.color?E(x.mc,t):null,texCoord0:n.texCoord0?E(x.Eu,t):null},parts:u,components:[]}}(f);for(const e of B.parts)k(B,e,w);const{position:b,normal:v,tangent:O,color:_,texCoord0:S}=B.vertexAttributes,N=(0,h.G7)(e,n),I=e.spatialReference.isGeographic?(0,h.G7)(e):N,L=(0,A.qk)({vertexAttributes:{position:b.typedBuffer,normal:v?.typedBuffer,tangent:O?.typedBuffer},vertexSpace:I,spatialReference:e.spatialReference},N,{allowBufferReuse:!0,sourceUnit:n?.unitConversionDisabled?void 0:"meters"});if(!L)throw new c.Z("load-gltf-mesh:vertex-space-projection",`Failed to load mesh from glTF because we could not convert the vertex space from ${I.type} to ${N.type}`);return{transform:null,vertexSpace:N,components:B.components,spatialReference:e.spatialReference,vertexAttributes:new T.Q({...L,color:_?.typedBuffer,uv:S?.typedBuffer})}}function D(e,t){if(null==e)return"-";const n=e.typedBuffer;return`${(0,i.s1)(t,n.buffer,(()=>t.size))}/${n.byteOffset}/${n.byteLength}`}function U(e){return null!=e?e.toString():"-"}function k(e,t,n){t.writeVertices&&function(e,t){const{position:n,normal:r,tangent:o,color:u,texCoord0:c}=e.vertexAttributes,i=t.region.start,{attributes:l,transform:d}=t.gltf,p=l.position.count;if((0,w.d)(n.slice(i,p),l.position,d),null!=l.normal&&null!=r){const e=(0,a.XL)((0,f.Ue)(),d),t=r.slice(i,p);(0,w.c)(t,l.normal,e),(0,s.oc)(e)&&(0,w.e)(t,t)}else null!=r&&(0,O.f)(r,0,0,1,{dstIndex:i,count:p});if(null!=l.tangent&&null!=o){const e=(0,a.xO)((0,f.Ue)(),d),t=o.slice(i,p);(0,B.a)(t,l.tangent,e),(0,s.oc)(e)&&(0,B.n)(t,t)}else null!=o&&S(o,0,0,1,1,{dstIndex:i,count:p});if(null!=l.texCoord0&&null!=c?(0,v.n)(c.slice(i,p),l.texCoord0):null!=c&&(0,v.f)(c,0,0,{dstIndex:i,count:p}),null!=l.color&&null!=u){const e=l.color,t=u.slice(i,p);if(4===e.elementCount)e instanceof x.ek?(0,B.l)(t,e,1,255):(e instanceof x.mc||e instanceof x.v6)&&(0,B.l)(t,e,1/255,255);else{S(t,255,255,255,255);const n=x.ne.fromTypedArray(t.typedBuffer,t.typedBufferStride);e instanceof x.ct?(0,w.l)(n,e,1,255):(e instanceof x.ne||e instanceof x.mw)&&(0,w.l)(n,e,1/255,255)}}else null!=u&&S(u.slice(i,p),255,255,255,255)}(e,t);const{indices:r,attributes:o,primitiveType:u,material:c}=t.gltf;let i=(0,N.p)(r||o.position.count,u);const l=t.region.start;if(l){const e=new Uint32Array(i);for(let t=0;t<i.length;t++)e[t]+=l;i=e}e.components.push(new p.Z({name:t.gltf.name,faces:i,material:n.get(c),shading:o.normal?"source":"flat",trustSourceNormals:!0}))}function j(e){switch(e){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function G(e){return{horizontal:$(e.s),vertical:$(e.t)}}function $(e){switch(e){case I.e8.CLAMP_TO_EDGE:return"clamp";case I.e8.MIRRORED_REPEAT:return"mirror";case I.e8.REPEAT:return"repeat"}}function q(e){return e**(1/o.jm)*255}},95631:function(e,t,n){n.d(t,{C:function(){return s}});var r=n(78619),o=n(29292),u=n(88194),c=n(93568),i=n(95490);class s{constructor(e){this._streamDataRequester=e}async loadJSON(e,t){return this._load("json",e,t)}async loadBinary(e,t){return(0,i.HK)(e)?((0,c.k_)(t),(0,i.AH)(e)):this._load("binary",e,t)}async loadImage(e,t){return this._load("image",e,t)}async _load(e,t,n){if(null==this._streamDataRequester)return(await(0,r.Z)(t,{responseType:a[e]})).data;const i=await(0,o.q6)(this._streamDataRequester.request(t,e,n));if(!0===i.ok)return i.value;throw(0,c.r9)(i.error),new u.Z("glt-loader-request-error",`Request for resource failed: ${i.error}`)}}const a={image:"image",binary:"array-buffer",json:"json","image+type":void 0}},42869:function(e,t,n){n.d(t,{p:function(){return c}});var r=n(59384),o=n(38766),u=n(65650);function c(e,t){switch(t){case u.MX.TRIANGLES:return function(e){return"number"==typeof e?(0,o.KF)(e):(0,r.lq)(e)?new Uint16Array(e):e}(e);case u.MX.TRIANGLE_STRIP:return function(e){const t="number"==typeof e?e:e.length;if(t<3)return[];const n=t-2,r=(0,o.$z)(3*n);if("number"==typeof e){let e=0;for(let t=0;t<n;t+=1)t%2==0?(r[e++]=t,r[e++]=t+1,r[e++]=t+2):(r[e++]=t+1,r[e++]=t,r[e++]=t+2)}else{let t=0;for(let o=0;o<n;o+=1)o%2==0?(r[t++]=e[o],r[t++]=e[o+1],r[t++]=e[o+2]):(r[t++]=e[o+1],r[t++]=e[o],r[t++]=e[o+2])}return r}(e);case u.MX.TRIANGLE_FAN:return function(e){const t="number"==typeof e?e:e.length;if(t<3)return new Uint16Array(0);const n=t-2,r=n<=65536?new Uint16Array(3*n):new Uint32Array(3*n);if("number"==typeof e){let e=0;for(let t=0;t<n;++t)r[e++]=0,r[e++]=t+1,r[e++]=t+2;return r}const o=e[0];let u=e[1],c=0;for(let t=0;t<n;++t){const n=e[t+2];r[c++]=o,r[c++]=u,r[c++]=n,u=n}return r}(e)}}},917:function(e,t,n){n.d(t,{$A:function(){return c},Ml:function(){return s},NM:function(){return u},i$:function(){return i}});var r=n(61432),o=n(32420);class u{constructor(e){this.data=e,this.type="encoded-mesh-texture",this.encoding=o.Ti.KTX2_ENCODING}}function c(e){return"encoded-mesh-texture"===e?.type}async function i(e){const t=new Blob([e]),n=await t.text();return JSON.parse(n)}async function s(e,t){if(t===o.Ti.KTX2_ENCODING)return new u(e);const n=new Blob([e],{type:t});let c=URL.createObjectURL(n);switch(t){case"image/jpeg":c+="#.jpg";break;case"image/png":c+="#.png"}const i=new Image;if((0,r.Z)("esri-iPhone"))return new Promise(((e,t)=>{const n=()=>{o(),e(i)},r=e=>{o(),t(e)},o=()=>{URL.revokeObjectURL(c),i.removeEventListener("load",n),i.removeEventListener("error",r)};i.addEventListener("load",n),i.addEventListener("error",r),i.src=c}));try{i.src=c,await i.decode()}catch(e){console.warn("Failed decoding HTMLImageElement")}return URL.revokeObjectURL(c),i}},32420:function(e,t,n){var r,o,u,c,i,s,a,f;n.d(t,{Gv:function(){return o},JJ:function(){return a},Rw:function(){return c},Ti:function(){return f},V_:function(){return s},Vr:function(){return r},Xx:function(){return u},hU:function(){return i}}),function(e){e[e.None=0]="None",e[e.Front=1]="Front",e[e.Back=2]="Back",e[e.COUNT=3]="COUNT"}(r||(r={})),function(e){e[e.Less=0]="Less",e[e.Lequal=1]="Lequal",e[e.COUNT=2]="COUNT"}(o||(o={})),function(e){e[e.BACKGROUND=0]="BACKGROUND",e[e.UPDATE=1]="UPDATE"}(u||(u={})),function(e){e[e.NOT_LOADED=0]="NOT_LOADED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"}(c||(c={})),function(e){e[e.IntegratedMeshMaskExcluded=1]="IntegratedMeshMaskExcluded",e[e.OutlineVisualElementMask=2]="OutlineVisualElementMask"}(i||(i={})),function(e){e[e.Highlight=0]="Highlight",e[e.MaskOccludee=1]="MaskOccludee"}(s||(s={})),function(e){e[e.Blend=0]="Blend",e[e.Opaque=1]="Opaque",e[e.Mask=2]="Mask",e[e.MaskBlend=3]="MaskBlend",e[e.COUNT=4]="COUNT"}(a||(a={})),function(e){e.DDS_ENCODING="image/vnd-ms.dds",e.KTX2_ENCODING="image/ktx2",e.BASIS_ENCODING="image/x.basis"}(f||(f={}))}}]);