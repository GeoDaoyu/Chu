"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[41717],{25265:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var i=t(14178),r=t(3859),s=t(54191),a=t(78845),c=t(70728),o=t(11285),l=t(88801),u=t(8131),d="container___ELQ8z",f=t(31549),h=function(){var e=(0,s.useLocation)(),n=(0,s.useAppData)().routes,t=(0,c.Z)((0,o.Z)((function(e){return{label:e.name,key:e.path}})),(0,l.Z)((function(e){return!e.hideInMenu})),(0,l.Z)((function(e){return e.name})),u.Z)(n),i=e.pathname;return(0,f.jsx)("div",{className:d,children:(0,f.jsx)(a.Z,{onClick:function(e){s.history.push(e.key)},selectedKeys:[i],mode:"horizontal",items:t,disabledOverflow:!0})})},m=t(28833),p=t(51341),v=t(84627),x=t(10550),j=t(88979),_=t(18485),Z="container___mRSvW",w=function(){var e=(0,s.useModel)("@@initialState"),n=e.refresh,t=e.initialState,i=t.name,r=t.role,a=[{key:"login",icon:(0,f.jsx)(j.Z,{}),label:"登录",onClick:function(){s.history.push("/login")},role:["guest"]},{key:"logout",icon:(0,f.jsx)(_.Z,{}),label:"退出",onClick:function(){(0,x.ZQ)(),n()},role:["admin","user"]}];return(0,f.jsx)("div",{className:Z,children:(0,f.jsx)(m.Z,{menu:{items:a.filter((function(e){return e.role.includes(r)}))},children:(0,f.jsxs)(p.Z,{children:[(0,f.jsx)(v.Z,{src:(0,f.jsx)("img",{src:"./avatar.png",alt:"avatar"})}),(0,f.jsx)("span",{children:i})]})})})},k=t(81001),g=t(30631),C=t(82439),b=t(44194),y="container___CDiFp";k.default.assetsPath="./assets";var N=function(){var e=(0,i.Z)((function(e){return e.initialize})),n=(0,b.useRef)();return(0,b.useEffect)((function(){var t=new C.Z({basemap:"topo-3d",ground:"world-elevation"}),i=new g.Z({map:t,zoom:9,center:[120,30],container:n.current,ui:{components:[]}});n.current.view=i,i.when((function(){e(i)}))}),[e]),(0,f.jsx)("div",{id:"view",ref:n,className:y})},z=t(73193),M=t.n(z),S=(t(15191),function(e){return(0,f.jsx)("arcgis-basemap-toggle",M()({"reference-element":"view"},e))}),D="header___uTyJd",E="title___frCCk",J=t(73917).Z.Title,L=r.Z.Header,O=function(e){var n=e.children;return(0,f.jsxs)(L,{className:D,children:[(0,f.jsx)(J,{className:E,children:window.appcfg.title||"Chu"}),n]})},P="container___MJ5pp",Q="basemap___C_tvP",R=r.Z.Content;function T(){var e=(0,i.Z)((function(e){return e.view}));return(0,f.jsxs)(r.Z,{children:[(0,f.jsx)(O,{children:(0,f.jsx)(w,{})}),(0,f.jsx)(R,{children:(0,f.jsxs)("div",{className:P,children:[(0,f.jsx)(N,{}),e&&(0,f.jsx)(s.Outlet,{}),(0,f.jsx)(h,{}),(0,f.jsx)("div",{className:Q,children:(0,f.jsx)(S,{nextBasemap:"streets-3d"})})]})})]})}},14178:function(e,n,t){const i=(0,t(25480).U)((e=>({view:null,initialize:n=>e({view:n})})));n.Z=i}}]);