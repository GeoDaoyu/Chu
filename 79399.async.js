"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[79399],{65562:function(n,t,e){e.d(t,{C:function(){return h},a:function(){return m},b:function(){return p}});var r=e(17904),o=e(20638),i=e(45701),u=e(37124),c=e(85119),s=e(48857),a=e(34709),f=e(38419),l=e(74826),d=e(15150);class h extends l.K{constructor(){super(...arguments),this.opacity=1}}function p(n){const t=new d.kG;t.include(r.k),t.fragment.uniforms.add(new a.A("tex",(n=>n.texture))),n.hasOpacityFactor&&t.fragment.uniforms.add(new c.p("opacity",(n=>n.opacity)));const e=n.blitMode===f.J.Depth;return e&&(t.fragment.uniforms.add(new u.$("nearFar",(n=>n.camera.nearFar))),t.fragment.include(o.K),t.fragment.include(i.n)),t.fragment.main.add(s.H`
    ${e?s.H`
          float normalizedLinearDepth = (-linearDepthFromTexture(tex, uv) - nearFar[0]) / (nearFar[1] - nearFar[0]);
          fragColor = float2rgba(normalizedLinearDepth);`:s.H`
          fragColor = texture(tex, uv) ${n.hasOpacityFactor?"* opacity":""};`}`),t}const m=Object.freeze(Object.defineProperty({__proto__:null,CompositingPassParameters:h,build:p},Symbol.toStringTag,{value:"Module"}))},46965:function(n,t,e){var r;e.d(t,{Y:function(){return r}}),function(n){n[n.KILOBYTES=1024]="KILOBYTES",n[n.MEGABYTES=1048576]="MEGABYTES",n[n.GIGABYTES=1073741824]="GIGABYTES"}(r||(r={}))},12019:function(n,t,e){e.d(t,{n:function(){return o}});var r=e(81001);const o=()=>r.default.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches},92643:function(n,t,e){e.d(t,{Ch:function(){return J},EX:function(){return E},G:function(){return P},H0:function(){return k},Ht:function(){return Z},K6:function(){return R},O:function(){return Y},WC:function(){return O},Y3:function(){return x},_Y:function(){return _},_j:function(){return W},c9:function(){return D},gp:function(){return L},jQ:function(){return a},mj:function(){return B},nR:function(){return G},sJ:function(){return A},vG:function(){return T},xr:function(){return w}});var r=e(53147),o=e(3480),i=e(28947),u=e(99574),c=e(73749),s=e(27583);function a(n){return"r"in n&&"g"in n&&"b"in n}function f(n){return"h"in n&&"s"in n&&"v"in n}function l(n){return"l"in n&&"a"in n&&"b"in n}function d(n){return"l"in n&&"c"in n&&"h"in n}const h=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],p=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function m(n,t){const e=[];let r,o;if(n[0].length!==t.length)throw new Error("dimensions do not match");const i=n.length,u=n[0].length;let c=0;for(r=0;r<i;r++){for(c=0,o=0;o<u;o++)c+=n[r][o]*t[o];e.push(c)}return e}function g(n){const t=[n.r/255,n.g/255,n.b/255].map((n=>n<=.04045?n/12.92:((n+.055)/1.055)**2.4)),e=m(h,t);return{x:100*e[0],y:100*e[1],z:100*e[2]}}function b(n){const t=m(p,[n.x/100,n.y/100,n.z/100]).map((n=>{const t=n<=.0031308?12.92*n:1.055*n**(1/2.4)-.055;return Math.min(1,Math.max(t,0))}));return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function M(n){const t=[n.x/95.047,n.y/100,n.z/108.883].map((n=>n>(6/29)**3?n**(1/3):1/3*(29/6)**2*n+4/29));return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function y(n){const t=n.l,e=[(t+16)/116+n.a/500,(t+16)/116,(t+16)/116-n.b/200].map((n=>n>6/29?n**3:3*(6/29)**2*(n-4/29)));return{x:95.047*e[0],y:100*e[1],z:108.883*e[2]}}function v(n){return function(n){const t=n.l,e=n.a,r=n.b,o=Math.sqrt(e*e+r*r);let i=Math.atan2(r,e);return i=i>0?i:i+2*Math.PI,{l:t,c:o,h:i}}(M(g(n)))}function S(n){return b(y(function(n){const t=n.l,e=n.c,r=n.h;return{l:t,a:e*Math.cos(r),b:e*Math.sin(r)}}(n)))}function w(n){return a(n)?n:d(n)?S(n):l(n)?function(n){return b(y(n))}(n):function(n){return"x"in n&&"y"in n&&"z"in n}(n)?b(n):f(n)?function(n){const t=(n.h+360)%360/60,e=n.s/100,r=n.v/100*255,o=r*e,i=o*(1-Math.abs(t%2-1));let u;switch(Math.floor(t)){case 0:u={r:o,g:i,b:0};break;case 1:u={r:i,g:o,b:0};break;case 2:u={r:0,g:o,b:i};break;case 3:u={r:0,g:i,b:o};break;case 4:u={r:i,g:0,b:o};break;case 5:case 6:u={r:o,g:0,b:i};break;default:u={r:0,g:0,b:0}}return u.r=Math.round(u.r+r-o),u.g=Math.round(u.g+r-o),u.b=Math.round(u.b+r-o),u}(n):n}function _(n){return f(n)?n:function(n){const t=n.r,e=n.g,r=n.b,o=Math.max(t,e,r),i=o-Math.min(t,e,r);let u=o,c=0===i?0:o===t?(e-r)/i%6:o===e?(r-t)/i+2:(t-e)/i+4,s=0===i?0:i/u;return c<0&&(c+=6),c*=60,s*=100,u*=100/255,{h:c,s:s,v:u}}(w(n))}function x(n){return l(n)?n:function(n){return M(g(n))}(w(n))}function A(n){return d(n)?n:v(w(n))}function C(n){let{r:t,g:e,b:o,a:i}=n;return i<1&&(t=Math.round(i*t+255*(1-i)),e=Math.round(i*e+255*(1-i)),o=Math.round(i*o+255*(1-i))),new r.Z({r:t,g:e,b:o})}function E(n,t){const{r:e,g:r,b:o}=t?.ignoreAlpha?n:C(n);return.2126*e+.7152*r+.0722*o}var R,F;function B(n,t=R.High){return E(n,{ignoreAlpha:!0})>t?new r.Z([0,0,0,n.a]):new r.Z([255,255,255,n.a])}function W(n,t){const e=x(n);e.l*=1-t;const r=w(e),o=n.clone();return o.setColor(r),o.a=n.a,o}function P(n,t){const e=n.clone();return e.a*=t,e}function T(n,t){const e=_(n);e.s*=t;const r=w(e),o=n.clone();return o.setColor(r),o.a=n.a,o}function Y(n){return r.Z.toUnitRGBA(n)}function O(n,t){return n===t||null!=n&&n.equals(t)}function Z(n,t){return n===t||null!=n&&null!=t&&(0,c.e)(n,t)}function L(n){return(0,s.al)(n[0],n[1],n[2],n.length>3?n[3]:1)}function D(n){return n[0]??=0,n[1]??=0,n[2]??=0,n}function G(n){return n.length=4,D(n),n[3]??=1,(0,u.uZ)(n[3],0,1),n}function J(n,t){const e=r.Z.toUnitRGBA(n);return e[3]*=t,e}function k(n,t,e={}){if(0===n.length||t<=0)return[];if(1===(n=n.map((n=>"string"==typeof n?new r.Z(n):n))).length||1===t){const e=[],r=n[0];for(let n=0;n<t;n++)e.push(r.clone());return e}if(e.shuffle&&(n=(0,o.TV)((0,i.d9)(n),e.seed)),n.length>=t){const e=[],r=(n.length-1)/(t-1);for(let o=0;o<t;o++){const t=Math.round(o*r);e.push(n[t].clone())}return e}return function(n,t,e={}){const r=[],i=n.length-1,u=Math.ceil((t-n.length)/i);n:for(let o=0;o<i;o++){const i=n[o],c=n[o+1];for(let o=1;o<=u;o++){const s=o/(u+1);if(r.push(U(i,c,s,e)),r.length+n.length===t)break n}}return[...n.map((n=>n.clone())),...(0,o.TV)(r,e.seed??1)]}(n,t,e)}(F=R||(R={}))[F.Low=160]="Low",F[F.High=225]="High";const N=(n,t)=>{const e=Math.floor(10*t())-5;return Math.min(255,Math.max(0,n+e))};function U(n,t,e,i={}){const u=n.r,c=n.g,s=n.b,a=t.r,f=t.g,l=t.b,d=Math.round(u+(a-u)*e),h=Math.round(c+(f-c)*e),p=Math.round(s+(l-s)*e);if(!i.offset)return new r.Z([d,h,p]);const m=(0,o.FS)(i.seed);return new r.Z([N(d,m),N(h,m),N(p,m)])}},51067:function(n,t,e){e.d(t,{L4:function(){return _},LO:function(){return d},Qv:function(){return f},Rd:function(){return h},Ud:function(){return b},VG:function(){return l},Wv:function(){return m},Zv:function(){return y},aC:function(){return v},h9:function(){return g},ld:function(){return S},mg:function(){return p},q6:function(){return M},sS:function(){return E},yc:function(){return w}});var r=e(46965),o=e(95437),i=e(99574),u=e(1925),c=e(29138),s=e(26636),a=e(40030);function f(n,t,e){return n.units[t][e]}function l(n,t,e,r=2,o="abbr"){return`${(0,a.uf)(t,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:t>0?"never":"exceptZero"})} ${f(n,e,o)}`}function d(n,t,e,r=2,o="abbr"){return`${(0,a.uf)(t,{minimumFractionDigits:r,maximumFractionDigits:r,signDisplay:"exceptZero"})} ${f(n,e,o)}`}function h(n,t,e,r=2,o="abbr"){const i=(0,s.Y8)(t,e);return l(n,(0,s.En)(t,e,i),i,r,o)}function p(n,t,e,r=2,o="abbr"){const i=(0,s.Y8)(t,e);return d(n,(0,s.En)(t,e,i),i,r,o)}function m(n,t,e,r=2,o="abbr"){const i=(0,s.Dw)(t,e);return l(n,(0,s.En)(t,e,i),i,r,o)}function g(n,t,e,r=2,o="abbr"){const i=(0,s.Dw)(t,e);return d(n,(0,s.En)(t,e,i),i,r,o)}function b(n,t,e,r=2,o="abbr"){const i=(0,s.Q7)(t,e);return l(n,(0,s.En)(t,e,i),i,r,o)}function M(n,t,e,r=2,o="abbr"){const i=(0,s.Q7)(t,e);return d(n,(0,s.En)(t,e,i),i,r,o)}function y(n,t,e,r=2,o="abbr"){const i=(0,s.jl)(t,e);return l(n,(0,s.En)(t,e,i),i,r,o)}function v(n,t,e,r=2,o="abbr"){const i=(0,s.jl)(t,e);return d(n,(0,s.En)(t,e,i),i,r,o)}function S(n,t,e,r=2,o="abbr"){const i=(0,s.ZI)(t,e);return l(n,(0,s.En)(t,e,i),i,r,o)}function w(n,t,e,r=2,o="abbr"){const i=(0,s.LV)(t,e);return l(n,(0,s.En)(t,e,i),i,r,o)}function _(n,t,e,r,i,c=o.BV,f=!0){let l=c.normalize((0,u.hw)((0,s.En)(n,t,"degrees"),e,r),0,f);const d=((n,t)=>({style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:t,minimumFractionDigits:t,signDisplay:n>0?"never":"exceptZero"}))(l,i??2);return l=A(l,d),(0,a.uf)(l,d)}const x=new Map;function A(n,t){const e=JSON.stringify(t);let r=x.get(e);return r||(r=new Intl.NumberFormat("en-US",t),x.set(e,r)),/^[-+]?360\.?0*Â°?$/.test(r.format(n))?0:n}const C=["B","kB","MB","GB","TB"];function E(n,t){let e=0===(t=Math.round(t))?0:Math.floor(Math.log(t)/Math.log(r.Y.KILOBYTES));e=(0,i.uZ)(e,0,C.length-1);const o=(0,a.uf)(t/r.Y.KILOBYTES**e,{maximumFractionDigits:2});return(0,c.gx)(n.units.bytes[C[e]],{fileSize:o})}},5226:function(n,t,e){e.d(t,{BR:function(){return S},E2:function(){return B},Is:function(){return x},Kf:function(){return v},NE:function(){return C},P0:function(){return y},Tz:function(){return F},Ue:function(){return d},bk:function(){return p},ej:function(){return w},id:function(){return _},pb:function(){return M},pt:function(){return g},qf:function(){return h},rF:function(){return A},yS:function(){return R}});var r=e(31865),o=e(24910),i=e(82846),u=e(47925),c=e(45213),s=e(70331),a=e(93070),f=e(89420),l=e(69055);function d(n){const{value:t,operations:e}=n;return{operations:e,value:e.create(t)}}function h(n,t,e){return n.operations.setExtent(n.value,t,e.value),e}function p(n,t){return n.operations.getExtent(n.value,t),t}function m(n,t,e=function(n){return{operations:n,value:n.create()}}(n)){return e.operations=n,n.copy(t,e.value),e}function g(n){return m(l.s,(0,l.f)(0,0,0,(0,u.Iu)(n).radius))}const b=2**50;function M(){return m(f.b,(0,f.f)([0,0,0],[b,0,0],[0,b,0]))}function y(n,t,e){return n.operations.axisAt(n.value,t,a.R.Z,e)}function v(n,t,e,r){return n.operations.axisAt(n.value,t,e,r)}function S(n,t,e){return n.operations.intersectRay(n.value,t,e)}function w(n,t,e){return n.operations.intersectRayClosestSilhouette(n.value,t,e)}function _(n,t){return n.operations.altitudeAt(n.value,t)}function x(n,t,e,r){return n.operations.setAltitudeAt(n.value,t,e,r)}function A(n,t,e,i){return t!==i&&(0,r.JG)(i,t),(0,o.i)(E,i[12],i[13],i[14]),x(n,E,e,E),i[12]=E[0],i[13]=E[1],i[14]=E[2],i}function C(n,t,e){return n.operations.elevate(n.value,t,e.value)}const E=(0,i.Ue)();function R(n,t,e,r,i){return i[0]=(0,o.e)(n,t),i[1]=(0,o.e)(n,e),i[2]=(0,o.e)(n,r),i}function F(n,t,e,r,i){(0,o.c)(e,n),(0,o.c)(W,t),(0,o.n)(W,W),(0,o.h)(r,W,e),(0,o.h)(i,r,e)}function B(n,t){return n?(0,s.rS)(t):t.isGeographic?c.Z.PlateCarree:t}const W=(0,i.Ue)()},48207:function(n,t,e){e.d(t,{LO:function(){return a},Nc:function(){return s},Yc:function(){return c}});const r="calcite-mode-",o="dark",i=/\W/g;function u(){return getComputedStyle(document.body).getPropertyValue("--esri-calcite-mode-name").replaceAll(i,"").toLowerCase()}function c(){return u()===o}function s(){const n=u();switch(n){case o:case"light":return`${r}${n}`;default:return null}}function a(n){const t=s();t&&(f(n),n.classList.add(t))}function f(n){Array.from(n.classList).forEach((t=>{t.startsWith(r)&&n.classList.remove(t)}))}},32243:function(n,t,e){e.d(t,{Z:function(){return v}});var r=e(99574),o=e(26636),i=e(31865),u=e(24910),c=e(47925),s=e(70331),a=e(6961),f=e(96937),l=e(2051),d=e(47566),h=e(93070),p=e(5226),m=e(77773),g=e(63271),b=e(69811),M=e(27936),y=e(56172);class v{constructor(n,t,e,r){this.viewingMode=n,this.spatialReference=t,this.unitInMeters=e,this._coordinateSystem=r,this._tmpCoordinateSystem=(0,p.Ue)(r),this.referenceEllipsoid=(0,c.Iu)(t),this.sphericalPCPF=(0,s.rS)(t)}set extent(n){n&&(0,p.qf)(this._coordinateSystem,n,this._coordinateSystem)}get extent(){return(0,p.bk)(this._coordinateSystem,(0,d.Ue)())}getAltitude(n){return(0,p.id)(this._coordinateSystem,n)}setAltitude(n,t,e=n){return(0,p.Is)(this._coordinateSystem,e,t,n)}setAltitudeOfTransformation(n,t){(0,p.rF)(this._coordinateSystem,t,n,t)}worldUpAtPosition(n,t){return(0,p.P0)(this._coordinateSystem,n,t)}worldBasisAtPosition(n,t,e){return(0,p.Kf)(this._coordinateSystem,n,t,e)}basisMatrixAtPosition(n,t){const e=this.worldBasisAtPosition(n,h.R.X,b.WM.get()),r=this.worldBasisAtPosition(n,h.R.Y,b.WM.get()),o=this.worldBasisAtPosition(n,h.R.Z,b.WM.get());return(0,i.t8)(t,e[0],e[1],e[2],0,r[0],r[1],r[2],0,o[0],o[1],o[2],0,0,0,0,1),t}headingAtPosition(n,t){const e=this.worldUpAtPosition(n,b.WM.get()),o=this.worldBasisAtPosition(n,h.R.Y,b.WM.get()),i=(0,g.cp)(t,o,e);return(0,r.BV)(i)}intersectManifoldClosestSilhouette(n,t,e){return(0,p.NE)(this._coordinateSystem,t,this._tmpCoordinateSystem),(0,p.ej)(this._tmpCoordinateSystem,n,e),e}intersectManifold(n,t,e){(0,p.NE)(this._coordinateSystem,t,this._tmpCoordinateSystem);const r=b.WM.get();return(0,p.BR)(this._tmpCoordinateSystem,n,r)?(0,u.c)(e,r):null}intersectInfiniteManifold(n,t,e){if(this.viewingMode===y.JY.Global)return this.intersectManifold(n,t,e);(0,p.NE)(this._coordinateSystem,t,this._tmpCoordinateSystem);const r=this._tmpCoordinateSystem.value,o=b.WM.get();return(0,m.BR)(r.plane,n,o)?(0,u.c)(e,o):null}toRenderCoords(n,t,e){return(0,M.f)(n)?(0,a.K)(n,t,this.spatialReference):(0,l.S)(n,t,e,this.spatialReference)}fromRenderCoords(n,t,e=null){return(0,M.f)(t)?(null!=e&&(t.spatialReference=e),(0,f.f)(n,this.spatialReference,t)?t:null):(0,l.S)(n,this.spatialReference,t,e)?t:null}static create(n,t){switch(n){case y.JY.Local:return new v(y.JY.Local,t,(0,o.c9)(t),(0,p.pb)());case y.JY.Global:return new v(y.JY.Global,t,1,(0,p.pt)(t))}}static renderUnitScaleFactor(n,t){return(0,o.r6)(n)/(0,o.r6)(t)}}},13445:function(n,t,e){e.d(t,{Bh:function(){return f},eW:function(){return d},iE:function(){return l},j$:function(){return s},u4:function(){return a}});var r=e(96094),o=e(26821),i=e(24910),u=e(12659),c=e(69811);function s(n,t,e=(0,u.Ue)()){return a(n,(0,r.md)(t),e),(0,i.n)(e.direction,e.direction),e}function a(n,t,e){return f(n,n.screenToRender(t,(0,r.Wv)(c.WM.get())),e)}function f(n,t,e){const u=(0,r.Wv)((0,o.JG)(c.WM.get(),t));if(u[2]=0,!n.unprojectFromRenderScreen(u,e.origin))return null;const s=(0,r.Wv)((0,o.JG)(c.WM.get(),t));s[2]=1;const a=n.unprojectFromRenderScreen(s,c.WM.get());return null==a?null:((0,i.d)(e.direction,a,e.origin),e)}function l(n,t,e){return d(n,n.screenToRender(t,(0,r.Wv)(c.WM.get())),e)}function d(n,t,e){(0,i.c)(e.origin,n.eye);const r=(0,i.i)(c.WM.get(),t[0],t[1],1),o=n.unprojectFromRenderScreen(r,c.WM.get());return null==o?null:((0,i.d)(e.direction,o,e.origin),e)}},34630:function(n,t,e){function r(n){n.code.add("\n  vec4 blendColorsPremultiplied(vec4 source, vec4 dest) {\n    float oneMinusSourceAlpha = 1.0 - source.a;\n    return source + dest * oneMinusSourceAlpha;\n  }\n  ")}function o(n,t){return n[0]=t[0]*t[3],n[1]=t[1]*t[3],n[2]=t[2]*t[3],n[3]=t[3],n}e.d(t,{m:function(){return r},p:function(){return o}})},25631:function(n,t,e){e.d(t,{N:function(){return c}});var r=e(65562),o=e(25906),i=e(38419),u=e(65650);class c{constructor(n,t=i.J.None){this._techniques=n,this._parameters=new r.C,this._configuration=new i.Z,this._configuration.blitMode=t,n.precompile(o.l,this._configuration)}blit(n,t,e,r){n.bindFramebuffer(e.fbo),n.setClearColor(0,0,0,1),n.clear(u.Hf.COLOR),this._parameters.texture=t.getTexture();const i=this._techniques.get(o.l,this._configuration);n.bindTechnique(i,r,this._parameters),n.screen.draw()}blend(n,t,e,r,i=1){this._configuration.hasOpacityFactor=i<1;const u=this._techniques.get(o.l,this._configuration);return!!u.compiled&&(n.bindFramebuffer(e.fbo),this._parameters.texture=t.getTexture(),this._parameters.opacity=i,n.bindTechnique(u,r,this._parameters),n.screen.draw(),!0)}}},71356:function(n,t,e){function r(n){return!!n.update}e.d(t,{f:function(){return r}})},25906:function(n,t,e){e.d(t,{l:function(){return a}});var r=e(79487),o=e(58257),i=e(29107),u=e(65562),c=e(38419),s=e(51135);class a extends i.A{constructor(n,t){super(n,t,new o.J(u.a,(()=>e.e(39568).then(e.bind(e,39568)))))}initializePipeline(n){switch(n.blitMode){case c.J.None:case c.J.Depth:return(0,s.sm)({colorWrite:s.gf});case c.J.Alpha:return(0,s.sm)({blending:s.vf,colorWrite:s.gf});default:(0,r.Bg)(n.blitMode);case c.J.PremultipliedAlpha:case c.J.COUNT:return(0,s.sm)({blending:s.Zo,colorWrite:s.gf})}}}},38419:function(n,t,e){e.d(t,{J:function(){return r},Z:function(){return c}});var r,o,i=e(73440),u=e(83046);(o=r||(r={}))[o.None=0]="None",o[o.Alpha=1]="Alpha",o[o.PremultipliedAlpha=2]="PremultipliedAlpha",o[o.Depth=3]="Depth",o[o.COUNT=4]="COUNT";class c extends u.m{constructor(){super(...arguments),this.blitMode=r.None,this.hasOpacityFactor=!1}}(0,i._)([(0,u.o)({count:r.COUNT})],c.prototype,"blitMode",void 0),(0,i._)([(0,u.o)()],c.prototype,"hasOpacityFactor",void 0)},50670:function(n,t,e){var r;e.d(t,{t:function(){return r}}),function(n){n[n.Left=0]="Left",n[n.Middle=1]="Middle",n[n.Right=2]="Right"}(r||(r={}))}}]);