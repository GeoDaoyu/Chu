"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[35527],{54859:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(90819),a=n.n(r),u=n(89933),s=n.n(u),c=n(54191),i=n(44194),o=n(73193),p=n.n(o);function f(e){return h.apply(this,arguments)}function h(){return(h=s()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/getUser",{method:"GET",params:{token:t}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return(d=s()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,c.request)("/api/v1/getRole",{method:"GET",params:p()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=n(31549),m=function(){var e=(0,c.useModel)("@@initialState").setInitialState;return(0,i.useEffect)((function(){var t=function(){var t=s()(a()().mark((function t(){var n,r;return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"",t.next=3,f("");case 3:return n=t.sent,t.next=6,l();case 6:r=t.sent,e({name:n.data.name,user:n.data,role:r.data}),c.history.push("/home");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),(0,v.jsx)("div",{children:"单点登录"})}}}]);