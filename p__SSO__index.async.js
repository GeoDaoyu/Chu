"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[35527],{54859:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});var r=n(90819),a=n.n(r),u=n(89933),s=n.n(u),c=n(70765),i=n(44194),o=n(73193),p=n.n(o);function f(t){return h.apply(this,arguments)}function h(){return(h=s()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)("/api/v1/getUser",{method:"GET",params:{token:e}}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(t){return d.apply(this,arguments)}function d(){return(d=s()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)("/api/v1/getRole",{method:"GET",params:p()({},e)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var v=n(31549),m=function(){var t=(0,c.useModel)("@@initialState").setInitialState;return(0,i.useEffect)((function(){var e=function(){var e=s()(a()().mark((function e(){var n,r;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",e.next=3,f("");case 3:return n=e.sent,e.next=6,l();case 6:r=e.sent,t({name:n.data.name,user:n.data,role:r.data}),c.history.push("/home");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),(0,v.jsx)("div",{children:"单点登录"})}}}]);