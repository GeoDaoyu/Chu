"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[82451],{87802:function(e,t,r){r.d(t,{UK:function(){return a},qo:function(){return s}});var i=r(29191);async function a(e,t,r){t=t.clone(),e.capabilities.query.supportsMaxRecordCountFactor&&(t.maxRecordCountFactor=n(e));const i=s(e),a=e.capabilities.query.supportsPagination;t.start=0,t.num=i;let o=null;for(;;){const s=await e.source.queryFeaturesJSON(t,r);if(null==o?o=s:o.features=o.features.concat(s.features),o.exceededTransferLimit=s.exceededTransferLimit,!a||!s.exceededTransferLimit)break;t.start+=i}return o}function s(e){return n(e)*function(e){return e.capabilities.query.maxRecordCount||2e3}(e)}function n(e){return e.capabilities.query.supportsMaxRecordCountFactor?i.Z.MAX_MAX_RECORD_COUNT_FACTOR:1}},73051:function(e,t,r){r.r(t),r.d(t,{default:function(){return f}});var i=r(73440),a=r(46451),s=r(61432),n=r(90403),o=r(17155),l=(r(96711),r(83850),r(48023)),u=r(61197),c=r(94808),d=r(24381),p=r(81808),h=r(5527),y=r(27546);let g=class extends((0,u.N)((0,d.A)(h.Z))){constructor(){super(...arguments),this.type="integrated-mesh-3d",this._elevationContext="im",this._supportsLabeling=!1,this._applySSAO=!(0,s.Z)("disable-feature:im-ssao"),this._shadeNormals=!!(0,s.Z)("enable-feature:im-shading"),this.drapeTargetType=c.al.WithoutRasterImage}get i3slayer(){return this.layer}get updatingProgressValue(){return this._controller?.updatingProgress??0}get lodFactor(){return this.view?.qualitySettings?.sceneService?.integratedMesh?.lodFactor??1}get progressiveLoadFactor(){return this.lodFactor>=1?.2:1}get visibleAtCurrentScale(){return(0,y.GB)(this.i3slayer.effectiveScaleRange,this.view.scale)}get layerPopupEnabledAndHasTemplate(){return!1}initialize(){this._updatingHandles.add((()=>this.layer.modifications),(()=>this._loadModifications()),n.nn),this.view.basemapTerrain.overlayManager.registerDrapeTarget(this)}destroy(){this.view.basemapTerrain.overlayManager.unregisterDrapeTarget(this)}_createLayerGraphic(){return new a.Z({layer:this.layer,sourceLayer:this.layer})}canResume(){return super.canResume()&&(!this._controller||this._controller.rootNodeVisible)}_loadModifications(){if(this.removeHandles("modifications"),null==this.layer.modifications)return void(this._modifications=[]);const e=this.layer.modifications;this.addHandles(this._updatingHandles.addOnCollectionChange((()=>e),(()=>this._modifications=e.toArray()),n.nn),"modifications")}};(0,i._)([(0,o.Cb)()],g.prototype,"layer",void 0),(0,i._)([(0,o.Cb)()],g.prototype,"i3slayer",null),(0,i._)([(0,o.Cb)(p.q)],g.prototype,"updatingProgress",void 0),(0,i._)([(0,o.Cb)()],g.prototype,"updatingProgressValue",null),(0,i._)([(0,o.Cb)()],g.prototype,"lodFactor",null),(0,i._)([(0,o.Cb)({readOnly:!0})],g.prototype,"progressiveLoadFactor",null),(0,i._)([(0,o.Cb)({readOnly:!0})],g.prototype,"visibleAtCurrentScale",null),g=(0,i._)([(0,l.j)("esri.views.3d.layers.IntegratedMeshLayerView3D")],g);const f=g}}]);