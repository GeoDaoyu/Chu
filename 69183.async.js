"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[69183],{54229:function(t,n,e){e.d(n,{Z:function(){return m}});var r,o=e(73440),i=e(63255),s=e(17155),a=(e(61432),e(96711),e(83850),e(48023)),u=e(31865),l=e(10934),c=e(18156),f=e(21117),d=e(82846),p=e(86456);let m=class extends i.Z{static{r=this}constructor(t){super(t),this.translation=(0,d.Ue)(),this.rotationAxis=(0,d.nI)(p.up),this.rotationAngle=0,this.scale=(0,d.al)(1,1,1)}get rotation(){return(0,p.uT)(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=(0,d.d9)((0,p.ZZ)(t)),this.rotationAngle=(0,p.EU)(t)}get localMatrix(){const t=(0,l.Ue)();return(0,c.yY)(w,(0,p.ZZ)(this.rotation),(0,p.WH)(this.rotation)),(0,u.Iw)(t,w,this.translation,this.scale),t}get localMatrixInverse(){return(0,u.U_)((0,l.Ue)(),this.localMatrix)}equals(t){return this===t||null!=t&&(0,u.I6)(this.localMatrix,t.localMatrix)}clone(){const t={translation:(0,d.d9)(this.translation),rotationAxis:(0,d.d9)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,d.d9)(this.scale)};return new r(t)}};(0,o._)([(0,s.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],m.prototype,"translation",void 0),(0,o._)([(0,s.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],m.prototype,"rotationAxis",void 0),(0,o._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],m.prototype,"rotationAngle",void 0),(0,o._)([(0,s.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],m.prototype,"scale",void 0),(0,o._)([(0,s.Cb)()],m.prototype,"rotation",null),(0,o._)([(0,s.Cb)()],m.prototype,"localMatrix",null),(0,o._)([(0,s.Cb)()],m.prototype,"localMatrixInverse",null),m=r=(0,o._)([(0,a.j)("esri.geometry.support.MeshTransform")],m);const w=(0,f.Ue)()},60419:function(t,n,e){e.d(n,{$6:function(){return A},$z:function(){return i},F7:function(){return o},S0:function(){return s},Si:function(){return m},Wr:function(){return h},X4:function(){return f},Zq:function(){return d},d1:function(){return u},dm:function(){return l},eP:function(){return c},fe:function(){return p},sg:function(){return w}});const r=[["binary","application/octet-stream","bin",""]];function o(t,n){return null!=b(n.name,t?.supportedFormats??[])}function i(t,n){if(!t)return!1;const e=l(n,t.supportedFormats??[]);return null!=e&&t.editFormats.includes(e)}function s(t,n){return x(function(t,n){const e=t.toLowerCase();return y(n).find((t=>g(t)===e))}(t,n))}function a(t,n){return x(b(t,n))}function u(t,n){return g(function(t,n){return y(n).find((n=>x(n)===t))}(t,n))}function l(t,n){return a(t.name,n)??s(t.type,n)}function c(t,n,e){return s(t,e)??a(n,e)}function f({supportedFormats:t}){return c("model/gltf-binary","glb",t)}function d(t){const n=f(t);return null!=n&&t.editFormats.includes(n)}function p({supportedFormats:t}){return c("model/gltf+json","gltf",t)}function m(t){if(!t)return null;const n=f(t),e=p(t);let r=null;for(const o of t.queryFormats){if(o===n)return o;o===e&&(r=o)}return r}function w({supportedFormats:t}){return c("application/esri3do-SR_world","wld",t)}function h({supportedFormats:t}){return c("application/esri3do-SR_prj","prj",t)}function y(t){return[...r,...t]}function b(t,n){const e=t.toLowerCase();return y(n).find((t=>v(t).some((t=>e.endsWith(t)))))}function x(t){return t?.[0]}function g(t){return t?.[1].toLowerCase()}function v(t){return t?.[2].split(",").map((t=>t.toLowerCase()))??[]}function A(t){return t.tables?.find((t=>"assetMaps"===t.role))}},4043:function(t,n,e){e.r(n),e.d(n,{createMesh:function(){return f}});var r=e(88194),o=e(29097),i=e(30146),s=e(16447),a=e(25657),u=e(98556),l=e(2875),c=e(75272);function f(t){const n=new c.S,e=t.spatialReference??t.layerView.view.spatialReference;return n.externalSources.add({extent:t.extent??d(t,e),source:{type:"loadable",load:n=>async function(t,{layerView:n,nodeIndex:e,featureIndex:o}){const s=n.getNodeComponentHandle(e);if(!s?.intersectionGeometry)throw new r.Z("i3s-layer-view-geometry-missing","Cannot load mesh because scene layer view data is no longer available.");const a={indices:null,data:null,stride:0,startIndex:0,endIndex:0};s.intersectionGeometry.getComponentPositions(o,a);const{indices:c,data:f,stride:d,startIndex:p,endIndex:m}=a,w=new Float64Array(3*(m-p));let h=0;for(let t=p;t<m;t+=3){const n=d*c[t],e=d*c[t+1],r=d*c[t+2];w[h++]=f[n],w[h++]=f[n+1],w[h++]=f[n+2],w[h++]=f[e],w[h++]=f[e+1],w[h++]=f[e+2],w[h++]=f[r],w[h++]=f[r+1],w[h++]=f[r+2]}const y=s.transform;(0,l.b)(w,w,y.rotationScale),(0,l.a)(w,w,y.position),(0,i.projectBuffer)(w,n.view.renderSpatialReference,0,w,t.spatialReference,0),t.vertexAttributes=new u.Q({position:w})}(n,t)}}),new o.default({metadata:n,vertexSpace:new a.Z,spatialReference:e})}function d({layerView:t,nodeIndex:n,featureIndex:e},r){const o=t.getAABB(n,e);if(!o)return null;const a=t.view.spatialReference;return a.equals(r)||(0,i.projectBuffer)(o,a,0,o,r,0),(0,s.HH)(o,r)}}}]);