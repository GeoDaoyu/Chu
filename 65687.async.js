"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[65687,77442],{45415:function(t,e,r){function n(t,e,r,n,s){i(t,e,r||0,n||t.length-1,s||u)}function i(t,e,r,n,u){for(;n>r;){if(n-r>600){var o=n-r+1,f=e-r+1,c=Math.log(o),l=.5*Math.exp(2*c/3),a=.5*Math.sqrt(c*l*(o-l)/o)*(f-o/2<0?-1:1);i(t,e,Math.max(r,Math.floor(e-f*l/o+a)),Math.min(n,Math.floor(e+(o-f)*l/o+a)),u)}var h=t[e],p=r,d=n;for(s(t,r,e),u(t[n],h)>0&&s(t,r,n);p<d;){for(s(t,p,d),p++,d--;u(t[p],h)<0;)p++;for(;u(t[d],h)>0;)d--}0===u(t[r],h)?s(t,r,d):s(t,++d,n),d<=e&&(r=d+1),e<=d&&(n=d-1)}}function s(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function u(t,e){return t<e?-1:t>e?1:0}r.d(e,{q:function(){return n}})},2875:function(t,e,r){r.d(e,{a:function(){return a},b:function(){return o},c:function(){return u},d:function(){return i},e:function(){return h},f:function(){return l},l:function(){return c},n:function(){return p},t:function(){return s}});var n=r(38461);r(61432),r(96711);function i(t,e,r){s(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function s(t,e,r,n=3,i=n){if(t.length/n!==Math.ceil(e.length/i))return t;const s=t.length/n,u=r[0],o=r[1],f=r[2],c=r[4],l=r[5],a=r[6],h=r[8],p=r[9],d=r[10],y=r[12],m=r[13],B=r[14];let E=0,T=0;for(let r=0;r<s;r++){const r=e[E],s=e[E+1],g=e[E+2];t[T]=u*r+c*s+h*g+y,t[T+1]=o*r+l*s+p*g+m,t[T+2]=f*r+a*s+d*g+B,E+=i,T+=n}return t}function u(t,e,r){o(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function o(t,e,r,n=3,i=n){if(t.length/n!==Math.ceil(e.length/i))return;const s=t.length/n,u=r[0],o=r[1],f=r[2],c=r[3],l=r[4],a=r[5],h=r[6],p=r[7],d=r[8];let y=0,m=0;for(let r=0;r<s;r++){const r=e[y],s=e[y+1],B=e[y+2];t[m]=u*r+c*s+h*B,t[m+1]=o*r+l*s+p*B,t[m+2]=f*r+a*s+d*B,y+=i,m+=n}}function f(t,e,r,n=3,i=n){const s=Math.min(t.length/n,e.length/i);let u=0,o=0;for(let f=0;f<s;f++)t[o]=r*e[u],t[o+1]=r*e[u+1],t[o+2]=r*e[u+2],u+=i,o+=n;return t}function c(t,e,r,n){l(t.typedBuffer,e.typedBuffer,r,n,t.typedBufferStride,e.typedBufferStride)}function l(t,e,r,i,s=3,u=s){const o=Math.min(t.length/s,e.length/u);let f=0,c=0;const l=1/n.jm;for(let n=0;n<o;n++)t[c]=i*(r*e[f])**l,t[c+1]=i*(r*e[f+1])**l,t[c+2]=i*(r*e[f+2])**l,f+=u,c+=s}function a(t,e,r,n=3,i=n){const s=t.length/n;if(s!==Math.ceil(e.length/i))return t;let u=0,o=0;for(let f=0;f<s;f++)t[o]=e[u]+r[0],t[o+1]=e[u+1]+r[1],t[o+2]=e[u+2]+r[2],u+=i,o+=n;return t}function h(t,e){p(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function p(t,e,r=3,n=r){const i=Math.min(t.length/r,e.length/n);let s=0,u=0;for(let o=0;o<i;o++){const i=e[s],o=e[s+1],f=e[s+2],c=i*i+o*o+f*f;if(c>0){const e=1/Math.sqrt(c);t[u]=e*i,t[u+1]=e*o,t[u+2]=e*f}s+=n,u+=r}}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:l,linearToSRGBView:c,normalize:p,normalizeView:h,scale:f,scaleView:function(t,e,r){f(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)},shiftRight:function(t,e,r){const n=Math.min(t.count,e.count),i=t.typedBuffer,s=t.typedBufferStride,u=e.typedBuffer,o=e.typedBufferStride;let f=0,c=0;for(let t=0;t<n;t++)i[c]=u[f]>>r,i[c+1]=u[f+1]>>r,i[c+2]=u[f+2]>>r,f+=o,c+=s},transformMat3:o,transformMat3View:u,transformMat4:s,transformMat4View:i,translate:a},Symbol.toStringTag,{value:"Module"}))},91426:function(t,e,r){r.d(e,{a:function(){return s},b:function(){return l},l:function(){return c},n:function(){return o},t:function(){return u}});var n=r(38461),i=(r(61432),r(96711));function s(t,e,r){u(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function u(t,e,r,n=4,i=n){if(t.length/n!=e.length/i)return;const s=t.length/n,u=r[0],o=r[1],f=r[2],c=r[3],l=r[4],a=r[5],h=r[6],p=r[7],d=r[8];let y=0,m=0;for(let r=0;r<s;r++){const r=e[y],s=e[y+1],B=e[y+2],E=e[y+3];t[m]=u*r+c*s+h*B,t[m+1]=o*r+l*s+p*B,t[m+2]=f*r+a*s+d*B,t[m+3]=E,y+=i,m+=n}}function o(t,e){const r=Math.min(t.count,e.count),n=t.typedBuffer,i=t.typedBufferStride,s=e.typedBuffer,u=e.typedBufferStride;for(let t=0;t<r;t++){const e=t*i,r=t*u,o=s[r],f=s[r+1],c=s[r+2],l=o*o+f*f+c*c;if(l>0){const t=1/Math.sqrt(l);n[e]=t*o,n[e+1]=t*f,n[e+2]=t*c}}}function f(t,e,r,n=4){const i=Math.min(t.length/n,e.count),s=e.typedBuffer,u=e.typedBufferStride;let o=0,f=0;for(let e=0;e<i;e++)t[f]=r*s[o],t[f+1]=r*s[o+1],t[f+2]=r*s[o+2],t[f+3]=r*s[o+3],o+=u,f+=n}function c(t,e,r,n){l(t.typedBuffer,e,r,n,t.typedBufferStride)}function l(t,e,r,i,s=4){const u=Math.min(t.length/s,e.count),o=e.typedBuffer,f=e.typedBufferStride;let c=0,l=0;const a=1/n.jm;for(let e=0;e<u;e++)t[l]=i*(r*o[c])**a,t[l+1]=i*(r*o[c+1])**a,t[l+2]=i*(r*o[c+2])**a,t[l+3]=i*r*o[c+3],c+=f,l+=s}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:l,linearToSRGBView:c,normalize:o,scale:f,scaleView:function(t,e,r){f(t.typedBuffer,e,r,t.typedBufferStride)},transformMat3:u,transformMat3View:s,transformMat4:function(t,e,r,n=4,s=n){if(t.length/n!=e.length/s)return void i.Z.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const u=t.length/n,o=r[0],f=r[1],c=r[2],l=r[3],a=r[4],h=r[5],p=r[6],d=r[7],y=r[8],m=r[9],B=r[10],E=r[11],T=r[12],g=r[13],_=r[14],x=r[15];let S=0,A=0;for(let r=0;r<u;r++){const r=e[S],i=e[S+1],u=e[S+2],M=e[S+3];t[A]=o*r+a*i+y*u+T*M,t[A+1]=f*r+h*i+m*u+g*M,t[A+2]=c*r+p*i+B*u+_*M,t[A+3]=l*r+d*i+E*u+x*M,S+=s,A+=n}},transformMat4View:function(t,e,r){if(t.count!==e.count)return;const n=t.count,i=r[0],s=r[1],u=r[2],o=r[3],f=r[4],c=r[5],l=r[6],a=r[7],h=r[8],p=r[9],d=r[10],y=r[11],m=r[12],B=r[13],E=r[14],T=r[15],g=t.typedBuffer,_=t.typedBufferStride,x=e.typedBuffer,S=e.typedBufferStride;for(let t=0;t<n;t++){const e=t*_,r=t*S,n=x[r],A=x[r+1],M=x[r+2],w=x[r+3];g[e]=i*n+f*A+h*M+m*w,g[e+1]=s*n+c*A+p*M+B*w,g[e+2]=u*n+l*A+d*M+E*w,g[e+3]=o*n+a*A+y*M+T*w}}},Symbol.toStringTag,{value:"Module"}))},96946:function(t,e,r){r.d(e,{Q:function(){return o},b:function(){return M}});var n=r(3480),i=r(79487),s=(r(61432),r(63974)),u=r(45415);class o{constructor(t=9,e){this._compareMinX=h,this._compareMinY=p,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&("function"==typeof e?this._toBBox=e:this._initFormat(e)),this.clear()}destroy(){this.clear(),_.prune(),x.prune(),S.prune(),A.prune()}all(t){f(this._data,t)}search(t,e){let r=this._data;const n=this._toBBox;if(T(t,r))for(_.clear();r;){for(let i=0,s=r.children.length;i<s;i++){const s=r.children[i],u=r.leaf?n(s):s;T(t,u)&&(r.leaf?e(s):E(t,u)?f(s,e):_.push(s))}r=_.pop()}}collides(t){let e=this._data;const r=this._toBBox;if(!T(t,e))return!1;for(_.clear();e;){for(let n=0,i=e.children.length;n<i;n++){const i=e.children[n],s=e.leaf?r(i):i;if(T(t,s)){if(e.leaf||E(t,s))return!0;_.push(i)}}e=_.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let e=0,r=t.length;e<r;e++)this.insert(t[e]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(this._data.children.length)if(this._data.height===e.height)this._splitRoot(this._data,e);else{if(this._data.height<e.height){const t=this._data;this._data=e,e=t}this._insert(e,this._data.height-e.height-1,!0)}else this._data=e;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new R([]),this}remove(t){if(!t)return this;let e,r=this._data,s=null,u=0,o=!1;const f=this._toBBox(t);for(S.clear(),A.clear();r||S.length>0;){if(r||(r=S.pop(),s=S.data[S.length-1],u=A.pop()??0,o=!0),r.leaf&&(e=(0,n.cq)(r.children,(0,i.CY)(t),r.children.length,r.indexHint),-1!==e))return r.children.splice(e,1),S.push(r),this._condense(S),this;o||r.leaf||!E(r,f)?s?(u++,r=s.children[u],o=!1):r=null:(S.push(r),A.push(u),u=0,s=r,r=r.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_build(t,e,r,n){const i=r-e+1;let s=this._maxEntries;if(i<=s){const n=new R(t.slice(e,r+1));return c(n,this._toBBox),n}n||(n=Math.ceil(Math.log(i)/Math.log(s)),s=Math.ceil(i/s**(n-1)));const u=new b([]);u.height=n;const o=Math.ceil(i/s),f=o*Math.ceil(Math.sqrt(s));g(t,e,r,f,this._compareMinX);for(let i=e;i<=r;i+=f){const e=Math.min(i+f-1,r);g(t,i,e,o,this._compareMinY);for(let r=i;r<=e;r+=o){const i=Math.min(r+o-1,e);u.children.push(this._build(t,r,i,n-1))}}return c(u,this._toBBox),u}_insert(t,e,r){const n=this._toBBox,i=r?t:n(t);S.clear();const s=function(t,e,r,n){for(;n.push(e),!0!==e.leaf&&n.length-1!==r;){let r,n=1/0,i=1/0;for(let s=0,u=e.children.length;s<u;s++){const u=e.children[s],o=d(u),f=m(t,u)-o;f<i?(i=f,n=o<n?o:n,r=u):f===i&&o<n&&(n=o,r=u)}e=r||e.children[0]}return e}(i,this._data,e,S);for(s.children.push(t),a(s,i);e>=0&&S.data[e].children.length>this._maxEntries;)this._split(S,e),e--;!function(t,e,r){for(let n=r;n>=0;n--)a(e.data[n],t)}(i,S,e)}_split(t,e){const r=t.data[e],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);const s=this._chooseSplitIndex(r,i,n);if(!s)return;const u=r.children.splice(s,r.children.length-s),o=r.leaf?new R(u):new b(u);o.height=r.height,c(r,this._toBBox),c(o,this._toBBox),e?t.data[e-1].children.push(o):this._splitRoot(r,o)}_splitRoot(t,e){this._data=new b([t,e]),this._data.height=t.height+1,c(this._data,this._toBBox)}_chooseSplitIndex(t,e,r){let n,i,s;n=i=1/0;for(let u=e;u<=r-e;u++){const e=l(t,0,u,this._toBBox),o=l(t,u,r,this._toBBox),f=B(e,o),c=d(e)+d(o);f<n?(n=f,s=u,i=c<i?c:i):f===n&&c<i&&(i=c,s=u)}return s}_chooseSplitAxis(t,e,r){const n=t.leaf?this._compareMinX:h,i=t.leaf?this._compareMinY:p;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,i)&&t.children.sort(n)}_allDistMargin(t,e,r,n){t.children.sort(n);const i=this._toBBox,s=l(t,0,e,i),u=l(t,r-e,r,i);let o=y(s)+y(u);for(let n=e;n<r-e;n++){const e=t.children[n];a(s,t.leaf?i(e):e),o+=y(s)}for(let n=r-e-1;n>=e;n--){const e=t.children[n];a(u,t.leaf?i(e):e),o+=y(u)}return o}_condense(t){for(let e=t.length-1;e>=0;e--){const r=t.data[e];if(0===r.children.length)if(e>0){const i=t.data[e-1],s=i.children;s.splice((0,n.cq)(s,r,s.length,i.indexHint),1)}else this.clear();else c(r,this._toBBox)}}_initFormat(t){const e=["return a"," - b",";"];this._compareMinX=new Function("a","b",e.join(t[0])),this._compareMinY=new Function("a","b",e.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function f(t,e){let r=t;for(x.clear();r;){if(!0===r.leaf)for(const t of r.children)e((0,i.CY)(t));else x.pushArray(r.children);r=x.pop()??null}}function c(t,e){l(t,0,t.children.length,e,t)}function l(t,e,r,n,i){i||(i=new R([])),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let s,u=e;u<r;u++)s=t.children[u],a(i,t.leaf?n(s):s);return i}function a(t,e){t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY)}function h(t,e){return t.minX-e.minX}function p(t,e){return t.minY-e.minY}function d(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function y(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function B(t,e){const r=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,i-r)*Math.max(0,s-n)}function E(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function T(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t,e,r,n,i){const s=[e,r];for(;s.length;){const e=s.pop(),r=s.pop();if(e-r<=n)continue;const o=r+Math.ceil((e-r)/n/2)*n;(0,u.q)(t,o,r,e,i),s.push(r,o,o,e)}}const _=new s.Z,x=new s.Z,S=new s.Z,A=new s.Z({deallocator:void 0});class M{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class w extends M{constructor(){super(...arguments),this.height=1,this.indexHint=new n.SO}}class R extends w{constructor(t){super(),this.children=t,this.leaf=!0}}class b extends w{constructor(t){super(),this.children=t,this.leaf=!1}}},74238:function(t,e,r){r.d(e,{B:function(){return c}});var n=r(99574),i=r(31865),s=r(82846),u=r(74817),o=r(8008),f=r(8554);function c(t,e,r,n){const s=(0,o.E2)(t,n);if(null==s)return!1;const c=s.source.spatialReferenceId,d=s.dest.spatialReferenceId;if(c===d&&!l(d)&&(c!==o.Ej.UNKNOWN||(0,f.fS)(t,n)))return(0,i.vc)(r,e),!0;if(l(d)){const t=o.rf[c][o.Ej.LON_LAT],n=o.rf[o.Ej.LON_LAT][d];return null!=t&&null!=n&&(t(e,0,h,0),n(h,0,p,0),(0,u.q)(a*h[0],a*h[1],r),r[12]=p[0],r[13]=p[1],r[14]=p[2],!0)}const y=l(c);if((d===o.Ej.WEB_MERCATOR||d===o.Ej.PLATE_CARREE||d===o.Ej.WGS84||d===o.Ej.CGCS2000)&&(c===o.Ej.WGS84||y||c===o.Ej.WEB_MERCATOR||c===o.Ej.CGCS2000)){const t=o.rf[c][o.Ej.LON_LAT],n=o.rf[o.Ej.LON_LAT][d];return null!=t&&null!=n&&(t(e,0,h,0),n(h,0,p,0),y?(0,u.B)(a*h[0],a*h[1],r):(0,i.yR)(r),r[12]=p[0],r[13]=p[1],r[14]=p[2],!0)}return!1}function l(t){return t===o.Ej.SPHERICAL_ECEF||t===o.Ej.SPHERICAL_MARS_PCPF||t===o.Ej.SPHERICAL_MOON_PCPF||t===o.Ej.WGS84_ECEF}const a=(0,n.Vl)(1),h=(0,s.Ue)(),p=(0,s.Ue)()},74817:function(t,e,r){r.d(e,{B:function(){return s},q:function(){return i}});var n=r(31865);function i(t,e,r){const n=Math.sin(t),i=Math.cos(t),s=Math.sin(e),u=Math.cos(e),o=r;return o[0]=-n,o[4]=-s*i,o[8]=u*i,o[12]=0,o[1]=i,o[5]=-s*n,o[9]=u*n,o[13]=0,o[2]=0,o[6]=u,o[10]=s,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1,o}function s(t,e,r){return i(t,e,r),(0,n.p4)(r,r),r}},25657:function(t,e,r){r.d(e,{Z:function(){return l}});var n,i=r(73440),s=r(89314),u=r(63255),o=r(17155),f=(r(61432),r(96711),r(83850),r(79775)),c=r(48023);let l=class extends(s.Z.ClonableMixin(u.Z)){static{n=this}constructor(t){super(t),this.type="georeferenced",this.origin=null}static{this.absolute=new n}};(0,i._)([(0,f.J)({georeferenced:"georeferenced"},{readOnly:!0})],l.prototype,"type",void 0),(0,i._)([(0,o.Cb)({type:[Number],nonNullable:!1,json:{write:!0}})],l.prototype,"origin",void 0),l=n=(0,i._)([(0,c.j)("esri.geometry.support.MeshGeoreferencedVertexSpace")],l)},93466:function(t,e,r){r.d(e,{Z:function(){return l}});var n=r(73440),i=r(89314),s=r(63255),u=r(17155),o=(r(61432),r(96711),r(83850),r(79775)),f=r(48023),c=r(82846);let l=class extends(i.Z.ClonableMixin(s.Z)){constructor(t){super(t),this.type="local",this.origin=(0,c.Ue)()}};(0,n._)([(0,o.J)({local:"local"},{readOnly:!0})],l.prototype,"type",void 0),(0,n._)([(0,u.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],l.prototype,"origin",void 0),l=(0,n._)([(0,f.j)("esri.geometry.support.MeshLocalVertexSpace")],l)},81342:function(t,e,r){r.d(e,{ly:function(){return y},yT:function(){return d},oS:function(){return w},o7:function(){return q},Jj:function(){return $},Hz:function(){return I},gK:function(){return x},ey:function(){return S},bj:function(){return A},O1:function(){return M},av:function(){return L},Nu:function(){return U},D_:function(){return N},Eu:function(){return B},hg:function(){return m},q6:function(){return R},or:function(){return J},wA:function(){return H},Vs:function(){return Z},TS:function(){return P},qt:function(){return j},xA:function(){return C},ct:function(){return T},qx:function(){return E},fP:function(){return b},n1:function(){return W},PP:function(){return K},P_:function(){return z},mw:function(){return F},G5:function(){return V},ne:function(){return O},ek:function(){return _},R2:function(){return g},Cd:function(){return v},zO:function(){return D},TN:function(){return Q},ir:function(){return k},v6:function(){return X},hu:function(){return G},mc:function(){return Y}});var n=r(57192);class i{static{this.ElementCount=9}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.elementCount=9;const s=this.TypedArrayConstructor;void 0===n&&(n=9*s.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==i?new s(e,u):new s(e,u,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<9;t++)e[t]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<9;t++)this.typedBuffer[r++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){const n=this.typedBuffer,i=e.typedBuffer;let s=t*this.typedBufferStride,u=r*e.typedBufferStride;for(let t=0;t<9;++t)n[s++]=i[u++]}get buffer(){return this.typedBuffer.buffer}}class s{static{this.ElementCount=16}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.elementCount=16;const s=this.TypedArrayConstructor;void 0===n&&(n=16*s.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==i?new s(e,u):new s(e,u,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<16;t++)e[t]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<16;t++)this.typedBuffer[r++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){this.copyFromTypedBuffer(t,e.typedBuffer,r*e.typedBufferStride)}copyFromTypedBuffer(t,e,r){const n=this.typedBuffer;let i=t*this.typedBufferStride;for(let t=0;t<16;++t)n[i++]=e[r++]}get buffer(){return this.typedBuffer.buffer}}class u{static{this.ElementCount=1}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.elementCount=1;const s=this.TypedArrayConstructor;void 0===n&&(n=s.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==i?new s(e,u):new s(e,u,(i-r)/s.BYTES_PER_ELEMENT),this.stride=n,this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,e){this.typedBuffer[t*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}}var o=r(26821);class f{static{this.ElementCount=2}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.start=r,this.elementCount=2;const s=this.TypedArrayConstructor;void 0===n&&(n=2*s.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==i?new s(e,u):new s(e,u,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,o.t8)(e,this.typedBuffer[t],this.typedBuffer[t+1])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t]=e[1]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t]=r}copyFrom(t,e,r){const n=this.typedBuffer,i=e.typedBuffer;let s=t*this.typedBufferStride,u=r*e.typedBufferStride;n[s++]=i[u++],n[s]=i[u]}get buffer(){return this.typedBuffer.buffer}}var c=r(24910);class l{static{this.ElementCount=3}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.elementCount=3;const s=this.TypedArrayConstructor;void 0===n&&(n=3*s.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==i?new s(e,u):new s(e,u,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,c.i)(e,this.typedBuffer[t],this.typedBuffer[t+1],this.typedBuffer[t+2])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t]=e[2]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,n){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t]=n}copyFrom(t,e,r){const n=this.typedBuffer,i=e.typedBuffer;let s=t*this.typedBufferStride,u=r*e.typedBufferStride;n[s++]=i[u++],n[s++]=i[u++],n[s]=i[u]}get buffer(){return this.typedBuffer.buffer}}var a=r(73749);class h{static{this.ElementCount=4}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.start=r,this.elementCount=4;const s=this.TypedArrayConstructor;void 0===n&&(n=4*s.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==i?new s(e,u):new s(e,u,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,a.s)(e,this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t++]=e[2],this.typedBuffer[t]=e[3]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,n,i){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t++]=n,this.typedBuffer[t]=i}copyFrom(t,e,r){const n=this.typedBuffer,i=e.typedBuffer;let s=t*this.typedBufferStride,u=r*e.typedBufferStride;n[s++]=i[u++],n[s++]=i[u++],n[s++]=i[u++],n[s]=i[u]}get buffer(){return this.typedBuffer.buffer}}var p=r(61719);class d extends u{constructor(t,e=0,r,i){(0,p.hu)(n.LL),super((0,n.vz)(),t,e,r,i),this.elementType="f16"}static{this.ElementType="f16"}}class y extends u{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}static{this.ElementType="f32"}}class m extends f{constructor(t,e=0,r,i){(0,p.hu)(n.LL),super((0,n.vz)(),t,e,r,i),this.elementType="f16"}slice(t,e){return this.sliceBuffer(m,t,e)}static{this.ElementType="f16"}}class B extends f{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(B,t,e)}static{this.ElementType="f32"}}class E extends l{constructor(t,e=0,r,i){(0,p.hu)(n.LL),super((0,n.vz)(),t,e,r,i),this.elementType="f16"}slice(t,e){return this.sliceBuffer(E,t,e)}static{this.ElementType="f16"}}class T extends l{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(T,t,e)}static fromTypedArray(t,e){return new T(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f32"}}class g extends h{constructor(t,e=0,r,i){(0,p.hu)(n.LL),super((0,n.vz)(),t,e,r,i),this.elementType="f16"}slice(t,e){return this.sliceBuffer(g,t,e)}static{this.ElementType="f16"}}class _ extends h{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(_,t,e)}static{this.ElementType="f32"}}class x extends i{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(x,t,e)}static{this.ElementType="f32"}}class S extends i{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(S,t,e)}static{this.ElementType="f64"}}class A extends s{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(A,t,e)}static{this.ElementType="f32"}}class M extends s{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(M,t,e)}static{this.ElementType="f64"}}class w extends u{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(w,t,e)}static{this.ElementType="f64"}}class R extends f{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(R,t,e)}static{this.ElementType="f64"}}class b extends l{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(b,t,e)}static fromTypedArray(t,e){return new b(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f64"}}class v extends h{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(v,t,e)}static{this.ElementType="f64"}}class N extends u{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(N,t,e)}static{this.ElementType="u8"}}class C extends f{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(C,t,e)}static{this.ElementType="u8"}}class O extends l{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(O,t,e)}static fromTypedArray(t,e){return new O(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="u8"}}class Y extends h{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(Y,t,e)}static{this.ElementType="u8"}}class L extends u{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(L,t,e)}static{this.ElementType="u16"}}class P extends f{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(P,t,e)}static{this.ElementType="u16"}}class F extends l{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(F,t,e)}static{this.ElementType="u16"}}class X extends h{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(X,t,e)}static{this.ElementType="u16"}}class U extends u{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(U,t,e)}static{this.ElementType="u32"}}class j extends f{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(j,t,e)}static{this.ElementType="u32"}}class V extends l{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(V,t,e)}static{this.ElementType="u32"}}class G extends h{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(G,t,e)}static{this.ElementType="u32"}}class I extends u{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(I,t,e)}static{this.ElementType="i8"}}class Z extends f{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(Z,t,e)}static{this.ElementType="i8"}}class z extends l{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(z,t,e)}static{this.ElementType="i8"}}class k extends h{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(k,t,e)}static{this.ElementType="i8"}}class q extends u{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(q,t,e)}static{this.ElementType="i16"}}class J extends f{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(J,t,e)}static{this.ElementType="i16"}}class W extends l{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(W,t,e)}static{this.ElementType="i16"}}class D extends h{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(D,t,e)}static{this.ElementType="i16"}}class $ extends u{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer($,t,e)}static{this.ElementType="i32"}}class H extends f{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(H,t,e)}static{this.ElementType="i32"}}class K extends l{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(K,t,e)}static{this.ElementType="i32"}}class Q extends h{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(Q,t,e)}static{this.ElementType="i32"}}},57192:function(t,e,r){r.d(e,{LL:function(){return u},TQ:function(){return i},vz:function(){return s}});let n=globalThis.Float16Array;function i(...t){return new(n??Float32Array)(...t)}function s(){return n}let u=!!n},65687:function(t,e,r){r.r(e),r.d(e,{default:function(){return o}});var n=r(61432),i=r(96946),s=r(25657),u=r(63827);class o{async createIndex(t,e){const r=new Array;if(!t.vertexAttributes?.position)return new i.Q;const n=function(t){const{vertexAttributes:{position:e},vertexSpace:r,spatialReference:n,transform:i}=t,o=(0,u.qk)({vertexAttributes:{position:e},vertexSpace:r,spatialReference:n,transform:i},s.Z.absolute,{allowBufferReuse:!0})?.position;return o?!t.components||t.components.some((t=>!t.faces))?{position:o.buffer}:{position:o.buffer,components:t.components.map((t=>t.faces))}:null}(t),o=null!=e?await e.invoke("createIndexThread",n,{transferList:r}):this.createIndexThread(n).result;return f().fromJSON(o)}createIndexThread(t){const e=f();if(!t)return{result:e.toJSON()};const r=new Float64Array(t.position);return t.components?function(t,e,r){let n=0;for(const t of r)n+=t.length/3;const i=new Array(n);let s=0;for(const t of r)for(let r=0;r<t.length;r+=3)i[s++]=c(e,3*t[r],3*t[r+1],3*t[r+2]);return t.load(i),{result:t.toJSON()}}(e,r,t.components.map((t=>new Uint32Array(t)))):function(t,e){const r=new Array(e.length/9);let n=0;for(let t=0;t<e.length;t+=9)r[n++]=c(e,t,t+3,t+6);return t.load(r),{result:t.toJSON()}}(e,r)}}function f(){return new i.Q(9,(0,n.Z)("esri-csp-restrictions")?t=>t:[".minX",".minY",".maxX",".maxY"])}function c(t,e,r,n){return{minX:Math.min(t[e],t[r],t[n]),maxX:Math.max(t[e],t[r],t[n]),minY:Math.min(t[e+1],t[r+1],t[n+1]),maxY:Math.max(t[e+1],t[r+1],t[n+1]),p0:[t[e],t[e+1],t[e+2]],p1:[t[r],t[r+1],t[r+2]],p2:[t[n],t[n+1],t[n+2]]}}},17966:function(t,e,r){r.d(e,{$s:function(){return R},Gi:function(){return E},Iz:function(){return g},M2:function(){return N},MO:function(){return C},Ot:function(){return w},To:function(){return S},VS:function(){return M},XO:function(){return x},Yk:function(){return _},pn:function(){return T},w9:function(){return A},wi:function(){return v}});var n=r(99574),i=r(96373),s=r(30748),u=r(31865),o=r(10934),f=r(24910),c=r(82846),l=r(74238),a=r(30146),h=r(21414),p=r(8554),d=r(97290),y=r(81342),m=r(2875),B=r(91426);const E="Projection may be possible after calling projection.load().";function T(t,e,r,n){t.error(`Failed to project from (wkid:${e.wkid}) to (wkid:${r.wkid}).${n?" ":""}${n}`)}function g(t,e,r,n,i,s){return P(O.TO_PCPF,y.ct.fromTypedArray(t),C.NORMAL,y.fP.fromTypedArray(e),r,y.fP.fromTypedArray(n),i,y.ct.fromTypedArray(s))?s:null}function _(t,e,r,n,i,s){return P(O.FROM_PCPF,y.ct.fromTypedArray(t),C.NORMAL,y.fP.fromTypedArray(e),r,y.fP.fromTypedArray(n),i,y.ct.fromTypedArray(s))?s:null}function x(t,e,r,n){return(0,a.projectBuffer)(t,e,0,r,n,0)?r:null}function S(t,e,r,n){return(0,a.projectBuffer)(t,e,0,r,n,0)?r:null}function A(t,e,r){return(0,i.XL)(j,r),(0,m.b)(e,t,j),(0,n.oc)(j)&&(0,m.n)(e,e),e}function M(t,e,r){return(0,i.xO)(j,r),(0,B.t)(e,t,j),(0,n.oc)(j)&&(0,m.n)(e,e,4),e}function w(t,e,r,i){const s=e===C.NORMAL;return b(t,e,r,((t,e)=>{const r=Math.cos((0,n.Vl)(t));e[0]=s?r:1/r,e[1]=1}),i)}function R(t,e,r,n){const i=e===C.NORMAL;return b(t,e,r,((t,e)=>{const r=Math.cosh(-t/h.sv.radius);e[0]=1,e[1]=i?r:1/r}),n)}function b(t,e,r,n,i){const s=e===C.NORMAL?3:4,u=[0,0];for(let e=0,o=1;e<t.length;e+=s,o+=3){n(r[o],u);const f=t[e]*u[0],c=t[e+1]*u[1],l=t[e+2],a=1/Math.sqrt(f*f+c*c+l*l);i[e]=f*a,i[e+1]=c*a,i[e+2]=l*a,4===s&&(i[e+3]=t[e+3])}return i}function v(t,e,r,n,i,s){if(!P(O.TO_PCPF,y.ct.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),C.TANGENT,y.fP.fromTypedArray(e),r,y.fP.fromTypedArray(n),i,y.ct.fromTypedArray(s,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let e=3;e<t.length;e+=4)s[e]=t[e];return s}function N(t,e,r,n,i,s){if(!P(O.FROM_PCPF,y.ct.fromTypedArray(t,16),C.TANGENT,y.fP.fromTypedArray(e),r,y.fP.fromTypedArray(n),i,y.ct.fromTypedArray(s,16)))return null;for(let e=3;e<t.length;e+=4)s[e]=t[e];return s}var C,O,Y;function L(t,e,r,n,s){switch((0,l.B)(n,r,U,n),t===O.FROM_PCPF&&(0,u.U_)(U,U),e){case C.NORMAL:return(0,i.XL)(s,U);case C.TANGENT:return(0,i.xO)(s,U)}}function P(t,e,r,n,i,s,u,o){if(!e)return;const c=n.count;if(function(t){return t.isWGS84||(0,p.yW)(t)||(0,p.BZ)(t)||(0,p.V2)(t)}(i))for(let n=0;n<c;n++)s.getVec(n,F),e.getVec(n,X),(0,f.o)(X,X,L(t,r,F,u,j)),o.setVec(n,X);else for(let i=0;i<c;i++){s.getVec(i,F),e.getVec(i,X);const c=(0,d.mZ)(n.get(i,1));let l=Math.cos(c);r===C.TANGENT!=(t===O.TO_PCPF)&&(l=1/l),L(t,r,F,u,j),t===O.TO_PCPF?(j[0]*=l,j[1]*=l,j[2]*=l,j[3]*=l,j[4]*=l,j[5]*=l):(j[0]*=l,j[3]*=l,j[6]*=l,j[1]*=l,j[4]*=l,j[7]*=l),(0,f.o)(X,X,j),(0,f.n)(X,X),o.setVec(i,X)}return o}(Y=C||(C={}))[Y.NORMAL=0]="NORMAL",Y[Y.TANGENT=1]="TANGENT",function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(O||(O={}));const F=(0,c.Ue)(),X=(0,c.Ue)(),U=(0,o.Ue)(),j=(0,s.Ue)()},63827:function(t,e,r){r.d(e,{qk:function(){return _},ur:function(){return R},x1:function(){return g}});var n=r(96711),i=r(99574),s=r(26636),u=r(96373),o=r(30748),f=r(31865),c=r(10934),l=r(24910),a=r(82846),h=r(70331),p=r(74238),d=r(6961),y=r(52861),m=r(8554),B=r(2875),E=r(17966);const T=()=>n.Z.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function g(t,e,{vertexSpace:r,spatialReference:n}){if("georeferenced"===r.type){const i=t;if(!(0,d.K)(e,i,n))return!1;const{origin:s}=r;return(0,l.d)(t,i,s),!0}const i=(0,h.rS)(n),s=t;if(!(0,d.K)(e,s,i))return!1;const{origin:u}=r,o=O;if(!(0,p.B)(n,u,o,i))return!1;const c=(0,f.U_)(O,o);return null!=c&&((0,l.t)(t,s,c),!0)}function _(t,e,r){const{vertexSpace:n,transform:i,vertexAttributes:s}=t,o=(0,y.zZ)(n)?i:null,a=M(t.spatialReference,r,Y.SOURCE_AND_TARGET);if((0,y.vI)(n,e)&&(!o||(0,f.I6)(o.localMatrix,c.Wd))&&w(a)){const{position:t,normal:e,tangent:n}=s,i=r?.allowBufferReuse;return{position:i?t:t.slice(),normal:i?e:e?.slice(),tangent:i?n:n?.slice()}}switch(t.vertexSpace.type){case"local":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:r},{origin:n},i,s){const u=x(e,s);if(!(0,p.B)(e,n,b,u))return(0,E.pn)(T(),e,u),null;if(r&&(0,f.Jp)(b,b,r.localMatrix),!(0,p.B)(e,i,v,u))return(0,E.pn)(T(),u,e),null;(0,f.U_)(v,v);const o=(0,f.Jp)(b,v,b);return A(o,e,s,Y.SOURCE_AND_TARGET),S(t,o)}(t,t.vertexSpace,e.origin,r):function({spatialReference:t,vertexAttributes:e,transform:r},{origin:n},i,s){const u=x(t,s);if(!(0,p.B)(t,n,b,u))return(0,E.pn)(T(),t,u),null;r&&(0,f.Jp)(b,b,r.localMatrix),A(b,t,s,Y.SOURCE);const o=new Float64Array(e.position.length),c=function(t,e,r,n,i){(0,B.t)(n,t,e);const s=new Float64Array(t.length);return(0,E.To)(n,i,s,r)?s:((0,E.pn)(T(),i,r),null)}(e.position,b,t,o,u);if(!c)return null;const a=function(t,e,r,n,i,s){if(null==i)return null;const u=new Float32Array(i.length);return(0,E.w9)(i,u,s),(0,E.Yk)(u,t,e,r,n,u)?u:((0,E.pn)(T(),n,e),null)}(c,t,o,u,e.normal,b);if(e.normal&&!a)return null;const h=function(t,e,r,n,i,s){if(null==i)return null;const u=new Float32Array(i.length);return(0,E.VS)(i,u,s),(0,E.M2)(u,t,e,r,n,u)?u:((0,E.pn)(T(),n,e),null)}(c,t,o,u,e.tangent,b);if(e.tangent&&!h)return null;if(i){const t=(0,l.u)(C,i);(0,B.a)(c,c,t)}return{position:c,normal:a,tangent:h}}(t,t.vertexSpace,e.origin,r);case"georeferenced":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:r},{origin:n},i,s){const o=x(e,s);if(!(0,p.B)(e,i,b,o))return(0,E.pn)(T(),e,o),null;const c=1/M(e,s,Y.TARGET);(0,f.bA)(b,b,[c,c,c]);const l=(0,f.U_)(v,b),{position:a,normal:h,tangent:d}=function(t,e,r){if(!e)return t;if(!r){const{position:r,normal:n,tangent:i}=t;return{position:(0,B.a)(new Float64Array(r.length),r,e),tangent:i,normal:n}}const n=S(t,r.localMatrix);return(0,B.a)(n.position,n.position,e),n}(t,n,r),y=new Float64Array(a.length),m=function(t,e,r,n,i){const s=(0,E.XO)(t,e,n,i);if(!s)return(0,E.pn)(T(),e,i),null;const u=new Float64Array(s.length);return(0,B.t)(u,s,r),u}(a,e,l,y,o);if(!m)return null;const g=(0,u.XL)(N,l),_=function(t,e,r,n,i,s,u){if(null==t)return null;const o=u??new Float32Array(t.length);return(0,E.Iz)(t,e,r,n,i,o)?((0,B.b)(o,o,s),o):((0,E.pn)(T(),r,i),null)}(h,a,e,y,o,g,h!==t.normal?h:void 0);if(!_&&h)return null;const A=function(t,e,r,n,i,s,u){if(null==t)return null;const o=u??new Float32Array(t.length);return(0,E.wi)(t,e,r,n,i,o)?((0,B.b)(o,o,s,4),o):((0,E.pn)(T(),r,i),null)}(d,a,e,y,o,g,d!==t.tangent?d:void 0);return!A&&d?null:{position:m,normal:_,tangent:A}}(t,t.vertexSpace,e.origin,r):function({vertexAttributes:t,transform:e,spatialReference:r},{origin:n},i,s){const u=M(r,s,Y.SOURCE_AND_TARGET),o=n||!w(u)?(0,f.JG)(b,e?.localMatrix??c.Wd):null;o&&A(o,r,s,Y.SOURCE_AND_TARGET);const{position:a,normal:h,tangent:p}=o?S(t,o):t,d=s?.allowBufferReuse,y=d?a:new Float64Array(a.length);let m=a;if(n&&(m=(0,B.a)(y,m,n)),i){const t=(0,l.u)(C,i);m=(0,B.a)(y,m,t)}return{position:m!==t.position||d?m:m.slice(),normal:h!==t.normal||d?h:h?.slice(),tangent:p!==t.tangent||d?p:p?.slice()}}(t,t.vertexSpace,e.origin,r)}}function x(t,e){return e?.useEllipsoid&&(0,m.N$)(t)?h.wY:(0,h.rS)(t)}function S(t,e){const r=new Float64Array(t.position.length);(0,B.t)(r,t.position,e);const n=t.normal?new Float32Array(t.normal.length):null,i=t.tangent?new Float32Array(t.tangent.length):null;return n&&t.normal&&(0,E.w9)(t.normal,n,e),i&&t.tangent&&(0,E.VS)(t.tangent,i,e),{position:r,normal:n,tangent:i}}function A(t,e,r,n){const i=M(e,r,n);w(i)||(0,f.bA)(t,t,[i,i,i])}function M(t,e,r){const n=!!(r&Y.SOURCE),i=!!(r&Y.TARGET),s=e?.sourceUnit,u=e?.targetUnit;if(!s&&!u)return 1;let o=R(s,t);n||!s||w(o)||(T().warn("source unit conversion not supported"),o=1);let f=1/R(u,t);return i||!u||w(f)||(T().warn("target unit conversion not supported"),f=1),o*f}function w(t){return(0,i.Po)(t,1)}function R(t,e){if(null==t)return 1;const r=(0,s.r6)(e);return 1/(0,s.En)(r,"meters",t)}const b=(0,c.Ue)(),v=(0,c.Ue)(),N=(0,o.Ue)(),C=(0,a.Ue)(),O=(0,c.Ue)();var Y,L;(L=Y||(Y={}))[L.NONE=0]="NONE",L[L.SOURCE=1]="SOURCE",L[L.TARGET=2]="TARGET",L[L.SOURCE_AND_TARGET=3]="SOURCE_AND_TARGET"},52861:function(t,e,r){r.d(e,{G7:function(){return a},QK:function(){return c},rU:function(){return l},vI:function(){return h},z1:function(){return o},zZ:function(){return f}});var n=r(24910),i=r(60508),s=r(25657),u=r(93466);function o(t){return null==t.origin}function f(t){return null!=t.origin}function c(t){return f(t.vertexSpace)}function l(t,e){if(!f(t))return null;const[r,n,s]=t.origin;return new i.Z({x:r,y:n,z:s,spatialReference:e})}function a(t,e){const{x:r,y:n,z:i,spatialReference:o}=t,f=[r,n,i??0];return"local"===(e?.vertexSpace??function(t){return t.isGeographic||t.isWebMercator?"local":"georeferenced"}(o))?new u.Z({origin:f}):new s.Z({origin:f})}function h(t,e){return t.type===e.type&&(t.origin===e.origin||null!=t.origin&&null!=e.origin&&(0,n.q)(t.origin,e.origin))}},61719:function(t,e,r){r.d(e,{E6:function(){return h},T:function(){return f},ep:function(){return l},hu:function(){return o},iV:function(){return a},kG:function(){return p},yK:function(){return c}});var n=r(41788),i=r(73749);const s=(0,r(27583).Ue)();class u{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}}function o(t,e="Assertion"){if(!t){const t=new Error(e).stack;throw new u(`${e} at ${t}`)}}function f(t,e){t||(e=e||"",console.warn("Verify failed: "+e+"\n"+new Error("verify").stack))}function c(t,e,r,n){let i,s=(r[0]-t[0])/e[0],u=(n[0]-t[0])/e[0];s>u&&(i=s,s=u,u=i);let o=(r[1]-t[1])/e[1],f=(n[1]-t[1])/e[1];if(o>f&&(i=o,o=f,f=i),s>f||o>u)return!1;o>s&&(s=o),f<u&&(u=f);let c=(r[2]-t[2])/e[2],l=(n[2]-t[2])/e[2];return c>l&&(i=c,c=l,l=i),!(s>l||c>u||(l<u&&(u=l),u<0))}function l(t,e,r,i,s,u=(0,n.Ue)()){const o=(i[s]-r[s])*(e[0]-t[0])-(i[0]-r[0])*(e[s]-t[s]),f=(i[0]-r[0])*(t[s]-r[s])-(i[s]-r[s])*(t[0]-r[0]);if(0===o)return!1;const c=f/o;return u[0]=t[0]+c*(e[0]-t[0]),u[1]=t[s]+c*(e[s]-t[s]),!0}function a(t,e,r,n,u){s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=1,(0,i.t)(s,s,e),u.length>2&&(u[2]=-s[2]),(0,i.t)(s,s,r),o(0!==s[3]),u[0]=s[0]/s[3],u[1]=s[1]/s[3],u[2]=s[2]/s[3],u[0]=(.5*u[0]+.5)*n[2]+n[0],u[1]=(.5*u[1]+.5)*n[3]+n[1]}function h(t,e){return Math.log(t)/Math.log(e)}function p(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&1===t[15]}}}]);