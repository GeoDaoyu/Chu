"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[65687],{45415:function(t,e,n){function r(t,e,n,r,u){i(t,e,n||0,r||t.length-1,u||s)}function i(t,e,n,r,s){for(;r>n;){if(r-n>600){var o=r-n+1,f=e-n+1,c=Math.log(o),a=.5*Math.exp(2*c/3),l=.5*Math.sqrt(c*a*(o-a)/o)*(f-o/2<0?-1:1);i(t,e,Math.max(n,Math.floor(e-f*a/o+l)),Math.min(r,Math.floor(e+(o-f)*a/o+l)),s)}var h=t[e],d=n,p=r;for(u(t,n,e),s(t[r],h)>0&&u(t,n,r);d<p;){for(u(t,d,p),d++,p--;s(t[d],h)<0;)d++;for(;s(t[p],h)>0;)p--}0===s(t[n],h)?u(t,n,p):u(t,++p,r),p<=e&&(n=p+1),e<=p&&(r=p-1)}}function u(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function s(t,e){return t<e?-1:t>e?1:0}n.d(e,{q:function(){return r}})},2875:function(t,e,n){n.d(e,{a:function(){return l},b:function(){return o},c:function(){return s},d:function(){return i},e:function(){return h},f:function(){return a},l:function(){return c},n:function(){return d},t:function(){return u}});var r=n(38461);n(61432),n(96711);function i(t,e,n){u(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function u(t,e,n,r=3,i=r){if(t.length/r!==Math.ceil(e.length/i))return t;const u=t.length/r,s=n[0],o=n[1],f=n[2],c=n[4],a=n[5],l=n[6],h=n[8],d=n[9],p=n[10],y=n[12],m=n[13],B=n[14];let E=0,M=0;for(let n=0;n<u;n++){const n=e[E],u=e[E+1],T=e[E+2];t[M]=s*n+c*u+h*T+y,t[M+1]=o*n+a*u+d*T+m,t[M+2]=f*n+l*u+p*T+B,E+=i,M+=r}return t}function s(t,e,n){o(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function o(t,e,n,r=3,i=r){if(t.length/r!==Math.ceil(e.length/i))return;const u=t.length/r,s=n[0],o=n[1],f=n[2],c=n[3],a=n[4],l=n[5],h=n[6],d=n[7],p=n[8];let y=0,m=0;for(let n=0;n<u;n++){const n=e[y],u=e[y+1],B=e[y+2];t[m]=s*n+c*u+h*B,t[m+1]=o*n+a*u+d*B,t[m+2]=f*n+l*u+p*B,y+=i,m+=r}}function f(t,e,n,r=3,i=r){const u=Math.min(t.length/r,e.length/i);let s=0,o=0;for(let f=0;f<u;f++)t[o]=n*e[s],t[o+1]=n*e[s+1],t[o+2]=n*e[s+2],s+=i,o+=r;return t}function c(t,e,n,r){a(t.typedBuffer,e.typedBuffer,n,r,t.typedBufferStride,e.typedBufferStride)}function a(t,e,n,i,u=3,s=u){const o=Math.min(t.length/u,e.length/s);let f=0,c=0;const a=1/r.jm;for(let r=0;r<o;r++)t[c]=i*(n*e[f])**a,t[c+1]=i*(n*e[f+1])**a,t[c+2]=i*(n*e[f+2])**a,f+=s,c+=u}function l(t,e,n,r=3,i=r){const u=t.length/r;if(u!==Math.ceil(e.length/i))return t;let s=0,o=0;for(let f=0;f<u;f++)t[o]=e[s]+n[0],t[o+1]=e[s+1]+n[1],t[o+2]=e[s+2]+n[2],s+=i,o+=r;return t}function h(t,e){d(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function d(t,e,n=3,r=n){const i=Math.min(t.length/n,e.length/r);let u=0,s=0;for(let o=0;o<i;o++){const i=e[u],o=e[u+1],f=e[u+2],c=i*i+o*o+f*f;if(c>0){const e=1/Math.sqrt(c);t[s]=e*i,t[s+1]=e*o,t[s+2]=e*f}u+=r,s+=n}}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:a,linearToSRGBView:c,normalize:d,normalizeView:h,scale:f,scaleView:function(t,e,n){f(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)},shiftRight:function(t,e,n){const r=Math.min(t.count,e.count),i=t.typedBuffer,u=t.typedBufferStride,s=e.typedBuffer,o=e.typedBufferStride;let f=0,c=0;for(let t=0;t<r;t++)i[c]=s[f]>>n,i[c+1]=s[f+1]>>n,i[c+2]=s[f+2]>>n,f+=o,c+=u},transformMat3:o,transformMat3View:s,transformMat4:u,transformMat4View:i,translate:l},Symbol.toStringTag,{value:"Module"}))},91426:function(t,e,n){n.d(e,{a:function(){return u},b:function(){return a},l:function(){return c},n:function(){return o},t:function(){return s}});var r=n(38461),i=(n(61432),n(96711));function u(t,e,n){s(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function s(t,e,n,r=4,i=r){if(t.length/r!=e.length/i)return;const u=t.length/r,s=n[0],o=n[1],f=n[2],c=n[3],a=n[4],l=n[5],h=n[6],d=n[7],p=n[8];let y=0,m=0;for(let n=0;n<u;n++){const n=e[y],u=e[y+1],B=e[y+2],E=e[y+3];t[m]=s*n+c*u+h*B,t[m+1]=o*n+a*u+d*B,t[m+2]=f*n+l*u+p*B,t[m+3]=E,y+=i,m+=r}}function o(t,e){const n=Math.min(t.count,e.count),r=t.typedBuffer,i=t.typedBufferStride,u=e.typedBuffer,s=e.typedBufferStride;for(let t=0;t<n;t++){const e=t*i,n=t*s,o=u[n],f=u[n+1],c=u[n+2],a=o*o+f*f+c*c;if(a>0){const t=1/Math.sqrt(a);r[e]=t*o,r[e+1]=t*f,r[e+2]=t*c}}}function f(t,e,n,r=4){const i=Math.min(t.length/r,e.count),u=e.typedBuffer,s=e.typedBufferStride;let o=0,f=0;for(let e=0;e<i;e++)t[f]=n*u[o],t[f+1]=n*u[o+1],t[f+2]=n*u[o+2],t[f+3]=n*u[o+3],o+=s,f+=r}function c(t,e,n,r){a(t.typedBuffer,e,n,r,t.typedBufferStride)}function a(t,e,n,i,u=4){const s=Math.min(t.length/u,e.count),o=e.typedBuffer,f=e.typedBufferStride;let c=0,a=0;const l=1/r.jm;for(let e=0;e<s;e++)t[a]=i*(n*o[c])**l,t[a+1]=i*(n*o[c+1])**l,t[a+2]=i*(n*o[c+2])**l,t[a+3]=i*n*o[c+3],c+=f,a+=u}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:a,linearToSRGBView:c,normalize:o,scale:f,scaleView:function(t,e,n){f(t.typedBuffer,e,n,t.typedBufferStride)},transformMat3:s,transformMat3View:u,transformMat4:function(t,e,n,r=4,u=r){if(t.length/r!=e.length/u)return void i.Z.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const s=t.length/r,o=n[0],f=n[1],c=n[2],a=n[3],l=n[4],h=n[5],d=n[6],p=n[7],y=n[8],m=n[9],B=n[10],E=n[11],M=n[12],T=n[13],g=n[14],_=n[15];let x=0,S=0;for(let n=0;n<s;n++){const n=e[x],i=e[x+1],s=e[x+2],b=e[x+3];t[S]=o*n+l*i+y*s+M*b,t[S+1]=f*n+h*i+m*s+T*b,t[S+2]=c*n+d*i+B*s+g*b,t[S+3]=a*n+p*i+E*s+_*b,x+=u,S+=r}},transformMat4View:function(t,e,n){if(t.count!==e.count)return;const r=t.count,i=n[0],u=n[1],s=n[2],o=n[3],f=n[4],c=n[5],a=n[6],l=n[7],h=n[8],d=n[9],p=n[10],y=n[11],m=n[12],B=n[13],E=n[14],M=n[15],T=t.typedBuffer,g=t.typedBufferStride,_=e.typedBuffer,x=e.typedBufferStride;for(let t=0;t<r;t++){const e=t*g,n=t*x,r=_[n],S=_[n+1],b=_[n+2],A=_[n+3];T[e]=i*r+f*S+h*b+m*A,T[e+1]=u*r+c*S+d*b+B*A,T[e+2]=s*r+a*S+p*b+E*A,T[e+3]=o*r+l*S+y*b+M*A}}},Symbol.toStringTag,{value:"Module"}))},73749:function(t,e,n){n.d(e,{a:function(){return T},b:function(){return y},c:function(){return i},d:function(){return l},e:function(){return g},f:function(){return d},g:function(){return o},h:function(){return B},i:function(){return u},j:function(){return p},l:function(){return E},n:function(){return m},s:function(){return s},t:function(){return M},v:function(){return v}});var r=n(66130);function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function s(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function o(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function f(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function c(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function a(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function l(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function h(t,e){const n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],u=e[3]-t[3];return Math.sqrt(n*n+r*r+i*i+u*u)}function d(t,e){const n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2],u=e[3]-t[3];return n*n+r*r+i*i+u*u}function p(t){const e=t[0],n=t[1],r=t[2],i=t[3];return Math.sqrt(e*e+n*n+r*r+i*i)}function y(t){const e=t[0],n=t[1],r=t[2],i=t[3];return e*e+n*n+r*r+i*i}function m(t,e){const n=e[0],r=e[1],i=e[2],u=e[3];let s=n*n+r*r+i*i+u*u;return s>0&&(s=1/Math.sqrt(s),t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=u*s),t}function B(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function E(t,e,n,r){const i=e[0],u=e[1],s=e[2],o=e[3];return t[0]=i+r*(n[0]-i),t[1]=u+r*(n[1]-u),t[2]=s+r*(n[2]-s),t[3]=o+r*(n[3]-o),t}function M(t,e,n){const r=e[0],i=e[1],u=e[2],s=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*u+n[12]*s,t[1]=n[1]*r+n[5]*i+n[9]*u+n[13]*s,t[2]=n[2]*r+n[6]*i+n[10]*u+n[14]*s,t[3]=n[3]*r+n[7]*i+n[11]*u+n[15]*s,t}function T(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function g(t,e){const n=t[0],i=t[1],u=t[2],s=t[3],o=e[0],f=e[1],c=e[2],a=e[3],l=(0,r.bn)();return Math.abs(n-o)<=l*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-f)<=l*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(u-c)<=l*Math.max(1,Math.abs(u),Math.abs(c))&&Math.abs(s-a)<=l*Math.max(1,Math.abs(s),Math.abs(a))}const _=f,x=c,S=a,b=h,A=d,w=p,R=y,v=Object.freeze(Object.defineProperty({__proto__:null,add:o,ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},copy:i,copyVec3:u,dist:b,distance:h,div:S,divide:a,dot:B,equals:g,exactEquals:T,floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},len:w,length:p,lerp:E,max:function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},min:function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},mul:x,multiply:c,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},normalize:m,random:function(t,e=1){const n=r.FD;let i,u,s,o,f,c;do{i=2*n()-1,u=2*n()-1,f=i*i+u*u}while(f>=1);do{s=2*n()-1,o=2*n()-1,c=s*s+o*o}while(c>=1);const a=Math.sqrt((1-f)/c);return t[0]=e*i,t[1]=e*u,t[2]=e*s*a,t[3]=e*o*a,t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},scale:l,scaleAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},set:s,sqrDist:A,sqrLen:R,squaredDistance:d,squaredLength:y,str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},sub:_,subtract:f,transformMat4:M,transformQuat:function(t,e,n){const r=e[0],i=e[1],u=e[2],s=n[0],o=n[1],f=n[2],c=n[3],a=c*r+o*u-f*i,l=c*i+f*r-s*u,h=c*u+s*i-o*r,d=-s*r-o*i-f*u;return t[0]=a*c+d*-s+l*-f-h*-o,t[1]=l*c+d*-o+h*-s-a*-f,t[2]=h*c+d*-f+a*-o-l*-s,t[3]=e[3],t}},Symbol.toStringTag,{value:"Module"}))},30748:function(t,e,n){function r(){return[1,0,0,0,1,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function u(t,e,n,r,i,u,s,o,f){return[t,e,n,r,i,u,s,o,f]}n.d(e,{Ue:function(){return r},Wd:function(){return s},al:function(){return u},d9:function(){return i}});const s=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:r,fromValues:u},Symbol.toStringTag,{value:"Module"}))},10934:function(t,e,n){function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function u(t,e,n,r,i,u,s,o,f,c,a,l,h,d,p,y){return[t,e,n,r,i,u,s,o,f,c,a,l,h,d,p,y]}n.d(e,{Ue:function(){return r},Wd:function(){return s},al:function(){return u},d9:function(){return i}});const s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:s,clone:i,create:r,fromValues:u},Symbol.toStringTag,{value:"Module"}))},41788:function(t,e,n){function r(){return[0,0]}function i(t){return[t[0],t[1]]}function u(t,e){return[t,e]}function s(t,e=[0,0]){const n=Math.min(2,t.length);for(let r=0;r<n;++r)e[r]=t[r];return e}function o(){return[0,0]}function f(){return u(1,1)}function c(){return u(1,0)}function a(){return u(0,1)}n.d(e,{AG:function(){return l},E9:function(){return d},IO:function(){return p},Ue:function(){return r},al:function(){return u},d9:function(){return i},hq:function(){return h},ll:function(){return o},nI:function(){return s}});const l=[0,0],h=f(),d=c(),p=a();Object.freeze(Object.defineProperty({__proto__:null,ONES:h,UNIT_X:d,UNIT_Y:p,ZEROS:l,clone:i,create:r,freeze:function(t,e){return[t,e]},fromArray:s,fromValues:u,ones:f,unitX:c,unitY:a,zeros:o},Symbol.toStringTag,{value:"Module"}))},27583:function(t,e,n){function r(){return[0,0,0,0]}function i(t){return[t[0],t[1],t[2],t[3]]}function u(t,e,n,r){return[t,e,n,r]}function s(t,e,n,r){return[t,e,n,r]}function o(t,e=[0,0,0,0]){const n=Math.min(4,t.length);for(let r=0;r<n;++r)e[r]=t[r];return e}function f(){return[0,0,0,0]}function c(){return u(1,1,1,1)}function a(){return u(1,0,0,0)}function l(){return u(0,1,0,0)}function h(){return u(0,0,1,0)}function d(){return u(0,0,0,1)}n.d(e,{AG:function(){return p},Ue:function(){return r},al:function(){return u},d9:function(){return i},hq:function(){return y},iU:function(){return c},nI:function(){return o},vV:function(){return s}});const p=[0,0,0,0],y=c(),m=a(),B=l(),E=h(),M=d();Object.freeze(Object.defineProperty({__proto__:null,ONES:y,UNIT_W:M,UNIT_X:m,UNIT_Y:B,UNIT_Z:E,ZEROS:p,clone:i,create:r,freeze:s,fromArray:o,fromValues:u,ones:c,unitW:d,unitX:a,unitY:l,unitZ:h,zeros:f},Symbol.toStringTag,{value:"Module"}))},96373:function(t,e,n){n.d(e,{Iu:function(){return l},Jp:function(){return a},U1:function(){return h},U_:function(){return f},XL:function(){return m},bA:function(){return d},en:function(){return p},f6:function(){return y},p4:function(){return o},t8:function(){return u},uj:function(){return c},xO:function(){return i},yR:function(){return s}});var r=n(66130);function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function u(t,e,n,r,i,u,s,o,f,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=u,t[5]=s,t[6]=o,t[7]=f,t[8]=c,t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function o(t,e){if(t===e){const n=e[1],r=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function f(t,e){const n=e[0],r=e[1],i=e[2],u=e[3],s=e[4],o=e[5],f=e[6],c=e[7],a=e[8],l=a*s-o*c,h=-a*u+o*f,d=c*u-s*f;let p=n*l+r*h+i*d;return p?(p=1/p,t[0]=l*p,t[1]=(-a*r+i*c)*p,t[2]=(o*r-i*s)*p,t[3]=h*p,t[4]=(a*n-i*f)*p,t[5]=(-o*n+i*u)*p,t[6]=d*p,t[7]=(-c*n+r*f)*p,t[8]=(s*n-r*u)*p,t):null}function c(t,e){const n=e[0],r=e[1],i=e[2],u=e[3],s=e[4],o=e[5],f=e[6],c=e[7],a=e[8];return t[0]=s*a-o*c,t[1]=i*c-r*a,t[2]=r*o-i*s,t[3]=o*f-u*a,t[4]=n*a-i*f,t[5]=i*u-n*o,t[6]=u*c-s*f,t[7]=r*f-n*c,t[8]=n*s-r*u,t}function a(t,e,n){const r=e[0],i=e[1],u=e[2],s=e[3],o=e[4],f=e[5],c=e[6],a=e[7],l=e[8],h=n[0],d=n[1],p=n[2],y=n[3],m=n[4],B=n[5],E=n[6],M=n[7],T=n[8];return t[0]=h*r+d*s+p*c,t[1]=h*i+d*o+p*a,t[2]=h*u+d*f+p*l,t[3]=y*r+m*s+B*c,t[4]=y*i+m*o+B*a,t[5]=y*u+m*f+B*l,t[6]=E*r+M*s+T*c,t[7]=E*i+M*o+T*a,t[8]=E*u+M*f+T*l,t}function l(t,e,n){const r=e[0],i=e[1],u=e[2],s=e[3],o=e[4],f=e[5],c=e[6],a=e[7],l=e[8],h=n[0],d=n[1];return t[0]=r,t[1]=i,t[2]=u,t[3]=s,t[4]=o,t[5]=f,t[6]=h*r+d*s+c,t[7]=h*i+d*o+a,t[8]=h*u+d*f+l,t}function h(t,e,n){const r=e[0],i=e[1],u=e[2],s=e[3],o=e[4],f=e[5],c=e[6],a=e[7],l=e[8],h=Math.sin(n),d=Math.cos(n);return t[0]=d*r+h*s,t[1]=d*i+h*o,t[2]=d*u+h*f,t[3]=d*s-h*r,t[4]=d*o-h*i,t[5]=d*f-h*u,t[6]=c,t[7]=a,t[8]=l,t}function d(t,e,n){const r=n[0],i=n[1],u=n[2];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=u*e[6],t[7]=u*e[7],t[8]=u*e[8],t}function p(t,e){const n=e[0],r=e[1],i=e[2],u=e[3],s=n+n,o=r+r,f=i+i,c=n*s,a=r*s,l=r*o,h=i*s,d=i*o,p=i*f,y=u*s,m=u*o,B=u*f;return t[0]=1-l-p,t[3]=a-B,t[6]=h+m,t[1]=a+B,t[4]=1-c-p,t[7]=d-y,t[2]=h-m,t[5]=d+y,t[8]=1-c-l,t}function y(t,e){const n=e[0],r=e[1],i=e[2],u=e[4],s=e[5],o=e[6],f=e[8],c=e[9],a=e[10],l=a*s-o*c,h=-a*u+o*f,d=c*u-s*f,p=n*l+r*h+i*d;if(!p)return null;const y=1/p;return t[0]=l*y,t[1]=(-a*r+i*c)*y,t[2]=(o*r-i*s)*y,t[3]=h*y,t[4]=(a*n-i*f)*y,t[5]=(-o*n+i*u)*y,t[6]=d*y,t[7]=(-c*n+r*f)*y,t[8]=(s*n-r*u)*y,t}function m(t,e){const n=e[0],r=e[1],i=e[2],u=e[3],s=e[4],o=e[5],f=e[6],c=e[7],a=e[8],l=e[9],h=e[10],d=e[11],p=e[12],y=e[13],m=e[14],B=e[15],E=n*o-r*s,M=n*f-i*s,T=n*c-u*s,g=r*f-i*o,_=r*c-u*o,x=i*c-u*f,S=a*y-l*p,b=a*m-h*p,A=a*B-d*p,w=l*m-h*y,R=l*B-d*y,v=h*B-d*m;let O=E*v-M*R+T*w+g*A-_*b+x*S;return O?(O=1/O,t[0]=(o*v-f*R+c*w)*O,t[1]=(f*A-s*v-c*b)*O,t[2]=(s*R-o*A+c*S)*O,t[3]=(i*R-r*v-u*w)*O,t[4]=(n*v-i*A+u*b)*O,t[5]=(r*A-n*R-u*S)*O,t[6]=(y*x-m*_+B*g)*O,t[7]=(m*T-p*x-B*M)*O,t[8]=(p*_-y*T+B*E)*O,t):null}function B(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}const E=a,M=B;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t},adjoint:c,copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},determinant:function(t){const e=t[0],n=t[1],r=t[2],i=t[3],u=t[4],s=t[5],o=t[6],f=t[7],c=t[8];return e*(c*u-s*f)+n*(-c*i+s*o)+r*(f*i-u*o)},equals:function(t,e){const n=t[0],i=t[1],u=t[2],s=t[3],o=t[4],f=t[5],c=t[6],a=t[7],l=t[8],h=e[0],d=e[1],p=e[2],y=e[3],m=e[4],B=e[5],E=e[6],M=e[7],T=e[8],g=(0,r.bn)();return Math.abs(n-h)<=g*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-d)<=g*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(u-p)<=g*Math.max(1,Math.abs(u),Math.abs(p))&&Math.abs(s-y)<=g*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(o-m)<=g*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(f-B)<=g*Math.max(1,Math.abs(f),Math.abs(B))&&Math.abs(c-E)<=g*Math.max(1,Math.abs(c),Math.abs(E))&&Math.abs(a-M)<=g*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(l-T)<=g*Math.max(1,Math.abs(l),Math.abs(T))},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)},fromMat2d:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},fromMat4:i,fromQuat:p,fromRotation:function(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromScaling:function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromTranslation:function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},identity:s,invert:f,isOrthoNormal:function(t){const e=(0,r.bn)(),n=t[0],i=t[1],u=t[2],s=t[3],o=t[4],f=t[5],c=t[6],a=t[7],l=t[8];return Math.abs(1-(n*n+s*s+c*c))<=e&&Math.abs(1-(i*i+o*o+a*a))<=e&&Math.abs(1-(u*u+f*f+l*l))<=e},mul:E,multiply:a,multiplyScalar:function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t},multiplyScalarAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t},normalFromMat4:m,normalFromMat4Legacy:y,projection:function(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},rotate:h,scale:d,scaleByVec2:function(t,e,n){const r=n[0],i=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t},set:u,str:function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},sub:M,subtract:B,translate:l,transpose:o},Symbol.toStringTag,{value:"Module"}))},96946:function(t,e,n){n.d(e,{Q:function(){return o},b:function(){return b}});var r=n(3480),i=n(79487),u=(n(61432),n(63974)),s=n(45415);class o{constructor(t=9,e){this._compareMinX=h,this._compareMinY=d,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&("function"==typeof e?this._toBBox=e:this._initFormat(e)),this.clear()}destroy(){this.clear(),g.prune(),_.prune(),x.prune(),S.prune()}all(t){f(this._data,t)}search(t,e){let n=this._data;const r=this._toBBox;if(M(t,n))for(g.clear();n;){for(let i=0,u=n.children.length;i<u;i++){const u=n.children[i],s=n.leaf?r(u):u;M(t,s)&&(n.leaf?e(u):E(t,s)?f(u,e):g.push(u))}n=g.pop()}}collides(t){let e=this._data;const n=this._toBBox;if(!M(t,e))return!1;for(g.clear();e;){for(let r=0,i=e.children.length;r<i;r++){const i=e.children[r],u=e.leaf?n(i):i;if(M(t,u)){if(e.leaf||E(t,u))return!0;g.push(i)}}e=g.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(this._data.children.length)if(this._data.height===e.height)this._splitRoot(this._data,e);else{if(this._data.height<e.height){const t=this._data;this._data=e,e=t}this._insert(e,this._data.height-e.height-1,!0)}else this._data=e;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new w([]),this}remove(t){if(!t)return this;let e,n=this._data,u=null,s=0,o=!1;const f=this._toBBox(t);for(x.clear(),S.clear();n||x.length>0;){if(n||(n=x.pop(),u=x.data[x.length-1],s=S.pop()??0,o=!0),n.leaf&&(e=(0,r.cq)(n.children,(0,i.CY)(t),n.children.length,n.indexHint),-1!==e))return n.children.splice(e,1),x.push(n),this._condense(x),this;o||n.leaf||!E(n,f)?u?(s++,n=u.children[s],o=!1):n=null:(x.push(n),S.push(s),s=0,u=n,n=n.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_build(t,e,n,r){const i=n-e+1;let u=this._maxEntries;if(i<=u){const r=new w(t.slice(e,n+1));return c(r,this._toBBox),r}r||(r=Math.ceil(Math.log(i)/Math.log(u)),u=Math.ceil(i/u**(r-1)));const s=new R([]);s.height=r;const o=Math.ceil(i/u),f=o*Math.ceil(Math.sqrt(u));T(t,e,n,f,this._compareMinX);for(let i=e;i<=n;i+=f){const e=Math.min(i+f-1,n);T(t,i,e,o,this._compareMinY);for(let n=i;n<=e;n+=o){const i=Math.min(n+o-1,e);s.children.push(this._build(t,n,i,r-1))}}return c(s,this._toBBox),s}_insert(t,e,n){const r=this._toBBox,i=n?t:r(t);x.clear();const u=function(t,e,n,r){for(;r.push(e),!0!==e.leaf&&r.length-1!==n;){let n,r=1/0,i=1/0;for(let u=0,s=e.children.length;u<s;u++){const s=e.children[u],o=p(s),f=m(t,s)-o;f<i?(i=f,r=o<r?o:r,n=s):f===i&&o<r&&(r=o,n=s)}e=n||e.children[0]}return e}(i,this._data,e,x);for(u.children.push(t),l(u,i);e>=0&&x.data[e].children.length>this._maxEntries;)this._split(x,e),e--;!function(t,e,n){for(let r=n;r>=0;r--)l(e.data[r],t)}(i,x,e)}_split(t,e){const n=t.data[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);const u=this._chooseSplitIndex(n,i,r);if(!u)return;const s=n.children.splice(u,n.children.length-u),o=n.leaf?new w(s):new R(s);o.height=n.height,c(n,this._toBBox),c(o,this._toBBox),e?t.data[e-1].children.push(o):this._splitRoot(n,o)}_splitRoot(t,e){this._data=new R([t,e]),this._data.height=t.height+1,c(this._data,this._toBBox)}_chooseSplitIndex(t,e,n){let r,i,u;r=i=1/0;for(let s=e;s<=n-e;s++){const e=a(t,0,s,this._toBBox),o=a(t,s,n,this._toBBox),f=B(e,o),c=p(e)+p(o);f<r?(r=f,u=s,i=c<i?c:i):f===r&&c<i&&(i=c,u=s)}return u}_chooseSplitAxis(t,e,n){const r=t.leaf?this._compareMinX:h,i=t.leaf?this._compareMinY:d;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)}_allDistMargin(t,e,n,r){t.children.sort(r);const i=this._toBBox,u=a(t,0,e,i),s=a(t,n-e,n,i);let o=y(u)+y(s);for(let r=e;r<n-e;r++){const e=t.children[r];l(u,t.leaf?i(e):e),o+=y(u)}for(let r=n-e-1;r>=e;r--){const e=t.children[r];l(s,t.leaf?i(e):e),o+=y(s)}return o}_condense(t){for(let e=t.length-1;e>=0;e--){const n=t.data[e];if(0===n.children.length)if(e>0){const i=t.data[e-1],u=i.children;u.splice((0,r.cq)(u,n,u.length,i.indexHint),1)}else this.clear();else c(n,this._toBBox)}}_initFormat(t){const e=["return a"," - b",";"];this._compareMinX=new Function("a","b",e.join(t[0])),this._compareMinY=new Function("a","b",e.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}function f(t,e){let n=t;for(_.clear();n;){if(!0===n.leaf)for(const t of n.children)e((0,i.CY)(t));else _.pushArray(n.children);n=_.pop()??null}}function c(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,i){i||(i=new w([])),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let u,s=e;s<n;s++)u=t.children[s],l(i,t.leaf?r(u):u);return i}function l(t,e){t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY)}function h(t,e){return t.minX-e.minX}function d(t,e){return t.minY-e.minY}function p(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function y(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function B(t,e){const n=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),u=Math.min(t.maxY,e.maxY);return Math.max(0,i-n)*Math.max(0,u-r)}function E(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function M(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function T(t,e,n,r,i){const u=[e,n];for(;u.length;){const e=u.pop(),n=u.pop();if(e-n<=r)continue;const o=n+Math.ceil((e-n)/r/2)*r;(0,s.q)(t,o,n,e,i),u.push(n,o,o,e)}}const g=new u.Z,_=new u.Z,x=new u.Z,S=new u.Z({deallocator:void 0});class b{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class A extends b{constructor(){super(...arguments),this.height=1,this.indexHint=new r.SO}}class w extends A{constructor(t){super(),this.children=t,this.leaf=!0}}class R extends A{constructor(t){super(),this.children=t,this.leaf=!1}}},74238:function(t,e,n){n.d(e,{B:function(){return c}});var r=n(99574),i=n(31865),u=n(82846),s=n(74817),o=n(8008),f=n(8554);function c(t,e,n,r){const u=(0,o.E2)(t,r);if(null==u)return!1;const c=u.source.spatialReferenceId,p=u.dest.spatialReferenceId;if(c===p&&!a(p)&&(c!==o.Ej.UNKNOWN||(0,f.fS)(t,r)))return(0,i.vc)(n,e),!0;if(a(p)){const t=o.rf[c][o.Ej.LON_LAT],r=o.rf[o.Ej.LON_LAT][p];return null!=t&&null!=r&&(t(e,0,h,0),r(h,0,d,0),(0,s.q)(l*h[0],l*h[1],n),n[12]=d[0],n[13]=d[1],n[14]=d[2],!0)}const y=a(c);if((p===o.Ej.WEB_MERCATOR||p===o.Ej.PLATE_CARREE||p===o.Ej.WGS84||p===o.Ej.CGCS2000)&&(c===o.Ej.WGS84||y||c===o.Ej.WEB_MERCATOR||c===o.Ej.CGCS2000)){const t=o.rf[c][o.Ej.LON_LAT],r=o.rf[o.Ej.LON_LAT][p];return null!=t&&null!=r&&(t(e,0,h,0),r(h,0,d,0),y?(0,s.B)(l*h[0],l*h[1],n):(0,i.yR)(n),n[12]=d[0],n[13]=d[1],n[14]=d[2],!0)}return!1}function a(t){return t===o.Ej.SPHERICAL_ECEF||t===o.Ej.SPHERICAL_MARS_PCPF||t===o.Ej.SPHERICAL_MOON_PCPF||t===o.Ej.WGS84_ECEF}const l=(0,r.Vl)(1),h=(0,u.Ue)(),d=(0,u.Ue)()},74817:function(t,e,n){n.d(e,{B:function(){return u},q:function(){return i}});var r=n(31865);function i(t,e,n){const r=Math.sin(t),i=Math.cos(t),u=Math.sin(e),s=Math.cos(e),o=n;return o[0]=-r,o[4]=-u*i,o[8]=s*i,o[12]=0,o[1]=i,o[5]=-u*r,o[9]=s*r,o[13]=0,o[2]=0,o[6]=s,o[10]=u,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1,o}function u(t,e,n){return i(t,e,n),(0,r.p4)(n,n),n}},6961:function(t,e,n){n.d(e,{K:function(){return s},U:function(){return o}});var r=n(82846),i=n(13132),u=n(30146);function s(t,e,n,r){if((0,i.canProjectWithoutEngine)(t.spatialReference,n)){f[0]=t.x,f[1]=t.y;const i=t.z;return f[2]=i??r??0,(0,u.projectBuffer)(f,t.spatialReference,0,e,n,0)}const s=(0,i.tryProjectWithZConversion)(t,n);return!!s&&(e[0]=s?.x,e[1]=s?.y,e[2]=s?.z??r??0,!0)}async function o(t,e,n,r,u){return await(0,i.initializeProjection)(t.spatialReference,n,null,u),s(t,e,n,r)}const f=(0,r.Ue)()},70331:function(t,e,n){n.d(e,{HQ:function(){return o},VY:function(){return f},rS:function(){return a},wY:function(){return c}});var r=n(47925),i=n(45213),u=n(8554);const s=new i.Z(r.kU),o=new i.Z(r.JL),f=new i.Z(r.mM),c=new i.Z(r.pn);function a(t){const e=l.get(t);if(e)return e;let n=s;if(t)if(t===o)n=o;else if(t===f)n=f;else{const e=t.wkid,r=t.latestWkid;if(null!=e||null!=r)(0,u.o$)(e)||(0,u.o$)(r)?n=o:((0,u.ME)(e)||(0,u.ME)(r))&&(n=f);else{const e=t.wkt2??t.wkt;if(e){const t=e.toUpperCase();t===h?n=o:t===d&&(n=f)}}}return l.set(t,n),n}const l=new Map,h=o.wkt.toUpperCase(),d=f.wkt.toUpperCase()},25657:function(t,e,n){n.d(e,{Z:function(){return a}});var r,i=n(73440),u=n(89314),s=n(63255),o=n(17155),f=(n(61432),n(96711),n(83850),n(79775)),c=n(48023);let a=class extends(u.Z.ClonableMixin(s.Z)){static{r=this}constructor(t){super(t),this.type="georeferenced",this.origin=null}static{this.absolute=new r}};(0,i._)([(0,f.J)({georeferenced:"georeferenced"},{readOnly:!0})],a.prototype,"type",void 0),(0,i._)([(0,o.Cb)({type:[Number],nonNullable:!1,json:{write:!0}})],a.prototype,"origin",void 0),a=r=(0,i._)([(0,c.j)("esri.geometry.support.MeshGeoreferencedVertexSpace")],a)},93466:function(t,e,n){n.d(e,{Z:function(){return a}});var r=n(73440),i=n(89314),u=n(63255),s=n(17155),o=(n(61432),n(96711),n(83850),n(79775)),f=n(48023),c=n(82846);let a=class extends(i.Z.ClonableMixin(u.Z)){constructor(t){super(t),this.type="local",this.origin=(0,c.Ue)()}};(0,r._)([(0,o.J)({local:"local"},{readOnly:!0})],a.prototype,"type",void 0),(0,r._)([(0,s.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"origin",void 0),a=(0,r._)([(0,f.j)("esri.geometry.support.MeshLocalVertexSpace")],a)},81342:function(t,e,n){n.d(e,{ly:function(){return y},yT:function(){return p},oS:function(){return A},o7:function(){return k},Jj:function(){return $},Hz:function(){return G},gK:function(){return _},ey:function(){return x},bj:function(){return S},O1:function(){return b},av:function(){return C},Nu:function(){return j},D_:function(){return O},Eu:function(){return B},hg:function(){return m},q6:function(){return w},or:function(){return W},wA:function(){return H},Vs:function(){return z},TS:function(){return L},qt:function(){return X},xA:function(){return N},ct:function(){return M},qx:function(){return E},fP:function(){return R},n1:function(){return D},PP:function(){return Q},P_:function(){return q},mw:function(){return F},G5:function(){return V},ne:function(){return P},ek:function(){return g},R2:function(){return T},Cd:function(){return v},zO:function(){return J},TN:function(){return K},ir:function(){return Z},v6:function(){return U},hu:function(){return I},mc:function(){return Y}});var r=n(57192);class i{static{this.ElementCount=9}constructor(t,e,n=0,r,i){this.TypedArrayConstructor=t,this.elementCount=9;const u=this.TypedArrayConstructor;void 0===r&&(r=9*u.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:n;this.typedBuffer=null==i?new u(e,s):new u(e,s,(i-n)/u.BYTES_PER_ELEMENT),this.typedBufferStride=r/u.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,n=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+n*this.stride)}getMat(t,e){let n=t*this.typedBufferStride;for(let t=0;t<9;t++)e[t]=this.typedBuffer[n++];return e}setMat(t,e){let n=t*this.typedBufferStride;for(let t=0;t<9;t++)this.typedBuffer[n++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,n){this.typedBuffer[t*this.typedBufferStride+e]=n}copyFrom(t,e,n){const r=this.typedBuffer,i=e.typedBuffer;let u=t*this.typedBufferStride,s=n*e.typedBufferStride;for(let t=0;t<9;++t)r[u++]=i[s++]}get buffer(){return this.typedBuffer.buffer}}class u{static{this.ElementCount=16}constructor(t,e,n=0,r,i){this.TypedArrayConstructor=t,this.elementCount=16;const u=this.TypedArrayConstructor;void 0===r&&(r=16*u.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:n;this.typedBuffer=null==i?new u(e,s):new u(e,s,(i-n)/u.BYTES_PER_ELEMENT),this.typedBufferStride=r/u.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,n=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+n*this.stride)}getMat(t,e){let n=t*this.typedBufferStride;for(let t=0;t<16;t++)e[t]=this.typedBuffer[n++];return e}setMat(t,e){let n=t*this.typedBufferStride;for(let t=0;t<16;t++)this.typedBuffer[n++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,n){this.typedBuffer[t*this.typedBufferStride+e]=n}copyFrom(t,e,n){this.copyFromTypedBuffer(t,e.typedBuffer,n*e.typedBufferStride)}copyFromTypedBuffer(t,e,n){const r=this.typedBuffer;let i=t*this.typedBufferStride;for(let t=0;t<16;++t)r[i++]=e[n++]}get buffer(){return this.typedBuffer.buffer}}class s{static{this.ElementCount=1}constructor(t,e,n=0,r,i){this.TypedArrayConstructor=t,this.elementCount=1;const u=this.TypedArrayConstructor;void 0===r&&(r=u.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:n;this.typedBuffer=null==i?new u(e,s):new u(e,s,(i-n)/u.BYTES_PER_ELEMENT),this.stride=r,this.typedBufferStride=r/u.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(t,e,n=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+n*this.stride)}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,e){this.typedBuffer[t*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}}var o=n(26821);class f{static{this.ElementCount=2}constructor(t,e,n=0,r,i){this.TypedArrayConstructor=t,this.start=n,this.elementCount=2;const u=this.TypedArrayConstructor;void 0===r&&(r=2*u.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:n;this.typedBuffer=null==i?new u(e,s):new u(e,s,(i-n)/u.BYTES_PER_ELEMENT),this.typedBufferStride=r/u.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,n=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+n*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,o.t8)(e,this.typedBuffer[t],this.typedBuffer[t+1])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t]=e[1]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,n){this.typedBuffer[t*this.typedBufferStride+e]=n}setValues(t,e,n){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t]=n}copyFrom(t,e,n){const r=this.typedBuffer,i=e.typedBuffer;let u=t*this.typedBufferStride,s=n*e.typedBufferStride;r[u++]=i[s++],r[u]=i[s]}get buffer(){return this.typedBuffer.buffer}}var c=n(24910);class a{static{this.ElementCount=3}constructor(t,e,n=0,r,i){this.TypedArrayConstructor=t,this.elementCount=3;const u=this.TypedArrayConstructor;void 0===r&&(r=3*u.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:n;this.typedBuffer=null==i?new u(e,s):new u(e,s,(i-n)/u.BYTES_PER_ELEMENT),this.typedBufferStride=r/u.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,n=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+n*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,c.i)(e,this.typedBuffer[t],this.typedBuffer[t+1],this.typedBuffer[t+2])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t]=e[2]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,n){this.typedBuffer[t*this.typedBufferStride+e]=n}setValues(t,e,n,r){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=n,this.typedBuffer[t]=r}copyFrom(t,e,n){const r=this.typedBuffer,i=e.typedBuffer;let u=t*this.typedBufferStride,s=n*e.typedBufferStride;r[u++]=i[s++],r[u++]=i[s++],r[u]=i[s]}get buffer(){return this.typedBuffer.buffer}}var l=n(73749);class h{static{this.ElementCount=4}constructor(t,e,n=0,r,i){this.TypedArrayConstructor=t,this.start=n,this.elementCount=4;const u=this.TypedArrayConstructor;void 0===r&&(r=4*u.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:n;this.typedBuffer=null==i?new u(e,s):new u(e,s,(i-n)/u.BYTES_PER_ELEMENT),this.typedBufferStride=r/u.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,n=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+n*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,l.s)(e,this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t++]=e[2],this.typedBuffer[t]=e[3]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,n){this.typedBuffer[t*this.typedBufferStride+e]=n}setValues(t,e,n,r,i){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=n,this.typedBuffer[t++]=r,this.typedBuffer[t]=i}copyFrom(t,e,n){const r=this.typedBuffer,i=e.typedBuffer;let u=t*this.typedBufferStride,s=n*e.typedBufferStride;r[u++]=i[s++],r[u++]=i[s++],r[u++]=i[s++],r[u]=i[s]}get buffer(){return this.typedBuffer.buffer}}var d=n(61719);class p extends s{constructor(t,e=0,n,i){(0,d.hu)(r.LL),super((0,r.vz)(),t,e,n,i),this.elementType="f16"}static{this.ElementType="f16"}}class y extends s{constructor(t,e=0,n,r){super(Float32Array,t,e,n,r),this.elementType="f32"}static{this.ElementType="f32"}}class m extends f{constructor(t,e=0,n,i){(0,d.hu)(r.LL),super((0,r.vz)(),t,e,n,i),this.elementType="f16"}slice(t,e){return this.sliceBuffer(m,t,e)}static{this.ElementType="f16"}}class B extends f{constructor(t,e=0,n,r){super(Float32Array,t,e,n,r),this.elementType="f32"}slice(t,e){return this.sliceBuffer(B,t,e)}static{this.ElementType="f32"}}class E extends a{constructor(t,e=0,n,i){(0,d.hu)(r.LL),super((0,r.vz)(),t,e,n,i),this.elementType="f16"}slice(t,e){return this.sliceBuffer(E,t,e)}static{this.ElementType="f16"}}class M extends a{constructor(t,e=0,n,r){super(Float32Array,t,e,n,r),this.elementType="f32"}slice(t,e){return this.sliceBuffer(M,t,e)}static fromTypedArray(t,e){return new M(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f32"}}class T extends h{constructor(t,e=0,n,i){(0,d.hu)(r.LL),super((0,r.vz)(),t,e,n,i),this.elementType="f16"}slice(t,e){return this.sliceBuffer(T,t,e)}static{this.ElementType="f16"}}class g extends h{constructor(t,e=0,n,r){super(Float32Array,t,e,n,r),this.elementType="f32"}slice(t,e){return this.sliceBuffer(g,t,e)}static{this.ElementType="f32"}}class _ extends i{constructor(t,e=0,n,r){super(Float32Array,t,e,n,r),this.elementType="f32"}slice(t,e){return this.sliceBuffer(_,t,e)}static{this.ElementType="f32"}}class x extends i{constructor(t,e=0,n,r){super(Float64Array,t,e,n,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(x,t,e)}static{this.ElementType="f64"}}class S extends u{constructor(t,e=0,n,r){super(Float32Array,t,e,n,r),this.elementType="f32"}slice(t,e){return this.sliceBuffer(S,t,e)}static{this.ElementType="f32"}}class b extends u{constructor(t,e=0,n,r){super(Float64Array,t,e,n,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(b,t,e)}static{this.ElementType="f64"}}class A extends s{constructor(t,e=0,n,r){super(Float64Array,t,e,n,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(A,t,e)}static{this.ElementType="f64"}}class w extends f{constructor(t,e=0,n,r){super(Float64Array,t,e,n,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(w,t,e)}static{this.ElementType="f64"}}class R extends a{constructor(t,e=0,n,r){super(Float64Array,t,e,n,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(R,t,e)}static fromTypedArray(t,e){return new R(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f64"}}class v extends h{constructor(t,e=0,n,r){super(Float64Array,t,e,n,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(v,t,e)}static{this.ElementType="f64"}}class O extends s{constructor(t,e=0,n,r){super(Uint8Array,t,e,n,r),this.elementType="u8"}slice(t,e){return this.sliceBuffer(O,t,e)}static{this.ElementType="u8"}}class N extends f{constructor(t,e=0,n,r){super(Uint8Array,t,e,n,r),this.elementType="u8"}slice(t,e){return this.sliceBuffer(N,t,e)}static{this.ElementType="u8"}}class P extends a{constructor(t,e=0,n,r){super(Uint8Array,t,e,n,r),this.elementType="u8"}slice(t,e){return this.sliceBuffer(P,t,e)}static fromTypedArray(t,e){return new P(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="u8"}}class Y extends h{constructor(t,e=0,n,r){super(Uint8Array,t,e,n,r),this.elementType="u8"}slice(t,e){return this.sliceBuffer(Y,t,e)}static{this.ElementType="u8"}}class C extends s{constructor(t,e=0,n,r){super(Uint16Array,t,e,n,r),this.elementType="u16"}slice(t,e){return this.sliceBuffer(C,t,e)}static{this.ElementType="u16"}}class L extends f{constructor(t,e=0,n,r){super(Uint16Array,t,e,n,r),this.elementType="u16"}slice(t,e){return this.sliceBuffer(L,t,e)}static{this.ElementType="u16"}}class F extends a{constructor(t,e=0,n,r){super(Uint16Array,t,e,n,r),this.elementType="u16"}slice(t,e){return this.sliceBuffer(F,t,e)}static{this.ElementType="u16"}}class U extends h{constructor(t,e=0,n,r){super(Uint16Array,t,e,n,r),this.elementType="u16"}slice(t,e){return this.sliceBuffer(U,t,e)}static{this.ElementType="u16"}}class j extends s{constructor(t,e=0,n,r){super(Uint32Array,t,e,n,r),this.elementType="u32"}slice(t,e){return this.sliceBuffer(j,t,e)}static{this.ElementType="u32"}}class X extends f{constructor(t,e=0,n,r){super(Uint32Array,t,e,n,r),this.elementType="u32"}slice(t,e){return this.sliceBuffer(X,t,e)}static{this.ElementType="u32"}}class V extends a{constructor(t,e=0,n,r){super(Uint32Array,t,e,n,r),this.elementType="u32"}slice(t,e){return this.sliceBuffer(V,t,e)}static{this.ElementType="u32"}}class I extends h{constructor(t,e=0,n,r){super(Uint32Array,t,e,n,r),this.elementType="u32"}slice(t,e){return this.sliceBuffer(I,t,e)}static{this.ElementType="u32"}}class G extends s{constructor(t,e=0,n,r){super(Int8Array,t,e,n,r),this.elementType="i8"}slice(t,e){return this.sliceBuffer(G,t,e)}static{this.ElementType="i8"}}class z extends f{constructor(t,e=0,n,r){super(Int8Array,t,e,n,r),this.elementType="i8"}slice(t,e){return this.sliceBuffer(z,t,e)}static{this.ElementType="i8"}}class q extends a{constructor(t,e=0,n,r){super(Int8Array,t,e,n,r),this.elementType="i8"}slice(t,e){return this.sliceBuffer(q,t,e)}static{this.ElementType="i8"}}class Z extends h{constructor(t,e=0,n,r){super(Int8Array,t,e,n,r),this.elementType="i8"}slice(t,e){return this.sliceBuffer(Z,t,e)}static{this.ElementType="i8"}}class k extends s{constructor(t,e=0,n,r){super(Int16Array,t,e,n,r),this.elementType="i16"}slice(t,e){return this.sliceBuffer(k,t,e)}static{this.ElementType="i16"}}class W extends f{constructor(t,e=0,n,r){super(Int16Array,t,e,n,r),this.elementType="i16"}slice(t,e){return this.sliceBuffer(W,t,e)}static{this.ElementType="i16"}}class D extends a{constructor(t,e=0,n,r){super(Int16Array,t,e,n,r),this.elementType="i16"}slice(t,e){return this.sliceBuffer(D,t,e)}static{this.ElementType="i16"}}class J extends h{constructor(t,e=0,n,r){super(Int16Array,t,e,n,r),this.elementType="i16"}slice(t,e){return this.sliceBuffer(J,t,e)}static{this.ElementType="i16"}}class $ extends s{constructor(t,e=0,n,r){super(Int32Array,t,e,n,r),this.elementType="i32"}slice(t,e){return this.sliceBuffer($,t,e)}static{this.ElementType="i32"}}class H extends f{constructor(t,e=0,n,r){super(Int32Array,t,e,n,r),this.elementType="i32"}slice(t,e){return this.sliceBuffer(H,t,e)}static{this.ElementType="i32"}}class Q extends a{constructor(t,e=0,n,r){super(Int32Array,t,e,n,r),this.elementType="i32"}slice(t,e){return this.sliceBuffer(Q,t,e)}static{this.ElementType="i32"}}class K extends h{constructor(t,e=0,n,r){super(Int32Array,t,e,n,r),this.elementType="i32"}slice(t,e){return this.sliceBuffer(K,t,e)}static{this.ElementType="i32"}}},57192:function(t,e,n){n.d(e,{LL:function(){return s},TQ:function(){return i},vz:function(){return u}});let r=globalThis.Float16Array;function i(...t){return new(r??Float32Array)(...t)}function u(){return r}let s=!!r},65687:function(t,e,n){n.r(e),n.d(e,{default:function(){return o}});var r=n(61432),i=n(96946),u=n(25657),s=n(63827);class o{async createIndex(t,e){const n=new Array;if(!t.vertexAttributes?.position)return new i.Q;const r=function(t){const{vertexAttributes:{position:e},vertexSpace:n,spatialReference:r,transform:i}=t,o=(0,s.qk)({vertexAttributes:{position:e},vertexSpace:n,spatialReference:r,transform:i},u.Z.absolute,{allowBufferReuse:!0})?.position;return o?!t.components||t.components.some((t=>!t.faces))?{position:o.buffer}:{position:o.buffer,components:t.components.map((t=>t.faces))}:null}(t),o=null!=e?await e.invoke("createIndexThread",r,{transferList:n}):this.createIndexThread(r).result;return f().fromJSON(o)}createIndexThread(t){const e=f();if(!t)return{result:e.toJSON()};const n=new Float64Array(t.position);return t.components?function(t,e,n){let r=0;for(const t of n)r+=t.length/3;const i=new Array(r);let u=0;for(const t of n)for(let n=0;n<t.length;n+=3)i[u++]=c(e,3*t[n],3*t[n+1],3*t[n+2]);return t.load(i),{result:t.toJSON()}}(e,n,t.components.map((t=>new Uint32Array(t)))):function(t,e){const n=new Array(e.length/9);let r=0;for(let t=0;t<e.length;t+=9)n[r++]=c(e,t,t+3,t+6);return t.load(n),{result:t.toJSON()}}(e,n)}}function f(){return new i.Q(9,(0,r.Z)("esri-csp-restrictions")?t=>t:[".minX",".minY",".maxX",".maxY"])}function c(t,e,n,r){return{minX:Math.min(t[e],t[n],t[r]),maxX:Math.max(t[e],t[n],t[r]),minY:Math.min(t[e+1],t[n+1],t[r+1]),maxY:Math.max(t[e+1],t[n+1],t[r+1]),p0:[t[e],t[e+1],t[e+2]],p1:[t[n],t[n+1],t[n+2]],p2:[t[r],t[r+1],t[r+2]]}}},17966:function(t,e,n){n.d(e,{$s:function(){return w},Gi:function(){return E},Iz:function(){return T},M2:function(){return O},MO:function(){return N},Ot:function(){return A},To:function(){return x},VS:function(){return b},XO:function(){return _},Yk:function(){return g},pn:function(){return M},w9:function(){return S},wi:function(){return v}});var r=n(99574),i=n(96373),u=n(30748),s=n(31865),o=n(10934),f=n(24910),c=n(82846),a=n(74238),l=n(30146),h=n(21414),d=n(8554),p=n(97290),y=n(81342),m=n(2875),B=n(91426);const E="Projection may be possible after calling projection.load().";function M(t,e,n,r){t.error(`Failed to project from (wkid:${e.wkid}) to (wkid:${n.wkid}).${r?" ":""}${r}`)}function T(t,e,n,r,i,u){return L(P.TO_PCPF,y.ct.fromTypedArray(t),N.NORMAL,y.fP.fromTypedArray(e),n,y.fP.fromTypedArray(r),i,y.ct.fromTypedArray(u))?u:null}function g(t,e,n,r,i,u){return L(P.FROM_PCPF,y.ct.fromTypedArray(t),N.NORMAL,y.fP.fromTypedArray(e),n,y.fP.fromTypedArray(r),i,y.ct.fromTypedArray(u))?u:null}function _(t,e,n,r){return(0,l.projectBuffer)(t,e,0,n,r,0)?n:null}function x(t,e,n,r){return(0,l.projectBuffer)(t,e,0,n,r,0)?n:null}function S(t,e,n){return(0,i.XL)(X,n),(0,m.b)(e,t,X),(0,r.oc)(X)&&(0,m.n)(e,e),e}function b(t,e,n){return(0,i.xO)(X,n),(0,B.t)(e,t,X),(0,r.oc)(X)&&(0,m.n)(e,e,4),e}function A(t,e,n,i){const u=e===N.NORMAL;return R(t,e,n,((t,e)=>{const n=Math.cos((0,r.Vl)(t));e[0]=u?n:1/n,e[1]=1}),i)}function w(t,e,n,r){const i=e===N.NORMAL;return R(t,e,n,((t,e)=>{const n=Math.cosh(-t/h.sv.radius);e[0]=1,e[1]=i?n:1/n}),r)}function R(t,e,n,r,i){const u=e===N.NORMAL?3:4,s=[0,0];for(let e=0,o=1;e<t.length;e+=u,o+=3){r(n[o],s);const f=t[e]*s[0],c=t[e+1]*s[1],a=t[e+2],l=1/Math.sqrt(f*f+c*c+a*a);i[e]=f*l,i[e+1]=c*l,i[e+2]=a*l,4===u&&(i[e+3]=t[e+3])}return i}function v(t,e,n,r,i,u){if(!L(P.TO_PCPF,y.ct.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),N.TANGENT,y.fP.fromTypedArray(e),n,y.fP.fromTypedArray(r),i,y.ct.fromTypedArray(u,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let e=3;e<t.length;e+=4)u[e]=t[e];return u}function O(t,e,n,r,i,u){if(!L(P.FROM_PCPF,y.ct.fromTypedArray(t,16),N.TANGENT,y.fP.fromTypedArray(e),n,y.fP.fromTypedArray(r),i,y.ct.fromTypedArray(u,16)))return null;for(let e=3;e<t.length;e+=4)u[e]=t[e];return u}var N,P,Y;function C(t,e,n,r,u){switch((0,a.B)(r,n,j,r),t===P.FROM_PCPF&&(0,s.U_)(j,j),e){case N.NORMAL:return(0,i.XL)(u,j);case N.TANGENT:return(0,i.xO)(u,j)}}function L(t,e,n,r,i,u,s,o){if(!e)return;const c=r.count;if(function(t){return t.isWGS84||(0,d.yW)(t)||(0,d.BZ)(t)||(0,d.V2)(t)}(i))for(let r=0;r<c;r++)u.getVec(r,F),e.getVec(r,U),(0,f.o)(U,U,C(t,n,F,s,X)),o.setVec(r,U);else for(let i=0;i<c;i++){u.getVec(i,F),e.getVec(i,U);const c=(0,p.mZ)(r.get(i,1));let a=Math.cos(c);n===N.TANGENT!=(t===P.TO_PCPF)&&(a=1/a),C(t,n,F,s,X),t===P.TO_PCPF?(X[0]*=a,X[1]*=a,X[2]*=a,X[3]*=a,X[4]*=a,X[5]*=a):(X[0]*=a,X[3]*=a,X[6]*=a,X[1]*=a,X[4]*=a,X[7]*=a),(0,f.o)(U,U,X),(0,f.n)(U,U),o.setVec(i,U)}return o}(Y=N||(N={}))[Y.NORMAL=0]="NORMAL",Y[Y.TANGENT=1]="TANGENT",function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(P||(P={}));const F=(0,c.Ue)(),U=(0,c.Ue)(),j=(0,o.Ue)(),X=(0,u.Ue)()},63827:function(t,e,n){n.d(e,{qk:function(){return g},ur:function(){return w},x1:function(){return T}});var r=n(96711),i=n(99574),u=n(26636),s=n(96373),o=n(30748),f=n(31865),c=n(10934),a=n(24910),l=n(82846),h=n(70331),d=n(74238),p=n(6961),y=n(52861),m=n(8554),B=n(2875),E=n(17966);const M=()=>r.Z.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function T(t,e,{vertexSpace:n,spatialReference:r}){if("georeferenced"===n.type){const i=t;if(!(0,p.K)(e,i,r))return!1;const{origin:u}=n;return(0,a.d)(t,i,u),!0}const i=(0,h.rS)(r),u=t;if(!(0,p.K)(e,u,i))return!1;const{origin:s}=n,o=P;if(!(0,d.B)(r,s,o,i))return!1;const c=(0,f.U_)(P,o);return null!=c&&((0,a.t)(t,u,c),!0)}function g(t,e,n){const{vertexSpace:r,transform:i,vertexAttributes:u}=t,o=(0,y.zZ)(r)?i:null,l=b(t.spatialReference,n,Y.SOURCE_AND_TARGET);if((0,y.vI)(r,e)&&(!o||(0,f.I6)(o.localMatrix,c.Wd))&&A(l)){const{position:t,normal:e,tangent:r}=u,i=n?.allowBufferReuse;return{position:i?t:t.slice(),normal:i?e:e?.slice(),tangent:i?r:r?.slice()}}switch(t.vertexSpace.type){case"local":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:n},{origin:r},i,u){const s=_(e,u);if(!(0,d.B)(e,r,R,s))return(0,E.pn)(M(),e,s),null;if(n&&(0,f.Jp)(R,R,n.localMatrix),!(0,d.B)(e,i,v,s))return(0,E.pn)(M(),s,e),null;(0,f.U_)(v,v);const o=(0,f.Jp)(R,v,R);return S(o,e,u,Y.SOURCE_AND_TARGET),x(t,o)}(t,t.vertexSpace,e.origin,n):function({spatialReference:t,vertexAttributes:e,transform:n},{origin:r},i,u){const s=_(t,u);if(!(0,d.B)(t,r,R,s))return(0,E.pn)(M(),t,s),null;n&&(0,f.Jp)(R,R,n.localMatrix),S(R,t,u,Y.SOURCE);const o=new Float64Array(e.position.length),c=function(t,e,n,r,i){(0,B.t)(r,t,e);const u=new Float64Array(t.length);return(0,E.To)(r,i,u,n)?u:((0,E.pn)(M(),i,n),null)}(e.position,R,t,o,s);if(!c)return null;const l=function(t,e,n,r,i,u){if(null==i)return null;const s=new Float32Array(i.length);return(0,E.w9)(i,s,u),(0,E.Yk)(s,t,e,n,r,s)?s:((0,E.pn)(M(),r,e),null)}(c,t,o,s,e.normal,R);if(e.normal&&!l)return null;const h=function(t,e,n,r,i,u){if(null==i)return null;const s=new Float32Array(i.length);return(0,E.VS)(i,s,u),(0,E.M2)(s,t,e,n,r,s)?s:((0,E.pn)(M(),r,e),null)}(c,t,o,s,e.tangent,R);if(e.tangent&&!h)return null;if(i){const t=(0,a.u)(N,i);(0,B.a)(c,c,t)}return{position:c,normal:l,tangent:h}}(t,t.vertexSpace,e.origin,n);case"georeferenced":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:n},{origin:r},i,u){const o=_(e,u);if(!(0,d.B)(e,i,R,o))return(0,E.pn)(M(),e,o),null;const c=1/b(e,u,Y.TARGET);(0,f.bA)(R,R,[c,c,c]);const a=(0,f.U_)(v,R),{position:l,normal:h,tangent:p}=function(t,e,n){if(!e)return t;if(!n){const{position:n,normal:r,tangent:i}=t;return{position:(0,B.a)(new Float64Array(n.length),n,e),tangent:i,normal:r}}const r=x(t,n.localMatrix);return(0,B.a)(r.position,r.position,e),r}(t,r,n),y=new Float64Array(l.length),m=function(t,e,n,r,i){const u=(0,E.XO)(t,e,r,i);if(!u)return(0,E.pn)(M(),e,i),null;const s=new Float64Array(u.length);return(0,B.t)(s,u,n),s}(l,e,a,y,o);if(!m)return null;const T=(0,s.XL)(O,a),g=function(t,e,n,r,i,u,s){if(null==t)return null;const o=s??new Float32Array(t.length);return(0,E.Iz)(t,e,n,r,i,o)?((0,B.b)(o,o,u),o):((0,E.pn)(M(),n,i),null)}(h,l,e,y,o,T,h!==t.normal?h:void 0);if(!g&&h)return null;const S=function(t,e,n,r,i,u,s){if(null==t)return null;const o=s??new Float32Array(t.length);return(0,E.wi)(t,e,n,r,i,o)?((0,B.b)(o,o,u,4),o):((0,E.pn)(M(),n,i),null)}(p,l,e,y,o,T,p!==t.tangent?p:void 0);return!S&&p?null:{position:m,normal:g,tangent:S}}(t,t.vertexSpace,e.origin,n):function({vertexAttributes:t,transform:e,spatialReference:n},{origin:r},i,u){const s=b(n,u,Y.SOURCE_AND_TARGET),o=r||!A(s)?(0,f.JG)(R,e?.localMatrix??c.Wd):null;o&&S(o,n,u,Y.SOURCE_AND_TARGET);const{position:l,normal:h,tangent:d}=o?x(t,o):t,p=u?.allowBufferReuse,y=p?l:new Float64Array(l.length);let m=l;if(r&&(m=(0,B.a)(y,m,r)),i){const t=(0,a.u)(N,i);m=(0,B.a)(y,m,t)}return{position:m!==t.position||p?m:m.slice(),normal:h!==t.normal||p?h:h?.slice(),tangent:d!==t.tangent||p?d:d?.slice()}}(t,t.vertexSpace,e.origin,n)}}function _(t,e){return e?.useEllipsoid&&(0,m.N$)(t)?h.wY:(0,h.rS)(t)}function x(t,e){const n=new Float64Array(t.position.length);(0,B.t)(n,t.position,e);const r=t.normal?new Float32Array(t.normal.length):null,i=t.tangent?new Float32Array(t.tangent.length):null;return r&&t.normal&&(0,E.w9)(t.normal,r,e),i&&t.tangent&&(0,E.VS)(t.tangent,i,e),{position:n,normal:r,tangent:i}}function S(t,e,n,r){const i=b(e,n,r);A(i)||(0,f.bA)(t,t,[i,i,i])}function b(t,e,n){const r=!!(n&Y.SOURCE),i=!!(n&Y.TARGET),u=e?.sourceUnit,s=e?.targetUnit;if(!u&&!s)return 1;let o=w(u,t);r||!u||A(o)||(M().warn("source unit conversion not supported"),o=1);let f=1/w(s,t);return i||!s||A(f)||(M().warn("target unit conversion not supported"),f=1),o*f}function A(t){return(0,i.Po)(t,1)}function w(t,e){if(null==t)return 1;const n=(0,u.r6)(e);return 1/(0,u.En)(n,"meters",t)}const R=(0,c.Ue)(),v=(0,c.Ue)(),O=(0,o.Ue)(),N=(0,l.Ue)(),P=(0,c.Ue)();var Y,C;(C=Y||(Y={}))[C.NONE=0]="NONE",C[C.SOURCE=1]="SOURCE",C[C.TARGET=2]="TARGET",C[C.SOURCE_AND_TARGET=3]="SOURCE_AND_TARGET"},52861:function(t,e,n){n.d(e,{G7:function(){return l},QK:function(){return c},rU:function(){return a},vI:function(){return h},z1:function(){return o},zZ:function(){return f}});var r=n(24910),i=n(60508),u=n(25657),s=n(93466);function o(t){return null==t.origin}function f(t){return null!=t.origin}function c(t){return f(t.vertexSpace)}function a(t,e){if(!f(t))return null;const[n,r,u]=t.origin;return new i.Z({x:n,y:r,z:u,spatialReference:e})}function l(t,e){const{x:n,y:r,z:i,spatialReference:o}=t,f=[n,r,i??0];return"local"===(e?.vertexSpace??function(t){return t.isGeographic||t.isWebMercator?"local":"georeferenced"}(o))?new s.Z({origin:f}):new u.Z({origin:f})}function h(t,e){return t.type===e.type&&(t.origin===e.origin||null!=t.origin&&null!=e.origin&&(0,r.q)(t.origin,e.origin))}},61719:function(t,e,n){n.d(e,{E6:function(){return h},T:function(){return f},ep:function(){return a},hu:function(){return o},iV:function(){return l},kG:function(){return d},yK:function(){return c}});var r=n(41788),i=n(73749);const u=(0,n(27583).Ue)();class s{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}}function o(t,e="Assertion"){if(!t){const t=new Error(e).stack;throw new s(`${e} at ${t}`)}}function f(t,e){t||(e=e||"",console.warn("Verify failed: "+e+"\n"+new Error("verify").stack))}function c(t,e,n,r){let i,u=(n[0]-t[0])/e[0],s=(r[0]-t[0])/e[0];u>s&&(i=u,u=s,s=i);let o=(n[1]-t[1])/e[1],f=(r[1]-t[1])/e[1];if(o>f&&(i=o,o=f,f=i),u>f||o>s)return!1;o>u&&(u=o),f<s&&(s=f);let c=(n[2]-t[2])/e[2],a=(r[2]-t[2])/e[2];return c>a&&(i=c,c=a,a=i),!(u>a||c>s||(a<s&&(s=a),s<0))}function a(t,e,n,i,u,s=(0,r.Ue)()){const o=(i[u]-n[u])*(e[0]-t[0])-(i[0]-n[0])*(e[u]-t[u]),f=(i[0]-n[0])*(t[u]-n[u])-(i[u]-n[u])*(t[0]-n[0]);if(0===o)return!1;const c=f/o;return s[0]=t[0]+c*(e[0]-t[0]),s[1]=t[u]+c*(e[u]-t[u]),!0}function l(t,e,n,r,s){u[0]=t[0],u[1]=t[1],u[2]=t[2],u[3]=1,(0,i.t)(u,u,e),s.length>2&&(s[2]=-u[2]),(0,i.t)(u,u,n),o(0!==u[3]),s[0]=u[0]/u[3],s[1]=u[1]/u[3],s[2]=u[2]/u[3],s[0]=(.5*s[0]+.5)*r[2]+r[0],s[1]=(.5*s[1]+.5)*r[3]+r[1]}function h(t,e){return Math.log(t)/Math.log(e)}function d(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&1===t[15]}}}]);