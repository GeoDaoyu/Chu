"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[98639],{91426:function(t,e,r){r.d(e,{a:function(){return i},b:function(){return l},l:function(){return c},n:function(){return f},t:function(){return u}});var n=r(38461),s=(r(61432),r(96711));function i(t,e,r){u(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function u(t,e,r,n=4,s=n){if(t.length/n!=e.length/s)return;const i=t.length/n,u=r[0],f=r[1],o=r[2],c=r[3],l=r[4],y=r[5],p=r[6],a=r[7],h=r[8];let d=0,B=0;for(let r=0;r<i;r++){const r=e[d],i=e[d+1],T=e[d+2],E=e[d+3];t[B]=u*r+c*i+p*T,t[B+1]=f*r+l*i+a*T,t[B+2]=o*r+y*i+h*T,t[B+3]=E,d+=s,B+=n}}function f(t,e){const r=Math.min(t.count,e.count),n=t.typedBuffer,s=t.typedBufferStride,i=e.typedBuffer,u=e.typedBufferStride;for(let t=0;t<r;t++){const e=t*s,r=t*u,f=i[r],o=i[r+1],c=i[r+2],l=f*f+o*o+c*c;if(l>0){const t=1/Math.sqrt(l);n[e]=t*f,n[e+1]=t*o,n[e+2]=t*c}}}function o(t,e,r,n=4){const s=Math.min(t.length/n,e.count),i=e.typedBuffer,u=e.typedBufferStride;let f=0,o=0;for(let e=0;e<s;e++)t[o]=r*i[f],t[o+1]=r*i[f+1],t[o+2]=r*i[f+2],t[o+3]=r*i[f+3],f+=u,o+=n}function c(t,e,r,n){l(t.typedBuffer,e,r,n,t.typedBufferStride)}function l(t,e,r,s,i=4){const u=Math.min(t.length/i,e.count),f=e.typedBuffer,o=e.typedBufferStride;let c=0,l=0;const y=1/n.jm;for(let e=0;e<u;e++)t[l]=s*(r*f[c])**y,t[l+1]=s*(r*f[c+1])**y,t[l+2]=s*(r*f[c+2])**y,t[l+3]=s*r*f[c+3],c+=o,l+=i}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:l,linearToSRGBView:c,normalize:f,scale:o,scaleView:function(t,e,r){o(t.typedBuffer,e,r,t.typedBufferStride)},transformMat3:u,transformMat3View:i,transformMat4:function(t,e,r,n=4,i=n){if(t.length/n!=e.length/i)return void s.Z.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const u=t.length/n,f=r[0],o=r[1],c=r[2],l=r[3],y=r[4],p=r[5],a=r[6],h=r[7],d=r[8],B=r[9],T=r[10],E=r[11],m=r[12],A=r[13],g=r[14],S=r[15];let _=0,M=0;for(let r=0;r<u;r++){const r=e[_],s=e[_+1],u=e[_+2],R=e[_+3];t[M]=f*r+y*s+d*u+m*R,t[M+1]=o*r+p*s+B*u+A*R,t[M+2]=c*r+a*s+T*u+g*R,t[M+3]=l*r+h*s+E*u+S*R,_+=i,M+=n}},transformMat4View:function(t,e,r){if(t.count!==e.count)return;const n=t.count,s=r[0],i=r[1],u=r[2],f=r[3],o=r[4],c=r[5],l=r[6],y=r[7],p=r[8],a=r[9],h=r[10],d=r[11],B=r[12],T=r[13],E=r[14],m=r[15],A=t.typedBuffer,g=t.typedBufferStride,S=e.typedBuffer,_=e.typedBufferStride;for(let t=0;t<n;t++){const e=t*g,r=t*_,n=S[r],M=S[r+1],R=S[r+2],w=S[r+3];A[e]=s*n+o*M+p*R+B*w,A[e+1]=i*n+c*M+a*R+T*w,A[e+2]=u*n+l*M+h*R+E*w,A[e+3]=f*n+y*M+d*R+m*w}}},Symbol.toStringTag,{value:"Module"}))},81342:function(t,e,r){r.d(e,{ly:function(){return d},yT:function(){return h},oS:function(){return w},o7:function(){return q},Jj:function(){return W},Hz:function(){return z},gK:function(){return S},ey:function(){return _},bj:function(){return M},O1:function(){return R},av:function(){return F},Nu:function(){return Y},D_:function(){return N},Eu:function(){return T},hg:function(){return B},q6:function(){return x},or:function(){return D},wA:function(){return X},Vs:function(){return j},TS:function(){return O},qt:function(){return G},xA:function(){return L},ct:function(){return m},qx:function(){return E},fP:function(){return b},n1:function(){return J},PP:function(){return Q},P_:function(){return Z},mw:function(){return U},G5:function(){return I},ne:function(){return v},ek:function(){return g},R2:function(){return A},Cd:function(){return P},zO:function(){return K},TN:function(){return H},ir:function(){return $},v6:function(){return V},hu:function(){return k},mc:function(){return C}});var n=r(57192);class s{static{this.ElementCount=9}constructor(t,e,r=0,n,s){this.TypedArrayConstructor=t,this.elementCount=9;const i=this.TypedArrayConstructor;void 0===n&&(n=9*i.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,u):new i(e,u,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<9;t++)e[t]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<9;t++)this.typedBuffer[r++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){const n=this.typedBuffer,s=e.typedBuffer;let i=t*this.typedBufferStride,u=r*e.typedBufferStride;for(let t=0;t<9;++t)n[i++]=s[u++]}get buffer(){return this.typedBuffer.buffer}}class i{static{this.ElementCount=16}constructor(t,e,r=0,n,s){this.TypedArrayConstructor=t,this.elementCount=16;const i=this.TypedArrayConstructor;void 0===n&&(n=16*i.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,u):new i(e,u,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<16;t++)e[t]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<16;t++)this.typedBuffer[r++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){this.copyFromTypedBuffer(t,e.typedBuffer,r*e.typedBufferStride)}copyFromTypedBuffer(t,e,r){const n=this.typedBuffer;let s=t*this.typedBufferStride;for(let t=0;t<16;++t)n[s++]=e[r++]}get buffer(){return this.typedBuffer.buffer}}class u{static{this.ElementCount=1}constructor(t,e,r=0,n,s){this.TypedArrayConstructor=t,this.elementCount=1;const i=this.TypedArrayConstructor;void 0===n&&(n=i.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,u):new i(e,u,(s-r)/i.BYTES_PER_ELEMENT),this.stride=n,this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,e){this.typedBuffer[t*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}}var f=r(26821);class o{static{this.ElementCount=2}constructor(t,e,r=0,n,s){this.TypedArrayConstructor=t,this.start=r,this.elementCount=2;const i=this.TypedArrayConstructor;void 0===n&&(n=2*i.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,u):new i(e,u,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,f.t8)(e,this.typedBuffer[t],this.typedBuffer[t+1])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t]=e[1]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t]=r}copyFrom(t,e,r){const n=this.typedBuffer,s=e.typedBuffer;let i=t*this.typedBufferStride,u=r*e.typedBufferStride;n[i++]=s[u++],n[i]=s[u]}get buffer(){return this.typedBuffer.buffer}}var c=r(24910);class l{static{this.ElementCount=3}constructor(t,e,r=0,n,s){this.TypedArrayConstructor=t,this.elementCount=3;const i=this.TypedArrayConstructor;void 0===n&&(n=3*i.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,u):new i(e,u,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,c.i)(e,this.typedBuffer[t],this.typedBuffer[t+1],this.typedBuffer[t+2])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t]=e[2]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,n){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t]=n}copyFrom(t,e,r){const n=this.typedBuffer,s=e.typedBuffer;let i=t*this.typedBufferStride,u=r*e.typedBufferStride;n[i++]=s[u++],n[i++]=s[u++],n[i]=s[u]}get buffer(){return this.typedBuffer.buffer}}var y=r(73749);class p{static{this.ElementCount=4}constructor(t,e,r=0,n,s){this.TypedArrayConstructor=t,this.start=r,this.elementCount=4;const i=this.TypedArrayConstructor;void 0===n&&(n=4*i.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==s?new i(e,u):new i(e,u,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,y.s)(e,this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t++]=e[2],this.typedBuffer[t]=e[3]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,n,s){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t++]=n,this.typedBuffer[t]=s}copyFrom(t,e,r){const n=this.typedBuffer,s=e.typedBuffer;let i=t*this.typedBufferStride,u=r*e.typedBufferStride;n[i++]=s[u++],n[i++]=s[u++],n[i++]=s[u++],n[i]=s[u]}get buffer(){return this.typedBuffer.buffer}}var a=r(61719);class h extends u{constructor(t,e=0,r,s){(0,a.hu)(n.LL),super((0,n.vz)(),t,e,r,s),this.elementType="f16"}static{this.ElementType="f16"}}class d extends u{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}static{this.ElementType="f32"}}class B extends o{constructor(t,e=0,r,s){(0,a.hu)(n.LL),super((0,n.vz)(),t,e,r,s),this.elementType="f16"}slice(t,e){return this.sliceBuffer(B,t,e)}static{this.ElementType="f16"}}class T extends o{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(T,t,e)}static{this.ElementType="f32"}}class E extends l{constructor(t,e=0,r,s){(0,a.hu)(n.LL),super((0,n.vz)(),t,e,r,s),this.elementType="f16"}slice(t,e){return this.sliceBuffer(E,t,e)}static{this.ElementType="f16"}}class m extends l{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(m,t,e)}static fromTypedArray(t,e){return new m(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f32"}}class A extends p{constructor(t,e=0,r,s){(0,a.hu)(n.LL),super((0,n.vz)(),t,e,r,s),this.elementType="f16"}slice(t,e){return this.sliceBuffer(A,t,e)}static{this.ElementType="f16"}}class g extends p{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(g,t,e)}static{this.ElementType="f32"}}class S extends s{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(S,t,e)}static{this.ElementType="f32"}}class _ extends s{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(_,t,e)}static{this.ElementType="f64"}}class M extends i{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(M,t,e)}static{this.ElementType="f32"}}class R extends i{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(R,t,e)}static{this.ElementType="f64"}}class w extends u{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(w,t,e)}static{this.ElementType="f64"}}class x extends o{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(x,t,e)}static{this.ElementType="f64"}}class b extends l{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(b,t,e)}static fromTypedArray(t,e){return new b(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f64"}}class P extends p{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(P,t,e)}static{this.ElementType="f64"}}class N extends u{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(N,t,e)}static{this.ElementType="u8"}}class L extends o{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(L,t,e)}static{this.ElementType="u8"}}class v extends l{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(v,t,e)}static fromTypedArray(t,e){return new v(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="u8"}}class C extends p{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(C,t,e)}static{this.ElementType="u8"}}class F extends u{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(F,t,e)}static{this.ElementType="u16"}}class O extends o{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(O,t,e)}static{this.ElementType="u16"}}class U extends l{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(U,t,e)}static{this.ElementType="u16"}}class V extends p{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(V,t,e)}static{this.ElementType="u16"}}class Y extends u{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(Y,t,e)}static{this.ElementType="u32"}}class G extends o{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(G,t,e)}static{this.ElementType="u32"}}class I extends l{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(I,t,e)}static{this.ElementType="u32"}}class k extends p{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(k,t,e)}static{this.ElementType="u32"}}class z extends u{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(z,t,e)}static{this.ElementType="i8"}}class j extends o{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(j,t,e)}static{this.ElementType="i8"}}class Z extends l{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(Z,t,e)}static{this.ElementType="i8"}}class $ extends p{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer($,t,e)}static{this.ElementType="i8"}}class q extends u{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(q,t,e)}static{this.ElementType="i16"}}class D extends o{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(D,t,e)}static{this.ElementType="i16"}}class J extends l{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(J,t,e)}static{this.ElementType="i16"}}class K extends p{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(K,t,e)}static{this.ElementType="i16"}}class W extends u{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(W,t,e)}static{this.ElementType="i32"}}class X extends o{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(X,t,e)}static{this.ElementType="i32"}}class Q extends l{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(Q,t,e)}static{this.ElementType="i32"}}class H extends p{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(H,t,e)}static{this.ElementType="i32"}}},57192:function(t,e,r){r.d(e,{LL:function(){return u},TQ:function(){return s},vz:function(){return i}});let n=globalThis.Float16Array;function s(...t){return new(n??Float32Array)(...t)}function i(){return n}let u=!!n},98639:function(t,e,r){r.d(e,{projectMeshVertexPositions:function(){return f}});var n=r(30146),s=r(25657),i=r(8554),u=r(63827);function f(t,e){const r=(0,u.qk)(t,s.Z.absolute);if(!r)return null;let f=r.position;return(0,i.fS)(t.spatialReference,e)||(f=new Float64Array(r.position.length),(0,n.projectBuffer)(r.position,t.spatialReference,0,f,e,0))?f:null}},17966:function(t,e,r){r.d(e,{$s:function(){return x},Gi:function(){return E},Iz:function(){return A},M2:function(){return N},MO:function(){return L},Ot:function(){return w},To:function(){return _},VS:function(){return R},XO:function(){return S},Yk:function(){return g},pn:function(){return m},w9:function(){return M},wi:function(){return P}});var n=r(99574),s=r(96373),i=r(30748),u=r(31865),f=r(10934),o=r(24910),c=r(82846),l=r(74238),y=r(30146),p=r(21414),a=r(8554),h=r(97290),d=r(81342),B=r(2875),T=r(91426);const E="Projection may be possible after calling projection.load().";function m(t,e,r,n){t.error(`Failed to project from (wkid:${e.wkid}) to (wkid:${r.wkid}).${n?" ":""}${n}`)}function A(t,e,r,n,s,i){return O(v.TO_PCPF,d.ct.fromTypedArray(t),L.NORMAL,d.fP.fromTypedArray(e),r,d.fP.fromTypedArray(n),s,d.ct.fromTypedArray(i))?i:null}function g(t,e,r,n,s,i){return O(v.FROM_PCPF,d.ct.fromTypedArray(t),L.NORMAL,d.fP.fromTypedArray(e),r,d.fP.fromTypedArray(n),s,d.ct.fromTypedArray(i))?i:null}function S(t,e,r,n){return(0,y.projectBuffer)(t,e,0,r,n,0)?r:null}function _(t,e,r,n){return(0,y.projectBuffer)(t,e,0,r,n,0)?r:null}function M(t,e,r){return(0,s.XL)(G,r),(0,B.b)(e,t,G),(0,n.oc)(G)&&(0,B.n)(e,e),e}function R(t,e,r){return(0,s.xO)(G,r),(0,T.t)(e,t,G),(0,n.oc)(G)&&(0,B.n)(e,e,4),e}function w(t,e,r,s){const i=e===L.NORMAL;return b(t,e,r,((t,e)=>{const r=Math.cos((0,n.Vl)(t));e[0]=i?r:1/r,e[1]=1}),s)}function x(t,e,r,n){const s=e===L.NORMAL;return b(t,e,r,((t,e)=>{const r=Math.cosh(-t/p.sv.radius);e[0]=1,e[1]=s?r:1/r}),n)}function b(t,e,r,n,s){const i=e===L.NORMAL?3:4,u=[0,0];for(let e=0,f=1;e<t.length;e+=i,f+=3){n(r[f],u);const o=t[e]*u[0],c=t[e+1]*u[1],l=t[e+2],y=1/Math.sqrt(o*o+c*c+l*l);s[e]=o*y,s[e+1]=c*y,s[e+2]=l*y,4===i&&(s[e+3]=t[e+3])}return s}function P(t,e,r,n,s,i){if(!O(v.TO_PCPF,d.ct.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),L.TANGENT,d.fP.fromTypedArray(e),r,d.fP.fromTypedArray(n),s,d.ct.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let e=3;e<t.length;e+=4)i[e]=t[e];return i}function N(t,e,r,n,s,i){if(!O(v.FROM_PCPF,d.ct.fromTypedArray(t,16),L.TANGENT,d.fP.fromTypedArray(e),r,d.fP.fromTypedArray(n),s,d.ct.fromTypedArray(i,16)))return null;for(let e=3;e<t.length;e+=4)i[e]=t[e];return i}var L,v,C;function F(t,e,r,n,i){switch((0,l.B)(n,r,Y,n),t===v.FROM_PCPF&&(0,u.U_)(Y,Y),e){case L.NORMAL:return(0,s.XL)(i,Y);case L.TANGENT:return(0,s.xO)(i,Y)}}function O(t,e,r,n,s,i,u,f){if(!e)return;const c=n.count;if(function(t){return t.isWGS84||(0,a.yW)(t)||(0,a.BZ)(t)||(0,a.V2)(t)}(s))for(let n=0;n<c;n++)i.getVec(n,U),e.getVec(n,V),(0,o.o)(V,V,F(t,r,U,u,G)),f.setVec(n,V);else for(let s=0;s<c;s++){i.getVec(s,U),e.getVec(s,V);const c=(0,h.mZ)(n.get(s,1));let l=Math.cos(c);r===L.TANGENT!=(t===v.TO_PCPF)&&(l=1/l),F(t,r,U,u,G),t===v.TO_PCPF?(G[0]*=l,G[1]*=l,G[2]*=l,G[3]*=l,G[4]*=l,G[5]*=l):(G[0]*=l,G[3]*=l,G[6]*=l,G[1]*=l,G[4]*=l,G[7]*=l),(0,o.o)(V,V,G),(0,o.n)(V,V),f.setVec(s,V)}return f}(C=L||(L={}))[C.NORMAL=0]="NORMAL",C[C.TANGENT=1]="TANGENT",function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(v||(v={}));const U=(0,c.Ue)(),V=(0,c.Ue)(),Y=(0,f.Ue)(),G=(0,i.Ue)()},63827:function(t,e,r){r.d(e,{qk:function(){return g},ur:function(){return x},x1:function(){return A}});var n=r(96711),s=r(99574),i=r(26636),u=r(96373),f=r(30748),o=r(31865),c=r(10934),l=r(24910),y=r(82846),p=r(70331),a=r(74238),h=r(6961),d=r(52861),B=r(8554),T=r(2875),E=r(17966);const m=()=>n.Z.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function A(t,e,{vertexSpace:r,spatialReference:n}){if("georeferenced"===r.type){const s=t;if(!(0,h.K)(e,s,n))return!1;const{origin:i}=r;return(0,l.d)(t,s,i),!0}const s=(0,p.rS)(n),i=t;if(!(0,h.K)(e,i,s))return!1;const{origin:u}=r,f=v;if(!(0,a.B)(n,u,f,s))return!1;const c=(0,o.U_)(v,f);return null!=c&&((0,l.t)(t,i,c),!0)}function g(t,e,r){const{vertexSpace:n,transform:s,vertexAttributes:i}=t,f=(0,d.zZ)(n)?s:null,y=R(t.spatialReference,r,C.SOURCE_AND_TARGET);if((0,d.vI)(n,e)&&(!f||(0,o.I6)(f.localMatrix,c.Wd))&&w(y)){const{position:t,normal:e,tangent:n}=i,s=r?.allowBufferReuse;return{position:s?t:t.slice(),normal:s?e:e?.slice(),tangent:s?n:n?.slice()}}switch(t.vertexSpace.type){case"local":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:r},{origin:n},s,i){const u=S(e,i);if(!(0,a.B)(e,n,b,u))return(0,E.pn)(m(),e,u),null;if(r&&(0,o.Jp)(b,b,r.localMatrix),!(0,a.B)(e,s,P,u))return(0,E.pn)(m(),u,e),null;(0,o.U_)(P,P);const f=(0,o.Jp)(b,P,b);return M(f,e,i,C.SOURCE_AND_TARGET),_(t,f)}(t,t.vertexSpace,e.origin,r):function({spatialReference:t,vertexAttributes:e,transform:r},{origin:n},s,i){const u=S(t,i);if(!(0,a.B)(t,n,b,u))return(0,E.pn)(m(),t,u),null;r&&(0,o.Jp)(b,b,r.localMatrix),M(b,t,i,C.SOURCE);const f=new Float64Array(e.position.length),c=function(t,e,r,n,s){(0,T.t)(n,t,e);const i=new Float64Array(t.length);return(0,E.To)(n,s,i,r)?i:((0,E.pn)(m(),s,r),null)}(e.position,b,t,f,u);if(!c)return null;const y=function(t,e,r,n,s,i){if(null==s)return null;const u=new Float32Array(s.length);return(0,E.w9)(s,u,i),(0,E.Yk)(u,t,e,r,n,u)?u:((0,E.pn)(m(),n,e),null)}(c,t,f,u,e.normal,b);if(e.normal&&!y)return null;const p=function(t,e,r,n,s,i){if(null==s)return null;const u=new Float32Array(s.length);return(0,E.VS)(s,u,i),(0,E.M2)(u,t,e,r,n,u)?u:((0,E.pn)(m(),n,e),null)}(c,t,f,u,e.tangent,b);if(e.tangent&&!p)return null;if(s){const t=(0,l.u)(L,s);(0,T.a)(c,c,t)}return{position:c,normal:y,tangent:p}}(t,t.vertexSpace,e.origin,r);case"georeferenced":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:r},{origin:n},s,i){const f=S(e,i);if(!(0,a.B)(e,s,b,f))return(0,E.pn)(m(),e,f),null;const c=1/R(e,i,C.TARGET);(0,o.bA)(b,b,[c,c,c]);const l=(0,o.U_)(P,b),{position:y,normal:p,tangent:h}=function(t,e,r){if(!e)return t;if(!r){const{position:r,normal:n,tangent:s}=t;return{position:(0,T.a)(new Float64Array(r.length),r,e),tangent:s,normal:n}}const n=_(t,r.localMatrix);return(0,T.a)(n.position,n.position,e),n}(t,n,r),d=new Float64Array(y.length),B=function(t,e,r,n,s){const i=(0,E.XO)(t,e,n,s);if(!i)return(0,E.pn)(m(),e,s),null;const u=new Float64Array(i.length);return(0,T.t)(u,i,r),u}(y,e,l,d,f);if(!B)return null;const A=(0,u.XL)(N,l),g=function(t,e,r,n,s,i,u){if(null==t)return null;const f=u??new Float32Array(t.length);return(0,E.Iz)(t,e,r,n,s,f)?((0,T.b)(f,f,i),f):((0,E.pn)(m(),r,s),null)}(p,y,e,d,f,A,p!==t.normal?p:void 0);if(!g&&p)return null;const M=function(t,e,r,n,s,i,u){if(null==t)return null;const f=u??new Float32Array(t.length);return(0,E.wi)(t,e,r,n,s,f)?((0,T.b)(f,f,i,4),f):((0,E.pn)(m(),r,s),null)}(h,y,e,d,f,A,h!==t.tangent?h:void 0);return!M&&h?null:{position:B,normal:g,tangent:M}}(t,t.vertexSpace,e.origin,r):function({vertexAttributes:t,transform:e,spatialReference:r},{origin:n},s,i){const u=R(r,i,C.SOURCE_AND_TARGET),f=n||!w(u)?(0,o.JG)(b,e?.localMatrix??c.Wd):null;f&&M(f,r,i,C.SOURCE_AND_TARGET);const{position:y,normal:p,tangent:a}=f?_(t,f):t,h=i?.allowBufferReuse,d=h?y:new Float64Array(y.length);let B=y;if(n&&(B=(0,T.a)(d,B,n)),s){const t=(0,l.u)(L,s);B=(0,T.a)(d,B,t)}return{position:B!==t.position||h?B:B.slice(),normal:p!==t.normal||h?p:p?.slice(),tangent:a!==t.tangent||h?a:a?.slice()}}(t,t.vertexSpace,e.origin,r)}}function S(t,e){return e?.useEllipsoid&&(0,B.N$)(t)?p.wY:(0,p.rS)(t)}function _(t,e){const r=new Float64Array(t.position.length);(0,T.t)(r,t.position,e);const n=t.normal?new Float32Array(t.normal.length):null,s=t.tangent?new Float32Array(t.tangent.length):null;return n&&t.normal&&(0,E.w9)(t.normal,n,e),s&&t.tangent&&(0,E.VS)(t.tangent,s,e),{position:r,normal:n,tangent:s}}function M(t,e,r,n){const s=R(e,r,n);w(s)||(0,o.bA)(t,t,[s,s,s])}function R(t,e,r){const n=!!(r&C.SOURCE),s=!!(r&C.TARGET),i=e?.sourceUnit,u=e?.targetUnit;if(!i&&!u)return 1;let f=x(i,t);n||!i||w(f)||(m().warn("source unit conversion not supported"),f=1);let o=1/x(u,t);return s||!u||w(o)||(m().warn("target unit conversion not supported"),o=1),f*o}function w(t){return(0,s.Po)(t,1)}function x(t,e){if(null==t)return 1;const r=(0,i.r6)(e);return 1/(0,i.En)(r,"meters",t)}const b=(0,c.Ue)(),P=(0,c.Ue)(),N=(0,f.Ue)(),L=(0,y.Ue)(),v=(0,c.Ue)();var C,F;(F=C||(C={}))[F.NONE=0]="NONE",F[F.SOURCE=1]="SOURCE",F[F.TARGET=2]="TARGET",F[F.SOURCE_AND_TARGET=3]="SOURCE_AND_TARGET"},52861:function(t,e,r){r.d(e,{G7:function(){return y},QK:function(){return c},rU:function(){return l},vI:function(){return p},z1:function(){return f},zZ:function(){return o}});var n=r(24910),s=r(60508),i=r(25657),u=r(93466);function f(t){return null==t.origin}function o(t){return null!=t.origin}function c(t){return o(t.vertexSpace)}function l(t,e){if(!o(t))return null;const[r,n,i]=t.origin;return new s.Z({x:r,y:n,z:i,spatialReference:e})}function y(t,e){const{x:r,y:n,z:s,spatialReference:f}=t,o=[r,n,s??0];return"local"===(e?.vertexSpace??function(t){return t.isGeographic||t.isWebMercator?"local":"georeferenced"}(f))?new u.Z({origin:o}):new i.Z({origin:o})}function p(t,e){return t.type===e.type&&(t.origin===e.origin||null!=t.origin&&null!=e.origin&&(0,n.q)(t.origin,e.origin))}},61719:function(t,e,r){r.d(e,{E6:function(){return p},T:function(){return o},ep:function(){return l},hu:function(){return f},iV:function(){return y},kG:function(){return a},yK:function(){return c}});var n=r(41788),s=r(73749);const i=(0,r(27583).Ue)();class u{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}}function f(t,e="Assertion"){if(!t){const t=new Error(e).stack;throw new u(`${e} at ${t}`)}}function o(t,e){t||(e=e||"",console.warn("Verify failed: "+e+"\n"+new Error("verify").stack))}function c(t,e,r,n){let s,i=(r[0]-t[0])/e[0],u=(n[0]-t[0])/e[0];i>u&&(s=i,i=u,u=s);let f=(r[1]-t[1])/e[1],o=(n[1]-t[1])/e[1];if(f>o&&(s=f,f=o,o=s),i>o||f>u)return!1;f>i&&(i=f),o<u&&(u=o);let c=(r[2]-t[2])/e[2],l=(n[2]-t[2])/e[2];return c>l&&(s=c,c=l,l=s),!(i>l||c>u||(l<u&&(u=l),u<0))}function l(t,e,r,s,i,u=(0,n.Ue)()){const f=(s[i]-r[i])*(e[0]-t[0])-(s[0]-r[0])*(e[i]-t[i]),o=(s[0]-r[0])*(t[i]-r[i])-(s[i]-r[i])*(t[0]-r[0]);if(0===f)return!1;const c=o/f;return u[0]=t[0]+c*(e[0]-t[0]),u[1]=t[i]+c*(e[i]-t[i]),!0}function y(t,e,r,n,u){i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=1,(0,s.t)(i,i,e),u.length>2&&(u[2]=-i[2]),(0,s.t)(i,i,r),f(0!==i[3]),u[0]=i[0]/i[3],u[1]=i[1]/i[3],u[2]=i[2]/i[3],u[0]=(.5*u[0]+.5)*n[2]+n[0],u[1]=(.5*u[1]+.5)*n[3]+n[1]}function p(t,e){return Math.log(t)/Math.log(e)}function a(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&1===t[15]}}}]);