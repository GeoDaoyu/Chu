"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[28777],{12853:function(e,t,r){r.d(t,{z:function(){return o}});var n=r(69071);class o{constructor(e,t){this.removeFunc=t,this._storage=new n.WJ,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(e,t,r=1){this._storage.put(this,e,t,r,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}}},58426:function(e,t,r){r.d(t,{$c:function(){return d},Hg:function(){return y},jW:function(){return f},xb:function(){return m}});var n=r(70880),o=r(43254),i=r(22018);const s=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function l(e){return e instanceof n.Z}function a(e){return e instanceof o.Z?Object.keys(e.items):l(e)?(0,i.vw)(e).keys():e?Object.keys(e):[]}function u(e,t){return e instanceof o.Z?e.items[t]:e[t]}function c(e){return e?e.declaredClass:null}function p(e,t){const r=e.diff;if(r&&"function"==typeof r)return r(e,t);const n=a(e),o=a(t);if(0===n.length&&0===o.length)return;if(!n.length||!o.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const i=o.filter((e=>!n.includes(e))),f=n.filter((e=>!o.includes(e))),d=n.filter((r=>o.includes(r)&&u(e,r)!==u(t,r))).concat(i,f).sort(),y=c(e);if(y&&s.has(y)&&d.length)return{type:"complete",oldValue:e,newValue:t};let m;const h=l(e)&&l(t);for(const n of d){const o=u(e,n),i=u(t,n);let s;if((h||"function"!=typeof o&&"function"!=typeof i)&&o!==i&&(null!=o||null!=i)){if(r&&r[n]&&"function"==typeof r[n])s=r[n]?.(o,i);else if(o instanceof Date&&i instanceof Date){if(o.getTime()===i.getTime())continue;s={type:"complete",oldValue:o,newValue:i}}else s="object"==typeof o&&"object"==typeof i&&c(o)===c(i)?p(o,i):{type:"complete",oldValue:o,newValue:i};null!=s&&(null!=m?m.diff[n]=s:m={type:"partial",diff:{[n]:s}})}}return m}function f(e,t){return function(e,t){if(null==e)return!1;const r=t.split(".");let n=e;for(const e of r){if("complete"===n.type)return!0;if("partial"!==n.type)return!1;{const t=n.diff[e];if(!t)return!1;n=t}}return!0}(e,t)}function d(e,t){if(!e)return!1;if("partial"===e.type){const r=Object.keys(e.diff);return 1===r.length&&r[0]===t}return!1}function y(e,t){if("function"!=typeof e&&"function"!=typeof t&&(null!=e||null!=t))return null==e||null==t||"object"==typeof e&&"object"==typeof t&&c(e)!==c(t)?{type:"complete",oldValue:e,newValue:t}:p(e,t)}function m(e){if(null==e)return!0;switch(e.type){case"complete":return!1;case"collection":{const t=e;for(const e of t.added)if(!m(e))return!1;for(const e of t.removed)if(!m(e))return!1;for(const e of t.changed)if(!m(e))return!1;return!0}case"partial":for(const t in e.diff)if(!m(e.diff[t]))return!1;return!0}}},47635:function(e,t,r){r.r(t),r.d(t,{default:function(){return W}});var n=r(73440),o=r(997),i=r(84060),s=r(93568),l=r(95490),a=r(17155),u=r(61432),c=r(96711),p=(r(83850),r(48023)),f=r(71354),d=r(45213),y=r(98842),m=r(38209),h=r(88194),g=r(97006),b=r(82592),C=r(67764),v=r(73967),S=r(13878);let I=class extends g.Z{constructor(){super(...arguments),this.type="geojson",this.refresh=(0,s.Ds)((async e=>{await this.load();const{extent:t,timeExtent:r}=await this._connection.invoke("refresh",e);return this.sourceJSON.extent=t,r&&(this.sourceJSON.timeInfo.timeExtent=[r.start,r.end]),{dataChanged:!0,updates:{extent:this.sourceJSON.extent,timeInfo:this.sourceJSON.timeInfo}}}))}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}applyEdits(e){return this.load().then((()=>this._applyEdits(e)))}openPorts(){return this.load().then((()=>this._connection.openPorts()))}queryFeatures(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryFeatures",e?e.toJSON():null,t))).then((e=>S.Z.fromJSON(e)))}queryFeaturesJSON(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryFeatures",e?e.toJSON():null,t)))}queryFeatureCount(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t)))}queryObjectIds(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t)))}queryExtent(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t))).then((e=>({count:e.count,extent:f.Z.fromJSON(e.extent)})))}querySnapping(e,t={}){return this.load(t).then((()=>this._connection.invoke("querySnapping",e,t)))}async queryAttributeBins(e,t={}){return await this.load(),this._connection.invoke("queryAttributeBins",e?.toJSON(),t)}_applyEdits(e){if(!this._connection)throw new h.Z("geojson-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField,r=[],n=[],o=[];if(e.addFeatures)for(const t of e.addFeatures)r.push(this._serializeFeature(t));if(e.deleteFeatures)for(const r of e.deleteFeatures)"objectId"in r&&null!=r.objectId?n.push(r.objectId):"attributes"in r&&null!=r.attributes[t]&&n.push(r.attributes[t]);if(e.updateFeatures)for(const t of e.updateFeatures)o.push(this._serializeFeature(t));return this._connection.invoke("applyEdits",{adds:r,updates:o,deletes:n}).then((({extent:e,timeExtent:t,featureEditResults:r})=>(this.sourceJSON.extent=e,t&&(this.sourceJSON.timeInfo.timeExtent=[t.start,t.end]),this._createEditsResult(r))))}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:""};return{objectId:e.objectId,globalId:e.globalId,error:t?new h.Z("geojson-layer-source:edit-failure",t.description,{code:t.code}):null}}_serializeFeature(e){const{attributes:t}=e,r=this._geometryForSerialization(e);return r?{geometry:r.toJSON(),attributes:t}:{attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return null==t?null:"mesh"===t.type||"extent"===t.type?C.Z.fromExtent(t.extent):t}async _startWorker(e){this._connection=await(0,b.bA)("GeoJSONSourceWorker",{strategy:(0,u.Z)("feature-layers-workers")?"dedicated":"local",signal:e,registryTarget:this});const{fields:t,spatialReference:r,hasZ:n,geometryType:o,objectIdField:i,url:s,timeInfo:l,customParameters:a}=this.layer,p="defaults"===this.layer.originOf("spatialReference"),f={url:s,customParameters:a,fields:t&&t.map((e=>e.toJSON())),geometryType:y.Mk.toJSON(o),hasZ:n,objectIdField:i,timeInfo:l?l.toJSON():null,spatialReference:p?null:r&&r.toJSON()},d=await this._connection.invoke("load",f,{signal:e});for(const e of d.warnings)c.Z.getLogger(this.layer).warn("#load()",`${e.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:e});d.featureErrors.length&&c.Z.getLogger(this.layer).warn("#load()",`Encountered ${d.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:d.featureErrors}),this.sourceJSON=d.layerDefinition,this.capabilities=(0,v.MS)(this.sourceJSON.hasZ,!0)}};(0,n._)([(0,a.Cb)()],I.prototype,"capabilities",void 0),(0,n._)([(0,a.Cb)()],I.prototype,"type",void 0),(0,n._)([(0,a.Cb)({constructOnly:!0})],I.prototype,"layer",void 0),(0,n._)([(0,a.Cb)()],I.prototype,"sourceJSON",void 0),I=(0,n._)([(0,p.j)("esri.layers.graphics.sources.GeoJSONSource")],I);var w=r(83263),x=r(55591),_=r(7150),M=r(15303),F=r(88920),T=r(85330),O=r(90833),j=r(27202),E=r(19306),N=r(3752),P=r(99671),k=r(30472),R=r(93295),Z=r(88792),A=r(11755),z=r(49651),G=r(13545),L=r(76554),J=r(89428),D=r(80862),q=r(60541),B=r(29191),V=r(99382),U=r(88097);const Q=(0,G.v)();let $=class extends((0,O.c_)((0,_.tM)((0,x.N)((0,F.M)((0,M.b)((0,w.h7)((0,P.n)((0,k._)((0,N.M)((0,E.Q)((0,T.q)((0,j.I)((0,i.R)(m.Z)))))))))))))){constructor(e){super(e),this.attributeTableTemplate=null,this.copyright=null,this.dateFieldsTimeZone=null,this.definitionExpression=null,this.displayField=null,this.editingEnabled=!1,this.elevationInfo=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.hasZ=void 0,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="GeoJSON",this.outFields=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new I({layer:this}),this.spatialReference=d.Z.WGS84,this.templates=null,this.title="GeoJSON",this.type="geojson"}destroy(){this.source?.destroy()}load(e){const t=this.loadFromPortal({supportedTypes:["GeoJson"],supportsData:!1},e).catch(s.r9).then((()=>this.source.load(e))).then((()=>{this.read(this.source.sourceJSON,{origin:"service",url:this.parsedUrl}),this.revert(["objectIdField","fields","timeInfo"],"service"),(0,L.YN)(this.renderer,this.fieldsIndex),(0,L.UF)(this.timeInfo,this.fieldsIndex)}));return this.addResolvingPromise(t),Promise.resolve(this)}get capabilities(){return this.source?this.source.capabilities:null}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}get isTable(){return this.loaded&&null==this.geometryType}get parsedUrl(){return this.url?(0,l.mN)(this.url):null}set renderer(e){(0,L.YN)(e,this.fieldsIndex),this._set("renderer",e)}set url(e){if(!e)return void this._set("url",e);const t=(0,l.mN)(e);this._set("url",t.path),t.query&&(this.customParameters={...this.customParameters,...t.query})}async applyEdits(e,t){const{applyEdits:n}=await r.e(99813).then(r.bind(r,99813));await this.load();const o=await n(this,this.source,e,t);return this.read({extent:this.source.sourceJSON.extent,timeInfo:this.source.sourceJSON.timeInfo},{origin:"service",ignoreDefaults:!0}),o}on(e,t){return super.on(e,t)}createPopupTemplate(e){return(0,V.eZ)(this,e)}createQuery(){const e=new B.Z,t=this.capabilities?.data;e.returnGeometry=!0,t&&t.supportsZ&&(e.returnZ=!0),e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:r,timeExtent:n}=this;return e.timeExtent=null!=r&&null!=n?n.offset(-r.value,r.unit):n||null,e}getFieldDomain(e,t){return this.getField(e)?.domain}getField(e){return this.fieldsIndex.get(e)}queryFeatures(e,t){return this.load().then((()=>this.source.queryFeatures(B.Z.from(e)||this.createQuery(),t))).then((e=>{if(e?.features)for(const t of e.features)t.layer=t.sourceLayer=this;return e}))}queryObjectIds(e,t){return this.load().then((()=>this.source.queryObjectIds(B.Z.from(e)||this.createQuery(),t)))}queryFeatureCount(e,t){return this.load().then((()=>this.source.queryFeatureCount(B.Z.from(e)||this.createQuery(),t)))}queryExtent(e,t){return this.load().then((()=>this.source.queryExtent(B.Z.from(e)||this.createQuery(),t)))}async queryAttributeBins(e,t){const{source:n,capabilities:o}=await this.load();(0,Z.O2)(e,o,"GeoJSONLayer");const i=await Promise.all([r.e(37608),r.e(34042)]).then(r.bind(r,37608)),s=await n.queryAttributeBins(i.default.from(e),t);if(s.features)for(const e of s.features)e.layer=e.sourceLayer=this;return s}async hasDataChanged(){try{const{dataChanged:e,updates:t}=await this.source.refresh(this.customParameters);return null!=t&&this.read(t,{origin:"service",url:this.parsedUrl,ignoreDefaults:!0}),e}catch{}return!1}};(0,n._)([(0,a.Cb)(R.t4)],$.prototype,"attributeTableTemplate",void 0),(0,n._)([(0,a.Cb)({readOnly:!0,json:{read:!1,write:!1}})],$.prototype,"capabilities",null),(0,n._)([(0,a.Cb)({type:String})],$.prototype,"copyright",void 0),(0,n._)([(0,a.Cb)({readOnly:!0})],$.prototype,"createQueryVersion",null),(0,n._)([(0,a.Cb)((0,U.mi)("dateFieldsTimeReference"))],$.prototype,"dateFieldsTimeZone",void 0),(0,n._)([(0,a.Cb)({readOnly:!0})],$.prototype,"defaultPopupTemplate",null),(0,n._)([(0,a.Cb)({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],$.prototype,"definitionExpression",void 0),(0,n._)([(0,a.Cb)({type:String})],$.prototype,"displayField",void 0),(0,n._)([(0,a.Cb)({type:Boolean})],$.prototype,"editingEnabled",void 0),(0,n._)([(0,a.Cb)(R.PV)],$.prototype,"elevationInfo",void 0),(0,n._)([(0,a.Cb)({type:[z.Z],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],$.prototype,"fields",void 0),(0,n._)([(0,a.Cb)(Q.fieldsIndex)],$.prototype,"fieldsIndex",void 0),(0,n._)([(0,a.Cb)({type:f.Z,json:{name:"extent"}})],$.prototype,"fullExtent",void 0),(0,n._)([(0,a.Cb)({type:["point","polygon","polyline","multipoint"],json:{read:{reader:y.Mk.read}}})],$.prototype,"geometryType",void 0),(0,n._)([(0,a.Cb)({type:Boolean})],$.prototype,"hasZ",void 0),(0,n._)([(0,a.Cb)(R.id)],$.prototype,"id",void 0),(0,n._)([(0,a.Cb)({type:Boolean,readOnly:!0})],$.prototype,"isTable",null),(0,n._)([(0,a.Cb)(R.iR)],$.prototype,"labelsVisible",void 0),(0,n._)([(0,a.Cb)({type:[J.Z],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:D.r},write:!0}})],$.prototype,"labelingInfo",void 0),(0,n._)([(0,a.Cb)(R.rn)],$.prototype,"legendEnabled",void 0),(0,n._)([(0,a.Cb)({type:["show","hide"]})],$.prototype,"listMode",void 0),(0,n._)([(0,a.Cb)({type:String,json:{name:"layerDefinition.objectIdField",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"objectIdField"}}}})],$.prototype,"objectIdField",void 0),(0,n._)([(0,a.Cb)(R.Oh)],$.prototype,"opacity",void 0),(0,n._)([(0,a.Cb)({type:["GeoJSON"]})],$.prototype,"operationalLayerType",void 0),(0,n._)([(0,a.Cb)(Q.outFields)],$.prototype,"outFields",void 0),(0,n._)([(0,a.Cb)({readOnly:!0})],$.prototype,"parsedUrl",null),(0,n._)([(0,a.Cb)(R.C_)],$.prototype,"popupEnabled",void 0),(0,n._)([(0,a.Cb)({type:o.Z,json:{name:"popupInfo",write:!0}})],$.prototype,"popupTemplate",void 0),(0,n._)([(0,a.Cb)({types:q.Av,json:{name:"layerDefinition.drawingInfo.renderer",write:!0,origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:q.o}}}})],$.prototype,"renderer",null),(0,n._)([(0,a.Cb)(R.YI)],$.prototype,"screenSizePerspectiveEnabled",void 0),(0,n._)([(0,a.Cb)({readOnly:!0})],$.prototype,"source",void 0),(0,n._)([(0,a.Cb)({type:d.Z})],$.prototype,"spatialReference",void 0),(0,n._)([(0,a.Cb)({type:[A.Z]})],$.prototype,"templates",void 0),(0,n._)([(0,a.Cb)()],$.prototype,"title",void 0),(0,n._)([(0,a.Cb)({json:{read:!1},readOnly:!0})],$.prototype,"type",void 0),(0,n._)([(0,a.Cb)(R.HQ)],$.prototype,"url",null),$=(0,n._)([(0,p.j)("esri.layers.GeoJSONLayer")],$);const W=$},17749:function(e,t,r){r.d(t,{e:function(){return o},g:function(){return n}});const n={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!0,supportsCurrentUser:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsPaginationOnAggregatedQueries:!1,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!0,supportsReturnMesh:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,maxUniqueIDCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0,supportsTrueCurve:!1},o={supportsDate:!0,supportsFixedInterval:!0,supportsAutoInterval:!0,supportsFixedBoundaries:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!0,supportedStatistics:{count:!0,sum:!0,avg:!0,var:!0,stddev:!0,min:!0,max:!0,percentileContinuous:!0,percentileDiscrete:!0,envelope:!0,centroid:!0,convexHull:!0},supportedNormalizationTypes:{field:!0,log:!0,naturalLog:!0,percentOfTotal:!0,squareRoot:!0}}},73967:function(e,t,r){r.d(t,{Dm:function(){return c},Hq:function(){return f},MS:function(){return d},bU:function(){return l}});var n=r(61432),o=r(28947),i=r(17749),s=r(54914);function l(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?s.I4:"esriGeometryPolyline"===e?s.ET:s.lF}}}const a=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let u=1;function c(e,t){if((0,n.Z)("esri-csp-restrictions"))return()=>({[t]:null,...e});try{let r=`this${p(t)} = null;`;for(const t in e)r+=`this${p(t)} = ${JSON.stringify(e[t])};`;const n=new Function(`\n      return class AttributesClass$${u++} {\n        constructor() {\n          ${r};\n        }\n      }\n    `)();return()=>new n}catch(r){return()=>({[t]:null,...e})}}function p(e){return a.test(e)?`.${e}`:`["${e}"]`}function f(e={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,o.d9)(e)}}]}function d(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:i.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:i.e,editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},7150:function(e,t,r){r.d(t,{tM:function(){return b},jp:function(){return C},ey:function(){return v}});var n=r(73440),o=r(60123),i=r(17155),s=(r(61432),r(96711),r(83850),r(48023)),l=r(71840),a=r(89314),u=r(43254),c=r(63255),p=r(29884),f=r(4469),d=r(18764);const y={write:{overridePolicy:(e,t,r)=>({enabled:!r||"scale"===r.filterMode})}};let m=class extends(a.Z.ClonableMixin(c.Z)){constructor(e){super(e),this.id=(0,d.DO)(),this.maxScale=0,this.minScale=0,this.title="",this.where=null}};(0,n._)([(0,i.Cb)({type:String,json:{write:!0}})],m.prototype,"id",void 0),(0,n._)([(0,i.Cb)({type:Number,json:y})],m.prototype,"maxScale",void 0),(0,n._)([(0,i.Cb)({type:Number,json:y})],m.prototype,"minScale",void 0),(0,n._)([(0,i.Cb)({type:String,json:{write:!0}})],m.prototype,"title",void 0),(0,n._)([(0,i.Cb)({type:String,json:{write:!0}})],m.prototype,"where",void 0),m=(0,n._)([(0,s.j)("esri.layers.support.DisplayFilter")],m);var h=r(78279);let g=class extends(a.Z.ClonableMixin(c.Z)){constructor(e){super(e),this.activeFilterId=null,this.filters=new(u.Z.ofType(m)),this.mode="manual"}writeFilters(e,t,r,n){const o=e.toArray();"scale"===this.mode&&o.sort(((e,t)=>{const r=(0,f.Nf)(t.minScale,e.minScale),n=e.maxScale-t.maxScale;return 0===r?n:r})),t[r]=o.map((e=>e.toJSON(n)))}write(e,t){return super.write(e,(0,h.Ee)(this,t))}};(0,n._)([(0,i.Cb)({type:String,json:{write:{overridePolicy:(e,t,r)=>({enabled:"manual"===r.filterMode,isRequired:!0})}}})],g.prototype,"activeFilterId",void 0),(0,n._)([(0,i.Cb)({type:u.Z.ofType(m),nonNullable:!0,json:{write:!0}})],g.prototype,"filters",void 0),(0,n._)([(0,p.c)("filters")],g.prototype,"writeFilters",null),(0,n._)([(0,i.Cb)({type:["manual","scale"],nonNullable:!0,json:{name:"filterMode",write:!0}})],g.prototype,"mode",void 0),g=(0,n._)([(0,s.j)("esri.layers.support.DisplayFilterInfo")],g);const b=e=>{let t=class extends e{constructor(){super(...arguments),this.displayFilterEnabled=!0,this.displayFilterInfo=null}};return(0,n._)([(0,i.Cb)(C)],t.prototype,"displayFilterEnabled",void 0),(0,n._)([(0,i.Cb)(v)],t.prototype,"displayFilterInfo",void 0),t=(0,n._)([(0,s.j)("esri.layers.mixins.DisplayFilteredLayer")],t),t},C={type:Boolean,json:{name:"layerDefinition.disableDisplayFilter",read:{reader:e=>!e},write:{layerContainerTypes:l.C,writer(e,t,r){(0,o.RB)(r,!e,t)}},origins:{"web-scene":{write:!1,read:!1}}}},v={type:g,json:{name:"layerDefinition.displayFilterInfo",write:{enabled:!0,allowNull:!0,layerContainerTypes:l.C},origins:{"web-scene":{write:!1,read:!1}}}}},90833:function(e,t,r){r.d(t,{Ax:function(){return a},c_:function(){return c},lD:function(){return u}});var n=r(73440),o=r(60123),i=r(17155),s=(r(61432),r(96711),r(83850),r(48023)),l=r(72917);function a(e,t,r){if(!e)return null;const n=e.find((e=>!!e.field));if(!n)return null;const o=new l.Z;return o.read(n,r),[o]}const u={type:[l.Z],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:a},write:{writer:function(e,t,r,n){const i=e.find((e=>!!e.field));i&&(0,o.RB)(r,[i.toJSON()],t)}}}},c=e=>{let t=class extends e{constructor(){super(...arguments),this.orderBy=null}};return(0,n._)([(0,i.Cb)(u)],t.prototype,"orderBy",void 0),t=(0,n._)([(0,s.j)("esri.layers.mixins.OrderedLayer")],t),t}},99671:function(e,t,r){r.d(t,{I:function(){return d},n:function(){return y}});var n=r(73440),o=r(17155),i=(r(61432),r(96711),r(83850),r(1194)),s=r(48023),l=r(71840),a=r(76554),u=r(83918),c=r(24009),p=r(85913),f=r(62920);const d={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:l.C}}},y=e=>{let t=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(e,t){const r=t.timeInfo.exportOptions;if(!r)return null;const n=r.timeOffset,o=c.v.fromJSON(r.timeOffsetUnits);return n&&o?new f.T({value:n,unit:o}):null}set timeInfo(e){(0,a.UF)(e,this.fieldsIndex),this._set("timeInfo",e)}};return(0,n._)([(0,o.Cb)({type:p.T,json:{write:!1}})],t.prototype,"timeExtent",void 0),(0,n._)([(0,o.Cb)({type:f.T})],t.prototype,"timeOffset",void 0),(0,n._)([(0,i.r)("service","timeOffset",["timeInfo.exportOptions"])],t.prototype,"readOffset",null),(0,n._)([(0,o.Cb)({value:null,type:u.Z,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],t.prototype,"timeInfo",null),(0,n._)([(0,o.Cb)(d)],t.prototype,"useViewTime",void 0),t=(0,n._)([(0,s.j)("esri.layers.mixins.TemporalLayer")],t),t}},30472:function(e,t,r){r.d(t,{_:function(){return v}});var n=r(73440),o=r(17155),i=(r(61432),r(96711),r(83850),r(48023)),s=r(997),l=r(89314),a=r(63255),u=r(60123),c=r(29884),p=r(76401),f=r(93295),d=r(89428),y=r(60541);let m=class extends(l.Z.ClonableMixin(a.Z)){constructor(e){super(e),this.labelingInfo=null,this.labelsVisible=!0,this.renderer=null,this.visible=!0}};(0,n._)([(0,o.Cb)({type:[d.Z],json:{write:!0}})],m.prototype,"labelingInfo",void 0),(0,n._)([(0,o.Cb)(f.iR)],m.prototype,"labelsVisible",void 0),(0,n._)([(0,o.Cb)({types:y.Av,json:{write:!0}})],m.prototype,"renderer",void 0),(0,n._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],m.prototype,"visible",void 0),m=(0,n._)([(0,i.j)("esri.layers.support.TrackPartInfo")],m);var h=r(43957),g=r(9350),b=r(62920);let C=class extends(l.Z.ClonableMixin(a.Z)){constructor(e){super(e),this.enabled=!0,this.fields=[],this.latestObservations=new m({renderer:new h.Z({symbol:g.xA.clone()})}),this.maxDisplayDuration=null,this.maxDisplayObservationsPerTrack=0,this.popupEnabled=!0,this.popupTemplate=null,this.previousObservations=new m({renderer:new h.Z({symbol:g.xA.clone()})}),this.trackLines=new m({renderer:new h.Z({symbol:g.CJ.clone()})}),this.timeField="startTimeField"}writeFields(e,t,r){const n=e.filter((e=>"avg_angle"!==e.statisticType)).map((e=>e.toJSON()));(0,u.RB)(r,n,t)}};(0,n._)([(0,o.Cb)({type:Boolean,json:{write:!0}})],C.prototype,"enabled",void 0),(0,n._)([(0,o.Cb)({type:[p.Z],json:{write:!0}})],C.prototype,"fields",void 0),(0,n._)([(0,c.c)("fields")],C.prototype,"writeFields",null),(0,n._)([(0,o.Cb)({type:m,json:{write:!0}})],C.prototype,"latestObservations",void 0),(0,n._)([(0,o.Cb)({type:b.T,json:{write:!0}})],C.prototype,"maxDisplayDuration",void 0),(0,n._)([(0,o.Cb)({type:Number,json:{write:!0}})],C.prototype,"maxDisplayObservationsPerTrack",void 0),(0,n._)([(0,o.Cb)(f.C_)],C.prototype,"popupEnabled",void 0),(0,n._)([(0,o.Cb)({type:s.Z,json:{name:"popupInfo",write:!0}})],C.prototype,"popupTemplate",void 0),(0,n._)([(0,o.Cb)({type:m,json:{write:!0}})],C.prototype,"previousObservations",void 0),(0,n._)([(0,o.Cb)({type:m,json:{write:!0}})],C.prototype,"trackLines",void 0),(0,n._)([(0,o.Cb)({type:["timeReceived","startTimeField","endTimeField"],json:{read:!0,write:!0}})],C.prototype,"timeField",void 0),C=(0,n._)([(0,i.j)("esri.layers.support.TrackInfo")],C);const v=e=>{let t=class extends e{constructor(){super(...arguments),this.trackInfo=null}};return(0,n._)([(0,o.Cb)({type:C})],t.prototype,"trackInfo",void 0),t=(0,n._)([(0,i.j)("esri.layers.mixins.TrackableLayer")],t),t}},72917:function(e,t,r){r.d(t,{Z:function(){return c}});var n,o=r(73440),i=r(41773),s=r(63255),l=r(17155),a=(r(61432),r(96711),r(83850),r(48023));const u=new i.X({asc:"ascending",desc:"descending"});let c=class extends s.Z{static{n=this}constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new n({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,o._)([(0,l.Cb)({type:String,json:{write:!0}})],c.prototype,"field",void 0),(0,o._)([(0,l.Cb)({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],c.prototype,"valueExpression",void 0),(0,o._)([(0,l.Cb)({type:u.apiValues,json:{type:u.jsonValues,read:u.read,write:u.write}})],c.prototype,"order",void 0),c=n=(0,o._)([(0,a.j)("esri.layers.support.OrderByInfo")],c)},83918:function(e,t,r){r.d(t,{Z:function(){return y}});var n=r(73440),o=r(89314),i=r(63255),s=r(17155),l=(r(61432),r(96711),r(83850),r(1194)),a=r(48023),u=r(29884),c=r(85913),p=r(62920),f=r(88097);function d(e,t){return p.T.fromJSON({value:e,unit:t})}let y=class extends(o.Z.ClonableMixin(i.Z)){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(e,t){return t.timeExtent&&Array.isArray(t.timeExtent)&&2===t.timeExtent.length?c.T.fromArray(t.timeExtent):null}writeFullTimeExtent(e,t){null!=e?.start&&null!=e.end?t.timeExtent=e.toArray():t.timeExtent=null}readInterval(e,t){return t.timeInterval&&t.timeIntervalUnits?d(t.timeInterval,t.timeIntervalUnits):t.defaultTimeInterval&&t.defaultTimeIntervalUnits?d(t.defaultTimeInterval,t.defaultTimeIntervalUnits):null}writeInterval(e,t){t.timeInterval=e?.toJSON().value??null,t.timeIntervalUnits=e?.toJSON().unit??null}};(0,n._)([(0,s.Cb)({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],y.prototype,"cumulative",void 0),(0,n._)([(0,s.Cb)({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],y.prototype,"endField",void 0),(0,n._)([(0,s.Cb)({type:c.T,json:{write:{enabled:!0,allowNull:!0}}})],y.prototype,"fullTimeExtent",void 0),(0,n._)([(0,l.r)("fullTimeExtent",["timeExtent"])],y.prototype,"readFullTimeExtent",null),(0,n._)([(0,u.c)("fullTimeExtent")],y.prototype,"writeFullTimeExtent",null),(0,n._)([(0,s.Cb)({type:Boolean,json:{write:!0}})],y.prototype,"hasLiveData",void 0),(0,n._)([(0,s.Cb)({type:p.T,json:{write:{enabled:!0,allowNull:!0}}})],y.prototype,"interval",void 0),(0,n._)([(0,l.r)("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],y.prototype,"readInterval",null),(0,n._)([(0,u.c)("interval")],y.prototype,"writeInterval",null),(0,n._)([(0,s.Cb)({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],y.prototype,"startField",void 0),(0,n._)([(0,s.Cb)((0,f.mi)("timeReference",!0))],y.prototype,"timeZone",void 0),(0,n._)([(0,s.Cb)({type:String,json:{write:{enabled:!0,allowNull:!0}}})],y.prototype,"trackIdField",void 0),(0,n._)([(0,s.Cb)({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],y.prototype,"useTime",void 0),(0,n._)([(0,s.Cb)({type:[Date],json:{read:!1}})],y.prototype,"stops",void 0),y=(0,n._)([(0,a.j)("esri.layers.support.TimeInfo")],y)},78279:function(e,t,r){r.d(t,{Ee:function(){return i},Gr:function(){return l},UO:function(){return s}});var n=r(99574),o=r(48797);function i(e,t){return{...t,filterMode:e.mode}}function s(e,t){return a(e,t).next().value??null}function l(e,t,r){const i=function(e){if("manual"===c(e))return null;const t=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:r,maxScale:n}of e.filters)t[0]=Math.max(t[0],p(r)),t[1]=Math.min(t[1],f(n));return t}(e);if(i&&((0,n.nB)(t,i[0])||(0,n.pt)(r,i[1])))return"";const s=Array.from(a(e,t,r)),l=function(e,t,r){if(0===e.length)return!0;const o=p(e.at(0)?.minScale),i=f(e.at(-1)?.maxScale);if((0,n.pt)(o,t)||(0,n.nB)(i,r))return!0;for(let t=0;t<e.length-1;t++){const r=e[t],o=e[t+1];if((0,n.pt)(p(o.minScale),f(r.maxScale)))return!0}return!1}(s,t,r)?"1=1":s.map((e=>e.where||"1=1")).reduce(((e,t)=>(0,o.D3)(e,t)),"");return l&&"1=1"!==l?l:""}function*a(e,t,r){if("manual"===c(e)){const t=e.filters.find((t=>t.id===e.activeFilterId));t&&(yield t)}else{"object"==typeof t&&(t=t.scale);for(const n of e.filters)u(n.minScale,n.maxScale,t,r)&&(yield n)}}function u(e,t,r,o){return e=p(e),r=p(r),t=f(t),!(!(0,n.W8)(r,e)&&(o??r)>e||(0,n.aR)(t,r)||void 0!==o&&(0,n.W8)(o,e))}function c(e){return"mode"in e?e.mode:e.filterMode}function p(e){return e||Number.POSITIVE_INFINITY}function f(e){return e||0}},13545:function(e,t,r){r.d(t,{v:function(){return a}});var n=r(61432),o=r(96711),i=r(49651),s=r(299),l=r(76554);function a(){return{fields:{type:[i.Z],value:null,set:function(e){if(e&&(0,n.Z)("big-integer-warning-enabled")){const t=e.filter((e=>"big-integer"===e.type||"oid"===e.type&&(e.length||0)>=8));if(t.length){const e=t.map((e=>`'${e.name}'`)).join(", ");o.Z.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${e}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",e)}},fieldsIndex:{readOnly:!0,get(){return s.Z.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(e){this._userOutFields=e,this.notifyChange("outFields")},get:function(){const e=this._userOutFields;if(!e?.length)return null;if(e.includes("*"))return["*"];if(!this.fields)return e;for(const t of e){const r=this.fieldsIndex?.has(t);r||o.Z.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${t} found in outFields`,{layer:this,outFields:e})}return(0,l.Q0)(this.fieldsIndex,e)}}}}},86462:function(e,t,r){r.d(t,{AJ:function(){return u},If:function(){return f},k0:function(){return a},uI:function(){return p},ul:function(){return l},wx:function(){return d}});var n=r(99574),o=r(96094),i=r(73749),s=r(27583);const l=2.4;function a(e){return(0,o.Wz)(e*l)}function u(e){return(0,o.F2)(e)/l}function c(e,t,r,o){let{color:s,ratio:l}=t,{color:a,ratio:u}=r;if(u===l){const e=1e-6;1===u?l-=e:u+=e}const c=(0,n.uZ)((o-l)/(u-l),0,1);(0,i.l)(e,s.toArray(),a.toArray(),c)}function p(e){const t=new Uint8ClampedArray(2048);if(e=e.filter((({ratio:e})=>e>=0&&e<=1)).sort(((e,t)=>e.ratio-t.ratio)).map((({color:e,ratio:t})=>({color:e,ratio:Math.max(t,.001)}))),e.length<1)return t;let r=e[0],n=e[0],o=1;const i=(0,s.Ue)();for(let s=0;s<512;s++){const l=(s+.5)/512;for(;l>n.ratio&&o<e.length;)r=n,n=e[o++];c(i,r,n,l),t.set(i,4*s)}return t}function f(e,t,r){const n=Math.sqrt(e**2+t**2)/r;return n>1?0:3/(Math.PI*r**2)*(1-n**2)**2}function d(e){return"function"==typeof e?e:e?t=>+t[e]:()=>1}},13878:function(e,t,r){r.d(t,{Z:function(){return b}});var n,o=r(73440),i=r(46451),s=r(41773),l=r(63255),a=r(28947),u=r(17155),c=(r(61432),r(96711),r(1194)),p=r(48023),f=r(29884),d=r(45213),y=r(90756),m=r(98842),h=r(49651);const g=new s.X({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let b=n=class extends l.Z{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){return this.readFeaturesWithClass(e,t,i.Z)}writeGeometryType(e,t,r,n){if(e)return void g.write(e,t,r,n);const{features:o}=this;if(o)for(const e of o)if(null!=e?.geometry)return void g.write(e.geometry.type,t,r,n)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,n=(0,y.im)(e);return n&&!r&&t.spatialReference&&(n.spatialReference=d.Z.fromJSON(t.spatialReference)),n}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r)for(const e of r)if(e&&null!=e.geometry&&e.geometry.spatialReference)return void(t.spatialReference=e.geometry.spatialReference.toJSON())}clone(){return new n(this.cloneProperties())}cloneProperties(){return(0,a.d9)({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(e){const t=this.write();if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const n=t.features[r];if(n.geometry){const t=e?.[r];n.geometry=t?.toJSON()||n.geometry}}return t}quantize(e){const{scale:[t,r],translate:[n,o]}=e,i=this.features,s=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-n)/t)),(e=>Math.round((o-e)/r)));for(let e=0,t=i.length;e<t;e++)s?.(i[e].geometry)||(i.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[n,o],scale:[i,s]}=r;let l=null,a=null;if(this.hasZ&&null!=r?.scale?.[2]){const{translate:[,,e],scale:[,,t]}=r;l=r=>r*t+e}if(this.hasM&&null!=r?.scale?.[3]){const{translate:[,,,e],scale:[,,,t]}=r;a=r=>null==r?r:r*t+e}const u=this._getHydrationFunction(e,(e=>e*i+n),(e=>o-e*s),l,a);for(const{geometry:e}of t)null!=e&&u&&u(e);return this.transform=null,this}readFeaturesWithClass(e,t,r){const n=d.Z.fromJSON(t.spatialReference),o=[];for(let t=0;t<e.length;t++){const i=e[t],s=r.fromJSON(i),l=i.geometry?.spatialReference;null==s.geometry||l||(s.geometry.spatialReference=n);const a=i.aggregateGeometries,u=s.aggregateGeometries;if(a&&null!=u)for(const e in u){const t=u[e],r=a[e]?.spatialReference;null==t||r||(t.spatialReference=n)}o.push(s)}return o}_quantizePoints(e,t,r){let n,o;const i=[];for(let s=0,l=e.length;s<l;s++){const l=e[s];if(s>0){const e=t(l[0]),s=r(l[1]);e===n&&s===o||(i.push([e-n,s-o]),n=e,o=s)}else n=t(l[0]),o=r(l[1]),i.push([n,o])}return i.length>0?i:null}_getQuantizationFunction(e,t,r){return"point"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):"polyline"===e||"polygon"===e?e=>{const n=(0,y.oU)(e)?e.rings:e.paths,o=[];for(let e=0,i=n.length;e<i;e++){const i=n[e],s=this._quantizePoints(i,t,r);s&&o.push(s)}return o.length>0?((0,y.oU)(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?e=>{const n=this._quantizePoints(e.points,t,r);return n&&n.length>0?(e.points=n,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,r,n,o){return"point"===e?e=>{e.x=t(e.x),e.y=r(e.y),n&&(e.z=n(e.z))}:"polyline"===e||"polygon"===e?e=>{const i=(0,y.oU)(e)?e.rings:e.paths;let s,l;for(let e=0,n=i.length;e<n;e++){const n=i[e];for(let e=0,o=n.length;e<o;e++){const o=n[e];e>0?(s+=o[0],l+=o[1]):(s=o[0],l=o[1]),o[0]=t(s),o[1]=r(l)}}if(n&&o)for(let e=0,t=i.length;e<t;e++){const t=i[e];for(let e=0,r=t.length;e<r;e++){const r=t[e];r[2]=n(r[2]),r[3]=o(r[3])}}else if(n)for(let e=0,t=i.length;e<t;e++){const t=i[e];for(let e=0,r=t.length;e<r;e++){const r=t[e];r[2]=n(r[2])}}else if(o)for(let e=0,t=i.length;e<t;e++){const t=i[e];for(let e=0,r=t.length;e<r;e++){const r=t[e];r[2]=o(r[2])}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax),n&&null!=e.zmax&&null!=e.zmin&&(e.zmax=n(e.zmax),e.zmin=n(e.zmin)),o&&null!=e.mmax&&null!=e.mmin&&(e.mmax=o(e.mmax),e.mmin=o(e.mmin))}:"multipoint"===e?e=>{const i=e.points;let s,l;for(let e=0,n=i.length;e<n;e++){const n=i[e];e>0?(s+=n[0],l+=n[1]):(s=n[0],l=n[1]),n[0]=t(s),n[1]=r(l)}if(n&&o)for(let e=0,t=i.length;e<t;e++){const t=i[e];t[2]=n(t[2]),t[3]=o(t[3])}else if(n)for(let e=0,t=i.length;e<t;e++){const t=i[e];t[2]=n(t[2])}else if(o)for(let e=0,t=i.length;e<t;e++){const t=i[e];t[2]=o(t[2])}}:null}};(0,o._)([(0,u.Cb)({type:String,json:{write:!0}})],b.prototype,"displayFieldName",void 0),(0,o._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],b.prototype,"exceededTransferLimit",void 0),(0,o._)([(0,u.Cb)({type:[i.Z],json:{write:!0}})],b.prototype,"features",void 0),(0,o._)([(0,c.r)("features")],b.prototype,"readFeatures",null),(0,o._)([(0,u.Cb)({type:[h.Z],json:{write:!0}})],b.prototype,"fields",void 0),(0,o._)([(0,u.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:g.read}}})],b.prototype,"geometryType",void 0),(0,o._)([(0,f.c)("geometryType")],b.prototype,"writeGeometryType",null),(0,o._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],b.prototype,"hasM",void 0),(0,o._)([(0,u.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],b.prototype,"hasZ",void 0),(0,o._)([(0,u.Cb)({types:m.qM,json:{write:!0}})],b.prototype,"queryGeometry",void 0),(0,o._)([(0,c.r)("queryGeometry")],b.prototype,"readQueryGeometry",null),(0,o._)([(0,u.Cb)({type:d.Z,json:{write:!0}})],b.prototype,"spatialReference",void 0),(0,o._)([(0,f.c)("spatialReference")],b.prototype,"writeSpatialReference",null),(0,o._)([(0,u.Cb)({json:{write:!0}})],b.prototype,"transform",void 0),b=n=(0,o._)([(0,p.j)("esri.rest.support.FeatureSet")],b),b.prototype.toJSON.isDefaultToJSON=!0},599:function(e,t,r){r.d(t,{P:function(){return u},d:function(){return f}});var n=r(73440),o=r(41773),i=r(96711),s=r(17155),l=(r(61432),r(83850),r(79775)),a=r(48023);const u=(0,o.w)()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),c="percent-of-total",p="field",f=e=>{let t=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,r=null!=this.normalizationTotal;return t||r?(e=t&&p||r&&c||null,t&&r&&i.Z.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==p&&e!==c||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}};return(0,n._)([(0,s.Cb)({type:String,json:{name:"parameters.normalizationField",write:!0}})],t.prototype,"normalizationField",void 0),(0,n._)([(0,s.Cb)({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],t.prototype,"normalizationMaxValue",void 0),(0,n._)([(0,s.Cb)({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],t.prototype,"normalizationMinValue",void 0),(0,n._)([(0,s.Cb)({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],t.prototype,"normalizationTotal",void 0),(0,n._)([(0,l.J)(u,{name:"parameters.normalizationType"})],t.prototype,"normalizationType",null),t=(0,n._)([(0,a.j)("esri.rest.support.NormalizationBinParametersMixin")],t),t}},6298:function(e,t,r){r.d(t,{E:function(){return o}});var n=r(44252);const o={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:n.IH.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:n.IH.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRadial:{angle:0,length:5},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:n.of.Loop,repeatdelay:0,easing:n.IB.Linear},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0},CIMSymbolAnimationMoveAlongLine:{speed:30,distanceAlong:100}}},61421:function(e,t,r){r.d(t,{$Z:function(){return w},BX:function(){return S},Cc:function(){return h},E_:function(){return l},F:function(){return x},FG:function(){return M},H1:function(){return i},J0:function(){return m},JW:function(){return O},Lb:function(){return J},Le:function(){return j},Ml:function(){return A},On:function(){return C},Qf:function(){return F},RI:function(){return g},TB:function(){return T},Ul:function(){return Z},W7:function(){return I},X_:function(){return _},be:function(){return c},e0:function(){return k},gJ:function(){return y},hU:function(){return P},hf:function(){return n},k5:function(){return d},oY:function(){return u},pJ:function(){return b},qQ:function(){return s},wi:function(){return v},yL:function(){return f},yl:function(){return E},zL:function(){return p}});r(6298);function n(e,t,r,n){return function(e){return"function"==typeof e}(e)?e(t,r,n):e}function o(e){let t=e.length;for(;t--;)if(!" /-,\n".includes(e.charAt(t)))return!1;return!0}function i(e,t){const r=[];let n=0,i=-1;do{if(i=e.indexOf("[",n),i>=n){if(i>n){const t=e.slice(n,i);r.push([t,null,o(t)])}if(n=i+1,i=e.indexOf("]",n),i>=n){if(i>n){const o=t[e.slice(n,i)];o&&r.push([null,o,!1])}n=i+1}}}while(-1!==i);if(n<e.length){const t=e.slice(n);r.push([t,null,o(t)])}return r}function s(e,t,r){let n="",o=null;for(const r of t){const[t,i,s]=r;if(null!=t&&""!==t)s?o=t:(null!=o&&(n+=o,o=null),n+=t);else{const t=e.readAttribute(i);null!=t&&""!==t&&(null!==o&&(n+=o,o=null),n+=t)}}return a(n,r)}function l(e,t,r,n){let o="",i=null;for(const n of t){const[t,s,l]=n;if(null!=t&&""!==t)l?i=t:(null!=i&&(o+=i,i=null),o+=t);else{let t=s;null!=r&&(t=R(s,r));const n=e.attributes[t];null!=n&&""!==n&&(null!=i&&(o+=i,i=null),o+=n)}}return a(o,n)}function a(e,t){switch("string"!=typeof e&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function u(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function c(e){return e.data?.symbol??null}function p(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function f(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function d(e){return null!=e&&("CIMGradientFill"===e.type||"CIMHatchFill"===e.type||"CIMPictureFill"===e.type||"CIMSolidFill"===e.type||"CIMWaterFill"===e.type)}function y(e){return null!=e&&("CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type)}const m=(e,t=0)=>null==e||isNaN(e)?t:e,h=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectDonut":case"CIMGeometricEffectOffset":case"CIMGeometricEffectTaperedPolygon":case"CIMGeometricEffectEnclosingPolygon":return!0}return!1};function g(){return Promise.all([r.e(27093),r.e(13323)]).then(r.bind(r,69339))}function b(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function C(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function v(e){let t="normal",r="normal";if(e){const n=e.toLowerCase();n.includes("italic")?t="italic":n.includes("oblique")&&(t="oblique"),n.includes("bold")?r="bold":n.includes("light")&&(r="lighter")}return{style:t,weight:r}}function S(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function I(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=I(t);if(null!=e)return e}break;case"CIMTextSymbol":return I(e.symbol);case"CIMSolidFill":return e.color}return null}function w(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const e of t){const t=w(e);if(null!=t)return t}break}case"CIMTextSymbol":return w(e.symbol);case"CIMSolidStroke":return e.color}}function x(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=x(t);if(void 0!==e)return e}break;case"CIMTextSymbol":return x(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function _(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function M(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function F(e){return(e?Object.keys(e):[]).map((t=>({name:t,alias:t,type:"string"==typeof e[t]?"esriFieldTypeString":"esriFieldTypeDouble"})))}const T=e=>e.includes("data:image/svg+xml");function O(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function j(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}function E(e,t,r,n,o,i,s=!0){const{infos:l}=i;let a=1,u=0,c=0,p=0,f=1;for(const{absoluteAnchorPoint:e,offsetX:t,offsetY:r,rotation:n,size:o,frameHeight:i,rotateClockWise:d,scaleSymbolsProportionally:y}of l)f=e?1:a,c=G(t,r,u,f,c),p=z(t,r,u,f,p),i&&(y||s)&&(a*=o/i),u=L(n,d,u);const d=G(n,o,u,f,c),y=z(n,o,u,f,p);return{size:e*a,rotation:L(t,r,u),offsetX:d,offsetY:y}}function N(e){return"string"==typeof e?function(e){return e.split(" ").map((e=>Number(e)))}(e):e}function P(e){return e?.dashTemplate&&(e.dashTemplate=N(e.dashTemplate)),e}function k(e){if(null==e)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const e of t)if("CIMVectorMarker"===e.type)return k(e)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const e of t)if(e.symbol)return k(e.symbol)}}return"Normal"}function R(e,t){if(null!==t){const r=t.get(e);return r?r.name:e}return e}function Z(e){return e.map((e=>({...e,propertyName:j(e.propertyName)})))}function A(e){const t={};for(const r in e){const n=e[r];t[j(r)]=n}return t}function z(e,t,r,n,o){const i=r*Math.PI/180;if(i){const r=Math.cos(i);return(Math.sin(i)*e+r*t)*n+o}return t*n+o}function G(e,t,r,n,o){const i=r*Math.PI/180;return i?(Math.cos(i)*e-Math.sin(i)*t)*n+o:e*n+o}function L(e,t,r){return t?r-e:r+e}function J(e,t){return Math.max(Math.min((e??t)/100,1),0)}},9350:function(e,t,r){r.d(t,{CJ:function(){return u},Rz:function(){return p},js:function(){return f},xA:function(){return a},z3:function(){return c}});r(61432);var n=r(89636),o=r(38096),i=r(19886),s=r(45433),l=r(54914);const a=i.Z.fromJSON(l.I4),u=o.Z.fromJSON(l.ET),c=n.Z.fromJSON(l.lF),p=s.Z.fromJSON(l.qP);function f(e){if(null==e)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return a;case"polyline":return u;case"polygon":case"extent":return c}return null}i.Z.fromJSON(l.eG),o.Z.fromJSON(l.wW),n.Z.fromJSON(l.lj)},54914:function(e,t,r){r.d(t,{ET:function(){return s},I4:function(){return i},SQ:function(){return n},X1:function(){return o},eG:function(){return u},lF:function(){return l},lj:function(){return p},qP:function(){return a},wW:function(){return c}});const n=[252,146,31,255],o=[153,153,153,255],i={type:"esriSMS",style:"esriSMSCircle",size:6,color:n,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},s={type:"esriSLS",style:"esriSLSSolid",width:.75,color:n},l={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},a={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},u={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},p={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);