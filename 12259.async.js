"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[12259],{53147:function(t,n,e){e.d(n,{Z:function(){return l}});var r,o,u=e(38461),i=e(99574),c=e(95226);function a(t){return(0,i.uZ)((0,c.vU)(t),0,255)}function s(t,n){const e=t.toString(16).padStart(2,"0");return n?e.slice(0,1):e}class f{static blendColors(t,n,e,r=new f){return r.r=Math.round(t.r+(n.r-t.r)*e),r.g=Math.round(t.g+(n.g-t.g)*e),r.b=Math.round(t.b+(n.b-t.b)*e),r.a=t.a+(n.a-t.a)*e,r._sanitize()}static fromRgb(t,n){const e=(0,u.xO)(t);return e?f.fromArray(e,n):null}static fromHex(t,n=new f){const e=(0,u.yE)(t);return e?f.fromArray(e,n):null}static fromArray(t,n=new f){return n._set(Number(t[0]),Number(t[1]),Number(t[2]),Number(t[3])),isNaN(n.a)&&(n.a=1),n._sanitize()}static fromString(t,n){const e=(0,u.uh)(t);return e?f.fromArray(e,n):null}static fromJSON(t){return null!=t?new f([t[0],t[1],t[2],(t[3]??255)/255]):void 0}static toUnitRGB(t){return null!=t?[t.r/255,t.g/255,t.b/255]:null}static toUnitRGBA(t){return null!=t?[t.r/255,t.g/255,t.b/255,null!=t.a?t.a:1]:null}constructor(t){this.r=255,this.g=255,this.b=255,this.a=1,t&&this.setColor(t)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(t){return"string"==typeof t?f.fromString(t,this):Array.isArray(t)?f.fromArray(t,this):(this._set(t.r??0,t.g??0,t.b??0,t.a??1),t instanceof f||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(t){const n=t?.capitalize??!1,e=t?.digits??6,r=3===e||4===e,o=4===e||8===e,u=`#${s(this.r,r)}${s(this.g,r)}${s(this.b,r)}${o?s(Math.round(255*this.a),r):""}`;return n?u.toUpperCase():u}toCss(t=!1){const n=this.r+", "+this.g+", "+this.b;return t?`rgba(${n}, ${this.a})`:`rgb(${n})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(t=f.AlphaMode.ALWAYS){const n=a(this.r),e=a(this.g),r=a(this.b);return t===f.AlphaMode.ALWAYS||1!==this.a?[n,e,r,a(255*this.a)]:[n,e,r]}clone(){return new f(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(t){return null!=t&&t.r===this.r&&t.g===this.g&&t.b===this.b&&t.a===this.a}_sanitize(){return this.r=(0,u.OC)(this.r),this.g=(0,u.OC)(this.g),this.b=(0,u.OC)(this.b),this.a=(0,u.I2)(this.a),this}_set(t,n,e,r){this.r=t,this.g=n,this.b=e,this.a=r}}f.prototype.declaredClass="esri.Color",r=f||(f={}),(o=r.AlphaMode||(r.AlphaMode={}))[o.ALWAYS=0]="ALWAYS",o[o.UNLESS_OPAQUE=1]="UNLESS_OPAQUE";const l=f},73749:function(t,n,e){e.d(n,{a:function(){return w},b:function(){return g},c:function(){return o},d:function(){return l},e:function(){return I},f:function(){return d},g:function(){return c},h:function(){return m},i:function(){return u},j:function(){return b},l:function(){return y},n:function(){return M},s:function(){return i},t:function(){return p},v:function(){return N}});var r=e(66130);function o(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function u(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function i(t,n,e,r,o){return t[0]=n,t[1]=e,t[2]=r,t[3]=o,t}function c(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function a(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function s(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t}function f(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t}function l(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function h(t,n){const e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2],u=n[3]-t[3];return Math.sqrt(e*e+r*r+o*o+u*u)}function d(t,n){const e=n[0]-t[0],r=n[1]-t[1],o=n[2]-t[2],u=n[3]-t[3];return e*e+r*r+o*o+u*u}function b(t){const n=t[0],e=t[1],r=t[2],o=t[3];return Math.sqrt(n*n+e*e+r*r+o*o)}function g(t){const n=t[0],e=t[1],r=t[2],o=t[3];return n*n+e*e+r*r+o*o}function M(t,n){const e=n[0],r=n[1],o=n[2],u=n[3];let i=e*e+r*r+o*o+u*u;return i>0&&(i=1/Math.sqrt(i),t[0]=e*i,t[1]=r*i,t[2]=o*i,t[3]=u*i),t}function m(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function y(t,n,e,r){const o=n[0],u=n[1],i=n[2],c=n[3];return t[0]=o+r*(e[0]-o),t[1]=u+r*(e[1]-u),t[2]=i+r*(e[2]-i),t[3]=c+r*(e[3]-c),t}function p(t,n,e){const r=n[0],o=n[1],u=n[2],i=n[3];return t[0]=e[0]*r+e[4]*o+e[8]*u+e[12]*i,t[1]=e[1]*r+e[5]*o+e[9]*u+e[13]*i,t[2]=e[2]*r+e[6]*o+e[10]*u+e[14]*i,t[3]=e[3]*r+e[7]*o+e[11]*u+e[15]*i,t}function w(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function I(t,n){const e=t[0],o=t[1],u=t[2],i=t[3],c=n[0],a=n[1],s=n[2],f=n[3],l=(0,r.bn)();return Math.abs(e-c)<=l*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(o-a)<=l*Math.max(1,Math.abs(o),Math.abs(a))&&Math.abs(u-s)<=l*Math.max(1,Math.abs(u),Math.abs(s))&&Math.abs(i-f)<=l*Math.max(1,Math.abs(i),Math.abs(f))}const U=a,A=s,_=f,S=h,v=d,T=b,E=g,N=Object.freeze(Object.defineProperty({__proto__:null,add:c,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t},copy:o,copyVec3:u,dist:S,distance:h,div:_,divide:f,dot:m,equals:I,exactEquals:w,floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t},inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t},len:T,length:b,lerp:y,max:function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t},min:function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t},mul:A,multiply:s,negate:function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},normalize:M,random:function(t,n=1){const e=r.FD;let o,u,i,c,a,s;do{o=2*e()-1,u=2*e()-1,a=o*o+u*u}while(a>=1);do{i=2*e()-1,c=2*e()-1,s=i*i+c*c}while(s>=1);const f=Math.sqrt((1-a)/s);return t[0]=n*o,t[1]=n*u,t[2]=n*i*f,t[3]=n*c*f,t},round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t},scale:l,scaleAndAdd:function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t},set:i,sqrDist:v,sqrLen:E,squaredDistance:d,squaredLength:g,str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},sub:U,subtract:a,transformMat4:p,transformQuat:function(t,n,e){const r=n[0],o=n[1],u=n[2],i=e[0],c=e[1],a=e[2],s=e[3],f=s*r+c*u-a*o,l=s*o+a*r-i*u,h=s*u+i*o-c*r,d=-i*r-c*o-a*u;return t[0]=f*s+d*-i+l*-a-h*-c,t[1]=l*s+d*-c+h*-i-f*-a,t[2]=h*s+d*-a+f*-c-l*-i,t[3]=n[3],t}},Symbol.toStringTag,{value:"Module"}))},30748:function(t,n,e){function r(){return[1,0,0,0,1,0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function u(t,n,e,r,o,u,i,c,a){return[t,n,e,r,o,u,i,c,a]}e.d(n,{Ue:function(){return r},Wd:function(){return i},al:function(){return u},d9:function(){return o}});const i=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:o,create:r,fromValues:u},Symbol.toStringTag,{value:"Module"}))},10934:function(t,n,e){function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function u(t,n,e,r,o,u,i,c,a,s,f,l,h,d,b,g){return[t,n,e,r,o,u,i,c,a,s,f,l,h,d,b,g]}e.d(n,{Ue:function(){return r},Wd:function(){return i},al:function(){return u},d9:function(){return o}});const i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:o,create:r,fromValues:u},Symbol.toStringTag,{value:"Module"}))},21117:function(t,n,e){function r(){return[0,0,0,1]}function o(t){return[t[0],t[1],t[2],t[3]]}function u(t,n,e,r){return[t,n,e,r]}e.d(n,{Ue:function(){return r},Wd:function(){return i},al:function(){return u},d9:function(){return o}});const i=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:o,create:r,fromValues:u},Symbol.toStringTag,{value:"Module"}))},41788:function(t,n,e){function r(){return[0,0]}function o(t){return[t[0],t[1]]}function u(t,n){return[t,n]}function i(t,n=[0,0]){const e=Math.min(2,t.length);for(let r=0;r<e;++r)n[r]=t[r];return n}function c(){return[0,0]}function a(){return u(1,1)}function s(){return u(1,0)}function f(){return u(0,1)}e.d(n,{AG:function(){return l},E9:function(){return d},IO:function(){return b},Ue:function(){return r},al:function(){return u},d9:function(){return o},hq:function(){return h},ll:function(){return c},nI:function(){return i}});const l=[0,0],h=a(),d=s(),b=f();Object.freeze(Object.defineProperty({__proto__:null,ONES:h,UNIT_X:d,UNIT_Y:b,ZEROS:l,clone:o,create:r,freeze:function(t,n){return[t,n]},fromArray:i,fromValues:u,ones:a,unitX:s,unitY:f,zeros:c},Symbol.toStringTag,{value:"Module"}))},86875:function(t,n,e){function r(){return new Float32Array(3)}function o(t){const n=new Float32Array(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function u(t,n,e){const r=new Float32Array(3);return r[0]=t,r[1]=n,r[2]=e,r}function i(){return r()}function c(){return u(1,1,1)}function a(){return u(1,0,0)}function s(){return u(0,1,0)}function f(){return u(0,0,1)}e.d(n,{Ue:function(){return r},al:function(){return u},d9:function(){return o}});const l=i(),h=c(),d=a(),b=s(),g=f();Object.freeze(Object.defineProperty({__proto__:null,ONES:h,UNIT_X:d,UNIT_Y:b,UNIT_Z:g,ZEROS:l,clone:o,create:r,fromValues:u,ones:c,unitX:a,unitY:s,unitZ:f,zeros:i},Symbol.toStringTag,{value:"Module"}))},27583:function(t,n,e){function r(){return[0,0,0,0]}function o(t){return[t[0],t[1],t[2],t[3]]}function u(t,n,e,r){return[t,n,e,r]}function i(t,n,e,r){return[t,n,e,r]}function c(t,n=[0,0,0,0]){const e=Math.min(4,t.length);for(let r=0;r<e;++r)n[r]=t[r];return n}function a(){return[0,0,0,0]}function s(){return u(1,1,1,1)}function f(){return u(1,0,0,0)}function l(){return u(0,1,0,0)}function h(){return u(0,0,1,0)}function d(){return u(0,0,0,1)}e.d(n,{AG:function(){return b},Ue:function(){return r},al:function(){return u},d9:function(){return o},hq:function(){return g},iU:function(){return s},nI:function(){return c},vV:function(){return i}});const b=[0,0,0,0],g=s(),M=f(),m=l(),y=h(),p=d();Object.freeze(Object.defineProperty({__proto__:null,ONES:g,UNIT_W:p,UNIT_X:M,UNIT_Y:m,UNIT_Z:y,ZEROS:b,clone:o,create:r,freeze:i,fromArray:c,fromValues:u,ones:s,unitW:d,unitX:f,unitY:l,unitZ:h,zeros:a},Symbol.toStringTag,{value:"Module"}))},96373:function(t,n,e){e.d(n,{Iu:function(){return l},Jp:function(){return f},U1:function(){return h},U_:function(){return a},XL:function(){return M},bA:function(){return d},en:function(){return b},f6:function(){return g},p4:function(){return c},t8:function(){return u},uj:function(){return s},xO:function(){return o},yR:function(){return i}});var r=e(66130);function o(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t}function u(t,n,e,r,o,u,i,c,a,s){return t[0]=n,t[1]=e,t[2]=r,t[3]=o,t[4]=u,t[5]=i,t[6]=c,t[7]=a,t[8]=s,t}function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function c(t,n){if(t===n){const e=n[1],r=n[2],o=n[5];t[1]=n[3],t[2]=n[6],t[3]=e,t[5]=n[7],t[6]=r,t[7]=o}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t}function a(t,n){const e=n[0],r=n[1],o=n[2],u=n[3],i=n[4],c=n[5],a=n[6],s=n[7],f=n[8],l=f*i-c*s,h=-f*u+c*a,d=s*u-i*a;let b=e*l+r*h+o*d;return b?(b=1/b,t[0]=l*b,t[1]=(-f*r+o*s)*b,t[2]=(c*r-o*i)*b,t[3]=h*b,t[4]=(f*e-o*a)*b,t[5]=(-c*e+o*u)*b,t[6]=d*b,t[7]=(-s*e+r*a)*b,t[8]=(i*e-r*u)*b,t):null}function s(t,n){const e=n[0],r=n[1],o=n[2],u=n[3],i=n[4],c=n[5],a=n[6],s=n[7],f=n[8];return t[0]=i*f-c*s,t[1]=o*s-r*f,t[2]=r*c-o*i,t[3]=c*a-u*f,t[4]=e*f-o*a,t[5]=o*u-e*c,t[6]=u*s-i*a,t[7]=r*a-e*s,t[8]=e*i-r*u,t}function f(t,n,e){const r=n[0],o=n[1],u=n[2],i=n[3],c=n[4],a=n[5],s=n[6],f=n[7],l=n[8],h=e[0],d=e[1],b=e[2],g=e[3],M=e[4],m=e[5],y=e[6],p=e[7],w=e[8];return t[0]=h*r+d*i+b*s,t[1]=h*o+d*c+b*f,t[2]=h*u+d*a+b*l,t[3]=g*r+M*i+m*s,t[4]=g*o+M*c+m*f,t[5]=g*u+M*a+m*l,t[6]=y*r+p*i+w*s,t[7]=y*o+p*c+w*f,t[8]=y*u+p*a+w*l,t}function l(t,n,e){const r=n[0],o=n[1],u=n[2],i=n[3],c=n[4],a=n[5],s=n[6],f=n[7],l=n[8],h=e[0],d=e[1];return t[0]=r,t[1]=o,t[2]=u,t[3]=i,t[4]=c,t[5]=a,t[6]=h*r+d*i+s,t[7]=h*o+d*c+f,t[8]=h*u+d*a+l,t}function h(t,n,e){const r=n[0],o=n[1],u=n[2],i=n[3],c=n[4],a=n[5],s=n[6],f=n[7],l=n[8],h=Math.sin(e),d=Math.cos(e);return t[0]=d*r+h*i,t[1]=d*o+h*c,t[2]=d*u+h*a,t[3]=d*i-h*r,t[4]=d*c-h*o,t[5]=d*a-h*u,t[6]=s,t[7]=f,t[8]=l,t}function d(t,n,e){const r=e[0],o=e[1],u=e[2];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t[6]=u*n[6],t[7]=u*n[7],t[8]=u*n[8],t}function b(t,n){const e=n[0],r=n[1],o=n[2],u=n[3],i=e+e,c=r+r,a=o+o,s=e*i,f=r*i,l=r*c,h=o*i,d=o*c,b=o*a,g=u*i,M=u*c,m=u*a;return t[0]=1-l-b,t[3]=f-m,t[6]=h+M,t[1]=f+m,t[4]=1-s-b,t[7]=d-g,t[2]=h-M,t[5]=d+g,t[8]=1-s-l,t}function g(t,n){const e=n[0],r=n[1],o=n[2],u=n[4],i=n[5],c=n[6],a=n[8],s=n[9],f=n[10],l=f*i-c*s,h=-f*u+c*a,d=s*u-i*a,b=e*l+r*h+o*d;if(!b)return null;const g=1/b;return t[0]=l*g,t[1]=(-f*r+o*s)*g,t[2]=(c*r-o*i)*g,t[3]=h*g,t[4]=(f*e-o*a)*g,t[5]=(-c*e+o*u)*g,t[6]=d*g,t[7]=(-s*e+r*a)*g,t[8]=(i*e-r*u)*g,t}function M(t,n){const e=n[0],r=n[1],o=n[2],u=n[3],i=n[4],c=n[5],a=n[6],s=n[7],f=n[8],l=n[9],h=n[10],d=n[11],b=n[12],g=n[13],M=n[14],m=n[15],y=e*c-r*i,p=e*a-o*i,w=e*s-u*i,I=r*a-o*c,U=r*s-u*c,A=o*s-u*a,_=f*g-l*b,S=f*M-h*b,v=f*m-d*b,T=l*M-h*g,E=l*m-d*g,N=h*m-d*M;let C=y*N-p*E+w*T+I*v-U*S+A*_;return C?(C=1/C,t[0]=(c*N-a*E+s*T)*C,t[1]=(a*v-i*N-s*S)*C,t[2]=(i*E-c*v+s*_)*C,t[3]=(o*E-r*N-u*T)*C,t[4]=(e*N-o*v+u*S)*C,t[5]=(r*v-e*E-u*_)*C,t[6]=(g*A-M*U+m*I)*C,t[7]=(M*w-b*A-m*p)*C,t[8]=(b*U-g*w+m*y)*C,t):null}function m(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t}const y=f,p=m;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t},adjoint:s,copy:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},determinant:function(t){const n=t[0],e=t[1],r=t[2],o=t[3],u=t[4],i=t[5],c=t[6],a=t[7],s=t[8];return n*(s*u-i*a)+e*(-s*o+i*c)+r*(a*o-u*c)},equals:function(t,n){const e=t[0],o=t[1],u=t[2],i=t[3],c=t[4],a=t[5],s=t[6],f=t[7],l=t[8],h=n[0],d=n[1],b=n[2],g=n[3],M=n[4],m=n[5],y=n[6],p=n[7],w=n[8],I=(0,r.bn)();return Math.abs(e-h)<=I*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(o-d)<=I*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(u-b)<=I*Math.max(1,Math.abs(u),Math.abs(b))&&Math.abs(i-g)<=I*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(c-M)<=I*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(a-m)<=I*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(s-y)<=I*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(f-p)<=I*Math.max(1,Math.abs(f),Math.abs(p))&&Math.abs(l-w)<=I*Math.max(1,Math.abs(l),Math.abs(w))},exactEquals:function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)},fromMat2d:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},fromMat4:o,fromQuat:b,fromRotation:function(t,n){const e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=-e,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromScaling:function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromTranslation:function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t},identity:i,invert:a,isOrthoNormal:function(t){const n=(0,r.bn)(),e=t[0],o=t[1],u=t[2],i=t[3],c=t[4],a=t[5],s=t[6],f=t[7],l=t[8];return Math.abs(1-(e*e+i*i+s*s))<=n&&Math.abs(1-(o*o+c*c+f*f))<=n&&Math.abs(1-(u*u+a*a+l*l))<=n},mul:y,multiply:f,multiplyScalar:function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t},multiplyScalarAndAdd:function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t},normalFromMat4:M,normalFromMat4Legacy:g,projection:function(t,n,e){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/e,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},rotate:h,scale:d,scaleByVec2:function(t,n,e){const r=e[0],o=e[1];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=o*n[3],t[4]=o*n[4],t[5]=o*n[5],t},set:u,str:function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},sub:p,subtract:m,translate:l,transpose:c},Symbol.toStringTag,{value:"Module"}))},70331:function(t,n,e){e.d(n,{HQ:function(){return c},VY:function(){return a},rS:function(){return f},wY:function(){return s}});var r=e(47925),o=e(45213),u=e(8554);const i=new o.Z(r.kU),c=new o.Z(r.JL),a=new o.Z(r.mM),s=new o.Z(r.pn);function f(t){const n=l.get(t);if(n)return n;let e=i;if(t)if(t===c)e=c;else if(t===a)e=a;else{const n=t.wkid,r=t.latestWkid;if(null!=n||null!=r)(0,u.o$)(n)||(0,u.o$)(r)?e=c:((0,u.ME)(n)||(0,u.ME)(r))&&(e=a);else{const n=t.wkt2??t.wkt;if(n){const t=n.toUpperCase();t===h?e=c:t===d&&(e=a)}}}return l.set(t,e),e}const l=new Map,h=c.wkt.toUpperCase(),d=a.wkt.toUpperCase()},77773:function(t,n,e){e.d(n,{Ac:function(){return Z},BR:function(){return N},Er:function(){return x},JG:function(){return l},Kt:function(){return R},Oy:function(){return b},Qi:function(){return V},T5:function(){return S},TE:function(){return L},Ue:function(){return s},Yq:function(){return g},al:function(){return d},dZ:function(){return O},fn:function(){return E},jH:function(){return P},my:function(){return T},nF:function(){return F},nI:function(){return y},oq:function(){return D},oy:function(){return j},re:function(){return f},rx:function(){return C},st:function(){return h},tk:function(){return v},tx:function(){return z},zk:function(){return M},zu:function(){return m}});var r=e(99574),o=e(24910),u=e(82846),i=(e(73749),e(63271)),c=e(69811),a=e(22365);function s(t=q){return[t[0],t[1],t[2],t[3]]}function f(t=q[0],n=q[1],e=q[2],r=q[3]){return d(t,n,e,r,c.o6.get())}function l(t,n){return d(n[0],n[1],n[2],n[3],t)}function h(t){return t}function d(t,n,e,r,o=s()){return o[0]=t,o[1]=n,o[2]=e,o[3]=r,o}function b(t,n,e){return(0,o.c)(e,t),e[3]=n,e}function g(t,n,e){const r=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],o=Math.abs(r-1)>1e-5&&r>1e-12?1/Math.sqrt(r):1;return e[0]=n[0]*o,e[1]=n[1]*o,e[2]=n[2]*o,e[3]=-(e[0]*t[0]+e[1]*t[1]+e[2]*t[2]),e}function M(t,n,e,r=s()){const o=e[0]-n[0],u=e[1]-n[1],i=e[2]-n[2],c=t[0]-n[0],a=t[1]-n[1],f=t[2]-n[2],l=u*f-i*a,h=i*c-o*f,d=o*a-u*c,b=l*l+h*h+d*d,g=Math.abs(b-1)>1e-5&&b>1e-12?1/Math.sqrt(b):1;return r[0]=l*g,r[1]=h*g,r[2]=d*g,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function m(t,n,e,r=0,u=Math.floor(e*(1/3)),i=Math.floor(e*(2/3))){if(e<3)return!1;n(w,r);let c=u,a=!1;for(;c<e-1&&!a;)n(I,c),c++,a=!(0,o.q)(w,I);if(!a)return!1;for(c=Math.max(c,i),a=!1;c<e&&!a;)n(U,c),c++,(0,o.d)(A,w,I),(0,o.n)(A,A),(0,o.d)(_,I,U),(0,o.n)(_,_),a=!(0,o.q)(w,U)&&!(0,o.q)(I,U)&&Math.abs((0,o.e)(A,_))<p;return a?(M(w,I,U,t),!0):(0!==r||1!==u||2!==i)&&m(t,n,e,0,1,2)}function y(t,n,e=!0){const r=n.length/3;return m(t,((t,e)=>(0,o.i)(t,n[3*e+0],n[3*e+1],n[3*e+2])),e?r-1:r)}const p=.99619469809,w=(0,u.Ue)(),I=(0,u.Ue)(),U=(0,u.Ue)(),A=(0,u.Ue)(),_=(0,u.Ue)();function S(t,n,e){return n!==t&&l(t,n),t[3]=-(0,o.e)(t,e),t}function v(t,n){return n[0]=-t[0],n[1]=-t[1],n[2]=-t[2],n[3]=-t[3],n}function T(t,n,e,r){return(0,o.h)(U,n,t),g(e,U,r)}function E(t,n,e,r){return B(V(t,n,(0,o.d)(c.WM.get(),e,n),Y,r))}function N(t,n,e){return null!=n&&B(V(t,n.origin,n.direction,W,e))}function C(t,n,e){return B(V(t,n.origin,n.vector,j.NONE,e))}function O(t,n,e){return B(V(t,n.origin,n.vector,j.CLAMP,e))}function Z(t,n){return P(t,n)>=0}function D(t,n){const e=(0,o.e)(t,n.ray.direction),r=-P(t,n.ray.origin);if(r<0&&e>=0)return!1;if(e>-1e-6&&e<1e-6)return r>0;if((r<0||e<0)&&!(r<0&&e<0))return!0;const u=r/e;return e>0?u<n.c1&&(n.c1=u):u>n.c0&&(n.c0=u),n.c0<=n.c1}function x(t,n){const e=(0,o.e)(t,n.ray.direction),r=-P(t,n.ray.origin);if(e>-1e-6&&e<1e-6)return r>0;const u=r/e;return e>0?u<n.c1&&(n.c1=u):u>n.c0&&(n.c0=u),n.c0<=n.c1}function F(t,n,e){const r=(0,o.g)(c.WM.get(),t,-t[3]),u=function(t,n,e){const r=(0,o.g)(c.WM.get(),t,(0,o.e)(t,n));return(0,o.d)(e,n,r),e}(t,(0,o.d)(c.WM.get(),n,r),c.WM.get());return(0,o.f)(e,u,r),e}function z(t,n,e,r){const u=t,s=c.WM.get(),f=c.WM.get();(0,a._F)(u,s,f);const l=(0,o.d)(c.WM.get(),e,n),h=(0,i.SR)(s,l),d=(0,i.SR)(f,l),b=(0,i.SR)(u,l);return(0,o.i)(r,h,d,b)}function L(t,n){return Math.abs(P(t,n))}function P(t,n){return(0,o.e)(t,n)+t[3]}var R,k;function B(t){return t===R.INTERSECTS_INSIDE_OUT||t===R.INTERSECTS_OUTSIDE_IN}function V(t,n,e,u,i){const c=(0,o.e)(t,e),a=P(t,n);if(0===c)return a>=0?R.INSIDE:R.OUTSIDE;let s=-a/c;return u&j.CLAMP&&(s=(0,r.uZ)(s,0,1)),!(u&j.INFINITE_MIN)&&s<0||!(u&j.INFINITE_MAX)&&s>1?a>=0?R.INSIDE:R.OUTSIDE:((0,o.f)(i,n,(0,o.g)(i,e,s)),a>=0?R.INTERSECTS_INSIDE_OUT:R.INTERSECTS_OUTSIDE_IN)}(k=R||(R={}))[k.INTERSECTS_INSIDE_OUT=0]="INTERSECTS_INSIDE_OUT",k[k.INTERSECTS_OUTSIDE_IN=1]="INTERSECTS_OUTSIDE_IN",k[k.INSIDE=2]="INSIDE",k[k.OUTSIDE=3]="OUTSIDE";const q=[0,0,1,0];var j;!function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"}(j||(j={}));const Y=j.INFINITE_MIN|j.INFINITE_MAX,W=j.INFINITE_MAX},63271:function(t,n,e){e.d(n,{EU:function(){return a},SR:function(){return c},cp:function(){return s},nF:function(){return i}});var r=e(99574),o=e(24910),u=e(82846);function i(t,n,e){const r=(0,o.e)(t,n)/(0,o.e)(t,t);return(0,o.g)(e,t,r)}function c(t,n){return(0,o.e)(t,n)/(0,o.l)(t)}function a(t,n){const e=(0,o.e)(t,n)/((0,o.l)(t)*(0,o.l)(n));return-(0,r.ZF)(e)}function s(t,n,e){(0,o.n)(f,t),(0,o.n)(l,n);const u=(0,o.e)(f,l),i=(0,r.ZF)(u),c=(0,o.h)(f,f,l);return(0,o.e)(c,e)<0?2*Math.PI-i:i}const f=(0,u.Ue)(),l=(0,u.Ue)()},69811:function(t,n,e){e.d(n,{MP:function(){return b},vD:function(){return g},qW:function(){return l},WM:function(){return h},o6:function(){return d}});e(61432);var r=e(94413),o=e(30748),u=e(10934),i=e(21117),c=e(41788),a=e(82846),s=e(27583);class f{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,r.Y)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new f(c.Ue)}static createVec3f64(){return new f(a.Ue)}static createVec4f64(){return new f(s.Ue)}static createMat3f64(){return new f(o.Ue)}static createMat4f64(){return new f(u.Ue)}static createQuatf64(){return new f(i.Ue)}get test(){}}const l=f.createVec2f64(),h=f.createVec3f64(),d=f.createVec4f64(),b=(f.createMat3f64(),f.createMat4f64()),g=f.createQuatf64()},37058:function(t,n,e){e.r(n),e.d(n,{default:function(){return M}});var r=e(3480),o=e(59384),u=e(18156),i=e(21117),c=e(24910),a=e(86875),s=e(45213),f=e(30146),l=e(16786),h=e(78986);class d{transform(t){const n=this._transform(t),e=[n.points.buffer,n.rgb.buffer];null!=n.pointIdFilterMap&&e.push(n.pointIdFilterMap.buffer);for(const t of n.attributes)"buffer"in t.values&&(0,o.eP)(t.values.buffer)&&t.values.buffer!==n.rgb.buffer&&e.push(t.values.buffer);return Promise.resolve({result:n,transferList:e})}_transform(t){const n=(0,l.Ym)(t.schema,t.geometryBuffer);let e=n.length/3,o=null;const u=new Array,i=(0,l.dH)(t.primaryAttributeData,n,e);null!=t.primaryAttributeData&&i&&u.push({attributeInfo:t.primaryAttributeData.attributeInfo,values:i});const c=(0,l.dH)(t.modulationAttributeData,n,e);null!=t.modulationAttributeData&&c&&u.push({attributeInfo:t.modulationAttributeData.attributeInfo,values:c});let a=(0,l.aE)(t.rendererInfo,i,c,e);if(t.filterInfo&&t.filterInfo.length>0&&null!=t.filterAttributesData){const i=t.filterAttributesData.filter(r.pC).map((t=>{const r=(0,l.dH)(t,n,e),o={attributeInfo:t.attributeInfo,values:r};return u.push(o),o}));o=new Uint32Array(e),e=(0,l.hv)(n,a,o,t.filterInfo,i)}for(const r of t.userAttributesData){const t=(0,l.dH)(r,n,e);u.push({attributeInfo:r.attributeInfo,values:t})}3*e<a.length&&(a=new Uint8Array(a.buffer.slice(0,3*e))),function(t,n,e){if(0!==e)for(let r=0;r<n;r++)t[3*r+2]+=e}(n,e,t.elevationOffset);const f=b(n,e,h.Oo.fromData(t.obbData),s.Z.fromJSON(t.inSR),s.Z.fromJSON(t.outSR));return{obbData:t.obbData,points:f,rgb:a,attributes:u,pointIdFilterMap:o}}}function b(t,n,e,r,o){if(!(0,f.projectBuffer)(t,r,0,t,o,0,n))throw new Error("Can't reproject");const i=(0,a.d9)(e.center),s=(0,a.Ue)(),l=(0,a.Ue)(),h=(0,a.d9)(e.halfSize);(0,u.Kx)(g,e.quaternion);const d=new Float32Array(3*n);for(let e=0;e<n;e++){let n=3*e;s[0]=t[n]-i[0],s[1]=t[n+1]-i[1],s[2]=t[n+2]-i[2],(0,c.v)(l,s,g),h[0]=Math.max(h[0],Math.abs(l[0])),h[1]=Math.max(h[1],Math.abs(l[1])),h[2]=Math.max(h[2],Math.abs(l[2])),d[n++]=s[0],d[n++]=s[1],d[n]=s[2]}return e.halfSize=h,d}const g=(0,i.Ue)();function M(){return new d}},68901:function(t,n,e){e.d(n,{Es:function(){return m},W7:function(){return M},I_:function(){return d},Jx:function(){return b},qM:function(){return p}});var r=e(88194),o=e(28947),u=e(96711),i=e(59384);var c=e(78395),a=e(52061);const s=()=>u.Z.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function f(t,n,e){let o="",u=0;for(;u<e;){const i=t[n+u];if(i<128)o+=String.fromCharCode(i),u++;else if(i>=192&&i<224){if(u+1>=e)throw new r.Z("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");const c=(31&i)<<6|63&t[n+u+1];o+=String.fromCharCode(c),u+=2}else if(i>=224&&i<240){if(u+2>=e)throw new r.Z("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const c=(15&i)<<12|(63&t[n+u+1])<<6|63&t[n+u+2];o+=String.fromCharCode(c),u+=3}else{if(!(i>=240&&i<248))throw new r.Z("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");{if(u+3>=e)throw new r.Z("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const c=(7&i)<<18|(63&t[n+u+1])<<12|(63&t[n+u+2])<<6|63&t[n+u+3];if(c>=65536){const t=55296+(c-65536>>10),n=56320+(1023&c);o+=String.fromCharCode(t,n)}else o+=String.fromCharCode(c);u+=4}}}return o}function l(t,n){const e={byteOffset:0,byteCount:0,fields:Object.create(null)};let r=0;for(let o=0;o<n.length;o++){const u=n[o],i=u.valueType||u.type,c=I[i];e.fields[u.property]=c(t,r),r+=w[i].BYTES_PER_ELEMENT}return e.byteCount=r,e}function h(t,n,e){const o=[];let u,i,c=0;for(i=0;i<t;i+=1){if(u=n[i],u>0){if(o.push(f(e,c,u-1)),0!==e[c+u-1])throw new r.Z("string-array-error","Invalid string array: missing null termination.")}else o.push(null);c+=u}return o}function d(t,n){return new(0,w[n.valueType])(t,n.byteOffset,n.count*n.valuesPerElement)}function b(t,n){if(!t)return null;const e=t[n];return(0,i.z3)(t)?e===i.EK?null:e:(0,i.Hx)(t)?e===i.aS?null:e:e!=e?null:e}function g(t,n,e){if(n!==t&&s().error(`Invalid ${e} buffer size\n expected: ${t}, actual: ${n})`),n<t)throw new r.Z("buffer-too-small","Binary buffer is too small",{expectedSize:t,actualSize:n})}function M(t,n){const e=l(t,n&&n.header);let r=e.byteCount;const o={isDraco:!1,header:e,byteOffset:e.byteCount,byteCount:0,vertexAttributes:{}},u=e.fields,i=null!=u.vertexCount?u.vertexCount:u.count;for(const t of n.ordering){if(!n.vertexAttributes[t])continue;const e={...n.vertexAttributes[t],byteOffset:r,count:i},u=y[t]||"_"+t;o.vertexAttributes[u]=e,r+=A(e.valueType)*e.valuesPerElement*i}const c=u.faceCount;if(n.faces&&c){o.faces={};for(const t of n.ordering){if(!n.faces[t])continue;const e={...n.faces[t],byteOffset:r,count:c};o.faces[t]=e,r+=A(e.valueType)*e.valuesPerElement*c}}const a=u.featureCount;if(n.featureAttributes&&n.featureAttributeOrder&&a){o.featureAttributes={};for(const t of n.featureAttributeOrder){if(!n.featureAttributes[t])continue;const e={...n.featureAttributes[t],byteOffset:r,count:a};o.featureAttributes[t]=e,r+=("UInt64"===e.valueType?8:A(e.valueType))*e.valuesPerElement*a}}return g(r,t.byteLength,"geometry"),o.byteCount=r-o.byteOffset,o}function m(t,n){return t&&t.compressedAttributes&&"draco"===t.compressedAttributes.encoding?function(t){const n={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const e of t)switch(e){case"position":break;case"normal":n.normal=!0;break;case"uv0":n.uv0=!0;break;case"color":n.color=!0;break;case"uv-region":n.uvRegion=!0;break;case"feature-index":n.featureIndex=!0}return n}(t.compressedAttributes.attributes):t?function(t){return{isDraco:!1,isLegacy:!1,color:null!=t.color,normal:null!=t.normal,uv0:null!=t.uv0,uvRegion:null!=t.uvRegion,featureIndex:null!=t.faceRange&&null!=t.featureId}}(t):function(t){const n={isDraco:!1,isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const e of t.ordering)if(t.vertexAttributes[e])switch(e){case"position":break;case"normal":n.normal=!0;break;case"color":n.color=!0;break;case"uv0":n.uv0=!0;break;case"region":n.uvRegion=!0}return t.featureAttributes&&t.featureAttributeOrder&&(n.featureIndex=!0),n}(n)}const y={position:a.T.POSITION,normal:a.T.NORMAL,color:a.T.COLOR,uv0:a.T.UV0,region:a.T.UVREGION};function p(t,n,e,u=!1){if("lepcc-rgb"===t.encoding)return u?(0,c.IT)(n):function(t){return Array.isArray(t)?t.length<i.c8?t:new Uint8Array(t):t.length<i.c8?Array.from(t):t}((0,c.IT)(n));if("lepcc-intensity"===t.encoding)return u?(0,c.ti)(n):function(t){return Array.isArray(t)?t.length<i.c8?t:new Uint16Array(t):t.length<i.c8?Array.from(t):t}((0,c.ti)(n));if(null!=t.encoding&&""!==t.encoding)throw new r.Z("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");t["attributeByteCounts "]&&!t.attributeByteCounts&&(s().warn("Warning: Trailing space in 'attributeByteCounts '."),t.attributeByteCounts=t["attributeByteCounts "]),"ObjectIds"===t.ordering[0]&&t.hasOwnProperty("objectIds")&&(s().warn("Warning: Case error in objectIds"),t.ordering[0]="objectIds");const a=function(t,n,e){const u=null!=n.header?l(t,n.header):{byteOffset:0,byteCount:0,fields:{count:e}},i={header:u,byteOffset:u.byteCount,byteCount:0,entries:Object.create(null)};let c=u.byteCount;for(let t=0;t<n.ordering.length;t++){const e=n.ordering[t],a=(0,o.d9)(n[e]);if(a.count=u.fields.count??0,"String"===a.valueType){if(a.byteOffset=c,a.byteCount=u.fields[e+"ByteCount"],"UTF-8"!==a.encoding)throw new r.Z("unsupported-encoding","Unsupported String encoding.",{encoding:a.encoding});if(a.timeEncoding&&"ECMA_ISO8601"!==a.timeEncoding)throw new r.Z("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:a.timeEncoding})}else{if(!U(a.valueType))throw new r.Z("unsupported-value-type","Unsupported binary valueType",{valueType:a.valueType});{const t=A(a.valueType);c+=c%t!=0?t-c%t:0,a.byteOffset=c,a.byteCount=t*a.valuesPerElement*a.count}}c+=a.byteCount??0,i.entries[e]=a}return i.byteCount=c-i.byteOffset,i}(n,t,e);g(a.byteOffset+a.byteCount,n.byteLength,"attribute");const f=a.entries.attributeValues||a.entries.objectIds;if(f){if("String"===f.valueType){const t=a.entries.attributeByteCounts,e=d(n,t),r=function(t,n){return new Uint8Array(t,n.byteOffset,n.byteCount)}(n,f);return f.timeEncoding?function(t,n,e){return h(t,n,e).map((t=>{const n=t?Date.parse(t):null;return null==n||Number.isNaN(n)?null:n}))}(t.count,e,r):h(t.count,e,r)}return u?d(n,f):function(t,n){const e=d(t,n);if(e.length>=i.c8)return e;const r=new Array;return e.forEach(((t,n)=>r.push(b(e,n)))),r}(n,f)}throw new r.Z("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}const w={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},I={Float32:(t,n)=>new DataView(t,0).getFloat32(n,!0),Float64:(t,n)=>new DataView(t,0).getFloat64(n,!0),UInt8:(t,n)=>new DataView(t,0).getUint8(n),Int8:(t,n)=>new DataView(t,0).getInt8(n),UInt16:(t,n)=>new DataView(t,0).getUint16(n,!0),Int16:(t,n)=>new DataView(t,0).getInt16(n,!0),UInt32:(t,n)=>new DataView(t,0).getUint32(n,!0),Int32:(t,n)=>new DataView(t,0).getInt32(n,!0)};function U(t){return w.hasOwnProperty(t)}function A(t){return U(t)?w[t].BYTES_PER_ELEMENT:0}},78395:function(t,n,e){e.d(n,{Gi:function(){return v},IT:function(){return L},ti:function(){return W}});var r=e(88194);const o=!0,u=0,i=10,c=10,a=12,s=16;function f(t,n,e){return{identifier:String.fromCharCode.apply(null,new Uint8Array(t,e+u,i)),version:n.getUint16(e+c,o),checksum:n.getUint32(e+a,o)}}const l=0,h=4,d=8,b=16,g=24,M=32,m=40,y=48,p=56,w=64,I=72,U=80,A=84,_=88;function S(t,n){return{sizeLo:t.getUint32(n+l,o),sizeHi:t.getUint32(n+h,o),minX:t.getFloat64(n+d,o),minY:t.getFloat64(n+b,o),minZ:t.getFloat64(n+g,o),maxX:t.getFloat64(n+M,o),maxY:t.getFloat64(n+m,o),maxZ:t.getFloat64(n+y,o),errorX:t.getFloat64(n+p,o),errorY:t.getFloat64(n+w,o),errorZ:t.getFloat64(n+I,o),count:t.getUint32(n+U,o),reserved:t.getUint32(n+A,o)}}function v(t){const n=new DataView(t,0);let e=0;const{identifier:o,version:u}=f(t,n,e);if(e+=s,"LEPCC     "!==o)throw new r.Z("lepcc-decode-error","Bad identifier");if(u>1)throw new r.Z("lepcc-decode-error","Unknown version");const i=S(n,e);if(e+=_,i.sizeHi*2**32+i.sizeLo!==t.byteLength)throw new r.Z("lepcc-decode-error","Bad size");const c=new Float64Array(3*i.count),a=[],l=[],h=[],d=[];if(e=T(t,e,a),e=T(t,e,l),e=T(t,e,h),e=T(t,e,d),e!==t.byteLength)throw new r.Z("lepcc-decode-error","Bad length");let b=0,g=0;for(let t=0;t<a.length;t++){g+=a[t];let n=0;for(let e=0;e<l[t];e++){n+=h[b];const t=d[b];c[3*b]=Math.min(i.maxX,i.minX+2*i.errorX*n),c[3*b+1]=Math.min(i.maxY,i.minY+2*i.errorY*g),c[3*b+2]=Math.min(i.maxZ,i.minZ+2*i.errorZ*t),b++}}return{errorX:i.errorX,errorY:i.errorY,errorZ:i.errorZ,result:c}}function T(t,n,e){const r=[];n=E(t,n,r);const o=[];for(let u=0;u<r.length;u++){o.length=0,n=E(t,n,o);for(let t=0;t<o.length;t++)e.push(o[t]+r[u])}return n}function E(t,n,e){const u=new DataView(t,n),i=u.getUint8(0),c=31&i,a=!!(32&i),s=(192&i)>>6;let f=0;if(0===s)f=u.getUint32(1,o),n+=5;else if(1===s)f=u.getUint16(1,o),n+=3;else{if(2!==s)throw new r.Z("lepcc-decode-error","Bad count type");f=u.getUint8(1),n+=2}if(a)throw new r.Z("lepcc-decode-error","LUT not implemented");const l=Math.ceil(f*c/8),h=new Uint8Array(t,n,l);let d=0,b=0,g=0;const M=-1>>>32-c;for(let t=0;t<f;t++){for(;b<c;)d|=h[g]<<b,b+=8,g+=1;e[t]=d&M,d>>>=c,b-=c,b+c>32&&(d|=h[g-1]>>8-b)}return n+g}const N=0,C=4,O=8,Z=12,D=14,x=15,F=16;function z(t,n){return{sizeLo:t.getUint32(n+N,o),sizeHi:t.getUint32(n+C,o),count:t.getUint32(n+O,o),colorMapCount:t.getUint16(n+Z,o),lookupMethod:t.getUint8(n+D),compressionMethod:t.getUint8(n+x)}}function L(t){const n=new DataView(t,0);let e=0;const{identifier:o,version:u}=f(t,n,e);if(e+=s,"ClusterRGB"!==o)throw new r.Z("lepcc-decode-error","Bad identifier");if(u>1)throw new r.Z("lepcc-decode-error","Unknown version");const i=z(n,e);if(e+=F,i.sizeHi*2**32+i.sizeLo!==t.byteLength)throw new r.Z("lepcc-decode-error","Bad size");if((2===i.lookupMethod||1===i.lookupMethod)&&0===i.compressionMethod){if(3*i.colorMapCount+i.count+e!==t.byteLength||i.colorMapCount>256)throw new r.Z("lepcc-decode-error","Bad count");const n=new Uint8Array(t,e,3*i.colorMapCount),o=new Uint8Array(t,e+3*i.colorMapCount,i.count),u=new Uint8Array(3*i.count);for(let t=0;t<i.count;t++){const e=o[t];u[3*t]=n[3*e],u[3*t+1]=n[3*e+1],u[3*t+2]=n[3*e+2]}return u}if(0===i.lookupMethod&&0===i.compressionMethod){if(3*i.count+e!==t.byteLength||0!==i.colorMapCount)throw new r.Z("lepcc-decode-error","Bad count");return new Uint8Array(t,e).slice()}if(i.lookupMethod<=2&&1===i.compressionMethod){if(e+3!==t.byteLength||1!==i.colorMapCount)throw new r.Z("lepcc-decode-error","Bad count");const o=n.getUint8(e),u=n.getUint8(e+1),c=n.getUint8(e+2),a=new Uint8Array(3*i.count);for(let t=0;t<i.count;t++)a[3*t]=o,a[3*t+1]=u,a[3*t+2]=c;return a}throw new r.Z("lepcc-decode-error","Bad method "+i.lookupMethod+","+i.compressionMethod)}const P=0,R=4,k=8,B=12,V=14,q=15,j=16;function Y(t,n){return{sizeLo:t.getUint32(n+P,o),sizeHi:t.getUint32(n+R,o),count:t.getUint32(n+k,o),scaleFactor:t.getUint16(n+B,o),bitsPerPoint:t.getUint8(n+V),reserved:t.getUint8(n+q)}}function W(t){const n=new DataView(t,0);let e=0;const{identifier:o,version:u}=f(t,n,e);if(e+=s,"Intensity "!==o)throw new r.Z("lepcc-decode-error","Bad identifier");if(u>1)throw new r.Z("lepcc-decode-error","Unknown version");const i=Y(n,e);if(e+=j,i.sizeHi*2**32+i.sizeLo!==t.byteLength)throw new r.Z("lepcc-decode-error","Bad size");const c=new Uint16Array(i.count);if(8===i.bitsPerPoint){if(i.count+e!==t.byteLength)throw new r.Z("lepcc-decode-error","Bad size");const n=new Uint8Array(t,e,i.count);for(let t=0;t<i.count;t++)c[t]=n[t]*i.scaleFactor}else if(16===i.bitsPerPoint){if(2*i.count+e!==t.byteLength)throw new r.Z("lepcc-decode-error","Bad size");const n=new Uint16Array(t,e,i.count);for(let t=0;t<i.count;t++)c[t]=n[t]*i.scaleFactor}else{const n=[];if(E(t,e,n)!==t.byteLength)throw new r.Z("lepcc-decode-error","Bad size");for(let t=0;t<i.count;t++)c[t]=n[t]*i.scaleFactor}return c}},22365:function(t,n,e){e.d(n,{$U:function(){return M},EU:function(){return d},T:function(){return a},ZA:function(){return l},_F:function(){return s},bX:function(){return f},ek:function(){return h},mw:function(){return c},pG:function(){return g},u1:function(){return i},uV:function(){return b}});var r=e(99574),o=e(24910),u=e(82846);function i(t){const n=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],e=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],r=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(n,e,r))}function c(t,n){const e=Math.sqrt(n[0]*n[0]+n[4]*n[4]+n[8]*n[8]),r=Math.sqrt(n[1]*n[1]+n[5]*n[5]+n[9]*n[9]),u=Math.sqrt(n[2]*n[2]+n[6]*n[6]+n[10]*n[10]);return(0,o.i)(t,e,r,u),t}function a(t,n,e){e=e||t;const r=(0,o.e)(t,n);(0,o.i)(e,t[0]-r*n[0],t[1]-r*n[1],t[2]-r*n[2]),(0,o.n)(e,e)}function s(t,n,e){Math.abs(t[0])>Math.abs(t[1])?(0,o.i)(n,0,1,0):(0,o.i)(n,1,0,0),(0,o.h)(e,t,n),(0,o.h)(n,e,t),(0,o.n)(e,e),(0,o.n)(n,n)}function f(t,n,e,r,o,u){const i=t+(n-t)*o;return i+(e+(r-e)*o-i)*u}function l(t,n,e,r=(0,u.Ue)()){const i=(0,o.l)(t),c=(0,o.l)(n),a=(0,o.e)(t,n)/(i*c);if(a<.9999999999999999){const u=Math.acos(a),s=((1-e)*i+e*c)/Math.sin(u),f=s/i*Math.sin((1-e)*u),l=s/c*Math.sin(e*u);return(0,o.g)(w,t,f),(0,o.g)(I,n,l),(0,o.f)(r,w,I)}return(0,o.m)(r,t,n,e)}function h(t,n,e,r=(0,u.Ue)(),i=(0,u.Ue)()){const c=(0,o.l)(t),a=(0,o.l)(n),s=(0,o.e)(t,n)/(c*a);if(s<.9999999999999999){const u=Math.acos(s),f=Math.sin(u),l=Math.sin(e*u),h=Math.sin((1-e)*u),d=(1-e)*c+e*a;{const e=d/f,u=e/a*l;(0,o.g)(w,t,e/c*h),(0,o.g)(I,n,u),(0,o.f)(r,w,I)}{const r=1/c*(-Math.cos((1-e)*u)*u*d+h*(-c+a));(0,o.g)(w,t,r);const s=1/a*(Math.cos(e*u)*u*d+l*(-c+a));(0,o.g)(I,n,s),(0,o.f)(i,w,I),(0,o.g)(i,i,1/f)}return i}return(0,o.m)(r,t,n,e),(0,o.d)(i,n,t),(0,o.n)(i,i),i}function d(t,n,e){t=(0,o.n)(w,t),n=(0,o.n)(I,n);const u=(0,r.ZF)((0,o.e)(t,n));if(e){const r=(0,o.h)(p,t,n);if((0,o.e)(r,e)<0)return-u}return u}function b(t){const n=t.length;return e=>{if(e<=t[0][0])return t[0][1];if(e>=t[n-1][0])return t[n-1][1];let r=1;for(;e>t[r][0];)r++;const o=t[r-1][0],u=t[r][0],i=(u-e)/(u-o);return i*t[r-1][1]+(1-i)*t[r][1]}}function g(t,n,e,r){(0,o.d)(m,n,t),(0,o.d)(y,e,t),(0,o.h)(r,m,y),(0,o.n)(r,r),r[3]=-(0,o.e)(t,r)}function M(t,n){if((0,o.i)(n,0,0,0),t.length>0){for(let e=0;e<t.length;++e)(0,o.f)(n,n,t[e]);(0,o.g)(n,n,1/t.length)}}const m=(0,u.Ue)(),y=(0,u.Ue)(),p=(0,u.Ue)(),w=(0,u.Ue)(),I=(0,u.Ue)()}}]);