"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[98733],{3752:function(e,t,i){i.d(t,{M:function(){return s}});var l=i(73440),n=i(17155),r=(i(61432),i(96711),i(83850),i(48023));const s=e=>{let t=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const e={minScale:this.minScale,maxScale:this.maxScale},t=this.parent;t&&"effectiveScaleRange"in t&&function(e,t){e.minScale=e.minScale>0?t.minScale>0?Math.min(e.minScale,t.minScale):e.minScale:t.minScale,e.maxScale=e.maxScale>0?t.maxScale>0?Math.max(e.maxScale,t.maxScale):e.maxScale:t.maxScale}(e,t.effectiveScaleRange);const i=this._get("effectiveScaleRange");return i&&i.minScale===e.minScale&&i.maxScale===e.maxScale?i:e}};return(0,l._)([(0,n.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"minScale",void 0),(0,l._)([(0,n.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],t.prototype,"maxScale",void 0),(0,l._)([(0,n.Cb)({readOnly:!0})],t.prototype,"effectiveScaleRange",null),t=(0,l._)([(0,r.j)("esri.layers.mixins.ScaleRangeLayer")],t),t}},89428:function(e,t,i){i.d(t,{Z:function(){return C}});var l,n=i(73440),r=(i(61432),i(41773)),s=i(63255),a=i(28947),o=i(96094),c=i(17155),u=(i(96711),i(1194)),p=i(48023),d=i(29884),b=i(18011),m=i(48837),h=i(75428),f=i(9350),y=i(22145),v=i(68578);const g=new r.X({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function w(e,t,i){return{enabled:!(0,h.A2)(i?.layer)}}function x(e){return!e||"service"!==e.origin&&!("map-image"===e.layer?.type)}function S(e){return!!function(e){return"map-image"===e?.type}(e)&&!!e.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}let C=class extends s.Z{static{l=this}static evaluateWhere(e,t){const i=(e,t,i)=>{switch(t){case"=":return e==i;case"<>":return e!=i;case">":return e>i;case">=":return e>=i;case"<":return e<i;case"<=":return e<=i}return!1};try{if(null==e)return!0;const l=e.split(" ");if(3===l.length)return i(t[l[0]],l[1],l[2]);if(7===l.length){const e=i(t[l[0]],l[1],l[2]),n=l[3],r=i(t[l[4]],l[5],l[6]);switch(n){case"AND":return e&&r;case"OR":return e||r}}return!1}catch(e){}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=f.Rz,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,t){const i=t.labelExpressionInfo;if(!i||!i.value&&!i.expression)return e}writeLabelExpression(e,t,i){if(this.labelExpressionInfo)if(null!=this.labelExpressionInfo.value)e=(0,m.z7)(this.labelExpressionInfo.value);else if(null!=this.labelExpressionInfo.expression){const t=(0,m.el)(this.labelExpressionInfo.expression);t&&(e="["+t+"]")}null!=e&&(t[i]=e)}writeLabelExpressionInfo(e,t,i,l){if(null==e&&null!=this.labelExpression&&x(l))e=new b.Z({expression:this.getLabelExpressionArcade()});else if(!e)return;const n=e.toJSON(l);n.expression&&(t[i]=n)}writeMaxScale(e,t){(e||this.minScale)&&(t.maxScale=e)}writeMinScale(e,t){(e||this.maxScale)&&(t.minScale=e)}getLabelExpression(){return(0,m.hV)(this)}getLabelExpressionArcade(){return(0,m.YI)(this)}getLabelExpressionSingleField(){return(0,m.UO)(this)}hash(){return JSON.stringify(this)}clone(){return new l({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:(0,a.d9)(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:(0,a.d9)(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}};(0,n._)([(0,c.Cb)({type:String,json:{write:!0}})],C.prototype,"name",void 0),(0,n._)([(0,c.Cb)({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:w}}}}})],C.prototype,"allowOverrun",void 0),(0,n._)([(0,c.Cb)({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:w}}}}})],C.prototype,"deconflictionStrategy",void 0),(0,n._)([(0,c.Cb)({type:String,json:{write:{overridePolicy(e,t,i){return this.labelExpressionInfo&&"service"===i?.origin&&S(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],C.prototype,"labelExpression",void 0),(0,n._)([(0,u.r)("labelExpression")],C.prototype,"readLabelExpression",null),(0,n._)([(0,d.c)("labelExpression")],C.prototype,"writeLabelExpression",null),(0,n._)([(0,c.Cb)({type:b.Z,json:{write:{overridePolicy:(e,t,i)=>function(e){return x(e)||S(e?.layer)}(i)?{allowNull:!0}:{enabled:!1}}}})],C.prototype,"labelExpressionInfo",void 0),(0,n._)([(0,d.c)("labelExpressionInfo")],C.prototype,"writeLabelExpressionInfo",null),(0,n._)([(0,c.Cb)({type:g.apiValues,json:{type:g.jsonValues,read:g.read,write:g.write}})],C.prototype,"labelPlacement",void 0),(0,n._)([(0,c.Cb)({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],C.prototype,"labelPosition",void 0),(0,n._)([(0,c.Cb)({type:Number})],C.prototype,"maxScale",void 0),(0,n._)([(0,d.c)("maxScale")],C.prototype,"writeMaxScale",null),(0,n._)([(0,c.Cb)({type:Number})],C.prototype,"minScale",void 0),(0,n._)([(0,d.c)("minScale")],C.prototype,"writeMinScale",null),(0,n._)([(0,c.Cb)({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:w}}}}})],C.prototype,"repeatLabel",void 0),(0,n._)([(0,c.Cb)({type:Number,cast:o.t_,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:w}}}}})],C.prototype,"repeatLabelDistance",void 0),(0,n._)([(0,c.Cb)({types:v.yK,json:{origins:{"web-scene":{types:v.S6,write:y.vX,default:null}},write:y.vX,default:null}})],C.prototype,"symbol",void 0),(0,n._)([(0,c.Cb)({type:Boolean,json:{write:!0}})],C.prototype,"useCodedValues",void 0),(0,n._)([(0,c.Cb)({type:String,json:{write:!0}})],C.prototype,"where",void 0),C=l=(0,n._)([(0,p.j)("esri.layers.support.LabelClass")],C)},18011:function(e,t,i){i.d(t,{Z:function(){return p}});var l,n=i(73440),r=i(63255),s=i(17155),a=(i(61432),i(96711),i(83850),i(1194)),o=i(48023),c=i(29884),u=i(48837);let p=class extends r.Z{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}static{l=this}readExpression(e,t){return t.value?(0,u.dI)(t.value):e}writeExpression(e,t,i){null!=this.value&&(e=(0,u.dI)(this.value)),null!=e&&(t[i]=e)}clone(){return new l({expression:this.expression,title:this.title,value:this.value})}};(0,n._)([(0,s.Cb)({type:String,json:{write:{writerEnsuresNonNull:!0}}})],p.prototype,"expression",void 0),(0,n._)([(0,a.r)("expression",["expression","value"])],p.prototype,"readExpression",null),(0,n._)([(0,c.c)("expression")],p.prototype,"writeExpression",null),(0,n._)([(0,s.Cb)({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],p.prototype,"title",void 0),(0,n._)([(0,s.Cb)({json:{read:!1,write:!1}})],p.prototype,"value",void 0),p=l=(0,n._)([(0,o.j)("esri.layers.support.LabelExpressionInfo")],p)},80862:function(e,t,i){i.d(t,{a:function(){return p},r:function(){return o}});var l=i(88194),n=i(96711),r=i(89428);const s=()=>n.Z.getLogger("esri.layers.support.labelingInfo"),a=/\[([^[\]]+)\]/gi;function o(e,t,i){return e?e.map((e=>{const l=new r.Z;if(l.read(e,i),l.labelExpression){const e=t.fields||t.layerDefinition?.fields||this.fields;l.labelExpression=l.labelExpression.replaceAll(a,((t,i)=>`[${function(e,t){if(!t)return e;const i=e.toLowerCase();for(let e=0;e<t.length;e++){const l=t[e].name;if(l.toLowerCase()===i)return l}return e}(i,e)}]`))}return l})):null}const c=["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],u={esriGeometryPoint:c,esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:c,esriGeometryEnvelope:null};function p(e,t){const i=[];for(const n of e){const e=n.labelPlacement,r=u[t];if(!n.symbol)return s().warn("No ILabelClass symbol specified."),[];if(!r)return s().error(new l.Z("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${t}' is not supported`)),[];if(r.includes(e))i.push(n);else{const l=r[0];e&&s().warn(`Found invalid label placement type ${e} for ${t}. Defaulting to ${l}`);const a=n.clone();a.labelPlacement=l,i.push(a)}}return i}},22225:function(e,t,i){i.d(t,{Z:function(){return B}});var l,n=i(73440),r=i(41773),s=i(28947),a=i(96711),o=i(17155),c=i(90775),u=i(79775),p=i(1194),d=i(48023),b=i(29884),m=i(95226),h=i(76554),f=i(69258),y=i(23298),v=i(58968),g=i(31186),w=i(29032),x=i(3411),S=i(68578);const C="percent-of-total",I="field",E=new r.X({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:C,esriNormalizeByField:I}),_=(0,m.se)(v.Z);let B=l=class extends((0,y.W)(f.Z)){constructor(e){super(e),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(e,t,i){if(!Array.isArray(e))return;let l=t.minValue;return e.map((e=>{const t=new v.Z;return t.read(e,i),null==t.minValue&&(t.minValue=l),null==t.maxValue&&(t.maxValue=t.minValue),l=t.maxValue,t}))}writeClassBreakInfos(e,t,i,l){const n=e.map((e=>e.write({},l)));this._areClassBreaksConsecutive()&&n.forEach((e=>delete e.classMinValue)),t[i]=n}castField(e){return null==e?e:"function"==typeof e?(a.Z.getLogger(this).error(".field: field must be a string value"),null):(0,m.Zs)(e)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,i=null!=this.normalizationTotal;return t||i?(e=t&&I||i&&C||null,t&&i&&a.Z.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==I&&e!==C||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}addClassBreakInfo(e,t,i){let l=null;l="number"==typeof e?new v.Z({minValue:e,maxValue:t,symbol:(0,S.se)(i)}):_((0,s.d9)(e)),this.classBreakInfos.push(l),1===this.classBreakInfos.length&&this.notifyChange("minValue")}removeClassBreakInfo(e,t){const i=this.classBreakInfos.length;for(let l=0;l<i;l++){const i=[this.classBreakInfos[l].minValue,this.classBreakInfos[l].maxValue];if(i[0]===e&&i[1]===t){this.classBreakInfos.splice(l,1);break}}}getBreakIndex(e,t){return this.valueExpression&&null==t?.arcade&&a.Z.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(e,t):this._getBreakIndexForField(e)}async getClassBreakInfo(e,t){let i=t;this.valueExpression&&null==t?.arcade&&(i={...i,arcade:await(0,x.L)()});const l=this.getBreakIndex(e,i);return-1!==l?this.classBreakInfos[l]:null}getSymbol(e,t){if(this.valueExpression&&null==t?.arcade)return void a.Z.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(e,t);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(e,t){let i=t;if(this.valueExpression&&null==t?.arcade){const e=await(0,x.L)(),{arcadeUtils:t}=e;t.hasGeometryOperations(this.valueExpression)&&await t.enableGeometryOperations(),i={...i,arcade:e}}const l=this.getBreakIndex(e,i);return l>-1?this.classBreakInfos[l].symbol:this.defaultSymbol}get symbols(){const e=[];return this.classBreakInfos.forEach((t=>{t.symbol&&e.push(t.symbol)})),this.defaultSymbol&&e.push(this.defaultSymbol),e}getAttributeHash(){return this.visualVariables?.reduce(((e,t)=>e+t.getAttributeHash()),"")??""}getMeshHash(){const e=JSON.stringify(this.backgroundFillSymbol),t=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${e}.${t}.${this.classBreakInfos.reduce(((e,t)=>e+t.getMeshHash()),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new l({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:(0,s.d9)(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:(0,s.d9)(this.visualVariables),legendOptions:(0,s.d9)(this.legendOptions),authoringInfo:(0,s.d9)(this.authoringInfo)})}async collectRequiredFields(e,t){const i=[this.collectVVRequiredFields(e,t),this.collectSymbolFields(e,t)];await Promise.all(i)}async collectSymbolFields(e,t){const i=[...this.symbols.map((i=>i.collectRequiredFields(e,t))),(0,h.io)(e,t,this.valueExpression)];(0,h.AB)(e,t,this.field),(0,h.AB)(e,t,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(e,t){const{viewingMode:i,scale:l,spatialReference:n,arcade:r,timeZone:s}=t??{},{valueExpression:a}=this;let o=this._compiledValueExpression.valueExpression===a?this._compiledValueExpression.compiledFunction:null;const c=r.arcadeUtils;if(!o){const e=c.createSyntaxTree(a);o=c.createFunction(e),this._compiledValueExpression.compiledFunction=o}this._compiledValueExpression.valueExpression=a;const u=c.executeFunction(o,c.createExecContext(e,c.getViewInfo({viewingMode:i,scale:l,spatialReference:n}),s));return this._getBreakIndexfromInfos(u)}_getBreakIndexForField(e){const t=this.field,i=e.attributes,l=this.normalizationType;let n=parseFloat(i[t]);if(l){const e=this.normalizationTotal,t=parseFloat(this.normalizationField?i[this.normalizationField]:void 0);if("log"===l)n=Math.log(n)*Math.LOG10E;else if(l!==C||null==e||isNaN(e)){if(l===I&&!isNaN(t)){if(isNaN(n)||isNaN(t))return-1;n/=t}}else n=n/e*100}return this._getBreakIndexfromInfos(n)}_getBreakIndexfromInfos(e){const t=this.isMaxInclusive;if(null!=e&&"number"==typeof e&&!isNaN(e))for(let i=0;i<this.classBreakInfos.length;i++){const l=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(l[0]<=e&&(t?e<=l[1]:e<l[1]))return i}return-1}_areClassBreaksConsecutive(){const e=this.classBreakInfos,t=e.length;for(let i=1;i<t;i++)if(e[i-1].maxValue!==e[i].minValue)return!1;return!0}};(0,n._)([(0,o.Cb)(g.KK)],B.prototype,"backgroundFillSymbol",void 0),(0,n._)([(0,o.Cb)({type:[v.Z],json:{write:{isRequired:!0}}})],B.prototype,"classBreakInfos",void 0),(0,n._)([(0,p.r)("classBreakInfos")],B.prototype,"readClassBreakInfos",null),(0,n._)([(0,b.c)("classBreakInfos")],B.prototype,"writeClassBreakInfos",null),(0,n._)([(0,o.Cb)({type:String,json:{write:!0}})],B.prototype,"defaultLabel",void 0),(0,n._)([(0,o.Cb)(g.Gn)],B.prototype,"defaultSymbol",void 0),(0,n._)([(0,o.Cb)({type:String,json:{write:!0}})],B.prototype,"field",void 0),(0,n._)([(0,c.p)("field")],B.prototype,"castField",null),(0,n._)([(0,o.Cb)({type:Boolean})],B.prototype,"isMaxInclusive",void 0),(0,n._)([(0,o.Cb)({type:w.Z,json:{write:!0}})],B.prototype,"legendOptions",void 0),(0,n._)([(0,o.Cb)({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return 0!==this.classBreakInfos.length&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],B.prototype,"minValue",null),(0,n._)([(0,o.Cb)({type:String,json:{write:!0}})],B.prototype,"normalizationField",void 0),(0,n._)([(0,o.Cb)({type:Number,json:{write:!0}})],B.prototype,"normalizationTotal",void 0),(0,n._)([(0,o.Cb)({type:E.apiValues,value:null,json:{type:E.jsonValues,read:E.read,write:E.write}})],B.prototype,"normalizationType",null),(0,n._)([(0,u.J)({classBreaks:"class-breaks"})],B.prototype,"type",void 0),(0,n._)([(0,o.Cb)({type:String,json:{write:!0}})],B.prototype,"valueExpression",void 0),(0,n._)([(0,o.Cb)({type:String,json:{write:!0}})],B.prototype,"valueExpressionTitle",void 0),B=l=(0,n._)([(0,d.j)("esri.renderers.ClassBreaksRenderer")],B)},58968:function(e,t,i){i.d(t,{Z:function(){return c}});var l,n=i(73440),r=i(63255),s=i(17155),a=(i(61432),i(96711),i(83850),i(48023)),o=i(31186);let c=l=class extends r.Z{constructor(e){super(e),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new l({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?.clone()??null})}getMeshHash(){const e=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${e}`}};(0,n._)([(0,s.Cb)({type:String,json:{write:!0}})],c.prototype,"description",void 0),(0,n._)([(0,s.Cb)({type:String,json:{write:!0}})],c.prototype,"label",void 0),(0,n._)([(0,s.Cb)({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],c.prototype,"minValue",void 0),(0,n._)([(0,s.Cb)({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],c.prototype,"maxValue",void 0),(0,n._)([(0,s.Cb)(o.EW)],c.prototype,"symbol",void 0),c=l=(0,n._)([(0,a.j)("esri.renderers.support.ClassBreakInfo")],c)},99382:function(e,t,i){i.d(t,{eZ:function(){return c}});var l=i(997),n=i(76554),r=i(45497),s=(i(48864),i(62905),i(80730),i(92628)),a=(i(40062),i(22271),i(17956),i(10677),i(60415)),o=i(79074);function c({displayField:e,editFieldsInfo:t,fields:i,objectIdField:a,title:o},c){if(!i)return null;const u=d({editFieldsInfo:t,fields:i,objectIdField:a},c);if(!u.length)return null;const p=function(e){const t=(0,n.O5)(e),{titleBase:i}=e;return t?`${i}: {${t.trim()}}`:i??""}({titleBase:o,fields:i,displayField:e}),b=[new s.Z,new r.Z];return new l.Z({title:p,content:b,fieldInfos:u})}const u=(e,t)=>t.visibleFieldNames?t.visibleFieldNames.has(e.name):(0,n.Fv)(e,t);function p(e,t){return"oid"===e.type?-1:"oid"===t.type?1:m(e)?-1:m(t)?1:(e.alias||e.name).toLocaleLowerCase().localeCompare((t.alias||t.name).toLocaleLowerCase())}function d(e,t){const i=t?.visibleFieldNames;return function({fields:e,ignoreFieldTypes:t,sortDisabled:i}){const l=e;return t&&(e=e.filter((e=>!t.includes(e.type)))),e===l&&(e=e.slice()),!0!==i&&e.sort(p),e}({fields:e.fields??[],ignoreFieldTypes:t?.ignoreFieldTypes||h,sortDisabled:t?.sortDisabled}).map((t=>new a.Z({fieldName:t.name,isEditable:(0,n.Hp)(t,e),label:t.alias,format:b(t),visible:u(t,{...e,visibleFieldNames:i})})))}function b(e){switch(e.type){case"small-integer":case"integer":case"single":return new o.Z({digitSeparator:!0,places:0});case"double":return new o.Z({digitSeparator:!0,places:2});case"string":return(0,n.Ec)(e.name)?new o.Z({digitSeparator:!0,places:0}):void 0;default:return}}function m(e){if("name"===(e.name&&e.name.toLowerCase()))return!0;const t=e.alias?.toLowerCase();return"name"===t}const h=["geometry","blob","raster","guid","xml"]}}]);