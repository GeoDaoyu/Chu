"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[58217],{39422:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var r=t(58019),i=t(86790),c=t(19960),a=t(214),s=t(78958),o=t(93532),l=t(45703),u=t(56529),f=t(13522),d=t(98601),v=t(39493),x=(t(97017),t(14178)),p=t(44194),j=t(31549),m=function(){var e=(0,x.Z)().view;return(0,p.useEffect)((function(){var n=e.environment.lighting.clone();return function(){e.environment.lighting=n}}),[e]),(0,j.jsx)("arcgis-daylight",{"reference-element":"view"})},h=(t(64678),function(){return(0,j.jsx)("arcgis-line-of-sight",{"reference-element":"view"})}),g=t(73193),Z=t.n(g),w=(t(61288),function(e){return(0,j.jsx)("arcgis-elevation-profile",Z()({"reference-element":"view"},e))}),k=(t(40221),function(){return(0,j.jsx)("arcgis-direct-line-measurement-3d",{"reference-element":"view"})}),y=(t(12132),function(){return(0,j.jsx)("arcgis-area-measurement-3d",{"reference-element":"view"})}),_=(t(4853),function(){return(0,j.jsx)("arcgis-slice",{"reference-element":"view"})}),b=(t(6457),function(){return(0,j.jsx)("arcgis-building-explorer",{"reference-element":"view"})}),S=t(90819),C=t.n(S),D=t(89933),E=t.n(D),I=t(45332),P=t.n(I),B=t(13964),M=t(53447),N=t(34753),V=t(38003),O=t(67947),z=function(){var e=(0,x.Z)((function(e){return e.view})),n=(0,p.useRef)(null),t=(0,p.useRef)(null),r=(0,p.useState)(null),i=P()(r,2),a=i[0],s=i[1],o=(0,p.useCallback)((function(n){var t=e.camera;return new N.Z({observer:n,farDistance:600,tilt:t.tilt,heading:t.heading,horizontalFieldOfView:85,verticalFieldOfView:52})}),[e]),l=(0,p.useCallback)(function(){var n=E()(C()().mark((function n(r){var i,c;return C()().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=o(r),t.current=new V.Z({viewsheds:[i]}),e.analyses.add(t.current),n.next=5,e.whenAnalysisView(t.current);case 5:(c=n.sent).interactive=!0,c.selectedViewshed=i;case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e,o]);return(0,p.useEffect)((function(){var t=new M.Z;return e.map.add(t),n.current=new O.Z({view:e,layer:t,updateOnGraphicClick:!1}),n.current.on("create",(function(e){"complete"===e.state&&s(e.graphic.geometry)})),function(){n.current=null,e.map.remove(t)}}),[e]),(0,p.useEffect)((function(){return a&&l(a),function(){e.analyses.remove(t.current)}}),[a,e,l]),(0,j.jsx)(c.Z,{justify:"space-between",align:"center",children:(0,j.jsx)(B.ZP,{type:"primary",onClick:function(){s(null),n.current.create("point")},block:!0,children:"点击绘制观测点"})})},F=[{key:"DirectLineMeasurement3D",title:"距离测量",avatar:(0,j.jsx)(a.Z,{}),description:"我是距离测量",component:(0,j.jsx)(k,{})},{key:"AreaMeasurement3D",title:"面积测量",avatar:(0,j.jsx)(s.Z,{}),description:"我是面积测量",component:(0,j.jsx)(y,{})},{key:"Daylight",title:"日照分析",avatar:(0,j.jsx)(o.Z,{}),description:"我是日照分析",component:(0,j.jsx)(m,{})},{key:"LineOfSight",title:"视线分析",avatar:(0,j.jsx)(l.Z,{}),description:"我是视线分析",component:(0,j.jsx)(h,{})},{key:"Viewshed",title:"视域分析",avatar:(0,j.jsx)(u.Z,{}),description:"我是视域分析",component:(0,j.jsx)(z,{})},{key:"ElevationProfile ",title:"等高线分析",avatar:(0,j.jsx)(f.Z,{}),description:"我是等高线分析",component:(0,j.jsx)(w,{})},{key:"Slice",title:"剖切分析",avatar:(0,j.jsx)(d.Z,{}),description:"我是剖切分析",component:(0,j.jsx)(_,{})},{key:"BuildingExplorer",title:"BIM浏览器",avatar:(0,j.jsx)(v.Z,{}),description:"我是BIM浏览器",component:(0,j.jsx)(b,{})}],L={left:"left___s82D3",right:"right___FwZEY"},A=function(){return(0,j.jsxs)("div",{className:L.container,children:[(0,j.jsx)("div",{className:L.left,children:(0,j.jsx)(c.Z,{gap:"large",vertical:!0})}),(0,j.jsx)("div",{className:L.right,children:(0,j.jsx)(c.Z,{gap:"large",vertical:!0,children:(0,j.jsx)(r.Z,{title:"空间分析",children:(0,j.jsx)(i.Z,{dataSource:F})})})})]})}},86790:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(45332),i=t.n(r),c=t(44194),a=t(24462),s=t(23273),o=t(13964),l="list___ughXU",u=t(31549),f=function(e){var n=e.dataSource,t=e.goTo;return(0,u.jsx)(s.Z,{className:l,itemLayout:"horizontal",dataSource:n,renderItem:function(e){var n=e.avatar,r=e.title,i=e.description,c=e.component;return(0,u.jsx)(s.Z.Item,{actions:[(0,u.jsx)(o.ZP,{type:"link",icon:(0,u.jsx)(a.Z,{}),iconPosition:"end",disabled:!c,onClick:function(){return t(c)},children:"立即使用"},"link")],children:(0,u.jsx)(s.Z.Item.Meta,{avatar:n,title:r,description:i})})}})},d=t(55447),v=function(e){var n=e.goBack,t=e.children;return(0,u.jsxs)("div",{children:[(0,u.jsx)(o.ZP,{type:"link",icon:(0,u.jsx)(d.Z,{}),onClick:n,children:"返回"}),t]})},x="container___PuJI4",p=function(e){var n=e.dataSource,t=(0,c.useState)(),r=i()(t,2),a=r[0],s=r[1];return(0,u.jsx)("div",{className:x,children:a?(0,u.jsx)(v,{goBack:function(){return s(null)},children:a}):(0,u.jsx)(f,{dataSource:n,goTo:s})})}},58019:function(e,n,t){var r=t(86415),i=t(51282),c=t(31549);n.Z=function(e){var n=e.title,t=void 0===n?"":n,a=e.children;return(0,c.jsx)(r.Z,{title:t,children:a||(0,c.jsx)(i.Z,{description:!1})})}},14178:function(e,n,t){const r=(0,t(25480).U)((e=>({view:null,initialize:n=>e({view:n})})));n.Z=r}}]);