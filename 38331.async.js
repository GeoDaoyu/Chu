(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[38331],{60711:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(95051),r=n(44194),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},s=n(43638),a=function(e,t){return r.createElement(s.Z,(0,i.Z)({},e,{ref:t,icon:o}))};var l=r.forwardRef(a)},98330:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(95051),r=n(44194),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.4 800.9c.2-.3.5-.6.7-.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-.2-.3-.5-.5-.7-.8-1.1-1.3-2.1-2.5-3.2-3.7-.4-.5-.8-.9-1.2-1.4l-4.1-4.7-.1-.1c-1.5-1.7-3.1-3.4-4.6-5.1l-.1-.1c-3.2-3.4-6.4-6.8-9.7-10.1l-.1-.1-4.8-4.8-.3-.3c-1.5-1.5-3-2.9-4.5-4.3-.5-.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-.3-.3-.7-.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-.3.3-.7.6-1 1-1 .9-2 1.9-3 2.9-.5.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-.3.3-4.8 4.8-.1.1c-3.3 3.3-6.5 6.7-9.7 10.1l-.1.1c-1.6 1.7-3.1 3.4-4.6 5.1l-.1.1c-1.4 1.5-2.8 3.1-4.1 4.7-.4.5-.8.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-.2.3-.5.5-.7.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c.2.3.5.6.7.9l3.1 3.7c.4.5.8.9 1.2 1.4l4.1 4.7c0 .1.1.1.1.2 1.5 1.7 3 3.4 4.6 5l.1.1c3.2 3.4 6.4 6.8 9.6 10.1l.1.1c1.6 1.6 3.1 3.2 4.7 4.7l.3.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0010-9.6l.3-.3c1.6-1.6 3.2-3.1 4.7-4.7l.1-.1c3.3-3.3 6.5-6.7 9.6-10.1l.1-.1c1.5-1.7 3.1-3.3 4.6-5 0-.1.1-.1.1-.2 1.4-1.5 2.8-3.1 4.1-4.7.4-.5.8-.9 1.2-1.4a99 99 0 003.3-3.7zm4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 00-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 01887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 01-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4zm-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 01115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1zm59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 01540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-.3 1.2A445.02 445.02 0 00540 640.9zm0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540zm-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484zm-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1zm0-370a389.1 389.1 0 01-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 00-81.5 55.9A373.86 373.86 0 01137 540zm228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4zm292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 01-107.6 69.2z"}}]},name:"global",theme:"outlined"},s=n(43638),a=function(e,t){return r.createElement(s.Z,(0,i.Z)({},e,{ref:t,icon:o}))};var l=r.forwardRef(a)},39762:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(95051),r=n(44194),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]},name:"heart",theme:"outlined"},s=n(43638),a=function(e,t){return r.createElement(s.Z,(0,i.Z)({},e,{ref:t,icon:o}))};var l=r.forwardRef(a)},88763:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(95051),r=n(44194),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},s=n(43638),a=function(e,t){return r.createElement(s.Z,(0,i.Z)({},e,{ref:t,icon:o}))};var l=r.forwardRef(a)},81533:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var i=n(44194),r=n(55447),o=n(24462),s=n(51865),a=n.n(s),l=n(14527),c=n(46735),d=n(75955),u=n(54570),p=n(30316);var h=e=>"object"!=typeof e&&"function"!=typeof e||null===e,f=n(17407),y=n(60077),m=n(66197),g=n(3491),v=n(82844),b=n(26402),C=n(31699),_=n(78845),w=n(51218),x=n(87530),I=n(28546),E=n(22582),S=n(59044),k=n(76186),O=n(11926),N=n(84321),Z=n(99144),L=n(91945),P=n(36480);var M=e=>{const{componentCls:t,menuCls:n,colorError:i,colorTextLightSolid:r}=e,o=`${n}-item`;return{[`${t}, ${t}-menu-submenu`]:{[`${n} ${o}`]:{[`&${o}-danger:not(${o}-disabled)`]:{color:i,"&:hover":{color:r,backgroundColor:i}}}}}};const $=e=>{const{componentCls:t,menuCls:n,zIndexPopup:i,dropdownArrowDistance:r,sizePopupArrow:o,antCls:s,iconCls:a,motionDurationMid:l,paddingBlock:c,fontSize:d,dropdownEdgeChildPadding:u,colorTextDisabled:p,fontSizeIcon:h,controlPaddingHorizontal:f,colorBgElevated:y}=e;return[{[t]:{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:i,display:"block","&::before":{position:"absolute",insetBlock:e.calc(o).div(2).sub(r).equal(),zIndex:-9999,opacity:1e-4,content:'""'},"&-menu-vertical":{maxHeight:"100vh",overflowY:"auto"},[`&-trigger${s}-btn`]:{[`& > ${a}-down, & > ${s}-btn-icon > ${a}-down`]:{fontSize:h}},[`${t}-wrap`]:{position:"relative",[`${s}-btn > ${a}-down`]:{fontSize:h},[`${a}-down::before`]:{transition:`transform ${l}`}},[`${t}-wrap-open`]:{[`${a}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`&${s}-slide-down-enter${s}-slide-down-enter-active${t}-placement-bottomLeft,\n          &${s}-slide-down-appear${s}-slide-down-appear-active${t}-placement-bottomLeft,\n          &${s}-slide-down-enter${s}-slide-down-enter-active${t}-placement-bottom,\n          &${s}-slide-down-appear${s}-slide-down-appear-active${t}-placement-bottom,\n          &${s}-slide-down-enter${s}-slide-down-enter-active${t}-placement-bottomRight,\n          &${s}-slide-down-appear${s}-slide-down-appear-active${t}-placement-bottomRight`]:{animationName:S.fJ},[`&${s}-slide-up-enter${s}-slide-up-enter-active${t}-placement-topLeft,\n          &${s}-slide-up-appear${s}-slide-up-appear-active${t}-placement-topLeft,\n          &${s}-slide-up-enter${s}-slide-up-enter-active${t}-placement-top,\n          &${s}-slide-up-appear${s}-slide-up-appear-active${t}-placement-top,\n          &${s}-slide-up-enter${s}-slide-up-enter-active${t}-placement-topRight,\n          &${s}-slide-up-appear${s}-slide-up-appear-active${t}-placement-topRight`]:{animationName:S.Qt},[`&${s}-slide-down-leave${s}-slide-down-leave-active${t}-placement-bottomLeft,\n          &${s}-slide-down-leave${s}-slide-down-leave-active${t}-placement-bottom,\n          &${s}-slide-down-leave${s}-slide-down-leave-active${t}-placement-bottomRight`]:{animationName:S.Uw},[`&${s}-slide-up-leave${s}-slide-up-leave-active${t}-placement-topLeft,\n          &${s}-slide-up-leave${s}-slide-up-leave-active${t}-placement-top,\n          &${s}-slide-up-leave${s}-slide-up-leave-active${t}-placement-topRight`]:{animationName:S.ly}}},(0,N.ZP)(e,y,{arrowPlacement:{top:!0,bottom:!0}}),{[`${t} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:i,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul, li":{listStyle:"none",margin:0}},[`${t}, ${t}-menu-submenu`]:Object.assign(Object.assign({},(0,E.Wf)(e)),{[n]:Object.assign(Object.assign({padding:u,listStyleType:"none",backgroundColor:y,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary},(0,E.Qy)(e)),{"&:empty":{padding:0,boxShadow:"none"},[`${n}-item-group-title`]:{padding:`${(0,I.bf)(c)} ${(0,I.bf)(f)}`,color:e.colorTextDescription,transition:`all ${l}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center"},[`${n}-item-icon`]:{minWidth:d,marginInlineEnd:e.marginXS,fontSize:e.fontSizeSM},[`${n}-title-content`]:{flex:"auto","&-with-extra":{display:"inline-flex",alignItems:"center",width:"100%"},"> a":{color:"inherit",transition:`all ${l}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}},[`${n}-item-extra`]:{paddingInlineStart:e.padding,marginInlineStart:"auto",fontSize:e.fontSizeSM,color:e.colorTextDescription}},[`${n}-item, ${n}-submenu-title`]:Object.assign(Object.assign({display:"flex",margin:0,padding:`${(0,I.bf)(c)} ${(0,I.bf)(f)}`,color:e.colorText,fontWeight:"normal",fontSize:d,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${l}`,borderRadius:e.borderRadiusSM,"&:hover, &-active":{backgroundColor:e.controlItemBgHover}},(0,E.Qy)(e)),{"&-selected":{color:e.colorPrimary,backgroundColor:e.controlItemBgActive,"&:hover, &-active":{backgroundColor:e.controlItemBgActiveHover}},"&-disabled":{color:p,cursor:"not-allowed","&:hover":{color:p,backgroundColor:y,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${(0,I.bf)(e.marginXXS)} 0`,overflow:"hidden",lineHeight:0,backgroundColor:e.colorSplit},[`${t}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:e.paddingXS,[`${t}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:e.colorIcon,fontSize:h,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${(0,I.bf)(e.marginXS)}`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:e.calc(f).add(e.fontSizeSM).equal()},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${t}-menu-submenu-title`]:{[`&, ${t}-menu-submenu-arrow-icon`]:{color:p,backgroundColor:y,cursor:"not-allowed"}},[`${n}-submenu-selected ${t}-menu-submenu-title`]:{color:e.colorPrimary}})})},[(0,S.oN)(e,"slide-up"),(0,S.oN)(e,"slide-down"),(0,k.Fm)(e,"move-up"),(0,k.Fm)(e,"move-down"),(0,O._y)(e,"zoom-big")]]};var T=(0,L.I$)("Dropdown",(e=>{const{marginXXS:t,sizePopupArrow:n,paddingXXS:i,componentCls:r}=e,o=(0,P.IX)(e,{menuCls:`${r}-menu`,dropdownArrowDistance:e.calc(n).div(2).add(t).equal(),dropdownEdgeChildPadding:i});return[$(o),M(o)]}),(e=>Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+50,paddingBlock:(e.controlHeight-e.fontSize*e.lineHeight)/2},(0,N.wZ)({contentRadius:e.borderRadiusLG,limitVerticalRadius:!0})),(0,Z.w)(e))),{resetStyle:!1});const A=e=>{var t;const{menu:n,arrow:s,prefixCls:y,children:I,trigger:E,disabled:S,dropdownRender:k,getPopupContainer:O,overlayClassName:N,rootClassName:Z,overlayStyle:L,open:P,onOpenChange:M,visible:$,onVisibleChange:A,mouseEnterDelay:D=.15,mouseLeaveDelay:R=.1,autoAdjustOverflow:j=!0,placement:K="",overlay:F,transitionName:z}=e,{getPopupContainer:B,getPrefixCls:U,direction:H,dropdown:V}=i.useContext(b.E_);(0,g.ln)("Dropdown");const q=i.useMemo((()=>{const e=U();return void 0!==z?z:K.includes("top")?`${e}-slide-down`:`${e}-slide-up`}),[U,K,z]),G=i.useMemo((()=>K?K.includes("Center")?K.slice(0,K.indexOf("Center")):K:"rtl"===H?"bottomRight":"bottomLeft"),[K,H]);const W=U("dropdown",y),J=(0,C.Z)(W),[Q,X,Y]=T(W,J),[,ee]=(0,x.ZP)(),te=i.Children.only(h(I)?i.createElement("span",null,I):I),ne=(0,m.Tm)(te,{className:a()(`${W}-trigger`,{[`${W}-rtl`]:"rtl"===H},te.props.className),disabled:null!==(t=te.props.disabled)&&void 0!==t?t:S}),ie=S?[]:E,re=!!(null==ie?void 0:ie.includes("contextMenu")),[oe,se]=(0,d.Z)(!1,{value:null!=P?P:$}),ae=(0,c.Z)((e=>{null==M||M(e,{source:"trigger"}),null==A||A(e),se(e)})),le=a()(N,Z,X,Y,J,null==V?void 0:V.className,{[`${W}-rtl`]:"rtl"===H}),ce=(0,f.Z)({arrowPointAtCenter:"object"==typeof s&&s.pointAtCenter,autoAdjustOverflow:j,offset:ee.marginXXS,arrowWidth:s?ee.sizePopupArrow:0,borderRadius:ee.borderRadius}),de=i.useCallback((()=>{(null==n?void 0:n.selectable)&&(null==n?void 0:n.multiple)||(null==M||M(!1,{source:"menu"}),se(!1))}),[null==n?void 0:n.selectable,null==n?void 0:n.multiple]),[ue,pe]=(0,p.Cn)("Dropdown",null==L?void 0:L.zIndex);let he=i.createElement(l.Z,Object.assign({alignPoint:re},(0,u.Z)(e,["rootClassName"]),{mouseEnterDelay:D,mouseLeaveDelay:R,visible:oe,builtinPlacements:ce,arrow:!!s,overlayClassName:le,prefixCls:W,getPopupContainer:O||B,transitionName:q,trigger:ie,overlay:()=>{let e;return e=(null==n?void 0:n.items)?i.createElement(_.Z,Object.assign({},n)):"function"==typeof F?F():F,k&&(e=k(e)),e=i.Children.only("string"==typeof e?i.createElement("span",null,e):e),i.createElement(w.J,{prefixCls:`${W}-menu`,rootClassName:a()(Y,J),expandIcon:i.createElement("span",{className:`${W}-menu-submenu-arrow`},"rtl"===H?i.createElement(r.Z,{className:`${W}-menu-submenu-arrow-icon`}):i.createElement(o.Z,{className:`${W}-menu-submenu-arrow-icon`})),mode:"vertical",selectable:!1,onClick:de,validator:e=>{let{mode:t}=e}},e)},placement:G,onVisibleChange:ae,overlayStyle:Object.assign(Object.assign(Object.assign({},null==V?void 0:V.style),L),{zIndex:ue})}),ne);return ue&&(he=i.createElement(v.Z.Provider,{value:pe},he)),Q(he)},D=(0,y.Z)(A,"align",void 0,"dropdown",(e=>e));A._InternalPanelDoNotUseOrYouWillBeFired=e=>i.createElement(D,Object.assign({},e),i.createElement("span",null));var R=A},28833:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i=n(81533),r=n(44194),o=n(26705),s=n(51865),a=n.n(s),l=n(4925),c=n(26402),d=n(51341),u=n(23479),p=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const h=e=>{const{getPopupContainer:t,getPrefixCls:n,direction:s}=r.useContext(c.E_),{prefixCls:h,type:f="default",danger:y,disabled:m,loading:g,onClick:v,htmlType:b,children:C,className:_,menu:w,arrow:x,autoFocus:I,overlay:E,trigger:S,align:k,open:O,onOpenChange:N,placement:Z,getPopupContainer:L,href:P,icon:M=r.createElement(o.Z,null),title:$,buttonsRender:T=(e=>e),mouseEnterDelay:A,mouseLeaveDelay:D,overlayClassName:R,overlayStyle:j,destroyPopupOnHide:K,dropdownRender:F}=e,z=p(e,["prefixCls","type","danger","disabled","loading","onClick","htmlType","children","className","menu","arrow","autoFocus","overlay","trigger","align","open","onOpenChange","placement","getPopupContainer","href","icon","title","buttonsRender","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","dropdownRender"]),B=n("dropdown",h),U=`${B}-button`,H={menu:w,arrow:x,autoFocus:I,align:k,disabled:m,trigger:m?[]:S,onOpenChange:N,getPopupContainer:L||t,mouseEnterDelay:A,mouseLeaveDelay:D,overlayClassName:R,overlayStyle:j,destroyPopupOnHide:K,dropdownRender:F},{compactSize:V,compactItemClassnames:q}=(0,u.ri)(B,s),G=a()(U,q,_);"overlay"in e&&(H.overlay=E),"open"in e&&(H.open=O),H.placement="placement"in e?Z:"rtl"===s?"bottomLeft":"bottomRight";const W=r.createElement(l.ZP,{type:f,danger:y,disabled:m,loading:g,onClick:v,htmlType:b,href:P,title:$},C),J=r.createElement(l.ZP,{type:f,danger:y,icon:M}),[Q,X]=T([W,J]);return r.createElement(d.Z.Compact,Object.assign({className:G,size:V,block:!0},z),Q,r.createElement(i.Z,Object.assign({},H),X))};h.__ANT_BUTTON=!0;var f=h;const y=i.Z;y.Button=f;var m=y},36066:function(e,t,n){"use strict";n.d(t,{Z:function(){return re}});var i=n(44194),r=n(51865),o=n.n(r),s=n(26402),a=n(81890),l=n(9665);var c=e=>{const{getPrefixCls:t,direction:n}=(0,i.useContext)(s.E_),{prefixCls:r,className:c}=e,d=t("input-group",r),u=t("input"),[p,h,f]=(0,l.ZP)(u),y=o()(d,f,{[`${d}-lg`]:"large"===e.size,[`${d}-sm`]:"small"===e.size,[`${d}-compact`]:e.compact,[`${d}-rtl`]:"rtl"===n},h,c),m=(0,i.useContext)(a.aM),g=(0,i.useMemo)((()=>Object.assign(Object.assign({},m),{isFormItemInput:!1})),[m]);return p(i.createElement("span",{className:y,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},i.createElement(a.aM.Provider,{value:g},e.children)))},d=n(27016),u=n(31789),p=n(95357),h=n(20093),f=n(8763),y=n(30151),m=n(31699),g=n(5187),v=n(33987),b=n(23479);function C(e,t){const n=(0,i.useRef)([]),r=()=>{n.current.push(setTimeout((()=>{var t,n,i,r;(null===(t=e.current)||void 0===t?void 0:t.input)&&"password"===(null===(n=e.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(i=e.current)||void 0===i?void 0:i.input.hasAttribute("value"))&&(null===(r=e.current)||void 0===r||r.input.removeAttribute("value"))})))};return(0,i.useEffect)((()=>(t&&r(),()=>n.current.forEach((e=>{e&&clearTimeout(e)})))),[]),r}var _=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};var w=(0,i.forwardRef)(((e,t)=>{const{prefixCls:n,bordered:r=!0,status:c,size:w,disabled:x,onBlur:I,onFocus:E,suffix:S,allowClear:k,addonAfter:O,addonBefore:N,className:Z,style:L,styles:P,rootClassName:M,onChange:$,classNames:T,variant:A}=e,D=_(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]);const{getPrefixCls:R,direction:j,allowClear:K,autoComplete:F,className:z,style:B,classNames:U,styles:H}=(0,s.dj)("input"),V=R("input",n),q=(0,i.useRef)(null),G=(0,m.Z)(V),[W,J,Q]=(0,l.TI)(V,M),[X]=(0,l.ZP)(V,G),{compactSize:Y,compactItemClassnames:ee}=(0,b.ri)(V,j),te=(0,g.Z)((e=>{var t;return null!==(t=null!=w?w:Y)&&void 0!==t?t:e})),ne=i.useContext(y.Z),ie=null!=x?x:ne,{status:re,hasFeedback:oe,feedbackIcon:se}=(0,i.useContext)(a.aM),ae=(0,f.F)(re,c),le=function(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}(e)||!!oe;(0,i.useRef)(le);const ce=C(q,!0),de=(oe||S)&&i.createElement(i.Fragment,null,S,oe&&se),ue=(0,h.Z)(null!=k?k:K),[pe,he]=(0,v.Z)("input",A,r);return W(X(i.createElement(d.Z,Object.assign({ref:(0,u.sQ)(t,q),prefixCls:V,autoComplete:F},D,{disabled:ie,onBlur:e=>{ce(),null==I||I(e)},onFocus:e=>{ce(),null==E||E(e)},style:Object.assign(Object.assign({},B),L),styles:Object.assign(Object.assign({},H),P),suffix:de,allowClear:ue,className:o()(Z,M,Q,G,ee,z),onChange:e=>{ce(),null==$||$(e)},addonBefore:N&&i.createElement(p.Z,{form:!0,space:!0},N),addonAfter:O&&i.createElement(p.Z,{form:!0,space:!0},O),classNames:Object.assign(Object.assign(Object.assign({},T),U),{input:o()({[`${V}-sm`]:"small"===te,[`${V}-lg`]:"large"===te,[`${V}-rtl`]:"rtl"===j},null==T?void 0:T.input,U.input,J),variant:o()({[`${V}-${pe}`]:he},(0,f.Z)(V,ae)),affixWrapper:o()({[`${V}-affix-wrapper-sm`]:"small"===te,[`${V}-affix-wrapper-lg`]:"large"===te,[`${V}-affix-wrapper-rtl`]:"rtl"===j},J),wrapper:o()({[`${V}-group-rtl`]:"rtl"===j},J),groupWrapper:o()({[`${V}-group-wrapper-sm`]:"small"===te,[`${V}-group-wrapper-lg`]:"large"===te,[`${V}-group-wrapper-rtl`]:"rtl"===j,[`${V}-group-wrapper-${pe}`]:he},(0,f.Z)(`${V}-group-wrapper`,ae,oe),J)})}))))})),x=n(88153),I=n(46735),E=n(6674),S=n(91945),k=n(36480),O=n(43424);const N=e=>{const{componentCls:t,paddingXS:n}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,[`${t}-input-wrapper`]:{position:"relative",[`${t}-mask-icon`]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},[`${t}-mask-input`]:{color:"transparent",caretColor:"var(--ant-color-text)"},[`${t}-mask-input[type=number]::-webkit-inner-spin-button`]:{"-webkit-appearance":"none",margin:0},[`${t}-mask-input[type=number]`]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}};var Z=(0,S.I$)(["Input","OTP"],(e=>{const t=(0,k.IX)(e,(0,O.e)(e));return[N(t)]}),O.T),L=n(85180),P=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};var M=i.forwardRef(((e,t)=>{const{className:n,value:r,onChange:a,onActiveChange:l,index:c,mask:d}=e,u=P(e,["className","value","onChange","onActiveChange","index","mask"]),{getPrefixCls:p}=i.useContext(s.E_),h=p("otp"),f="string"==typeof d?d:r,y=i.useRef(null);i.useImperativeHandle(t,(()=>y.current));const m=()=>{(0,L.Z)((()=>{var e;const t=null===(e=y.current)||void 0===e?void 0:e.input;document.activeElement===t&&t&&t.select()}))};return i.createElement("span",{className:`${h}-input-wrapper`,role:"presentation"},d&&""!==r&&void 0!==r&&i.createElement("span",{className:`${h}-mask-icon`,"aria-hidden":"true"},f),i.createElement(w,Object.assign({"aria-label":`OTP Input ${c+1}`,type:!0===d?"password":"text"},u,{ref:y,value:r,onInput:e=>{a(c,e.target.value)},onFocus:m,onKeyDown:e=>{const{key:t,ctrlKey:n,metaKey:i}=e;"ArrowLeft"===t?l(c-1):"ArrowRight"===t?l(c+1):"z"===t&&(n||i)&&e.preventDefault(),m()},onKeyUp:e=>{"Backspace"!==e.key||r||l(c-1),m()},onMouseDown:m,onMouseUp:m,className:o()(n,{[`${h}-mask-input`]:d})})))})),$=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function T(e){return(e||"").split("")}const A=e=>{const{index:t,prefixCls:n,separator:r}=e,o="function"==typeof r?r(t):r;return o?i.createElement("span",{className:`${n}-separator`},o):null};var D=i.forwardRef(((e,t)=>{const{prefixCls:n,length:r=6,size:l,defaultValue:c,value:d,onChange:u,formatter:p,separator:h,variant:y,disabled:m,status:v,autoFocus:b,mask:C,type:_,onInput:w,inputMode:S}=e,k=$(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]);const{getPrefixCls:O,direction:N}=i.useContext(s.E_),L=O("otp",n),P=(0,E.Z)(k,{aria:!0,data:!0,attr:!0}),[D,R,j]=Z(L),K=(0,g.Z)((e=>null!=l?l:e)),F=i.useContext(a.aM),z=(0,f.F)(F.status,v),B=i.useMemo((()=>Object.assign(Object.assign({},F),{status:z,hasFeedback:!1,feedbackIcon:null})),[F,z]),U=i.useRef(null),H=i.useRef({});i.useImperativeHandle(t,(()=>({focus:()=>{var e;null===(e=H.current[0])||void 0===e||e.focus()},blur:()=>{var e;for(let t=0;t<r;t+=1)null===(e=H.current[t])||void 0===e||e.blur()},nativeElement:U.current})));const V=e=>p?p(e):e,[q,G]=i.useState((()=>T(V(c||""))));i.useEffect((()=>{void 0!==d&&G(T(d))}),[d]);const W=(0,I.Z)((e=>{G(e),w&&w(e),u&&e.length===r&&e.every((e=>e))&&e.some(((e,t)=>q[t]!==e))&&u(e.join(""))})),J=(0,I.Z)(((e,t)=>{let n=(0,x.Z)(q);for(let t=0;t<e;t+=1)n[t]||(n[t]="");t.length<=1?n[e]=t:n=n.slice(0,e).concat(T(t)),n=n.slice(0,r);for(let e=n.length-1;e>=0&&!n[e];e-=1)n.pop();const i=V(n.map((e=>e||" ")).join(""));return n=T(i).map(((e,t)=>" "!==e||n[t]?e:n[t])),n})),Q=(e,t)=>{var n;const i=J(e,t),o=Math.min(e+t.length,r-1);o!==e&&void 0!==i[e]&&(null===(n=H.current[o])||void 0===n||n.focus()),W(i)},X=e=>{var t;null===(t=H.current[e])||void 0===t||t.focus()},Y={variant:y,disabled:m,status:z,mask:C,type:_,inputMode:S};return D(i.createElement("div",Object.assign({},P,{ref:U,className:o()(L,{[`${L}-sm`]:"small"===K,[`${L}-lg`]:"large"===K,[`${L}-rtl`]:"rtl"===N},j,R),role:"group"}),i.createElement(a.aM.Provider,{value:B},Array.from({length:r}).map(((e,t)=>{const n=`otp-${t}`,o=q[t]||"";return i.createElement(i.Fragment,{key:n},i.createElement(M,Object.assign({ref:e=>{H.current[t]=e},index:t,size:K,htmlSize:1,className:`${L}-input`,onChange:Q,value:o,onActiveChange:X,autoFocus:0===t&&b},Y)),t<r-1&&i.createElement(A,{separator:h,index:t,prefixCls:L}))})))))})),R=n(95051),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},K=n(43638),F=function(e,t){return i.createElement(K.Z,(0,R.Z)({},e,{ref:t,icon:j}))};var z=i.forwardRef(F),B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},U=function(e,t){return i.createElement(K.Z,(0,R.Z)({},e,{ref:t,icon:B}))};var H=i.forwardRef(U),V=n(54570),q=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const G=e=>e?i.createElement(H,null):i.createElement(z,null),W={click:"onClick",hover:"onMouseOver"};var J=i.forwardRef(((e,t)=>{const{disabled:n,action:r="click",visibilityToggle:a=!0,iconRender:l=G}=e,c=i.useContext(y.Z),d=null!=n?n:c,p="object"==typeof a&&void 0!==a.visible,[h,f]=(0,i.useState)((()=>!!p&&a.visible)),m=(0,i.useRef)(null);i.useEffect((()=>{p&&f(a.visible)}),[p,a]);const g=C(m),v=()=>{var e;if(d)return;h&&g();const t=!h;f(t),"object"==typeof a&&(null===(e=a.onVisibleChange)||void 0===e||e.call(a,t))},{className:b,prefixCls:_,inputPrefixCls:x,size:I}=e,E=q(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:S}=i.useContext(s.E_),k=S("input",x),O=S("input-password",_),N=a&&(e=>{const t=W[r]||"",n=l(h),o={[t]:v,className:`${e}-icon`,key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return i.cloneElement(i.isValidElement(n)?n:i.createElement("span",null,n),o)})(O),Z=o()(O,b,{[`${O}-${I}`]:!!I}),L=Object.assign(Object.assign({},(0,V.Z)(E,["suffix","iconRender","visibilityToggle"])),{type:h?"text":"password",className:Z,prefixCls:k,suffix:N});return I&&(L.size=I),i.createElement(w,Object.assign({ref:(0,u.sQ)(t,m)},L))})),Q=n(74692),X=n(66197),Y=n(4925),ee=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};var te=i.forwardRef(((e,t)=>{const{prefixCls:n,inputPrefixCls:r,className:a,size:l,suffix:c,enterButton:d=!1,addonAfter:p,loading:h,disabled:f,onSearch:y,onChange:m,onCompositionStart:v,onCompositionEnd:C}=e,_=ee(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:x,direction:I}=i.useContext(s.E_),E=i.useRef(!1),S=x("input-search",n),k=x("input",r),{compactSize:O}=(0,b.ri)(S,I),N=(0,g.Z)((e=>{var t;return null!==(t=null!=l?l:O)&&void 0!==t?t:e})),Z=i.useRef(null),L=e=>{var t;document.activeElement===(null===(t=Z.current)||void 0===t?void 0:t.input)&&e.preventDefault()},P=e=>{var t,n;y&&y(null===(n=null===(t=Z.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e,{source:"input"})},M="boolean"==typeof d?i.createElement(Q.Z,null):null,$=`${S}-button`;let T;const A=d||{},D=A.type&&!0===A.type.__ANT_BUTTON;T=D||"button"===A.type?(0,X.Tm)(A,Object.assign({onMouseDown:L,onClick:e=>{var t,n;null===(n=null===(t=null==A?void 0:A.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),P(e)},key:"enterButton"},D?{className:$,size:N}:{})):i.createElement(Y.ZP,{className:$,type:d?"primary":void 0,size:N,disabled:f,key:"enterButton",onMouseDown:L,onClick:P,loading:h,icon:M},d),p&&(T=[T,(0,X.Tm)(p,{key:"addonAfter"})]);const R=o()(S,{[`${S}-rtl`]:"rtl"===I,[`${S}-${N}`]:!!N,[`${S}-with-button`]:!!d},a),j=Object.assign(Object.assign({},_),{className:R,prefixCls:k,type:"search"});return i.createElement(w,Object.assign({ref:(0,u.sQ)(Z,t),onPressEnter:e=>{E.current||h||P(e)}},j,{size:N,onCompositionStart:e=>{E.current=!0,null==v||v(e)},onCompositionEnd:e=>{E.current=!1,null==C||C(e)},addonAfter:T,suffix:c,onChange:e=>{(null==e?void 0:e.target)&&"click"===e.type&&y&&y(e.target.value,e,{source:"clear"}),null==m||m(e)},disabled:f}))})),ne=n(38256);const ie=w;ie.Group=c,ie.Search=te,ie.TextArea=ne.Z,ie.Password=J,ie.OTP=D;var re=ie},32499:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Ee}});var i=n(88153),r=n(44194);const o=r.createContext({});var s=n(26402),a=n(19810),l=n(16924),c=n(95051),d={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},u=n(43638),p=function(e,t){return r.createElement(u.Z,(0,c.Z)({},e,{ref:t,icon:d}))};var h=r.forwardRef(p),f=n(54080),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},m=function(e,t){return r.createElement(u.Z,(0,c.Z)({},e,{ref:t,icon:y}))};var g=r.forwardRef(m),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},b=function(e,t){return r.createElement(u.Z,(0,c.Z)({},e,{ref:t,icon:v}))};var C=r.forwardRef(b),_=n(21833),w=n(51865),x=n.n(w),I=n(83914),E=n(23829),S=n(92961),k=n(56321),O=n(8593),N=n(46848),Z=n(20686),L=n(65041),P=n(6674),M=r.forwardRef((function(e,t){var n=e.prefixCls,i=e.style,o=e.className,s=e.duration,a=void 0===s?4.5:s,l=e.showProgress,d=e.pauseOnHover,u=void 0===d||d,p=e.eventKey,h=e.content,f=e.closable,y=e.closeIcon,m=void 0===y?"x":y,g=e.props,v=e.onClick,b=e.onNoticeClose,C=e.times,_=e.hovering,w=r.useState(!1),E=(0,I.Z)(w,2),S=E[0],k=E[1],N=r.useState(0),M=(0,I.Z)(N,2),$=M[0],T=M[1],A=r.useState(0),D=(0,I.Z)(A,2),R=D[0],j=D[1],K=_||S,F=a>0&&l,z=function(){b(p)};r.useEffect((function(){if(!K&&a>0){var e=Date.now()-R,t=setTimeout((function(){z()}),1e3*a-R);return function(){u&&clearTimeout(t),j(Date.now()-e)}}}),[a,K,C]),r.useEffect((function(){if(!K&&F&&(u||0===R)){var e,t=performance.now();return function n(){cancelAnimationFrame(e),e=requestAnimationFrame((function(e){var i=e+R-t,r=Math.min(i/(1e3*a),1);T(100*r),r<1&&n()}))}(),function(){u&&cancelAnimationFrame(e)}}}),[a,R,K,F,C]);var B=r.useMemo((function(){return"object"===(0,Z.Z)(f)&&null!==f?f:f?{closeIcon:m}:{}}),[f,m]),U=(0,P.Z)(B,!0),H=100-(!$||$<0?0:$>100?100:$),V="".concat(n,"-notice");return r.createElement("div",(0,c.Z)({},g,{ref:t,className:x()(V,o,(0,O.Z)({},"".concat(V,"-closable"),f)),style:i,onMouseEnter:function(e){var t;k(!0),null==g||null===(t=g.onMouseEnter)||void 0===t||t.call(g,e)},onMouseLeave:function(e){var t;k(!1),null==g||null===(t=g.onMouseLeave)||void 0===t||t.call(g,e)},onClick:v}),r.createElement("div",{className:"".concat(V,"-content")},h),f&&r.createElement("a",(0,c.Z)({tabIndex:0,className:"".concat(V,"-close"),onKeyDown:function(e){"Enter"!==e.key&&"Enter"!==e.code&&e.keyCode!==L.Z.ENTER||z()},"aria-label":"Close"},U,{onClick:function(e){e.preventDefault(),e.stopPropagation(),z()}}),B.closeIcon),F&&r.createElement("progress",{className:"".concat(V,"-progress"),max:"100",value:H},H+"%"))})),$=M,T=r.createContext({}),A=function(e){var t=e.children,n=e.classNames;return r.createElement(T.Provider,{value:{classNames:n}},t)},D=function(e){var t,n,i,r={offset:8,threshold:3,gap:16};e&&"object"===(0,Z.Z)(e)&&(r.offset=null!==(t=e.offset)&&void 0!==t?t:8,r.threshold=null!==(n=e.threshold)&&void 0!==n?n:3,r.gap=null!==(i=e.gap)&&void 0!==i?i:16);return[!!e,r]},R=["className","style","classNames","styles"];var j=function(e){var t=e.configList,n=e.placement,o=e.prefixCls,s=e.className,a=e.style,l=e.motion,d=e.onAllNoticeRemoved,u=e.onNoticeClose,p=e.stack,h=(0,r.useContext)(T).classNames,f=(0,r.useRef)({}),y=(0,r.useState)(null),m=(0,I.Z)(y,2),g=m[0],v=m[1],b=(0,r.useState)([]),C=(0,I.Z)(b,2),_=C[0],w=C[1],k=t.map((function(e){return{config:e,key:String(e.key)}})),Z=D(p),L=(0,I.Z)(Z,2),P=L[0],M=L[1],A=M.offset,j=M.threshold,K=M.gap,F=P&&(_.length>0||k.length<=j),z="function"==typeof l?l(n):l;return(0,r.useEffect)((function(){P&&_.length>1&&w((function(e){return e.filter((function(e){return k.some((function(t){var n=t.key;return e===n}))}))}))}),[_,k,P]),(0,r.useEffect)((function(){var e,t;P&&f.current[null===(e=k[k.length-1])||void 0===e?void 0:e.key]&&v(f.current[null===(t=k[k.length-1])||void 0===t?void 0:t.key])}),[k,P]),r.createElement(N.V4,(0,c.Z)({key:n,className:x()(o,"".concat(o,"-").concat(n),null==h?void 0:h.list,s,(0,O.Z)((0,O.Z)({},"".concat(o,"-stack"),!!P),"".concat(o,"-stack-expanded"),F)),style:a,keys:k,motionAppear:!0},z,{onAllRemoved:function(){d(n)}}),(function(e,t){var s=e.config,a=e.className,l=e.style,d=e.index,p=s,y=p.key,m=p.times,v=String(y),b=s,C=b.className,I=b.style,O=b.classNames,N=b.styles,Z=(0,E.Z)(b,R),L=k.findIndex((function(e){return e.key===v})),M={};if(P){var T=k.length-1-(L>-1?L:d-1),D="top"===n||"bottom"===n?"-50%":"0";if(T>0){var j,z,B;M.height=F?null===(j=f.current[v])||void 0===j?void 0:j.offsetHeight:null==g?void 0:g.offsetHeight;for(var U=0,H=0;H<T;H++){var V;U+=(null===(V=f.current[k[k.length-1-H].key])||void 0===V?void 0:V.offsetHeight)+K}var q=(F?U:T*A)*(n.startsWith("top")?1:-1),G=!F&&null!=g&&g.offsetWidth&&null!==(z=f.current[v])&&void 0!==z&&z.offsetWidth?((null==g?void 0:g.offsetWidth)-2*A*(T<3?T:3))/(null===(B=f.current[v])||void 0===B?void 0:B.offsetWidth):1;M.transform="translate3d(".concat(D,", ").concat(q,"px, 0) scaleX(").concat(G,")")}else M.transform="translate3d(".concat(D,", 0, 0)")}return r.createElement("div",{ref:t,className:x()("".concat(o,"-notice-wrapper"),a,null==O?void 0:O.wrapper),style:(0,S.Z)((0,S.Z)((0,S.Z)({},l),M),null==N?void 0:N.wrapper),onMouseEnter:function(){return w((function(e){return e.includes(v)?e:[].concat((0,i.Z)(e),[v])}))},onMouseLeave:function(){return w((function(e){return e.filter((function(e){return e!==v}))}))}},r.createElement($,(0,c.Z)({},Z,{ref:function(e){L>-1?f.current[v]=e:delete f.current[v]},prefixCls:o,classNames:O,styles:N,className:x()(C,null==h?void 0:h.notice),style:I,times:m,key:y,eventKey:y,onNoticeClose:u,hovering:P&&_.length>0})))}))},K=r.forwardRef((function(e,t){var n=e.prefixCls,o=void 0===n?"rc-notification":n,s=e.container,a=e.motion,l=e.maxCount,c=e.className,d=e.style,u=e.onAllRemoved,p=e.stack,h=e.renderNotifications,f=r.useState([]),y=(0,I.Z)(f,2),m=y[0],g=y[1],v=function(e){var t,n=m.find((function(t){return t.key===e}));null==n||null===(t=n.onClose)||void 0===t||t.call(n),g((function(t){return t.filter((function(t){return t.key!==e}))}))};r.useImperativeHandle(t,(function(){return{open:function(e){g((function(t){var n,r=(0,i.Z)(t),o=r.findIndex((function(t){return t.key===e.key})),s=(0,S.Z)({},e);o>=0?(s.times=((null===(n=t[o])||void 0===n?void 0:n.times)||0)+1,r[o]=s):(s.times=0,r.push(s));return l>0&&r.length>l&&(r=r.slice(-l)),r}))},close:function(e){v(e)},destroy:function(){g([])}}}));var b=r.useState({}),C=(0,I.Z)(b,2),_=C[0],w=C[1];r.useEffect((function(){var e={};m.forEach((function(t){var n=t.placement,i=void 0===n?"topRight":n;i&&(e[i]=e[i]||[],e[i].push(t))})),Object.keys(_).forEach((function(t){e[t]=e[t]||[]})),w(e)}),[m]);var x=function(e){w((function(t){var n=(0,S.Z)({},t);return(n[e]||[]).length||delete n[e],n}))},E=r.useRef(!1);if(r.useEffect((function(){Object.keys(_).length>0?E.current=!0:E.current&&(null==u||u(),E.current=!1)}),[_]),!s)return null;var O=Object.keys(_);return(0,k.createPortal)(r.createElement(r.Fragment,null,O.map((function(e){var t=_[e],n=r.createElement(j,{key:e,configList:t,placement:e,prefixCls:o,className:null==c?void 0:c(e),style:null==d?void 0:d(e),motion:a,onNoticeClose:v,onAllNoticeRemoved:x,stack:p});return h?h(n,{prefixCls:o,key:e}):n}))),s)}));var F=K,z=n(68979),B=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],U=function(){return document.body},H=0;function V(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){t&&Object.keys(t).forEach((function(n){var i=t[n];void 0!==i&&(e[n]=i)}))})),e}var q=n(31699),G=n(28546),W=n(30316),J=n(22582),Q=n(91945),X=n(36480);const Y=e=>{const{componentCls:t,iconCls:n,boxShadow:i,colorText:r,colorSuccess:o,colorError:s,colorWarning:a,colorInfo:l,fontSizeLG:c,motionEaseInOutCirc:d,motionDurationSlow:u,marginXS:p,paddingXS:h,borderRadiusLG:f,zIndexPopup:y,contentPadding:m,contentBg:g}=e,v=`${t}-notice`,b=new G.E4("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:h,transform:"translateY(0)",opacity:1}}),C=new G.E4("MessageMoveOut",{"0%":{maxHeight:e.height,padding:h,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),_={padding:h,textAlign:"center",[`${t}-custom-content`]:{display:"flex",alignItems:"center"},[`${t}-custom-content > ${n}`]:{marginInlineEnd:p,fontSize:c},[`${v}-content`]:{display:"inline-block",padding:m,background:g,borderRadius:f,boxShadow:i,pointerEvents:"all"},[`${t}-success > ${n}`]:{color:o},[`${t}-error > ${n}`]:{color:s},[`${t}-warning > ${n}`]:{color:a},[`${t}-info > ${n},\n      ${t}-loading > ${n}`]:{color:l}};return[{[t]:Object.assign(Object.assign({},(0,J.Wf)(e)),{color:r,position:"fixed",top:p,width:"100%",pointerEvents:"none",zIndex:y,[`${t}-move-up`]:{animationFillMode:"forwards"},[`\n        ${t}-move-up-appear,\n        ${t}-move-up-enter\n      `]:{animationName:b,animationDuration:u,animationPlayState:"paused",animationTimingFunction:d},[`\n        ${t}-move-up-appear${t}-move-up-appear-active,\n        ${t}-move-up-enter${t}-move-up-enter-active\n      `]:{animationPlayState:"running"},[`${t}-move-up-leave`]:{animationName:C,animationDuration:u,animationPlayState:"paused",animationTimingFunction:d},[`${t}-move-up-leave${t}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[t]:{[`${v}-wrapper`]:Object.assign({},_)}},{[`${t}-notice-pure-panel`]:Object.assign(Object.assign({},_),{padding:0,textAlign:"start"})}]};var ee=(0,Q.I$)("Message",(e=>{const t=(0,X.IX)(e,{height:150});return[Y(t)]}),(e=>({zIndexPopup:e.zIndexPopupBase+W.u6+10,contentBg:e.colorBgElevated,contentPadding:`${(e.controlHeightLG-e.fontSize*e.lineHeight)/2}px ${e.paddingSM}px`}))),te=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const ne={info:r.createElement(C,null),success:r.createElement(h,null),error:r.createElement(f.Z,null),warning:r.createElement(g,null),loading:r.createElement(_.Z,null)},ie=e=>{let{prefixCls:t,type:n,icon:i,children:o}=e;return r.createElement("div",{className:x()(`${t}-custom-content`,`${t}-${n}`)},i||ne[n],r.createElement("span",null,o))};var re=e=>{const{prefixCls:t,className:n,type:i,icon:o,content:a}=e,l=te(e,["prefixCls","className","type","icon","content"]),{getPrefixCls:c}=r.useContext(s.E_),d=t||c("message"),u=(0,q.Z)(d),[p,h,f]=ee(d,u);return p(r.createElement($,Object.assign({},l,{prefixCls:d,className:x()(n,h,`${d}-notice-pure-panel`,f,u),eventKey:"pure",duration:null,content:r.createElement(ie,{prefixCls:d,type:i,icon:o},a)})))},oe=n(83779),se=n(3491);function ae(e){let t;const n=new Promise((n=>{t=e((()=>{n(!0)}))})),i=()=>{null==t||t()};return i.then=(e,t)=>n.then(e,t),i.promise=n,i}var le=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};const ce=3,de=e=>{let{children:t,prefixCls:n}=e;const i=(0,q.Z)(n),[o,s,a]=ee(n,i);return o(r.createElement(A,{classNames:{list:x()(s,a,i)}},t))},ue=(e,t)=>{let{prefixCls:n,key:i}=t;return r.createElement(de,{prefixCls:n,key:i},e)},pe=r.forwardRef(((e,t)=>{const{top:n,prefixCls:o,getContainer:a,maxCount:l,duration:c=ce,rtl:d,transitionName:u,onAllRemoved:p}=e,{getPrefixCls:h,getPopupContainer:f,message:y,direction:m}=r.useContext(s.E_),g=o||h("message"),v=r.createElement("span",{className:`${g}-close-x`},r.createElement(oe.Z,{className:`${g}-close-icon`})),[b,C]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getContainer,n=void 0===t?U:t,o=e.motion,s=e.prefixCls,a=e.maxCount,l=e.className,c=e.style,d=e.onAllRemoved,u=e.stack,p=e.renderNotifications,h=(0,E.Z)(e,B),f=r.useState(),y=(0,I.Z)(f,2),m=y[0],g=y[1],v=r.useRef(),b=r.createElement(F,{container:m,ref:v,prefixCls:s,motion:o,maxCount:a,className:l,style:c,onAllRemoved:d,stack:u,renderNotifications:p}),C=r.useState([]),_=(0,I.Z)(C,2),w=_[0],x=_[1],S=(0,z.zX)((function(e){var t=V(h,e);null!==t.key&&void 0!==t.key||(t.key="rc-notification-".concat(H),H+=1),x((function(e){return[].concat((0,i.Z)(e),[{type:"open",config:t}])}))})),k=r.useMemo((function(){return{open:S,close:function(e){x((function(t){return[].concat((0,i.Z)(t),[{type:"close",key:e}])}))},destroy:function(){x((function(e){return[].concat((0,i.Z)(e),[{type:"destroy"}])}))}}}),[]);return r.useEffect((function(){g(n())})),r.useEffect((function(){var e,t;v.current&&w.length&&(w.forEach((function(e){switch(e.type){case"open":v.current.open(e.config);break;case"close":v.current.close(e.key);break;case"destroy":v.current.destroy()}})),x((function(n){return e===n&&t||(e=n,t=n.filter((function(e){return!w.includes(e)}))),t})))}),[w]),[k,b]}({prefixCls:g,style:()=>({left:"50%",transform:"translateX(-50%)",top:null!=n?n:8}),className:()=>x()({[`${g}-rtl`]:null!=d?d:"rtl"===m}),motion:()=>function(e,t){return{motionName:null!=t?t:`${e}-move-up`}}(g,u),closable:!1,closeIcon:v,duration:c,getContainer:()=>(null==a?void 0:a())||(null==f?void 0:f())||document.body,maxCount:l,onAllRemoved:p,renderNotifications:ue});return r.useImperativeHandle(t,(()=>Object.assign(Object.assign({},b),{prefixCls:g,message:y}))),C}));let he=0;function fe(e){const t=r.useRef(null),n=((0,se.ln)("Message"),r.useMemo((()=>{const e=e=>{var n;null===(n=t.current)||void 0===n||n.close(e)},n=n=>{if(!t.current){const e=()=>{};return e.then=()=>{},e}const{open:i,prefixCls:o,message:s}=t.current,a=`${o}-notice`,{content:l,icon:c,type:d,key:u,className:p,style:h,onClose:f}=n,y=le(n,["content","icon","type","key","className","style","onClose"]);let m=u;return null==m&&(he+=1,m=`antd-message-${he}`),ae((t=>(i(Object.assign(Object.assign({},y),{key:m,content:r.createElement(ie,{prefixCls:o,type:d,icon:c},l),placement:"top",className:x()(d&&`${a}-${d}`,p,null==s?void 0:s.className),style:Object.assign(Object.assign({},null==s?void 0:s.style),h),onClose:()=>{null==f||f(),t()}})),()=>{e(m)})))},i={open:n,destroy:n=>{var i;void 0!==n?e(n):null===(i=t.current)||void 0===i||i.destroy()}};return["info","success","warning","error","loading"].forEach((e=>{i[e]=(t,i,r)=>{let o,s,a;o=t&&"object"==typeof t&&"content"in t?t:{content:t},"function"==typeof i?a=i:(s=i,a=r);const l=Object.assign(Object.assign({onClose:a,duration:s},o),{type:e});return n(l)}})),i}),[]));return[n,r.createElement(pe,Object.assign({key:"message-holder"},e,{ref:t}))]}let ye=null,me=e=>e(),ge=[],ve={};function be(){const{getContainer:e,duration:t,rtl:n,maxCount:i,top:r}=ve,o=(null==e?void 0:e())||document.body;return{getContainer:()=>o,duration:t,rtl:n,maxCount:i,top:r}}const Ce=r.forwardRef(((e,t)=>{const{messageConfig:n,sync:i}=e,{getPrefixCls:a}=(0,r.useContext)(s.E_),l=ve.prefixCls||a("message"),c=(0,r.useContext)(o),[d,u]=fe(Object.assign(Object.assign(Object.assign({},n),{prefixCls:l}),c.message));return r.useImperativeHandle(t,(()=>{const e=Object.assign({},d);return Object.keys(e).forEach((t=>{e[t]=function(){return i(),d[t].apply(d,arguments)}})),{instance:e,sync:i}})),u})),_e=r.forwardRef(((e,t)=>{const[n,i]=r.useState(be),o=()=>{i(be)};r.useEffect(o,[]);const s=(0,a.w6)(),l=s.getRootPrefixCls(),c=s.getIconPrefixCls(),d=s.getTheme(),u=r.createElement(Ce,{ref:t,sync:o,messageConfig:n});return r.createElement(a.ZP,{prefixCls:l,iconPrefixCls:c,theme:d},s.holderRender?s.holderRender(u):u)}));function we(){if(!ye){const e=document.createDocumentFragment(),t={fragment:e};return ye=t,void me((()=>{(0,l.x)()(r.createElement(_e,{ref:e=>{const{instance:n,sync:i}=e||{};Promise.resolve().then((()=>{!t.instance&&n&&(t.instance=n,t.sync=i,we())}))}}),e)}))}ye.instance&&(ge.forEach((e=>{const{type:t,skipped:n}=e;if(!n)switch(t){case"open":me((()=>{const t=ye.instance.open(Object.assign(Object.assign({},ve),e.config));null==t||t.then(e.resolve),e.setCloseFn(t)}));break;case"destroy":me((()=>{null==ye||ye.instance.destroy(e.key)}));break;default:me((()=>{var n;const r=(n=ye.instance)[t].apply(n,(0,i.Z)(e.args));null==r||r.then(e.resolve),e.setCloseFn(r)}))}})),ge=[])}function xe(e,t){(0,a.w6)();const n=ae((n=>{let i;const r={type:e,args:t,resolve:n,setCloseFn:e=>{i=e}};return ge.push(r),()=>{i?me((()=>{i()})):r.skipped=!0}}));return we(),n}const Ie={open:function(e){const t=ae((t=>{let n;const i={type:"open",config:e,resolve:t,setCloseFn:e=>{n=e}};return ge.push(i),()=>{n?me((()=>{n()})):i.skipped=!0}}));return we(),t},destroy:e=>{ge.push({type:"destroy",key:e}),we()},config:function(e){ve=Object.assign(Object.assign({},ve),e),me((()=>{var e;null===(e=null==ye?void 0:ye.sync)||void 0===e||e.call(ye)}))},useMessage:function(e){return fe(e)},_InternalPanelDoNotUseOrYouWillBeFired:re};["success","info","warning","error","loading"].forEach((e=>{Ie[e]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return xe(e,n)}}));var Ee=Ie},82534:function(e,t,n){"use strict";n.d(t,{Z:function(){return It}});var i=n(95051),r=n(20686),o=n(92961),s=n(88153),a=n(76524),l=n(70296),c=n(45603),d=n(63733),u=n(53936),p=n(8593),h=n(51865),f=n.n(h),y=n(65041),m=n(6674),g=n(61517),v=n(44194),b=v.createContext(null),C=v.createContext({});var _=function(e){var t=e.dropPosition,n=e.dropLevelOffset,i=e.indent,r={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:r.top=0,r.left=-n*i;break;case 1:r.bottom=0,r.left=-n*i;break;case 0:r.bottom=0,r.left=i}return v.createElement("div",{style:r})};function w(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var x=n(83914),I=n(23829),E=n(39721),S=n(54561),k=n(46848),O=function(e){for(var t=e.prefixCls,n=e.level,i=e.isStart,r=e.isEnd,o="".concat(t,"-indent-unit"),s=[],a=0;a<n;a+=1)s.push(v.createElement("span",{key:a,className:f()(o,(0,p.Z)((0,p.Z)({},"".concat(o,"-start"),i[a]),"".concat(o,"-end"),r[a]))}));return v.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},s)},N=v.memo(O);function Z(e,t){return e[t]}var L=n(45802),P=n(54570),M=["children"];function $(e,t){return"".concat(e,"-").concat(t)}function T(e,t){return null!=e?e:t}function A(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function D(e){return function e(t){return(0,L.Z)(t).map((function(t){if(!function(e){return e&&e.type&&e.type.isTreeNode}(t))return(0,g.ZP)(!t,"Tree/TreeNode can only accept TreeNode as children."),null;var n=t.key,i=t.props,r=i.children,s=(0,I.Z)(i,M),a=(0,o.Z)({key:n},s),l=e(r);return l.length&&(a.children=l),a})).filter((function(e){return e}))}(e)}function R(e,t,n){var i=A(n),r=i._title,o=i.key,a=i.children,l=new Set(!0===t?[]:t),c=[];return function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n.map((function(d,u){for(var p,h=$(i?i.pos:"0",u),f=T(d[o],h),y=0;y<r.length;y+=1){var m=r[y];if(void 0!==d[m]){p=d[m];break}}var g=Object.assign((0,P.Z)(d,[].concat((0,s.Z)(r),[o,a])),{title:p,key:f,parent:i,pos:h,children:null,data:d,isStart:[].concat((0,s.Z)(i?i.isStart:[]),[0===u]),isEnd:[].concat((0,s.Z)(i?i.isEnd:[]),[u===n.length-1])});return c.push(g),!0===t||l.has(f)?g.children=e(d[a]||[],g):g.children=[],g}))}(e),c}function j(e,t,n){var i,o=("object"===(0,r.Z)(n)?n:{externalGetKey:n})||{},a=o.childrenPropName,l=o.externalGetKey,c=A(o.fieldNames),d=c.key,u=c.children,p=a||u;l?"string"==typeof l?i=function(e){return e[l]}:"function"==typeof l&&(i=function(e){return l(e)}):i=function(e,t){return T(e[d],t)},function n(r,o,a,l){var c=r?r[p]:e,d=r?$(a.pos,o):"0",u=r?[].concat((0,s.Z)(l),[r]):[];if(r){var h=i(r,d),f={node:r,index:o,pos:d,key:h,parentPos:a.node?a.pos:null,level:a.level+1,nodes:u};t(f)}c&&c.forEach((function(e,t){n(e,t,{node:r,pos:d,level:a?a.level+1:-1},u)}))}(null)}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.initWrapper,i=t.processEntity,r=t.onProcessFinished,o=t.externalGetKey,s=t.childrenPropName,a=t.fieldNames,l=arguments.length>2?arguments[2]:void 0,c=o||l,d={},u={},p={posEntities:d,keyEntities:u};return n&&(p=n(p)||p),j(e,(function(e){var t=e.node,n=e.index,r=e.pos,o=e.key,s=e.parentPos,a=e.level,l={node:t,nodes:e.nodes,index:n,key:o,pos:r,level:a},c=T(o,r);d[r]=l,u[c]=l,l.parent=d[s],l.parent&&(l.parent.children=l.parent.children||[],l.parent.children.push(l)),i&&i(l,p)}),{externalGetKey:c,childrenPropName:s,fieldNames:a}),r&&r(p),p}function F(e,t){var n=t.expandedKeys,i=t.selectedKeys,r=t.loadedKeys,o=t.loadingKeys,s=t.checkedKeys,a=t.halfCheckedKeys,l=t.dragOverNodeKey,c=t.dropPosition,d=Z(t.keyEntities,e);return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==i.indexOf(e),loaded:-1!==r.indexOf(e),loading:-1!==o.indexOf(e),checked:-1!==s.indexOf(e),halfChecked:-1!==a.indexOf(e),pos:String(d?d.pos:""),dragOver:l===e&&0===c,dragOverGapTop:l===e&&-1===c,dragOverGapBottom:l===e&&1===c}}function z(e){var t=e.data,n=e.expanded,i=e.selected,r=e.checked,s=e.loaded,a=e.loading,l=e.halfChecked,c=e.dragOver,d=e.dragOverGapTop,u=e.dragOverGapBottom,p=e.pos,h=e.active,f=e.eventKey,y=(0,o.Z)((0,o.Z)({},t),{},{expanded:n,selected:i,checked:r,loaded:s,loading:a,halfChecked:l,dragOver:c,dragOverGapTop:d,dragOverGapBottom:u,pos:p,active:h,key:f});return"props"in y||Object.defineProperty(y,"props",{get:function(){return(0,g.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),y}var B=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],U="open",H="close",V=function(e){var t,n,r,s=e.eventKey,a=e.className,l=e.style,c=e.dragOver,d=e.dragOverGapTop,u=e.dragOverGapBottom,h=e.isLeaf,y=e.isStart,g=e.isEnd,_=e.expanded,w=e.selected,E=e.checked,S=e.halfChecked,k=e.loading,O=e.domRef,L=e.active,P=e.data,M=e.onMouseMove,$=e.selectable,T=(0,I.Z)(e,B),A=v.useContext(b),D=v.useContext(C),R=v.useRef(null),j=v.useState(!1),K=(0,x.Z)(j,2),F=K[0],V=K[1],q=!!(A.disabled||e.disabled||null!==(t=D.nodeDisabled)&&void 0!==t&&t.call(D,P)),G=v.useMemo((function(){return!(!A.checkable||!1===e.checkable)&&A.checkable}),[A.checkable,e.checkable]),W=function(t){q||G&&!e.disableCheckbox&&A.onNodeCheck(t,z(e),!E)},J=v.useMemo((function(){return"boolean"==typeof $?$:A.selectable}),[$,A.selectable]),Q=function(t){A.onNodeClick(t,z(e)),J?function(t){q||A.onNodeSelect(t,z(e))}(t):W(t)},X=function(t){A.onNodeDoubleClick(t,z(e))},Y=function(t){A.onNodeMouseEnter(t,z(e))},ee=function(t){A.onNodeMouseLeave(t,z(e))},te=function(t){A.onNodeContextMenu(t,z(e))},ne=v.useMemo((function(){return!(!A.draggable||A.draggable.nodeDraggable&&!A.draggable.nodeDraggable(P))}),[A.draggable,P]),ie=function(t){k||A.onNodeExpand(t,z(e))},re=v.useMemo((function(){var e=(Z(A.keyEntities,s)||{}).children;return Boolean((e||[]).length)}),[A.keyEntities,s]),oe=v.useMemo((function(){return!1!==h&&(h||!A.loadData&&!re||A.loadData&&e.loaded&&!re)}),[h,A.loadData,re,e.loaded]);v.useEffect((function(){k||"function"!=typeof A.loadData||!_||oe||e.loaded||A.onNodeLoad(z(e))}),[k,A.loadData,A.onNodeLoad,_,oe,e]);var se=v.useMemo((function(){var e;return null!==(e=A.draggable)&&void 0!==e&&e.icon?v.createElement("span",{className:"".concat(A.prefixCls,"-draggable-icon")},A.draggable.icon):null}),[A.draggable]),ae=function(t){var n=e.switcherIcon||A.switcherIcon;return"function"==typeof n?n((0,o.Z)((0,o.Z)({},e),{},{isLeaf:t})):n},le=v.useMemo((function(){if(!G)return null;var t="boolean"!=typeof G?G:null;return v.createElement("span",{className:f()("".concat(A.prefixCls,"-checkbox"),(0,p.Z)((0,p.Z)((0,p.Z)({},"".concat(A.prefixCls,"-checkbox-checked"),E),"".concat(A.prefixCls,"-checkbox-indeterminate"),!E&&S),"".concat(A.prefixCls,"-checkbox-disabled"),q||e.disableCheckbox)),onClick:W,role:"checkbox","aria-checked":S?"mixed":E,"aria-disabled":q||e.disableCheckbox,"aria-label":"Select ".concat("string"==typeof e.title?e.title:"tree node")},t)}),[G,E,S,q,e.disableCheckbox,e.title]),ce=v.useMemo((function(){return oe?null:_?U:H}),[oe,_]),de=v.useMemo((function(){return v.createElement("span",{className:f()("".concat(A.prefixCls,"-iconEle"),"".concat(A.prefixCls,"-icon__").concat(ce||"docu"),(0,p.Z)({},"".concat(A.prefixCls,"-icon_loading"),k))})}),[A.prefixCls,ce,k]),ue=v.useMemo((function(){var t=Boolean(A.draggable);return!e.disabled&&t&&A.dragOverNodeKey===s?A.dropIndicatorRender({dropPosition:A.dropPosition,dropLevelOffset:A.dropLevelOffset,indent:A.indent,prefixCls:A.prefixCls,direction:A.direction}):null}),[A.dropPosition,A.dropLevelOffset,A.indent,A.prefixCls,A.direction,A.draggable,A.dragOverNodeKey,A.dropIndicatorRender]),pe=v.useMemo((function(){var t,n,i=e.title,r=void 0===i?"---":i,o="".concat(A.prefixCls,"-node-content-wrapper");if(A.showIcon){var s=e.icon||A.icon;t=s?v.createElement("span",{className:f()("".concat(A.prefixCls,"-iconEle"),"".concat(A.prefixCls,"-icon__customize"))},"function"==typeof s?s(e):s):de}else A.loadData&&k&&(t=de);return n="function"==typeof r?r(P):A.titleRender?A.titleRender(P):r,v.createElement("span",{ref:R,title:"string"==typeof r?r:"",className:f()(o,"".concat(o,"-").concat(ce||"normal"),(0,p.Z)({},"".concat(A.prefixCls,"-node-selected"),!q&&(w||F))),onMouseEnter:Y,onMouseLeave:ee,onContextMenu:te,onClick:Q,onDoubleClick:X},t,v.createElement("span",{className:"".concat(A.prefixCls,"-title")},n),ue)}),[A.prefixCls,A.showIcon,e,A.icon,de,A.titleRender,P,ce,Y,ee,te,Q,X]),he=(0,m.Z)(T,{aria:!0,data:!0}),fe=(Z(A.keyEntities,s)||{}).level,ye=g[g.length-1],me=!q&&ne,ge=A.draggingNodeKey===s,ve=void 0!==$?{"aria-selected":!!$}:void 0;return v.createElement("div",(0,i.Z)({ref:O,role:"treeitem","aria-expanded":h?void 0:_,className:f()(a,"".concat(A.prefixCls,"-treenode"),(r={},(0,p.Z)((0,p.Z)((0,p.Z)((0,p.Z)((0,p.Z)((0,p.Z)((0,p.Z)((0,p.Z)((0,p.Z)((0,p.Z)(r,"".concat(A.prefixCls,"-treenode-disabled"),q),"".concat(A.prefixCls,"-treenode-switcher-").concat(_?"open":"close"),!h),"".concat(A.prefixCls,"-treenode-checkbox-checked"),E),"".concat(A.prefixCls,"-treenode-checkbox-indeterminate"),S),"".concat(A.prefixCls,"-treenode-selected"),w),"".concat(A.prefixCls,"-treenode-loading"),k),"".concat(A.prefixCls,"-treenode-active"),L),"".concat(A.prefixCls,"-treenode-leaf-last"),ye),"".concat(A.prefixCls,"-treenode-draggable"),ne),"dragging",ge),(0,p.Z)((0,p.Z)((0,p.Z)((0,p.Z)((0,p.Z)((0,p.Z)((0,p.Z)(r,"drop-target",A.dropTargetKey===s),"drop-container",A.dropContainerKey===s),"drag-over",!q&&c),"drag-over-gap-top",!q&&d),"drag-over-gap-bottom",!q&&u),"filter-node",null===(n=A.filterTreeNode)||void 0===n?void 0:n.call(A,z(e))),"".concat(A.prefixCls,"-treenode-leaf"),oe))),style:l,draggable:me,onDragStart:me?function(t){t.stopPropagation(),V(!0),A.onNodeDragStart(t,e);try{t.dataTransfer.setData("text/plain","")}catch(e){}}:void 0,onDragEnter:ne?function(t){t.preventDefault(),t.stopPropagation(),A.onNodeDragEnter(t,e)}:void 0,onDragOver:ne?function(t){t.preventDefault(),t.stopPropagation(),A.onNodeDragOver(t,e)}:void 0,onDragLeave:ne?function(t){t.stopPropagation(),A.onNodeDragLeave(t,e)}:void 0,onDrop:ne?function(t){t.preventDefault(),t.stopPropagation(),V(!1),A.onNodeDrop(t,e)}:void 0,onDragEnd:ne?function(t){t.stopPropagation(),V(!1),A.onNodeDragEnd(t,e)}:void 0,onMouseMove:M},ve,he),v.createElement(N,{prefixCls:A.prefixCls,level:fe,isStart:y,isEnd:g}),se,function(){if(oe){var e=ae(!0);return!1!==e?v.createElement("span",{className:f()("".concat(A.prefixCls,"-switcher"),"".concat(A.prefixCls,"-switcher-noop"))},e):null}var t=ae(!1);return!1!==t?v.createElement("span",{onClick:ie,className:f()("".concat(A.prefixCls,"-switcher"),"".concat(A.prefixCls,"-switcher_").concat(_?U:H))},t):null}(),le,pe)};V.isTreeNode=1;var q=V;var G=function(e,t){var n=v.useState(!1),i=(0,x.Z)(n,2),r=i[0],o=i[1];(0,E.Z)((function(){if(r)return e(),function(){t()}}),[r]),(0,E.Z)((function(){return o(!0),function(){o(!1)}}),[])},W=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],J=v.forwardRef((function(e,t){var n=e.className,r=e.style,o=e.motion,s=e.motionNodes,a=e.motionType,l=e.onMotionStart,c=e.onMotionEnd,d=e.active,u=e.treeNodeRequiredProps,p=(0,I.Z)(e,W),h=v.useState(!0),y=(0,x.Z)(h,2),m=y[0],g=y[1],C=v.useContext(b).prefixCls,_=s&&"hide"!==a;(0,E.Z)((function(){s&&_!==m&&g(_)}),[s]);var S=v.useRef(!1),O=function(){s&&!S.current&&(S.current=!0,c())};G((function(){s&&l()}),O);return s?v.createElement(k.ZP,(0,i.Z)({ref:t,visible:m},o,{motionAppear:"show"===a,onVisibleChanged:function(e){_===e&&O()}}),(function(e,t){var n=e.className,r=e.style;return v.createElement("div",{ref:t,className:f()("".concat(C,"-treenode-motion"),n),style:r},s.map((function(e){var t=Object.assign({},(w(e.data),e.data)),n=e.title,r=e.key,o=e.isStart,s=e.isEnd;delete t.children;var a=F(r,u);return v.createElement(q,(0,i.Z)({},t,a,{title:n,active:d,data:e.data,key:r,isStart:o,isEnd:s}))})))})):v.createElement(q,(0,i.Z)({domRef:t,className:n,style:r},p,{active:d}))}));var Q=J;function X(e,t,n){var i=e.findIndex((function(e){return e.key===n})),r=e[i+1],o=t.findIndex((function(e){return e.key===n}));if(r){var s=t.findIndex((function(e){return e.key===r.key}));return t.slice(o+1,s)}return t.slice(o+1)}var Y=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],ee={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},te=function(){},ne="RC_TREE_MOTION_".concat(Math.random()),ie={key:ne},re={key:ne,level:0,index:0,pos:"0",node:ie,nodes:[ie]},oe={parent:null,children:[],pos:re.pos,data:ie,title:null,key:ne,isStart:[],isEnd:[]};function se(e,t,n,i){return!1!==t&&n?e.slice(0,Math.ceil(n/i)+1):e}function ae(e){return T(e.key,e.pos)}var le=v.forwardRef((function(e,t){var n=e.prefixCls,r=e.data,o=(e.selectable,e.checkable,e.expandedKeys),s=e.selectedKeys,a=e.checkedKeys,l=e.loadedKeys,c=e.loadingKeys,d=e.halfCheckedKeys,u=e.keyEntities,p=e.disabled,h=e.dragging,f=e.dragOverNodeKey,y=e.dropPosition,m=e.motion,g=e.height,b=e.itemHeight,C=e.virtual,_=e.scrollWidth,k=e.focusable,O=e.activeItem,N=e.focused,Z=e.tabIndex,L=e.onKeyDown,P=e.onFocus,M=e.onBlur,$=e.onActiveChange,A=e.onListChangeStart,D=e.onListChangeEnd,R=(0,I.Z)(e,Y),j=v.useRef(null),K=v.useRef(null);v.useImperativeHandle(t,(function(){return{scrollTo:function(e){j.current.scrollTo(e)},getIndentWidth:function(){return K.current.offsetWidth}}}));var z=v.useState(o),B=(0,x.Z)(z,2),U=B[0],H=B[1],V=v.useState(r),q=(0,x.Z)(V,2),G=q[0],W=q[1],J=v.useState(r),ie=(0,x.Z)(J,2),re=ie[0],le=ie[1],ce=v.useState([]),de=(0,x.Z)(ce,2),ue=de[0],pe=de[1],he=v.useState(null),fe=(0,x.Z)(he,2),ye=fe[0],me=fe[1],ge=v.useRef(r);function ve(){var e=ge.current;W(e),le(e),pe([]),me(null),D()}ge.current=r,(0,E.Z)((function(){H(o);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,i=t.length;if(1!==Math.abs(n-i))return{add:!1,key:null};function r(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var i=t.filter((function(e){return!n.has(e)}));return 1===i.length?i[0]:null}return n<i?{add:!0,key:r(e,t)}:{add:!1,key:r(t,e)}}(U,o);if(null!==e.key)if(e.add){var t=G.findIndex((function(t){return t.key===e.key})),n=se(X(G,r,e.key),C,g,b),i=G.slice();i.splice(t+1,0,oe),le(i),pe(n),me("show")}else{var s=r.findIndex((function(t){return t.key===e.key})),a=se(X(r,G,e.key),C,g,b),l=r.slice();l.splice(s+1,0,oe),le(l),pe(a),me("hide")}else G!==r&&(W(r),le(r))}),[o,r]),v.useEffect((function(){h||ve()}),[h]);var be=m?re:r,Ce={expandedKeys:o,selectedKeys:s,loadedKeys:l,loadingKeys:c,checkedKeys:a,halfCheckedKeys:d,dragOverNodeKey:f,dropPosition:y,keyEntities:u};return v.createElement(v.Fragment,null,N&&O&&v.createElement("span",{style:ee,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(O)),v.createElement("div",null,v.createElement("input",{style:ee,disabled:!1===k||p,tabIndex:!1!==k?Z:null,onKeyDown:L,onFocus:P,onBlur:M,value:"",onChange:te,"aria-label":"for screen reader"})),v.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},v.createElement("div",{className:"".concat(n,"-indent")},v.createElement("div",{ref:K,className:"".concat(n,"-indent-unit")}))),v.createElement(S.Z,(0,i.Z)({},R,{data:be,itemKey:ae,height:g,fullHeight:!1,virtual:C,itemHeight:b,scrollWidth:_,prefixCls:"".concat(n,"-list"),ref:j,role:"tree",onVisibleChange:function(e){e.every((function(e){return ae(e)!==ne}))&&ve()}}),(function(e){var t=e.pos,n=Object.assign({},(w(e.data),e.data)),r=e.title,o=e.key,s=e.isStart,a=e.isEnd,l=T(o,t);delete n.key,delete n.children;var c=F(l,Ce);return v.createElement(Q,(0,i.Z)({},n,c,{title:r,active:!!O&&o===O.key,pos:t,data:e.data,isStart:s,isEnd:a,motion:m,motionNodes:o===ne?ue:null,motionType:ye,onMotionStart:A,onMotionEnd:ve,treeNodeRequiredProps:Ce,onMouseMove:function(){$(null)}}))})))}));var ce=le;function de(e,t){if(!e)return[];var n=e.slice(),i=n.indexOf(t);return i>=0&&n.splice(i,1),n}function ue(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function pe(e){return e.split("-")}function he(e,t){var n=[];return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){var i=t.key,r=t.children;n.push(i),e(r)}))}(Z(t,e).children),n}function fe(e){if(e.parent){var t=pe(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function ye(e,t,n,i,r,o,s,a,l,c){var d,u=e.clientX,p=e.clientY,h=e.target.getBoundingClientRect(),f=h.top,y=h.height,m=(("rtl"===c?-1:1)*(((null==r?void 0:r.x)||0)-u)-12)/i,g=l.filter((function(e){var t;return null===(t=a[e])||void 0===t||null===(t=t.children)||void 0===t?void 0:t.length})),v=Z(a,n.eventKey);if(p<f+y/2){var b=s.findIndex((function(e){return e.key===v.key})),C=s[b<=0?0:b-1].key;v=Z(a,C)}var _=v.key,w=v,x=v.key,I=0,E=0;if(!g.includes(_))for(var S=0;S<m&&fe(v);S+=1)v=v.parent,E+=1;var k,O=t.data,N=v.node,L=!0;return k=pe(v.pos),0===Number(k[k.length-1])&&0===v.level&&p<f+y/2&&o({dragNode:O,dropNode:N,dropPosition:-1})&&v.key===n.eventKey?I=-1:(w.children||[]).length&&g.includes(x)?o({dragNode:O,dropNode:N,dropPosition:0})?I=0:L=!1:0===E?m>-1.5?o({dragNode:O,dropNode:N,dropPosition:1})?I=1:L=!1:o({dragNode:O,dropNode:N,dropPosition:0})?I=0:o({dragNode:O,dropNode:N,dropPosition:1})?I=1:L=!1:o({dragNode:O,dropNode:N,dropPosition:1})?I=1:L=!1,{dropPosition:I,dropLevelOffset:E,dropTargetKey:v.key,dropTargetPos:v.pos,dragOverNodeKey:x,dropContainerKey:0===I?null:(null===(d=v.parent)||void 0===d?void 0:d.key)||null,dropAllowed:L}}function me(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function ge(e){if(!e)return null;var t;if(Array.isArray(e))t={checkedKeys:e,halfCheckedKeys:void 0};else{if("object"!==(0,r.Z)(e))return(0,g.ZP)(!1,"`checkedKeys` is not an array or an object"),null;t={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0}}return t}function ve(e,t){var n=new Set;function i(e){if(!n.has(e)){var r=Z(t,e);if(r){n.add(e);var o=r.parent;r.node.disabled||o&&i(o.key)}}}return(e||[]).forEach((function(e){i(e)})),(0,s.Z)(n)}function be(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function Ce(e){var t=e||{},n=t.disabled,i=t.disableCheckbox,r=t.checkable;return!(!n&&!i)||!1===r}function _e(e,t,n,i){var r,o=[];r=i||Ce;var s,a=new Set(e.filter((function(e){var t=!!Z(n,e);return t||o.push(e),t}))),l=new Map,c=0;return Object.keys(n).forEach((function(e){var t=n[e],i=t.level,r=l.get(i);r||(r=new Set,l.set(i,r)),r.add(t),c=Math.max(c,i)})),(0,g.ZP)(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),s=!0===t?function(e,t,n,i){for(var r=new Set(e),o=new Set,s=0;s<=n;s+=1)(t.get(s)||new Set).forEach((function(e){var t=e.key,n=e.node,o=e.children,s=void 0===o?[]:o;r.has(t)&&!i(n)&&s.filter((function(e){return!i(e.node)})).forEach((function(e){r.add(e.key)}))}));for(var a=new Set,l=n;l>=0;l-=1)(t.get(l)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!i(n)&&e.parent&&!a.has(e.parent.key))if(i(e.parent.node))a.add(t.key);else{var s=!0,l=!1;(t.children||[]).filter((function(e){return!i(e.node)})).forEach((function(e){var t=e.key,n=r.has(t);s&&!n&&(s=!1),l||!n&&!o.has(t)||(l=!0)})),s&&r.add(t.key),l&&o.add(t.key),a.add(t.key)}}));return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(be(o,r))}}(a,l,c,r):function(e,t,n,i,r){for(var o=new Set(e),s=new Set(t),a=0;a<=i;a+=1)(n.get(a)||new Set).forEach((function(e){var t=e.key,n=e.node,i=e.children,a=void 0===i?[]:i;o.has(t)||s.has(t)||r(n)||a.filter((function(e){return!r(e.node)})).forEach((function(e){o.delete(e.key)}))}));s=new Set;for(var l=new Set,c=i;c>=0;c-=1)(n.get(c)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!l.has(e.parent.key))if(r(e.parent.node))l.add(t.key);else{var i=!0,a=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=o.has(t);i&&!n&&(i=!1),a||!n&&!s.has(t)||(a=!0)})),i||o.delete(t.key),a&&s.add(t.key),l.add(t.key)}}));return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(be(s,o))}}(a,t.halfCheckedKeys,l,c,r),s}var we=function(e){(0,d.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;(0,a.Z)(this,n);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r)),(0,p.Z)((0,c.Z)(e),"destroyed",!1),(0,p.Z)((0,c.Z)(e),"delayedDragEnterLogic",void 0),(0,p.Z)((0,c.Z)(e),"loadingRetryTimes",{}),(0,p.Z)((0,c.Z)(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:A()}),(0,p.Z)((0,c.Z)(e),"dragStartMousePosition",null),(0,p.Z)((0,c.Z)(e),"dragNodeProps",null),(0,p.Z)((0,c.Z)(e),"currentMouseOverDroppableNodeKey",null),(0,p.Z)((0,c.Z)(e),"listRef",v.createRef()),(0,p.Z)((0,c.Z)(e),"onNodeDragStart",(function(t,n){var i=e.state,r=i.expandedKeys,o=i.keyEntities,s=e.props.onDragStart,a=n.eventKey;e.dragNodeProps=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var l=de(r,a);e.setState({draggingNodeKey:a,dragChildrenKeys:he(a,o),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(l),window.addEventListener("dragend",e.onWindowDragEnd),null==s||s({event:t,node:z(n)})})),(0,p.Z)((0,c.Z)(e),"onNodeDragEnter",(function(t,n){var i=e.state,r=i.expandedKeys,o=i.keyEntities,a=i.dragChildrenKeys,l=i.flattenNodes,c=i.indent,d=e.props,u=d.onDragEnter,p=d.onExpand,h=d.allowDrop,f=d.direction,y=n.pos,m=n.eventKey;if(e.currentMouseOverDroppableNodeKey!==m&&(e.currentMouseOverDroppableNodeKey=m),e.dragNodeProps){var g=ye(t,e.dragNodeProps,n,c,e.dragStartMousePosition,h,l,o,r,f),v=g.dropPosition,b=g.dropLevelOffset,C=g.dropTargetKey,_=g.dropContainerKey,w=g.dropTargetPos,x=g.dropAllowed,I=g.dragOverNodeKey;!a.includes(C)&&x?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach((function(t){clearTimeout(e.delayedDragEnterLogic[t])})),e.dragNodeProps.eventKey!==n.eventKey&&(t.persist(),e.delayedDragEnterLogic[y]=window.setTimeout((function(){if(null!==e.state.draggingNodeKey){var i=(0,s.Z)(r),a=Z(o,n.eventKey);a&&(a.children||[]).length&&(i=ue(r,n.eventKey)),e.props.hasOwnProperty("expandedKeys")||e.setExpandedKeys(i),null==p||p(i,{node:z(n),expanded:!0,nativeEvent:t.nativeEvent})}}),800)),e.dragNodeProps.eventKey!==C||0!==b?(e.setState({dragOverNodeKey:I,dropPosition:v,dropLevelOffset:b,dropTargetKey:C,dropContainerKey:_,dropTargetPos:w,dropAllowed:x}),null==u||u({event:t,node:z(n),expandedKeys:r})):e.resetDragState()):e.resetDragState()}else e.resetDragState()})),(0,p.Z)((0,c.Z)(e),"onNodeDragOver",(function(t,n){var i=e.state,r=i.dragChildrenKeys,o=i.flattenNodes,s=i.keyEntities,a=i.expandedKeys,l=i.indent,c=e.props,d=c.onDragOver,u=c.allowDrop,p=c.direction;if(e.dragNodeProps){var h=ye(t,e.dragNodeProps,n,l,e.dragStartMousePosition,u,o,s,a,p),f=h.dropPosition,y=h.dropLevelOffset,m=h.dropTargetKey,g=h.dropContainerKey,v=h.dropTargetPos,b=h.dropAllowed,C=h.dragOverNodeKey;!r.includes(m)&&b&&(e.dragNodeProps.eventKey===m&&0===y?null===e.state.dropPosition&&null===e.state.dropLevelOffset&&null===e.state.dropTargetKey&&null===e.state.dropContainerKey&&null===e.state.dropTargetPos&&!1===e.state.dropAllowed&&null===e.state.dragOverNodeKey||e.resetDragState():f===e.state.dropPosition&&y===e.state.dropLevelOffset&&m===e.state.dropTargetKey&&g===e.state.dropContainerKey&&v===e.state.dropTargetPos&&b===e.state.dropAllowed&&C===e.state.dragOverNodeKey||e.setState({dropPosition:f,dropLevelOffset:y,dropTargetKey:m,dropContainerKey:g,dropTargetPos:v,dropAllowed:b,dragOverNodeKey:C}),null==d||d({event:t,node:z(n)}))}})),(0,p.Z)((0,c.Z)(e),"onNodeDragLeave",(function(t,n){e.currentMouseOverDroppableNodeKey!==n.eventKey||t.currentTarget.contains(t.relatedTarget)||(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var i=e.props.onDragLeave;null==i||i({event:t,node:z(n)})})),(0,p.Z)((0,c.Z)(e),"onWindowDragEnd",(function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)})),(0,p.Z)((0,c.Z)(e),"onNodeDragEnd",(function(t,n){var i=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),null==i||i({event:t,node:z(n)}),e.dragNodeProps=null,window.removeEventListener("dragend",e.onWindowDragEnd)})),(0,p.Z)((0,c.Z)(e),"onNodeDrop",(function(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=e.state,a=s.dragChildrenKeys,l=s.dropPosition,c=s.dropTargetKey,d=s.dropTargetPos,u=s.dropAllowed;if(u){var p=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),null!==c){var h=(0,o.Z)((0,o.Z)({},F(c,e.getTreeNodeRequiredProps())),{},{active:(null===(i=e.getActiveItem())||void 0===i?void 0:i.key)===c,data:Z(e.state.keyEntities,c).node}),f=a.includes(c);(0,g.ZP)(!f,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var y=pe(d),m={event:t,node:z(h),dragNode:e.dragNodeProps?z(e.dragNodeProps):null,dragNodesKeys:[e.dragNodeProps.eventKey].concat(a),dropToGap:0!==l,dropPosition:l+Number(y[y.length-1])};r||null==p||p(m),e.dragNodeProps=null}}})),(0,p.Z)((0,c.Z)(e),"cleanDragState",(function(){null!==e.state.draggingNodeKey&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null})),(0,p.Z)((0,c.Z)(e),"triggerExpandActionExpand",(function(t,n){var i=e.state,r=i.expandedKeys,s=i.flattenNodes,a=n.expanded,l=n.key;if(!(n.isLeaf||t.shiftKey||t.metaKey||t.ctrlKey)){var c=s.filter((function(e){return e.key===l}))[0],d=z((0,o.Z)((0,o.Z)({},F(l,e.getTreeNodeRequiredProps())),{},{data:c.data}));e.setExpandedKeys(a?de(r,l):ue(r,l)),e.onNodeExpand(t,d)}})),(0,p.Z)((0,c.Z)(e),"onNodeClick",(function(t,n){var i=e.props,r=i.onClick;"click"===i.expandAction&&e.triggerExpandActionExpand(t,n),null==r||r(t,n)})),(0,p.Z)((0,c.Z)(e),"onNodeDoubleClick",(function(t,n){var i=e.props,r=i.onDoubleClick;"doubleClick"===i.expandAction&&e.triggerExpandActionExpand(t,n),null==r||r(t,n)})),(0,p.Z)((0,c.Z)(e),"onNodeSelect",(function(t,n){var i=e.state.selectedKeys,r=e.state,o=r.keyEntities,s=r.fieldNames,a=e.props,l=a.onSelect,c=a.multiple,d=n.selected,u=n[s.key],p=!d,h=(i=p?c?ue(i,u):[u]:de(i,u)).map((function(e){var t=Z(o,e);return t?t.node:null})).filter(Boolean);e.setUncontrolledState({selectedKeys:i}),null==l||l(i,{event:"select",selected:p,node:n,selectedNodes:h,nativeEvent:t.nativeEvent})})),(0,p.Z)((0,c.Z)(e),"onNodeCheck",(function(t,n,i){var r,o=e.state,a=o.keyEntities,l=o.checkedKeys,c=o.halfCheckedKeys,d=e.props,u=d.checkStrictly,p=d.onCheck,h=n.key,f={event:"check",node:n,checked:i,nativeEvent:t.nativeEvent};if(u){var y=i?ue(l,h):de(l,h);r={checked:y,halfChecked:de(c,h)},f.checkedNodes=y.map((function(e){return Z(a,e)})).filter(Boolean).map((function(e){return e.node})),e.setUncontrolledState({checkedKeys:y})}else{var m=_e([].concat((0,s.Z)(l),[h]),!0,a),g=m.checkedKeys,v=m.halfCheckedKeys;if(!i){var b=new Set(g);b.delete(h);var C=_e(Array.from(b),{checked:!1,halfCheckedKeys:v},a);g=C.checkedKeys,v=C.halfCheckedKeys}r=g,f.checkedNodes=[],f.checkedNodesPositions=[],f.halfCheckedKeys=v,g.forEach((function(e){var t=Z(a,e);if(t){var n=t.node,i=t.pos;f.checkedNodes.push(n),f.checkedNodesPositions.push({node:n,pos:i})}})),e.setUncontrolledState({checkedKeys:g},!1,{halfCheckedKeys:v})}null==p||p(r,f)})),(0,p.Z)((0,c.Z)(e),"onNodeLoad",(function(t){var n,i=t.key,r=Z(e.state.keyEntities,i);if(null==r||null===(n=r.children)||void 0===n||!n.length){var o=new Promise((function(n,r){e.setState((function(o){var s=o.loadedKeys,a=void 0===s?[]:s,l=o.loadingKeys,c=void 0===l?[]:l,d=e.props,u=d.loadData,p=d.onLoad;return!u||a.includes(i)||c.includes(i)?null:(u(t).then((function(){var r=ue(e.state.loadedKeys,i);null==p||p(r,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:r}),e.setState((function(e){return{loadingKeys:de(e.loadingKeys,i)}})),n()})).catch((function(t){if(e.setState((function(e){return{loadingKeys:de(e.loadingKeys,i)}})),e.loadingRetryTimes[i]=(e.loadingRetryTimes[i]||0)+1,e.loadingRetryTimes[i]>=10){var o=e.state.loadedKeys;(0,g.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:ue(o,i)}),n()}r(t)})),{loadingKeys:ue(c,i)})}))}));return o.catch((function(){})),o}})),(0,p.Z)((0,c.Z)(e),"onNodeMouseEnter",(function(t,n){var i=e.props.onMouseEnter;null==i||i({event:t,node:n})})),(0,p.Z)((0,c.Z)(e),"onNodeMouseLeave",(function(t,n){var i=e.props.onMouseLeave;null==i||i({event:t,node:n})})),(0,p.Z)((0,c.Z)(e),"onNodeContextMenu",(function(t,n){var i=e.props.onRightClick;i&&(t.preventDefault(),i({event:t,node:n}))})),(0,p.Z)((0,c.Z)(e),"onFocus",(function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];null==t||t.apply(void 0,i)})),(0,p.Z)((0,c.Z)(e),"onBlur",(function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];null==t||t.apply(void 0,i)})),(0,p.Z)((0,c.Z)(e),"getTreeNodeRequiredProps",(function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}})),(0,p.Z)((0,c.Z)(e),"setExpandedKeys",(function(t){var n=e.state,i=R(n.treeData,t,n.fieldNames);e.setUncontrolledState({expandedKeys:t,flattenNodes:i},!0)})),(0,p.Z)((0,c.Z)(e),"onNodeExpand",(function(t,n){var i=e.state.expandedKeys,r=e.state,o=r.listChanging,s=r.fieldNames,a=e.props,l=a.onExpand,c=a.loadData,d=n.expanded,u=n[s.key];if(!o){var p=i.includes(u),h=!d;if((0,g.ZP)(d&&p||!d&&!p,"Expand state not sync with index check"),i=h?ue(i,u):de(i,u),e.setExpandedKeys(i),null==l||l(i,{node:n,expanded:h,nativeEvent:t.nativeEvent}),h&&c){var f=e.onNodeLoad(n);f&&f.then((function(){var t=R(e.state.treeData,i,s);e.setUncontrolledState({flattenNodes:t})})).catch((function(){var t=de(e.state.expandedKeys,u);e.setExpandedKeys(t)}))}}})),(0,p.Z)((0,c.Z)(e),"onListChangeStart",(function(){e.setUncontrolledState({listChanging:!0})})),(0,p.Z)((0,c.Z)(e),"onListChangeEnd",(function(){setTimeout((function(){e.setUncontrolledState({listChanging:!1})}))})),(0,p.Z)((0,c.Z)(e),"onActiveChange",(function(t){var n=e.state.activeKey,i=e.props,r=i.onActiveChange,o=i.itemScrollOffset,s=void 0===o?0:o;n!==t&&(e.setState({activeKey:t}),null!==t&&e.scrollTo({key:t,offset:s}),null==r||r(t))})),(0,p.Z)((0,c.Z)(e),"getActiveItem",(function(){var t=e.state,n=t.activeKey,i=t.flattenNodes;return null===n?null:i.find((function(e){return e.key===n}))||null})),(0,p.Z)((0,c.Z)(e),"offsetActiveKey",(function(t){var n=e.state,i=n.flattenNodes,r=n.activeKey,o=i.findIndex((function(e){return e.key===r}));-1===o&&t<0&&(o=i.length);var s=i[o=(o+t+i.length)%i.length];if(s){var a=s.key;e.onActiveChange(a)}else e.onActiveChange(null)})),(0,p.Z)((0,c.Z)(e),"onKeyDown",(function(t){var n=e.state,i=n.activeKey,r=n.expandedKeys,s=n.checkedKeys,a=n.fieldNames,l=e.props,c=l.onKeyDown,d=l.checkable,u=l.selectable;switch(t.which){case y.Z.UP:e.offsetActiveKey(-1),t.preventDefault();break;case y.Z.DOWN:e.offsetActiveKey(1),t.preventDefault()}var p=e.getActiveItem();if(p&&p.data){var h=e.getTreeNodeRequiredProps(),f=!1===p.data.isLeaf||!!(p.data[a.children]||[]).length,m=z((0,o.Z)((0,o.Z)({},F(i,h)),{},{data:p.data,active:!0}));switch(t.which){case y.Z.LEFT:f&&r.includes(i)?e.onNodeExpand({},m):p.parent&&e.onActiveChange(p.parent.key),t.preventDefault();break;case y.Z.RIGHT:f&&!r.includes(i)?e.onNodeExpand({},m):p.children&&p.children.length&&e.onActiveChange(p.children[0].key),t.preventDefault();break;case y.Z.ENTER:case y.Z.SPACE:!d||m.disabled||!1===m.checkable||m.disableCheckbox?d||!u||m.disabled||!1===m.selectable||e.onNodeSelect({},m):e.onNodeCheck({},m,!s.includes(i))}}null==c||c(t)})),(0,p.Z)((0,c.Z)(e),"setUncontrolledState",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e.destroyed){var r=!1,s=!0,a={};Object.keys(t).forEach((function(n){e.props.hasOwnProperty(n)?s=!1:(r=!0,a[n]=t[n])})),!r||n&&!s||e.setState((0,o.Z)((0,o.Z)({},a),i))}})),(0,p.Z)((0,c.Z)(e),"scrollTo",(function(t){e.listRef.current.scrollTo(t)})),e}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props,t=e.activeKey,n=e.itemScrollOffset,i=void 0===n?0:n;void 0!==t&&t!==this.state.activeKey&&(this.setState({activeKey:t}),null!==t&&this.scrollTo({key:t,offset:i}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,t=this.state,n=t.focused,o=t.flattenNodes,s=t.keyEntities,a=t.draggingNodeKey,l=t.activeKey,c=t.dropLevelOffset,d=t.dropContainerKey,u=t.dropTargetKey,h=t.dropPosition,y=t.dragOverNodeKey,g=t.indent,C=this.props,_=C.prefixCls,w=C.className,x=C.style,I=C.showLine,E=C.focusable,S=C.tabIndex,k=void 0===S?0:S,O=C.selectable,N=C.showIcon,Z=C.icon,L=C.switcherIcon,P=C.draggable,M=C.checkable,$=C.checkStrictly,T=C.disabled,A=C.motion,D=C.loadData,R=C.filterTreeNode,j=C.height,K=C.itemHeight,F=C.scrollWidth,z=C.virtual,B=C.titleRender,U=C.dropIndicatorRender,H=C.onContextMenu,V=C.onScroll,q=C.direction,G=C.rootClassName,W=C.rootStyle,J=(0,m.Z)(this.props,{aria:!0,data:!0});P&&(e="object"===(0,r.Z)(P)?P:"function"==typeof P?{nodeDraggable:P}:{});var Q={prefixCls:_,selectable:O,showIcon:N,icon:Z,switcherIcon:L,draggable:e,draggingNodeKey:a,checkable:M,checkStrictly:$,disabled:T,keyEntities:s,dropLevelOffset:c,dropContainerKey:d,dropTargetKey:u,dropPosition:h,dragOverNodeKey:y,indent:g,direction:q,dropIndicatorRender:U,loadData:D,filterTreeNode:R,titleRender:B,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return v.createElement(b.Provider,{value:Q},v.createElement("div",{className:f()(_,w,G,(0,p.Z)((0,p.Z)((0,p.Z)({},"".concat(_,"-show-line"),I),"".concat(_,"-focused"),n),"".concat(_,"-active-focused"),null!==l)),style:W},v.createElement(ce,(0,i.Z)({ref:this.listRef,prefixCls:_,style:x,data:o,disabled:T,selectable:O,checkable:!!M,motion:A,dragging:null!==a,height:j,itemHeight:K,virtual:z,focusable:E,focused:n,tabIndex:k,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:H,onScroll:V,scrollWidth:F},this.getTreeNodeRequiredProps(),J))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,i=t.prevProps,r={prevProps:e};function s(t){return!i&&e.hasOwnProperty(t)||i&&i[t]!==e[t]}var a=t.fieldNames;if(s("fieldNames")&&(a=A(e.fieldNames),r.fieldNames=a),s("treeData")?n=e.treeData:s("children")&&((0,g.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),n=D(e.children)),n){r.treeData=n;var l=K(n,{fieldNames:a});r.keyEntities=(0,o.Z)((0,p.Z)({},ne,re),l.keyEntities)}var c,d=r.keyEntities||t.keyEntities;if(s("expandedKeys")||i&&s("autoExpandParent"))r.expandedKeys=e.autoExpandParent||!i&&e.defaultExpandParent?ve(e.expandedKeys,d):e.expandedKeys;else if(!i&&e.defaultExpandAll){var u=(0,o.Z)({},d);delete u[ne];var h=[];Object.keys(u).forEach((function(e){var t=u[e];t.children&&t.children.length&&h.push(t.key)})),r.expandedKeys=h}else!i&&e.defaultExpandedKeys&&(r.expandedKeys=e.autoExpandParent||e.defaultExpandParent?ve(e.defaultExpandedKeys,d):e.defaultExpandedKeys);if(r.expandedKeys||delete r.expandedKeys,n||r.expandedKeys){var f=R(n||t.treeData,r.expandedKeys||t.expandedKeys,a);r.flattenNodes=f}if((e.selectable&&(s("selectedKeys")?r.selectedKeys=me(e.selectedKeys,e):!i&&e.defaultSelectedKeys&&(r.selectedKeys=me(e.defaultSelectedKeys,e))),e.checkable)&&(s("checkedKeys")?c=ge(e.checkedKeys)||{}:!i&&e.defaultCheckedKeys?c=ge(e.defaultCheckedKeys)||{}:n&&(c=ge(e.checkedKeys)||{checkedKeys:t.checkedKeys,halfCheckedKeys:t.halfCheckedKeys}),c)){var y=c,m=y.checkedKeys,v=void 0===m?[]:m,b=y.halfCheckedKeys,C=void 0===b?[]:b;if(!e.checkStrictly){var _=_e(v,!0,d);v=_.checkedKeys,C=_.halfCheckedKeys}r.checkedKeys=v,r.halfCheckedKeys=C}return s("loadedKeys")&&(r.loadedKeys=e.loadedKeys),r}}]),n}(v.Component);(0,p.Z)(we,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:_,allowDrop:function(){return!0},expandAction:!1}),(0,p.Z)(we,"TreeNode",q);var xe=we,Ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},Ee=n(43638),Se=function(e,t){return v.createElement(Ee.Z,(0,i.Z)({},e,{ref:t,icon:Ie}))};var ke=v.forwardRef(Se),Oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},Ne=function(e,t){return v.createElement(Ee.Z,(0,i.Z)({},e,{ref:t,icon:Oe}))};var Ze=v.forwardRef(Ne),Le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},Pe=function(e,t){return v.createElement(Ee.Z,(0,i.Z)({},e,{ref:t,icon:Le}))};var Me=v.forwardRef(Pe),$e=n(26402),Te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},Ae=function(e,t){return v.createElement(Ee.Z,(0,i.Z)({},e,{ref:t,icon:Te}))};var De=v.forwardRef(Ae),Re=n(21358),je=n(87530),Ke=n(28546),Fe=n(22582),ze=n(36480),Be=n(91945);const Ue=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},(0,Fe.Wf)(e)),{display:"inline-flex",flexWrap:"wrap",columnGap:e.marginXS,[`> ${e.antCls}-row`]:{flex:1}}),[n]:Object.assign(Object.assign({},(0,Fe.Wf)(e)),{display:"inline-flex",alignItems:"baseline",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},[`& + ${n}`]:{marginInlineStart:0},[`&${n}-in-form-item`]:{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},(0,Fe.Wf)(e)),{position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",borderRadius:e.borderRadiusSM,alignSelf:"center",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0,margin:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},(0,Fe.oN)(e))},[`${t}-inner`]:{boxSizing:"border-box",display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${(0,Ke.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"25%",display:"table",width:e.calc(e.checkboxSize).div(14).mul(5).equal(),height:e.calc(e.checkboxSize).div(14).mul(8).equal(),border:`${(0,Ke.bf)(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[`\n        ${n}:not(${n}-disabled),\n        ${t}:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}}},[`\n        ${n}-checked:not(${n}-disabled),\n        ${t}-checked:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"}}},{[t]:{"&-indeterminate":{[`${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorBorder} !important`,"&:after":{top:"50%",insetInlineStart:"50%",width:e.calc(e.fontSizeLG).div(2).equal(),height:e.calc(e.fontSizeLG).div(2).equal(),backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}},[`&:hover ${t}-inner`]:{backgroundColor:`${e.colorBgContainer} !important`,borderColor:`${e.colorPrimary} !important`}}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled},[`&${t}-indeterminate ${t}-inner::after`]:{background:e.colorTextDisabled}}}]};function He(e,t){const n=(0,ze.IX)(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[Ue(n)]}(0,Be.I$)("Checkbox",((e,t)=>{let{prefixCls:n}=t;return[He(n,e)]}));var Ve=n(83606);const qe=e=>{let{treeCls:t,treeNodeCls:n,directoryNodeSelectedBg:i,directoryNodeSelectedColor:r,motionDurationMid:o,borderRadius:s,controlItemBgHover:a}=e;return{[`${t}${t}-directory ${n}`]:{[`${t}-node-content-wrapper`]:{position:"static",[`> *:not(${t}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${o}`,content:'""',borderRadius:s},"&:hover:before":{background:a}},[`${t}-switcher, ${t}-checkbox, ${t}-draggable-icon`]:{zIndex:1},"&-selected":{[`${t}-switcher, ${t}-draggable-icon`]:{color:r},[`${t}-node-content-wrapper`]:{color:r,background:"transparent","&:before, &:hover:before":{background:i}}}}}},Ge=new Ke.E4("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),We=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Je=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${(0,Ke.bf)(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Qe=(e,t)=>{const{treeCls:n,treeNodeCls:i,treeNodePadding:r,titleHeight:o,indentSize:s,nodeSelectedBg:a,nodeHoverBg:l,colorTextQuaternary:c,controlItemBgActiveDisabled:d}=t;return{[n]:Object.assign(Object.assign({},(0,Fe.Wf)(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${n}-rtl ${n}-switcher_close ${n}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${n}-active-focused)`]:Object.assign({},(0,Fe.oN)(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${i}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:Ge,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[i]:{display:"flex",alignItems:"flex-start",marginBottom:r,lineHeight:(0,Ke.bf)(o),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:r},[`&-disabled ${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${n}-checkbox-disabled + ${n}-node-selected,&${i}-disabled${i}-selected ${n}-node-content-wrapper`]:{backgroundColor:d},[`${n}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${i}-disabled)`]:{[`${n}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${n}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${i}-disabled).filter-node ${n}-title`]:{color:t.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${n}-draggable-icon`]:{flexShrink:0,width:o,textAlign:"center",visibility:"visible",color:c},[`&${i}-disabled ${n}-draggable-icon`]:{visibility:"hidden"}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:s}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher, ${n}-checkbox`]:{marginInlineEnd:t.calc(t.calc(o).sub(t.controlInteractiveSize)).div(2).equal()},[`${n}-switcher`]:Object.assign(Object.assign({},We(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:o,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:o,height:o,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${n}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${n}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(o).div(2).equal(),bottom:t.calc(r).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(o).div(2).equal()).mul(.8).equal(),height:t.calc(o).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:o,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},Je(e,t)),{"&:hover":{backgroundColor:l},[`&${n}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:a},[`${n}-iconEle`]:{display:"inline-block",width:o,height:o,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${i}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${n}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(o).div(2).equal(),bottom:t.calc(r).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${i}-leaf-last ${n}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${(0,Ke.bf)(t.calc(o).div(2).equal())} !important`}})}},Xe=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=`.${e}`,r=`${i}-treenode`,o=t.calc(t.paddingXS).div(2).equal(),s=(0,ze.IX)(t,{treeCls:i,treeNodeCls:r,treeNodePadding:o});return[Qe(e,s),n&&qe(s)].filter(Boolean)};var Ye=(0,Be.I$)("Tree",((e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:He(`${n}-checkbox`,e)},Xe(n,e),(0,Ve.Z)(e)]}),(e=>{const{colorTextLightSolid:t,colorPrimary:n}=e;return Object.assign(Object.assign({},(e=>{const{controlHeightSM:t,controlItemBgHover:n,controlItemBgActive:i}=e;return{titleHeight:t,indentSize:t,nodeHoverBg:n,nodeHoverColor:e.colorText,nodeSelectedBg:i,nodeSelectedColor:e.colorText}})(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:n})}));var et=function(e){const{dropPosition:t,dropLevelOffset:n,prefixCls:i,indent:r,direction:o="ltr"}=e,s="ltr"===o?"left":"right",a={[s]:-n*r+4,["ltr"===o?"right":"left"]:0};switch(t){case-1:a.top=-3;break;case 1:a.bottom=-3;break;default:a.bottom=-3,a[s]=r+4}return v.createElement("div",{style:a,className:`${i}-drop-indicator`})},tt={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},nt=function(e,t){return v.createElement(Ee.Z,(0,i.Z)({},e,{ref:t,icon:tt}))};var it=v.forwardRef(nt),rt=n(21833),ot={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},st=function(e,t){return v.createElement(Ee.Z,(0,i.Z)({},e,{ref:t,icon:ot}))};var at=v.forwardRef(st),lt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},ct=function(e,t){return v.createElement(Ee.Z,(0,i.Z)({},e,{ref:t,icon:lt}))};var dt=v.forwardRef(ct),ut=n(66197);var pt=e=>{const{prefixCls:t,switcherIcon:n,treeNodeProps:i,showLine:r,switcherLoadingIcon:o}=e,{isLeaf:s,expanded:a,loading:l}=i;if(l)return v.isValidElement(o)?o:v.createElement(rt.Z,{className:`${t}-switcher-loading-icon`});let c;if(r&&"object"==typeof r&&(c=r.showLeafIcon),s){if(!r)return null;if("boolean"!=typeof c&&c){const e="function"==typeof c?c(i):c,n=`${t}-switcher-line-custom-icon`;return v.isValidElement(e)?(0,ut.Tm)(e,{className:f()(e.props.className||"",n)}):e}return c?v.createElement(ke,{className:`${t}-switcher-line-icon`}):v.createElement("span",{className:`${t}-switcher-leaf-line`})}const d=`${t}-switcher-icon`,u="function"==typeof n?n(i):n;return v.isValidElement(u)?(0,ut.Tm)(u,{className:f()(u.props.className||"",d)}):void 0!==u?u:r?a?v.createElement(at,{className:`${t}-switcher-line-icon`}):v.createElement(dt,{className:`${t}-switcher-line-icon`}):v.createElement(it,{className:d})};const ht=v.forwardRef(((e,t)=>{var n;const{getPrefixCls:i,direction:r,virtual:o,tree:s}=v.useContext($e.E_),{prefixCls:a,className:l,showIcon:c=!1,showLine:d,switcherIcon:u,switcherLoadingIcon:p,blockNode:h=!1,children:y,checkable:m=!1,selectable:g=!0,draggable:b,motion:C,style:_}=e,w=i("tree",a),x=i(),I=null!=C?C:Object.assign(Object.assign({},(0,Re.Z)(x)),{motionAppear:!1}),E=Object.assign(Object.assign({},e),{checkable:m,selectable:g,showIcon:c,motion:I,blockNode:h,showLine:Boolean(d),dropIndicatorRender:et}),[S,k,O]=Ye(w),[,N]=(0,je.ZP)(),Z=N.paddingXS/2+((null===(n=N.Tree)||void 0===n?void 0:n.titleHeight)||N.controlHeightSM),L=v.useMemo((()=>{if(!b)return!1;let e={};switch(typeof b){case"function":e.nodeDraggable=b;break;case"object":e=Object.assign({},b)}return!1!==e.icon&&(e.icon=e.icon||v.createElement(De,null)),e}),[b]);return S(v.createElement(xe,Object.assign({itemHeight:Z,ref:t,virtual:o},E,{style:Object.assign(Object.assign({},null==s?void 0:s.style),_),prefixCls:w,className:f()({[`${w}-icon-hide`]:!c,[`${w}-block-node`]:h,[`${w}-unselectable`]:!g,[`${w}-rtl`]:"rtl"===r},null==s?void 0:s.className,l,k,O),direction:r,checkable:m?v.createElement("span",{className:`${w}-checkbox-inner`}):m,selectable:g,switcherIcon:e=>v.createElement(pt,{prefixCls:w,switcherIcon:u,switcherLoadingIcon:p,treeNodeProps:e,showLine:d}),draggable:L}),y))}));var ft=ht;function yt(e,t,n){const{key:i,children:r}=n;e.forEach((function(e){const o=e[i],s=e[r];!1!==t(o,e)&&yt(s||[],t,n)}))}function mt(e){let{treeData:t,expandedKeys:n,startKey:i,endKey:r,fieldNames:o}=e;const s=[];let a=0;if(i&&i===r)return[i];if(!i||!r)return[];return yt(t,(e=>{if(2===a)return!1;if(function(e){return e===i||e===r}(e)){if(s.push(e),0===a)a=1;else if(1===a)return a=2,!1}else 1===a&&s.push(e);return n.includes(e)}),A(o)),s}function gt(e,t,n){const i=(0,s.Z)(t),r=[];return yt(e,((e,t)=>{const n=i.indexOf(e);return-1!==n&&(r.push(t),i.splice(n,1)),!!i.length}),A(n)),r}var vt=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function bt(e){const{isLeaf:t,expanded:n}=e;return t?v.createElement(ke,null):n?v.createElement(Ze,null):v.createElement(Me,null)}function Ct(e){let{treeData:t,children:n}=e;return t||D(n)}const _t=(e,t)=>{var{defaultExpandAll:n,defaultExpandParent:i,defaultExpandedKeys:r}=e,o=vt(e,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]);const a=v.useRef(null),l=v.useRef(null),[c,d]=v.useState(o.selectedKeys||o.defaultSelectedKeys||[]),[u,p]=v.useState((()=>(()=>{const{keyEntities:e}=K(Ct(o));let t;return t=n?Object.keys(e):i?ve(o.expandedKeys||r||[],e):o.expandedKeys||r||[],t})()));v.useEffect((()=>{"selectedKeys"in o&&d(o.selectedKeys)}),[o.selectedKeys]),v.useEffect((()=>{"expandedKeys"in o&&p(o.expandedKeys)}),[o.expandedKeys]);const{getPrefixCls:h,direction:y}=v.useContext($e.E_),{prefixCls:m,className:g,showIcon:b=!0,expandAction:C="click"}=o,_=vt(o,["prefixCls","className","showIcon","expandAction"]),w=h("tree",m),x=f()(`${w}-directory`,{[`${w}-directory-rtl`]:"rtl"===y},g);return v.createElement(ft,Object.assign({icon:bt,ref:t,blockNode:!0},_,{showIcon:b,expandAction:C,prefixCls:w,className:x,expandedKeys:u,selectedKeys:c,onSelect:(e,t)=>{var n;const{multiple:i,fieldNames:r}=o,{node:c,nativeEvent:p}=t,{key:h=""}=c,f=Ct(o),y=Object.assign(Object.assign({},t),{selected:!0}),m=(null==p?void 0:p.ctrlKey)||(null==p?void 0:p.metaKey),g=null==p?void 0:p.shiftKey;let v;i&&m?(v=e,a.current=h,l.current=v,y.selectedNodes=gt(f,v,r)):i&&g?(v=Array.from(new Set([].concat((0,s.Z)(l.current||[]),(0,s.Z)(mt({treeData:f,expandedKeys:u,startKey:h,endKey:a.current,fieldNames:r}))))),y.selectedNodes=gt(f,v,r)):(v=[h],a.current=h,l.current=v,y.selectedNodes=gt(f,v,r)),null===(n=o.onSelect)||void 0===n||n.call(o,v,y),"selectedKeys"in o||d(v)},onExpand:(e,t)=>{var n;return"expandedKeys"in o||p(e),null===(n=o.onExpand)||void 0===n?void 0:n.call(o,e,t)}}))};var wt=v.forwardRef(_t);const xt=ft;xt.DirectoryTree=wt,xt.TreeNode=q;var It=xt},78445:function(e,t,n){var i=n(88513);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},86222:function(e,t,n){var i=n(15274);e.exports=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw s}}}},e.exports.__esModule=!0,e.exports.default=e.exports},26431:function(e){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},93647:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},76711:function(e,t,n){var i=n(78445),r=n(26431),o=n(15274),s=n(93647);e.exports=function(e){return i(e)||r(e)||o(e)||s()},e.exports.__esModule=!0,e.exports.default=e.exports},75432:function(e,t,n){"use strict";n.d(t,{B:function(){return h}});var i=n(88194),r=n(29328),o=n(9713),s=n(95490),a=n(18764),l=n(15853),c=n(66951),d=n(17155),u=n(84753),p=n(28938);function h(e){const t=e?.origins??[void 0];return(n,i)=>{const r=function(e,t,n){if("resource"===e?.type)return function(e,t,n){const i=(0,l.Oe)(t,n);return{type:String,read:(e,t,n)=>{const r=(0,p.r)(e,t,n);return i.type===String?r:"function"==typeof i.type?new i.type({url:r}):void 0},write:{isRequired:i.json?.write?.isRequired,writer(t,r,a,l){if(!l?.resources)return"string"==typeof t?void(r[a]=(0,p.t)(t,l)):void(r[a]=t.write({},l));const d=function(e){return null==e?null:"string"==typeof e?e:e.url}(t),h=(0,p.t)(d,{...l,verifyItemRelativeUrls:l?.verifyItemRelativeUrls?{writtenUrls:l.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},p.M.NO),g=i.type!==String&&(!(0,o.l)(this)||l?.origin&&this.originIdOf(n)>(0,c.M9)(l.origin)),v={object:this,propertyName:n,value:t,targetUrl:h,dest:r,targetPropertyName:a,context:l,params:e};l?.portalItem&&h&&!(0,s.YP)(h)?g&&e?.contentAddressed?f(v):g?function(e){const{context:t,targetUrl:n,params:i,value:r,dest:o,targetPropertyName:a}=e;if(!t.portalItem)return;const l=t.portalItem.resourceFromPath(n),c=m(r,n,t),d=(0,u.B)(c),p=(0,s.Ml)(l.path),h=i?.compress??!1;d===p?(t.resources&&y({...e,resource:l,content:c,compress:h,updates:t.resources.toUpdate}),o[a]=n):f(e)}(v):function({context:e,targetUrl:t,dest:n,targetPropertyName:i}){e.portalItem&&e.resources&&(e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(t),compress:!1}),n[i]=t)}(v):l?.portalItem&&(null==h||null!=(0,p.i)(h)||(0,s.jc)(h)||g)?f(v):r[a]=h}}}}(e,t,n);switch(e?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:e,write:t}=p.b;return{read:e,write:t}}}}(e,n,i);for(const e of t){const t=(0,d.CJ)(n,e,i);for(const e in r)t[e]=r[e]}}}function f(e){const{targetUrl:t,params:n,value:o,context:l,dest:c,targetPropertyName:d}=e;if(!l.portalItem)return;const h=(0,p.p)(t),f=m(o,t,l);if(n?.contentAddressed&&"json"!==f.type)return void l.messages?.push(new i.Z("persistable:contentAddressingUnsupported",`Property "${d}" is trying to serializing a resource with content of type ${f.type} with content addressing. Content addressing is only supported for json resources.`,{content:f}));const g=n?.contentAddressed&&"json"===f.type?(0,r.F)(f.jsonString):h?.filename??(0,a.DO)(),v=(0,s.v_)(n?.prefix??h?.prefix,g),b=`${v}.${(0,u.B)(f)}`;if(n?.contentAddressed&&l.resources&&"json"===f.type){const e=l.resources.toKeep.find((({resource:e})=>e.path===b))??l.resources.toAdd.find((({resource:e})=>e.path===b));if(e)return void(c[d]=e.resource.itemRelativeUrl)}const C=l.portalItem.resourceFromPath(b);(0,s.jc)(t)&&l.resources&&l.resources.pendingOperations.push((0,s.gi)(t).then((e=>{C.path=`${v}.${(0,u.B)({type:"blob",blob:e})}`,c[d]=C.itemRelativeUrl})).catch((()=>{})));const _=n?.compress??!1;l.resources&&y({...e,resource:C,content:f,compress:_,updates:l.resources.toAdd}),c[d]=C.itemRelativeUrl}function y({object:e,propertyName:t,updates:n,resource:i,content:r,compress:o}){n.push({resource:i,content:r,compress:o,finish:n=>{!function(e,t,n){"string"==typeof e[t]?e[t]=n.url:e[t].url=n.url}(e,t,n)}})}function m(e,t,n){return"string"==typeof e?{type:"url",url:t}:{type:"json",jsonString:JSON.stringify(e.toJSON(n))}}},9713:function(e,t,n){"use strict";function i(e){return e&&"getAtOrigin"in e&&"originOf"in e}n.d(t,{l:function(){return i}})},86640:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var i,r=n(73440),o=n(3480),s=n(41773),a=n(63255),l=n(26636),c=n(8914),d=n(17155),u=(n(61432),n(96711),n(1194)),p=n(48023),h=n(29884);const f=(0,s.w)()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),y=f.jsonValues.slice();(0,o.e$)(y,"orthometric");const m=(0,s.w)()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let g=i=class extends a.Z{constructor(e){super(e),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(e,t,n){return f.write(e,t,n)}readHeightModel(e,t,n){return f.read(e)||(n?.messages&&n.messages.push(function(e,t){return new c.Z("height-model:unsupported",`Height model of value '${e}' is not supported`,t)}(e,{context:n})),null)}readHeightUnit(e,t,n){return m.read(e)||(n?.messages&&n.messages.push(v(e,{context:n})),null)}readHeightUnitService(e,t,n){return(0,l.$C)(e)||m.read(e)||(n?.messages&&n.messages.push(v(e,{context:n})),null)}readVertCRS(e,t){return t.vertCRS||t.ellipsoid||t.geoid}clone(){return new i({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(e){return!!e&&(this===e||this.heightModel===e.heightModel&&this.heightUnit===e.heightUnit&&this.vertCRS===e.vertCRS)}static deriveUnitFromSR(e,t){const n=(0,l.cM)(t);return new i({heightModel:e.heightModel,heightUnit:n??void 0,vertCRS:e.vertCRS})}write(e,t){return t={origin:"web-scene",...t},super.write(e,t)}static fromJSON(e){if(!e)return null;const t=new i;return t.read(e,{origin:"web-scene"}),t}};function v(e,t){return new c.Z("height-unit:unsupported",`Height unit of value '${e}' is not supported`,t)}(0,r._)([(0,d.Cb)({type:f.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:y,default:"ellipsoidal",write:{isRequired:!0}}}}})],g.prototype,"heightModel",void 0),(0,r._)([(0,h.c)("web-scene","heightModel")],g.prototype,"writeHeightModel",null),(0,r._)([(0,u.r)(["web-scene","service"],"heightModel")],g.prototype,"readHeightModel",null),(0,r._)([(0,d.Cb)({type:m.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:m.jsonValues,write:{writer:m.write,isRequired:!0}}}}})],g.prototype,"heightUnit",void 0),(0,r._)([(0,u.r)("web-scene","heightUnit")],g.prototype,"readHeightUnit",null),(0,r._)([(0,u.r)("service","heightUnit")],g.prototype,"readHeightUnitService",null),(0,r._)([(0,d.Cb)({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],g.prototype,"vertCRS",void 0),(0,r._)([(0,u.r)("service","vertCRS",["vertCRS","ellipsoid","geoid"])],g.prototype,"readVertCRS",null),g=i=(0,r._)([(0,p.j)("esri.geometry.HeightModelInfo")],g)},47635:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return W}});var i=n(73440),r=n(997),o=n(84060),s=n(93568),a=n(95490),l=n(17155),c=n(61432),d=n(96711),u=(n(83850),n(48023)),p=n(71354),h=n(45213),f=n(98842),y=n(38209),m=n(88194),g=n(97006),v=n(82592),b=n(67764),C=n(73967),_=n(13878);let w=class extends g.Z{constructor(){super(...arguments),this.type="geojson",this.refresh=(0,s.Ds)((async e=>{await this.load();const{extent:t,timeExtent:n}=await this._connection.invoke("refresh",e);return this.sourceJSON.extent=t,n&&(this.sourceJSON.timeInfo.timeExtent=[n.start,n.end]),{dataChanged:!0,updates:{extent:this.sourceJSON.extent,timeInfo:this.sourceJSON.timeInfo}}}))}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}applyEdits(e){return this.load().then((()=>this._applyEdits(e)))}openPorts(){return this.load().then((()=>this._connection.openPorts()))}queryFeatures(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryFeatures",e?e.toJSON():null,t))).then((e=>_.Z.fromJSON(e)))}queryFeaturesJSON(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryFeatures",e?e.toJSON():null,t)))}queryFeatureCount(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,t)))}queryObjectIds(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,t)))}queryExtent(e,t={}){return this.load(t).then((()=>this._connection.invoke("queryExtent",e?e.toJSON():null,t))).then((e=>({count:e.count,extent:p.Z.fromJSON(e.extent)})))}querySnapping(e,t={}){return this.load(t).then((()=>this._connection.invoke("querySnapping",e,t)))}async queryAttributeBins(e,t={}){return await this.load(),this._connection.invoke("queryAttributeBins",e?.toJSON(),t)}_applyEdits(e){if(!this._connection)throw new m.Z("geojson-layer-source:edit-failure","Memory source not loaded");const t=this.layer.objectIdField,n=[],i=[],r=[];if(e.addFeatures)for(const t of e.addFeatures)n.push(this._serializeFeature(t));if(e.deleteFeatures)for(const n of e.deleteFeatures)"objectId"in n&&null!=n.objectId?i.push(n.objectId):"attributes"in n&&null!=n.attributes[t]&&i.push(n.attributes[t]);if(e.updateFeatures)for(const t of e.updateFeatures)r.push(this._serializeFeature(t));return this._connection.invoke("applyEdits",{adds:n,updates:r,deletes:i}).then((({extent:e,timeExtent:t,featureEditResults:n})=>(this.sourceJSON.extent=e,t&&(this.sourceJSON.timeInfo.timeExtent=[t.start,t.end]),this._createEditsResult(n))))}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:""};return{objectId:e.objectId,globalId:e.globalId,error:t?new m.Z("geojson-layer-source:edit-failure",t.description,{code:t.code}):null}}_serializeFeature(e){const{attributes:t}=e,n=this._geometryForSerialization(e);return n?{geometry:n.toJSON(),attributes:t}:{attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;return null==t?null:"mesh"===t.type||"extent"===t.type?b.Z.fromExtent(t.extent):t}async _startWorker(e){this._connection=await(0,v.bA)("GeoJSONSourceWorker",{strategy:(0,c.Z)("feature-layers-workers")?"dedicated":"local",signal:e,registryTarget:this});const{fields:t,spatialReference:n,hasZ:i,geometryType:r,objectIdField:o,url:s,timeInfo:a,customParameters:l}=this.layer,u="defaults"===this.layer.originOf("spatialReference"),p={url:s,customParameters:l,fields:t&&t.map((e=>e.toJSON())),geometryType:f.Mk.toJSON(r),hasZ:i,objectIdField:o,timeInfo:a?a.toJSON():null,spatialReference:u?null:n&&n.toJSON()},h=await this._connection.invoke("load",p,{signal:e});for(const e of h.warnings)d.Z.getLogger(this.layer).warn("#load()",`${e.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:e});h.featureErrors.length&&d.Z.getLogger(this.layer).warn("#load()",`Encountered ${h.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:h.featureErrors}),this.sourceJSON=h.layerDefinition,this.capabilities=(0,C.MS)(this.sourceJSON.hasZ,!0)}};(0,i._)([(0,l.Cb)()],w.prototype,"capabilities",void 0),(0,i._)([(0,l.Cb)()],w.prototype,"type",void 0),(0,i._)([(0,l.Cb)({constructOnly:!0})],w.prototype,"layer",void 0),(0,i._)([(0,l.Cb)()],w.prototype,"sourceJSON",void 0),w=(0,i._)([(0,u.j)("esri.layers.graphics.sources.GeoJSONSource")],w);var x=n(83263),I=n(55591),E=n(7150),S=n(15303),k=n(88920),O=n(85330),N=n(90833),Z=n(27202),L=n(19306),P=n(3752),M=n(99671),$=n(30472),T=n(93295),A=n(88792),D=n(11755),R=n(49651),j=n(13545),K=n(76554),F=n(89428),z=n(80862),B=n(60541),U=n(29191),H=n(99382),V=n(88097);const q=(0,j.v)();let G=class extends((0,N.c_)((0,E.tM)((0,I.N)((0,k.M)((0,S.b)((0,x.h7)((0,M.n)((0,$._)((0,P.M)((0,L.Q)((0,O.q)((0,Z.I)((0,o.R)(y.Z)))))))))))))){constructor(e){super(e),this.attributeTableTemplate=null,this.copyright=null,this.dateFieldsTimeZone=null,this.definitionExpression=null,this.displayField=null,this.editingEnabled=!1,this.elevationInfo=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.hasZ=void 0,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="GeoJSON",this.outFields=null,this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new w({layer:this}),this.spatialReference=h.Z.WGS84,this.templates=null,this.title="GeoJSON",this.type="geojson"}destroy(){this.source?.destroy()}load(e){const t=this.loadFromPortal({supportedTypes:["GeoJson"],supportsData:!1},e).catch(s.r9).then((()=>this.source.load(e))).then((()=>{this.read(this.source.sourceJSON,{origin:"service",url:this.parsedUrl}),this.revert(["objectIdField","fields","timeInfo"],"service"),(0,K.YN)(this.renderer,this.fieldsIndex),(0,K.UF)(this.timeInfo,this.fieldsIndex)}));return this.addResolvingPromise(t),Promise.resolve(this)}get capabilities(){return this.source?this.source.capabilities:null}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("capabilities"),(this._get("createQueryVersion")||0)+1}get defaultPopupTemplate(){return this.createPopupTemplate()}get isTable(){return this.loaded&&null==this.geometryType}get parsedUrl(){return this.url?(0,a.mN)(this.url):null}set renderer(e){(0,K.YN)(e,this.fieldsIndex),this._set("renderer",e)}set url(e){if(!e)return void this._set("url",e);const t=(0,a.mN)(e);this._set("url",t.path),t.query&&(this.customParameters={...this.customParameters,...t.query})}async applyEdits(e,t){const{applyEdits:i}=await Promise.all([n.e(99813),n.e(5876)]).then(n.bind(n,99813));await this.load();const r=await i(this,this.source,e,t);return this.read({extent:this.source.sourceJSON.extent,timeInfo:this.source.sourceJSON.timeInfo},{origin:"service",ignoreDefaults:!0}),r}on(e,t){return super.on(e,t)}createPopupTemplate(e){return(0,H.eZ)(this,e)}createQuery(){const e=new U.Z,t=this.capabilities?.data;e.returnGeometry=!0,t&&t.supportsZ&&(e.returnZ=!0),e.outFields=["*"],e.where=this.definitionExpression||"1=1";const{timeOffset:n,timeExtent:i}=this;return e.timeExtent=null!=n&&null!=i?i.offset(-n.value,n.unit):i||null,e}getFieldDomain(e,t){return this.getField(e)?.domain}getField(e){return this.fieldsIndex.get(e)}queryFeatures(e,t){return this.load().then((()=>this.source.queryFeatures(U.Z.from(e)||this.createQuery(),t))).then((e=>{if(e?.features)for(const t of e.features)t.layer=t.sourceLayer=this;return e}))}queryObjectIds(e,t){return this.load().then((()=>this.source.queryObjectIds(U.Z.from(e)||this.createQuery(),t)))}queryFeatureCount(e,t){return this.load().then((()=>this.source.queryFeatureCount(U.Z.from(e)||this.createQuery(),t)))}queryExtent(e,t){return this.load().then((()=>this.source.queryExtent(U.Z.from(e)||this.createQuery(),t)))}async queryAttributeBins(e,t){const{source:i,capabilities:r}=await this.load();(0,A.O2)(e,r,"GeoJSONLayer");const o=await Promise.all([n.e(37608),n.e(34042)]).then(n.bind(n,37608)),s=await i.queryAttributeBins(o.default.from(e),t);if(s.features)for(const e of s.features)e.layer=e.sourceLayer=this;return s}async hasDataChanged(){try{const{dataChanged:e,updates:t}=await this.source.refresh(this.customParameters);return null!=t&&this.read(t,{origin:"service",url:this.parsedUrl,ignoreDefaults:!0}),e}catch{}return!1}};(0,i._)([(0,l.Cb)(T.t4)],G.prototype,"attributeTableTemplate",void 0),(0,i._)([(0,l.Cb)({readOnly:!0,json:{read:!1,write:!1}})],G.prototype,"capabilities",null),(0,i._)([(0,l.Cb)({type:String})],G.prototype,"copyright",void 0),(0,i._)([(0,l.Cb)({readOnly:!0})],G.prototype,"createQueryVersion",null),(0,i._)([(0,l.Cb)((0,V.mi)("dateFieldsTimeReference"))],G.prototype,"dateFieldsTimeZone",void 0),(0,i._)([(0,l.Cb)({readOnly:!0})],G.prototype,"defaultPopupTemplate",null),(0,i._)([(0,l.Cb)({type:String,json:{name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],G.prototype,"definitionExpression",void 0),(0,i._)([(0,l.Cb)({type:String})],G.prototype,"displayField",void 0),(0,i._)([(0,l.Cb)({type:Boolean})],G.prototype,"editingEnabled",void 0),(0,i._)([(0,l.Cb)(T.PV)],G.prototype,"elevationInfo",void 0),(0,i._)([(0,l.Cb)({type:[R.Z],json:{name:"layerDefinition.fields",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"fields"}}}})],G.prototype,"fields",void 0),(0,i._)([(0,l.Cb)(q.fieldsIndex)],G.prototype,"fieldsIndex",void 0),(0,i._)([(0,l.Cb)({type:p.Z,json:{name:"extent"}})],G.prototype,"fullExtent",void 0),(0,i._)([(0,l.Cb)({type:["point","polygon","polyline","multipoint"],json:{read:{reader:f.Mk.read}}})],G.prototype,"geometryType",void 0),(0,i._)([(0,l.Cb)({type:Boolean})],G.prototype,"hasZ",void 0),(0,i._)([(0,l.Cb)(T.id)],G.prototype,"id",void 0),(0,i._)([(0,l.Cb)({type:Boolean,readOnly:!0})],G.prototype,"isTable",null),(0,i._)([(0,l.Cb)(T.iR)],G.prototype,"labelsVisible",void 0),(0,i._)([(0,l.Cb)({type:[F.Z],json:{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:z.r},write:!0}})],G.prototype,"labelingInfo",void 0),(0,i._)([(0,l.Cb)(T.rn)],G.prototype,"legendEnabled",void 0),(0,i._)([(0,l.Cb)({type:["show","hide"]})],G.prototype,"listMode",void 0),(0,i._)([(0,l.Cb)({type:String,json:{name:"layerDefinition.objectIdField",write:{ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"objectIdField"}}}})],G.prototype,"objectIdField",void 0),(0,i._)([(0,l.Cb)(T.Oh)],G.prototype,"opacity",void 0),(0,i._)([(0,l.Cb)({type:["GeoJSON"]})],G.prototype,"operationalLayerType",void 0),(0,i._)([(0,l.Cb)(q.outFields)],G.prototype,"outFields",void 0),(0,i._)([(0,l.Cb)({readOnly:!0})],G.prototype,"parsedUrl",null),(0,i._)([(0,l.Cb)(T.C_)],G.prototype,"popupEnabled",void 0),(0,i._)([(0,l.Cb)({type:r.Z,json:{name:"popupInfo",write:!0}})],G.prototype,"popupTemplate",void 0),(0,i._)([(0,l.Cb)({types:B.Av,json:{name:"layerDefinition.drawingInfo.renderer",write:!0,origins:{service:{name:"drawingInfo.renderer"},"web-scene":{types:B.o}}}})],G.prototype,"renderer",null),(0,i._)([(0,l.Cb)(T.YI)],G.prototype,"screenSizePerspectiveEnabled",void 0),(0,i._)([(0,l.Cb)({readOnly:!0})],G.prototype,"source",void 0),(0,i._)([(0,l.Cb)({type:h.Z})],G.prototype,"spatialReference",void 0),(0,i._)([(0,l.Cb)({type:[D.Z]})],G.prototype,"templates",void 0),(0,i._)([(0,l.Cb)()],G.prototype,"title",void 0),(0,i._)([(0,l.Cb)({json:{read:!1},readOnly:!0})],G.prototype,"type",void 0),(0,i._)([(0,l.Cb)(T.HQ)],G.prototype,"url",null),G=(0,i._)([(0,u.j)("esri.layers.GeoJSONLayer")],G);const W=G},53447:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var i=n(73440),r=n(17155),o=(n(61432),n(96711),n(83850),n(48023)),s=n(34415),a=n(38209),l=n(83263),c=n(3752),d=n(53866),u=n(13689);let p=class extends((0,l.h7)((0,c.M)(a.Z))){constructor(e){super(e),this.elevationInfo=null,this.graphics=new d.J,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(e){return this.graphics.add(e),this}addMany(e){return this.graphics.addMany(e),this}removeAll(){return this.graphics.removeAll(),this}remove(e){this.graphics.remove(e)}removeMany(e){this.graphics.removeMany(e)}on(e,t){return super.on(e,t)}graphicChanged(e){this.emit("graphic-update",e)}};(0,i._)([(0,r.Cb)({type:u.Z})],p.prototype,"elevationInfo",void 0),(0,i._)([(0,r.Cb)((0,s.z)(d.J,"graphics"))],p.prototype,"graphics",void 0),(0,i._)([(0,r.Cb)({type:["show","hide"]})],p.prototype,"listMode",void 0),(0,i._)([(0,r.Cb)()],p.prototype,"screenSizePerspectiveEnabled",void 0),(0,i._)([(0,r.Cb)({readOnly:!0})],p.prototype,"type",void 0),(0,i._)([(0,r.Cb)({constructOnly:!0})],p.prototype,"internal",void 0),p=(0,i._)([(0,o.j)("esri.layers.GraphicsLayer")],p)},43141:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return M}});var i=n(73440),r=n(78619),o=n(88194),s=n(96711),a=n(99574),l=n(84060),c=n(93568),d=n(90403),u=n(17155),p=(n(61432),n(83850),n(1194)),h=n(48023),f=n(75432),y=n(24910),m=n(82846),g=n(47925),v=n(71354),b=n(45213),C=n(30146),_=n(38209),w=n(38448),x=n(58560),I=n(55591),E=n(85330),S=n(27202),k=n(3752),O=n(93295),N=n(97113),Z=n(51870),L=n(28938);let P=class extends((0,x.Y)((0,E.q)((0,S.I)((0,k.M)((0,l.R)((0,I.N)((0,w.V)(_.Z)))))))){readModifications(e,t,n){this._modificationsSource={url:(0,L.f)(e,n),context:n}}initialize(){this.addHandles((0,d.on)((()=>this.modifications),"after-changes",(()=>this.modifications=this.modifications),d.Z_))}constructor(e){super(e),this.operationalLayerType="IntegratedMesh3DTilesLayer",this.modifications=null,this._modificationsSource=null,this.spatialReference=new b.Z({wkid:4326,vcsWkid:115700}),this.fullExtent=new v.Z(-180,-90,180,90,this.spatialReference),this.url=null,this.type="integrated-mesh-3dtiles",this.path=null,this.minScale=0,this.maxScale=0,this.rootTilesetJSON=null}set elevationInfo(e){null!=e&&"absolute-height"!==e.mode||this._set("elevationInfo",e),this._validateElevationInfo(e)}_verifyArray(e,t){if(!Array.isArray(e)||e.length<t)return!1;for(const t of e)if("number"!=typeof t)return!1;return!0}_initFullExtent(){const e=this.rootTilesetJSON?.root?.boundingVolume;if(!e)return;if(e.box){const t=e?.box;if(t[3]>7972671&&t[7]>7972671&&t[11]>7945940)return}const t=this.rootTilesetJSON?.root?.transform,n=(0,m.Ue)();if(e.region&&this._verifyArray(e.region,6)){const t=e.region,n=(0,a.BV)(t[0]),i=(0,a.BV)(t[1]),r=t[4],o=(0,a.BV)(t[2]),s=(0,a.BV)(t[3]),l=t[5];this.fullExtent=new v.Z({xmin:n,ymin:i,zmin:r,xmax:o,ymax:s,zmax:l,spatialReference:this.spatialReference})}else if(e.sphere&&this._verifyArray(e.sphere,4)){const i=e.sphere,r=(0,m.al)(i[0],i[1],i[2]),o=i[3]/Math.sqrt(3),s=(0,m.Ue)();(0,y.d)(s,r,(0,m.al)(o,o,o));const a=(0,m.Ue)();if((0,y.f)(a,r,(0,m.al)(o,o,o)),t&&this._verifyArray(t,16)){const e=t;(0,y.t)(n,s,e),(0,y.c)(s,n),(0,y.t)(n,a,e),(0,y.c)(a,n)}(0,C.projectBuffer)(s,g.pn,0,s,b.Z.WGS84,0),(0,C.projectBuffer)(a,g.pn,0,a,b.Z.WGS84,0);const l=(0,m.Ue)(),c=(0,m.Ue)();(0,y.A)(l,s,a),(0,y.z)(c,s,a),this.fullExtent=new v.Z({xmin:l[0],ymin:l[1],zmin:l[2],xmax:c[0],ymax:c[1],zmax:c[2],spatialReference:this.spatialReference})}else if(e.box&&this._verifyArray(e.box,12)){const n=e.box,i=(0,m.al)(n[0],n[1],n[2]),r=(0,m.al)(n[3],n[4],n[5]),o=(0,m.al)(n[6],n[7],n[8]),s=(0,m.al)(n[9],n[10],n[11]),a=[];for(let e=0;e<8;++e)a.push((0,m.Ue)());if((0,y.f)(a[0],i,r),(0,y.f)(a[0],a[0],o),(0,y.f)(a[0],a[0],s),(0,y.a)(a[1],i,r),(0,y.f)(a[1],a[1],o),(0,y.f)(a[1],a[1],s),(0,y.f)(a[2],i,r),(0,y.a)(a[2],a[2],o),(0,y.f)(a[2],a[2],s),(0,y.a)(a[3],i,r),(0,y.a)(a[3],a[3],o),(0,y.f)(a[3],a[3],s),(0,y.f)(a[4],i,r),(0,y.f)(a[4],a[4],o),(0,y.a)(a[4],a[4],s),(0,y.a)(a[5],i,r),(0,y.f)(a[5],a[5],o),(0,y.a)(a[5],a[5],s),(0,y.f)(a[6],i,r),(0,y.a)(a[6],a[6],o),(0,y.a)(a[6],a[6],s),(0,y.a)(a[7],i,r),(0,y.a)(a[7],a[7],o),(0,y.a)(a[7],a[7],s),t&&this._verifyArray(t,16)){const e=t;for(let t=0;t<8;++t)(0,y.t)(a[t],a[t],e)}const l=(0,m.al)(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),c=(0,m.al)(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let e=0;e<8;++e)(0,C.projectBuffer)(a[e],g.pn,0,a[e],b.Z.WGS84,0),(0,y.A)(c,c,a[e]),(0,y.z)(l,l,a[e]);this.fullExtent=new v.Z({xmin:c[0],ymin:c[1],zmin:c[2],xmax:l[0],ymax:l[1],zmax:l[2],spatialReference:this.spatialReference})}}async load(e){return this.addResolvingPromise(this._doLoad(e)),this}async _doLoad(e){const t=null!=e?e.signal:null;try{await this.loadFromPortal({supportedTypes:["3DTiles Service"],validateItem:e=>{if(e.typeKeywords?.includes("IntegratedMesh"))return!0;throw new o.Z("portal:invalid-layer-item-type","Invalid layer item, expected '${expectedType}' ",{expectedType:"3DTiles Service containing IntegratedMesh"})}},e)}catch(e){(0,c.r9)(e)}if(null!=this._modificationsSource){const t=await N.Z.fromUrl(this._modificationsSource.url,this.spatialReference,e);this.setAtOrigin("modifications",t,this._modificationsSource.context.origin),this._modificationsSource=null}if(this.url){const e=(0,r.Z)(this.url,{query:{...this.customParameters,token:this.apiKey},responseType:"json",signal:t}).then((e=>{this.rootTilesetJSON=e.data,this._initFullExtent()}),(e=>{(0,c.r9)(e)}));await e}}beforeSave(){if(null!=this._modificationsSource)return this.load().then((()=>{}),(()=>{}))}async fetchAttributionData(){return this.load().then((()=>({})))}_validateElevationInfo(e){const t="Integrated mesh 3d tiles layers";(0,Z.LR)(s.Z.getLogger(this),(0,Z.Uy)(t,"absolute-height",e)),(0,Z.LR)(s.Z.getLogger(this),(0,Z.kf)(t,e))}};(0,i._)([(0,u.Cb)({type:["IntegratedMesh3DTilesLayer"]})],P.prototype,"operationalLayerType",void 0),(0,i._)([(0,u.Cb)({type:N.Z,clonable:e=>e.clone()}),(0,f.B)({origins:["web-scene","portal-item"],type:"resource",prefix:"modifications"})],P.prototype,"modifications",void 0),(0,i._)([(0,p.r)(["web-scene","portal-item"],"modifications")],P.prototype,"readModifications",null),(0,i._)([(0,u.Cb)({type:b.Z})],P.prototype,"spatialReference",void 0),(0,i._)([(0,u.Cb)({type:v.Z})],P.prototype,"fullExtent",void 0),(0,i._)([(0,u.Cb)(O.PV)],P.prototype,"elevationInfo",null),(0,i._)([(0,u.Cb)({type:["show","hide"]})],P.prototype,"listMode",void 0),(0,i._)([(0,u.Cb)(O.HQ)],P.prototype,"url",void 0),(0,i._)([(0,u.Cb)({readOnly:!0})],P.prototype,"type",void 0),(0,i._)([(0,u.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0},"portal-item":{read:!0,write:!0}},read:!1}})],P.prototype,"path",void 0),(0,i._)([(0,u.Cb)({type:Number,json:{name:"layerDefinition.minScale",write:!0,origins:{service:{read:!1,write:!1}}}})],P.prototype,"minScale",void 0),(0,i._)([(0,u.Cb)({type:Number,json:{name:"layerDefinition.maxScale",write:!0,origins:{service:{read:!1,write:!1}}}})],P.prototype,"maxScale",void 0),P=(0,i._)([(0,h.j)("esri.layers.IntegratedMesh3DTilesLayer")],P);const M=P},57040:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var i=n(73440),r=n(78619),o=n(88194),s=n(332),a=n(84060),l=n(93568),c=n(17155),d=n(95226),u=(n(61432),n(83850),n(1194)),p=n(48023),h=n(29884),f=n(66951),y=n(71354),m=n(4469),g=n(8554),v=n(38209),b=n(38448),C=n(34085),_=n(58560),w=n(83263),x=n(55591),I=n(85330),E=n(27202),S=n(19306),k=n(3752),O=n(70937),N=n(99671),Z=n(93295),L=n(33287),P=n(97349),M=n(38120),$=n(33285),T=n(10852),A=n(13689),D=n(85913),R=n(88097),j=n(3651);let K=class extends((0,w.h7)((0,N.n)((0,k.M)((0,O.x)((0,C.O)((0,_.Y)((0,I.q)((0,E.I)((0,a.R)((0,S.Q)((0,b.V)((0,x.N)(v.Z))))))))))))){constructor(...e){super(...e),this._exportImageParameters=new L.R({layer:this}),this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.dpi=96,this.elevationInfo=new A.Z({mode:"on-the-ground"}),this.gdbVersion=null,this.imageFormat="png24",this.imageMaxHeight=2048,this.imageMaxWidth=2048,this.imageTransparency=!0,this.isReference=null,this.labelsVisible=!1,this.operationalLayerType="ArcGISMapServiceLayer",this.preferredTimeZone=null,this.sourceJSON=null,this.sublayers=null,this.type="map-image",this.url=null,this._debouncedSaveOperations=(0,l.Ds)((async(e,t,i)=>{const{save:r,saveAs:o}=await n.e(85790).then(n.bind(n,85790));switch(e){case j.x.SAVE:return r(this,t);case j.x.SAVE_AS:return o(this,i,t)}}))}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).catch(l.r9).then((()=>this._fetchService(t)))),Promise.resolve(this)}destroy(){this._exportImageParameters.destroy()}readImageFormat(e,t){const n=t.supportedImageFormatTypes;return n&&n.includes("PNG32")?"png32":"png24"}writeSublayers(e,t,n,i){if(!this.loaded||!e)return;const r=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray();let o=!1;const s=(0,f.M9)(i.origin);let a;if(this.capabilities?.operations.supportsExportMap&&this.capabilities?.exportMap?.supportsDynamicLayers)if(s===f.s3.PORTAL_ITEM){const e=this.createSublayersForOrigin("service").sublayers;o=(0,$.QV)(r,e,f.s3.SERVICE)}else if(s>f.s3.PORTAL_ITEM){const e=this.createSublayersForOrigin("portal-item");o=(0,$.QV)(r,e.sublayers,(0,f.M9)(e.origin)),a=e.originWithPartialOverrides}const l=[],c={writeSublayerStructure:o,...i,minimumWritableOrigin:a};let d=o||this.hasVisibleLayersForOrigin(s);r.forEach((e=>{const t=e.write({},c);l.push(t),d=d||"user"===e.originOf("visible")})),l.some((e=>Object.keys(e).length>1))&&(t.layers=l),d&&(t.visibleLayers=r.filter((e=>e.visible)).map((e=>e.id)))}createExportImageParameters(e,t,n,i){const r=i?.pixelRatio||1;e&&this.version>=10&&(e=e.clone().shiftCentralMeridian()),this._exportImageParameters.floors=i?.floors??null,this._exportImageParameters.scale=(0,m.yZ)({extent:e,width:t})*r;const o=this._exportImageParameters.toJSON(),s=!i?.rotation||this.version<10.3?{}:{rotation:-i.rotation},a=e?.spatialReference,l=(0,g.B9)(a);o.dpi*=r;const c={};if(i?.timeExtent){const{start:e,end:t}=i.timeExtent.toJSON();c.time=e&&t&&e===t?""+e:`${e??"null"},${t??"null"}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(c.time="null,null");return{bbox:e?e.xmin+","+e.ymin+","+e.xmax+","+e.ymax:void 0,bboxSR:l,imageSR:l,size:t+","+n,...o,...s,...c}}async fetchImage(e,t,n,i){const{data:r}=await this._fetchImage("image",e,t,n,i);return r}async fetchImageBitmap(e,t,n,i){const{data:r,url:o}=await this._fetchImage("blob",e,t,n,i);return(0,P.g)(r,o,i?.signal)}async fetchRecomputedExtents(e={}){const t={...e,query:{returnUpdates:!0,f:"json",...this.customParameters,token:this.apiKey}},{data:n}=await(0,r.Z)(this.url,t),{extent:i,fullExtent:o,timeExtent:s}=n,a=i||o;return{fullExtent:a&&y.Z.fromJSON(a),timeExtent:s&&D.T.fromJSON({start:s[0],end:s[1]})}}loadAll(){return(0,s.G)(this,(e=>{e(this.allSublayers),e(this.subtables)}))}async save(e){return this._debouncedSaveOperations(j.x.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(j.x.SAVE_AS,t,e)}serviceSupportsSpatialReference(e){return(0,T.D)(this,e)}async _fetchImage(e,t,n,i,s){const a={responseType:e,signal:s?.signal??null,query:{...this.parsedUrl.query,...this.createExportImageParameters(t,n,i,s),f:"image",...this.refreshParameters,...this.customParameters,token:this.apiKey}},c=this.parsedUrl.path+"/export";if(null!=a.query?.dynamicLayers&&!this.capabilities?.exportMap?.supportsDynamicLayers)throw new o.Z("mapimagelayer:dynamiclayer-not-supported",`service ${this.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,{query:a.query});try{const{data:e}=await(0,r.Z)(c,a);return{data:e,url:c}}catch(e){if((0,l.D_)(e))throw e;throw new o.Z("mapimagelayer:image-fetch-error",`Unable to load image: ${c}`,{error:e})}}async _fetchService(e){if(this.sourceJSON)return void this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl});const{data:t,ssl:n}=await(0,r.Z)(this.parsedUrl.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},signal:e});n&&(this.url=this.url.replace(/^http:/i,"https:")),this.sourceJSON=t,this.read(t,{origin:"service",url:this.parsedUrl})}hasVisibleLayersForOrigin(e){return!(null==e||!this.sublayersSourceJSON[e]?.visibleLayers)}};(0,i._)([(0,c.Cb)((0,R.mi)("dateFieldsTimeReference"))],K.prototype,"dateFieldsTimeZone",void 0),(0,i._)([(0,c.Cb)({type:Boolean})],K.prototype,"datesInUnknownTimezone",void 0),(0,i._)([(0,c.Cb)()],K.prototype,"dpi",void 0),(0,i._)([(0,c.Cb)()],K.prototype,"elevationInfo",void 0),(0,i._)([(0,c.Cb)()],K.prototype,"gdbVersion",void 0),(0,i._)([(0,c.Cb)()],K.prototype,"imageFormat",void 0),(0,i._)([(0,u.r)("imageFormat",["supportedImageFormatTypes"])],K.prototype,"readImageFormat",null),(0,i._)([(0,c.Cb)({json:{origins:{service:{read:{source:"maxImageHeight"}}}}})],K.prototype,"imageMaxHeight",void 0),(0,i._)([(0,c.Cb)({json:{origins:{service:{read:{source:"maxImageWidth"}}}}})],K.prototype,"imageMaxWidth",void 0),(0,i._)([(0,c.Cb)()],K.prototype,"imageTransparency",void 0),(0,i._)([(0,c.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],K.prototype,"isReference",void 0),(0,i._)([(0,c.Cb)({json:{read:!1,write:!1}})],K.prototype,"labelsVisible",void 0),(0,i._)([(0,c.Cb)({type:["ArcGISMapServiceLayer"]})],K.prototype,"operationalLayerType",void 0),(0,i._)([(0,c.Cb)({json:{read:!1,write:!1}})],K.prototype,"popupEnabled",void 0),(0,i._)([(0,c.Cb)((0,R.mi)("preferredTimeReference"))],K.prototype,"preferredTimeZone",void 0),(0,i._)([(0,c.Cb)()],K.prototype,"sourceJSON",void 0),(0,i._)([(0,c.Cb)({json:{write:{ignoreOrigin:!0}}})],K.prototype,"sublayers",void 0),(0,i._)([(0,h.c)("sublayers",{layers:{type:[M.Z]},visibleLayers:{type:[d.z8]}})],K.prototype,"writeSublayers",null),(0,i._)([(0,c.Cb)({type:["show","hide","hide-children"],json:{origins:{"portal-item":{read:!1,write:!1}}}})],K.prototype,"listMode",void 0),(0,i._)([(0,c.Cb)({json:{read:!1},readOnly:!0,value:"map-image"})],K.prototype,"type",void 0),(0,i._)([(0,c.Cb)(Z.HQ)],K.prototype,"url",void 0),K=(0,i._)([(0,p.j)("esri.layers.MapImageLayer")],K);const F=K},59259:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var i,r=n(73440),o=n(78619),s=n(88194),a=n(332),l=n(84060),c=n(93568),d=n(95490),u=n(17155),p=n(90775),h=(n(61432),n(83850),n(1194)),f=n(48023),y=n(29884),m=n(45213),g=n(38209),v=n(38448),b=n(39272),C=n(34085),_=n(58560),w=n(83263),x=n(55591),I=n(85330),E=n(27202),S=n(19306),k=n(3752),O=n(70937),N=n(66619),Z=n(93295),L=n(97349),P=n(38120),M=n(13689);const $=["Canvas/World_Dark_Gray_Base","Canvas/World_Dark_Gray_Reference","Canvas/World_Light_Gray_Base","Canvas/World_Light_Gray_Reference","Elevation/World_Hillshade","Elevation/World_Hillshade_Dark","Ocean/World_Ocean_Base","Ocean/World_Ocean_Reference","Ocean_Basemap","Reference/World_Boundaries_and_Places","Reference/World_Boundaries_and_Places_Alternate","Reference/World_Transportation","World_Imagery","World_Street_Map","World_Topo_Map"];let T=i=class extends((0,w.h7)((0,k.M)((0,O.x)((0,b.Z)((0,C.O)((0,I.q)((0,E.I)((0,_.Y)((0,l.R)((0,S.Q)((0,v.V)((0,x.N)(g.Z))))))))))))){constructor(...e){super(...e),this.listMode="show",this.elevationInfo=new M.Z({mode:"on-the-ground"}),this.isReference=null,this.operationalLayerType="ArcGISTiledMapServiceLayer",this.resampling=!0,this.sourceJSON=null,this.spatialReference=null,this.path=null,this.sublayers=null,this.type="tile",this.url=null}normalizeCtorArgs(e,t){return"string"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},e).catch(c.r9).then((()=>this._fetchService(t)))),Promise.resolve(this)}get attributionDataUrl(){const e=this.parsedUrl?.path.toLowerCase();return e?this._getDefaultAttribution(this._getMapName(e)):null}readSpatialReference(e,t){return(e=e||t.tileInfo?.spatialReference)&&m.Z.fromJSON(e)}writeSublayers(e,t,n,i){if(!this.loaded||!e)return;const r=e.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).toArray(),o=[],s={writeSublayerStructure:!1,...i};r.forEach((e=>{const t=e.write({},s);o.push(t)})),o.some((e=>Object.keys(e).length>1))&&(t.layers=o)}get tileServers(){return this._getDefaultTileServers(this.parsedUrl?.path)}castTileServers(e){return Array.isArray(e)?e.map((e=>(0,d.mN)(e).path)):null}fetchTile(e,t,n,i={}){const{signal:r}=i,s=this.getTileUrl(e,t,n),a={responseType:"image",signal:r,query:{...this.refreshParameters}};return(0,o.Z)(s,a).then((e=>e.data))}async fetchImageBitmapTile(e,t,n,r={}){const{signal:s}=r;if(this.fetchTile!==i.prototype.fetchTile){const i=await this.fetchTile(e,t,n,r);return(0,L.V)(i,e,t,n,s)}const a=this.getTileUrl(e,t,n),l={responseType:"blob",signal:s,query:{...this.refreshParameters}},{data:c}=await(0,o.Z)(a,l);return(0,L.V)(c,e,t,n,s)}getTileUrl(e,t,n){const i=!this.capabilities.operations.supportsTileMap&&this.supportsBlankTile,r=(0,d.B7)({...this.parsedUrl?.query,blankTile:!i&&null,...this.customParameters,token:this.apiKey}),o=this.tileServers;return`${o&&o.length?o[t%o.length]:this.parsedUrl?.path}/tile/${e}/${t}/${n}${r?"?"+r:""}`}loadAll(){return(0,a.G)(this,(e=>{e(this.allSublayers)}))}_fetchService(e){return new Promise(((t,n)=>{if(this.sourceJSON){if(null!=this.sourceJSON.bandCount&&null!=this.sourceJSON.pixelSizeX)throw new s.Z("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");return void t({data:this.sourceJSON})}if(!this.parsedUrl)throw new s.Z("tile-layer:undefined-url","layer's url is not defined");const i=(0,N.Qc)(this.parsedUrl.path);if(null!=i&&"ImageServer"===i.serverType)throw new s.Z("tile-layer:unsupported-url","use ImageryTileLayer to open a tiled image service");(0,o.Z)(this.parsedUrl.path,{query:{f:"json",...this.parsedUrl.query,...this.customParameters,token:this.apiKey},responseType:"json",signal:e}).then(t,n)})).then((t=>{let n=this.url;if(t.ssl&&(n=this.url=n.replace(/^http:/i,"https:")),this.sourceJSON=t.data,this.read(t.data,{origin:"service",url:this.parsedUrl}),10.1===this.version&&!(0,N.M8)(n))return this._fetchServerVersion(n,e).then((e=>{this.read({currentVersion:e})})).catch((()=>{}))}))}_fetchServerVersion(e,t){if(!(0,N.B5)(e))return Promise.reject();const n=e.replace(/(.*\/rest)\/.*/i,"$1")+"/info";return(0,o.Z)(n,{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:t}).then((e=>{if(e.data?.currentVersion)return e.data.currentVersion;throw new s.Z("tile-layer:version-not-available","Server did not provide a version")}))}_getMapName(e){const t=e.match(/^(?:https?:)?\/\/(server\.arcgisonline\.com|services\.arcgisonline\.com|ibasemaps-api\.arcgis\.com)\/arcgis\/rest\/services\/([^/]+(\/[^/]+)*)\/mapserver/i);return t?t[2]:void 0}_getDefaultAttribution(e){if(null==e)return null;let t;e=e.toLowerCase();for(let n=0,i=$.length;n<i;n++)if(t=$[n],t.toLowerCase().includes(e))return(0,d.hF)("//static.arcgis.com/attribution/"+t);return null}_getDefaultTileServers(e){if(null==e)return[];const t=-1!==e.search(/^(?:https?:)?\/\/server\.arcgisonline\.com/i),n=-1!==e.search(/^(?:https?:)?\/\/services\.arcgisonline\.com/i);return t||n?[e,e.replace(t?/server\.arcgisonline/i:/services\.arcgisonline/i,t?"services.arcgisonline":"server.arcgisonline")]:[]}get hasOverriddenFetchTile(){return!this.fetchTile[A]}};(0,r._)([(0,u.Cb)({readOnly:!0})],T.prototype,"attributionDataUrl",null),(0,r._)([(0,u.Cb)({type:["show","hide","hide-children"]})],T.prototype,"listMode",void 0),(0,r._)([(0,u.Cb)({json:{read:!0,write:!0}})],T.prototype,"blendMode",void 0),(0,r._)([(0,u.Cb)()],T.prototype,"elevationInfo",void 0),(0,r._)([(0,u.Cb)({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],T.prototype,"isReference",void 0),(0,r._)([(0,u.Cb)({readOnly:!0,type:["ArcGISTiledMapServiceLayer"]})],T.prototype,"operationalLayerType",void 0),(0,r._)([(0,u.Cb)({type:Boolean})],T.prototype,"resampling",void 0),(0,r._)([(0,u.Cb)()],T.prototype,"sourceJSON",void 0),(0,r._)([(0,u.Cb)({type:m.Z})],T.prototype,"spatialReference",void 0),(0,r._)([(0,h.r)("spatialReference",["spatialReference","tileInfo"])],T.prototype,"readSpatialReference",null),(0,r._)([(0,u.Cb)({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],T.prototype,"path",void 0),(0,r._)([(0,u.Cb)({readOnly:!0})],T.prototype,"sublayers",void 0),(0,r._)([(0,y.c)("sublayers",{layers:{type:[P.Z]}})],T.prototype,"writeSublayers",null),(0,r._)([(0,u.Cb)({json:{read:!1,write:!1}})],T.prototype,"popupEnabled",void 0),(0,r._)([(0,u.Cb)()],T.prototype,"tileServers",null),(0,r._)([(0,p.p)("tileServers")],T.prototype,"castTileServers",null),(0,r._)([(0,u.Cb)({readOnly:!0,json:{read:!1}})],T.prototype,"type",void 0),(0,r._)([(0,u.Cb)(Z.HQ)],T.prototype,"url",void 0),T=i=(0,r._)([(0,f.j)("esri.layers.TileLayer")],T);const A=Symbol("default-fetch-tile");T.prototype.fetchTile[A]=!0;const D=T},17749:function(e,t,n){"use strict";n.d(t,{e:function(){return r},g:function(){return i}});const i={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!0,supportsCurrentUser:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsPaginationOnAggregatedQueries:!1,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!0,supportsReturnMesh:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,maxUniqueIDCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0,supportsTrueCurve:!1},r={supportsDate:!0,supportsFixedInterval:!0,supportsAutoInterval:!0,supportsFixedBoundaries:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!0,supportedStatistics:{count:!0,sum:!0,avg:!0,var:!0,stddev:!0,min:!0,max:!0,percentileContinuous:!0,percentileDiscrete:!0,envelope:!0,centroid:!0,convexHull:!0},supportedNormalizationTypes:{field:!0,log:!0,naturalLog:!0,percentOfTotal:!0,squareRoot:!0}}},73967:function(e,t,n){"use strict";n.d(t,{Dm:function(){return d},Hq:function(){return p},MS:function(){return h},bU:function(){return a}});var i=n(61432),r=n(28947),o=n(17749),s=n(54914);function a(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?s.I4:"esriGeometryPolyline"===e?s.ET:s.lF}}}const l=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let c=1;function d(e,t){if((0,i.Z)("esri-csp-restrictions"))return()=>({[t]:null,...e});try{let n=`this${u(t)} = null;`;for(const t in e)n+=`this${u(t)} = ${JSON.stringify(e[t])};`;const i=new Function(`\n      return class AttributesClass$${c++} {\n        constructor() {\n          ${n};\n        }\n      }\n    `)();return()=>new i}catch(n){return()=>({[t]:null,...e})}}function u(e){return l.test(e)?`.${e}`:`["${e}"]`}function p(e={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,r.d9)(e)}}]}function h(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:o.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:o.e,editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},39272:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var i=n(73440),r=n(17155),o=(n(61432),n(96711),n(83850),n(1194)),s=n(48023),a=n(45213),l=n(97550),c=n(94219),d=n(8682);const u=e=>{let t=class extends e{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}readMaxScale(e,t){return null!=t.minLOD&&null!=t.maxLOD?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,t,n){const i=t.capabilities?.includes("Tilemap");let{minLOD:r,maxLOD:o,minScale:s,maxScale:a}=t;if(null==r&&null==o&&(0!==s||0!==a)){const e=e=>Math.round(1e4*e)/1e4;s=e(s||t.tileInfo.lods[0].scale),a=e(a||t.tileInfo.lods[t.tileInfo.lods.length-1].scale);for(const n of t.tileInfo.lods){const t=e(n.scale);r=t>=s?n.level:r,o=t>=a?n.level:o}}if(i)return new d.y({layer:this,minLOD:r,maxLOD:o});if(t.tileInfo){const e=new l.Z;return e.read(t.tileInfo,n),new c.Z(e,r,o)}return null}};return(0,i._)([(0,r.Cb)({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),(0,i._)([(0,r.Cb)()],t.prototype,"minScale",void 0),(0,i._)([(0,o.r)("service","minScale")],t.prototype,"readMinScale",null),(0,i._)([(0,r.Cb)()],t.prototype,"maxScale",void 0),(0,i._)([(0,o.r)("service","maxScale")],t.prototype,"readMaxScale",null),(0,i._)([(0,r.Cb)({type:a.Z})],t.prototype,"spatialReference",void 0),(0,i._)([(0,r.Cb)({readOnly:!0})],t.prototype,"supportsBlankTile",null),(0,i._)([(0,r.Cb)({type:l.Z})],t.prototype,"tileInfo",void 0),(0,i._)([(0,r.Cb)()],t.prototype,"tilemapCache",void 0),(0,i._)([(0,o.r)("service","tilemapCache",["capabilities","tileInfo"])],t.prototype,"readTilemapCache",null),(0,i._)([(0,r.Cb)()],t.prototype,"version",void 0),t=(0,i._)([(0,s.j)("esri.layers.mixins.ArcGISCachedService")],t),t}},49076:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var i,r=n(73440),o=n(63255),s=n(28947),a=n(8914),l=n(17155),c=(n(61432),n(96711),n(48023)),d=n(29884),u=n(75432),p=n(67764),h=n(13132);let f=i=class extends o.Z{constructor(e){super(e),this.geometry=null,this.type="clip"}writeGeometry(e,t,n,i){if(i.layer?.spatialReference&&!i.layer.spatialReference.equals(this.geometry.spatialReference)){if(!(0,h.canProjectWithoutEngine)(e.spatialReference,i.layer.spatialReference))return void(i?.messages&&i.messages.push(new a.Z("scenemodification:unsupported","Scene modifications with incompatible spatial references are not supported",{modification:this,spatialReference:i.layer.spatialReference,context:i})));const r=new p.Z;(0,h.projectPolygon)(e,r,i.layer.spatialReference),t[n]=r.toJSON(i)}else t[n]=e.toJSON(i);delete t[n].spatialReference}clone(){return new i({geometry:(0,s.d9)(this.geometry),type:this.type})}};(0,r._)([(0,l.Cb)({type:p.Z}),(0,u.B)()],f.prototype,"geometry",void 0),(0,r._)([(0,d.c)(["web-scene","portal-item"],"geometry")],f.prototype,"writeGeometry",null),(0,r._)([(0,l.Cb)({type:["clip","mask","replace"],nonNullable:!0}),(0,u.B)()],f.prototype,"type",void 0),f=i=(0,r._)([(0,c.j)("esri.layers.support.SceneModification")],f)},97113:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var i,r=n(73440),o=n(78619),s=n(43254),a=n(63255),l=n(95490),c=n(17155),d=(n(61432),n(96711),n(83850),n(48023)),u=n(49076);let p=i=class extends(a.Z.JSONSupportMixin(s.Z.ofType(u.Z))){constructor(e){super(e),this.url=null}clone(){return new i({url:this.url,items:this.items.map((e=>e.clone()))})}toJSON(e){return this.toArray().map((t=>t.toJSON(e))).filter((e=>!!e.geometry))}static fromJSON(e,t){const n=new i;for(const i of e)n.add(u.Z.fromJSON(i,t));return n}static async fromUrl(e,t,n){const r={url:(0,l.mN)(e),origin:"service"},s=await(0,o.Z)(e,{responseType:"json",signal:n?.signal}),a=t.toJSON(),c=[];for(const e of s.data)c.push(u.Z.fromJSON({...e,geometry:{...e.geometry,spatialReference:a}},r));return new i({url:e,items:c})}};(0,r._)([(0,c.Cb)({type:String})],p.prototype,"url",void 0),p=i=(0,r._)([(0,d.j)("esri.layers.support.SceneModifications")],p)},94219:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(88194),r=n(93568);class o{constructor(e,t=0,n=e.lods[e.lods.length-1].level){this.tileInfo=e,this.minLOD=t,this.maxLOD=n,e.lodAt(t)||(this.minLOD=e.lods[0].level),e.lodAt(n)||(this.maxLOD=e.lods[e.lods.length-1].level)}get effectiveMinLOD(){return this.minLOD??this.tileInfo.lods[0].level}get effectiveMaxLOD(){return this.maxLOD??this.tileInfo.lods[this.tileInfo.lods.length-1].level}getAvailability(e,t,n){const i=this.tileInfo?.lodAt(e);return!i||e<this.minLOD||e>this.maxLOD?"unavailable":i.cols&&i.rows?n>=i.cols[0]&&n<=i.cols[1]&&t>=i.rows[0]&&t<=i.rows[1]?"unknown":"unavailable":"unknown"}async fetchAvailability(e,t,n,o){await(0,r.Yn)(o);const s=this.getAvailability(e,t,n);if("unavailable"===s)throw new i.Z("tile-map:tile-unavailable","Tile is not available",{level:e,row:t,col:n});return s}async fetchAvailabilityUpsample(e,t,n,i,o){await(0,r.Yn)(o),i.level=e,i.row=t,i.col=n;const s=this.tileInfo;return s.updateTileInfo(i),this.fetchAvailability(e,t,n,o).catch((e=>{if((0,r.D_)(e))throw e;if(s.upsampleTile(i))return this.fetchAvailabilityUpsample(i.level,i.row,i.col,i,o);throw e}))}}},56346:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var i=n(73440),r=n(70880),o=n(3480),s=n(29292),a=n(43254),l=n(17155),c=(n(61432),n(96711),n(48023)),d=n(76554),u=n(3411);let p=class extends r.Z{constructor(e){super(e),this._featureUtils=null,this.effectivePopupTemplate=null}get _arcadeTask(){return this.expressionsUsedInTitle.length>0?this._get("_arcadeTask")||(0,s.vr)((()=>(0,u.L)())):null}get featureUtilsPromise(){return this._get("featureUtilsPromise")??n.e(11407).then(n.bind(n,11407)).then((e=>this._featureUtils=e))}get calculatedExpressions(){const e=new a.Z;if(!this.expressionsUsedInTitle.length)return e;if(!this._arcadeTask?.value){for(const t of this.expressionsUsedInTitle??[])e.push({name:t.name,invalid:!0});return e}for(const t of this.expressionsUsedInTitle)try{const n=this._arcadeTask.value.arcade.parseScript(t.expression,["$layer","$map","$datastore"]);if(n.isAsync){e.push({name:t.name,invalid:!0});break}e.push({name:t.name,syntax:n,invalid:!1,func:this._arcadeTask.value.arcade.compileScript(n,{vars:{$feature:"any"}})})}catch{e.push({name:t.name,invalid:!0});break}return e}get expressionsUsedInTitle(){let e=this.effectivePopupTemplate?.title??"";return"string"!=typeof e?[]:(e=e.toLowerCase(),this.effectivePopupTemplate?.expressionInfos?.filter((t=>e.includes(`{expression/${t.name.toLowerCase()}}`)))??[])}get fieldInfoMap(){return this._featureUtils?this._createFieldInfoMap(this._featureUtils.getAllFieldInfos(this.effectivePopupTemplate)):null}get hasBadExpressions(){return this.calculatedExpressions.some((e=>!0===e.invalid))}get requiredFields(){const e=new Set;if(this._arcadeTask?.value&&!this.hasBadExpressions)for(const t of this.calculatedExpressions?.toArray()??[])try{const n=this._arcadeTask.value.arcade.extractFieldLiterals(t.syntax);for(const t of n){const n=t.split("."),i=this.fieldsIndex.get(n.at(-1)??"");i&&e.add(i.name)}}catch{}const t=this._extractFieldNames(this.workingTitle);for(const n of t){const t=this.fieldsIndex.get(n);t&&e.add(t.name)}return null!=this.objectIdField&&e.add(this.objectIdField),e}get titleFromDisplayField(){let e="";return this.displayField&&(e=this.fieldsIndex.get(this.displayField)?.name??""),e||(e=this.fieldsIndex.get(this.objectIdField)?.name??""),e?`{${e}}`:""}get workingTitle(){const e=this.effectivePopupTemplate?this.effectivePopupTemplate.title:"";return""===e||null==e||this.hasBadExpressions||"string"!=typeof e?this.titleFromDisplayField:e}async getTitle(e,t,n){const i=t.getObjectId()??t.attributes[e.objectIdField];return(await this.getTitles(e,[t],n)).get(i)??""}async getTitles(e,t,n){const i=new Map,r=n?.timeZone??"system";try{const[{substituteFieldsInLinksAndAttributes:o}]=await Promise.all([this.featureUtilsPromise,this._arcadeTask?.promise]);n?.fetchMissingFields&&(t=await this._checkAndReQueryGraphics(e,t));const{fieldInfoMap:s,workingTitle:a}=this,l=a&&s;t.forEach((t=>{const n=t.getObjectId()??t.attributes[e.objectIdField],c=l?o({attributes:t.attributes,expressionAttributes:null,fieldInfoMap:s,globalAttributes:this._createFormattedAttributes(e,t,r).global,layer:e,text:a}):"";i.set(n,c)}))}catch{}return i}async _checkAndReQueryGraphics(e,t){const n=t.map((t=>t.getObjectId()??t.attributes[e.objectIdField])).filter(o.pC);if(n.length!==t.length)return t;if(t.some((e=>!(0,d.R9)(e,this.requiredFields)))){const i=e.createQuery();i.where="1=1",i.outFields=[...this.requiredFields],i.objectIds=n;const r=await e.queryFeatures(i);if(r?.features.length===t.length)return r.features}return t}_createFieldInfoMap(e){const t=new Map;if(!e)return t;for(const n of e){if(!n.fieldName)continue;const e=this.fieldsIndex.get(n.fieldName)?.name??n.fieldName;n.fieldName=e,t.set(e.toLowerCase(),n)}return t}_createFormattedAttributes(e,t,n="system"){const i=this.effectivePopupTemplate?.fieldInfos??[],r={};if(!this._featureUtils)return{};if(!this.hasBadExpressions&&this.calculatedExpressions.length>0&&this._arcadeTask?.value){const n=this._arcadeTask.value.Feature.createFromGraphicLikeObject(t.geometry,t.attributes,e,null);for(const e of this.calculatedExpressions)try{r[`expression/${e.name}`]=e.func({vars:{$feature:n}})}catch{}}const o={...t.attributes,...r};return{global:this._featureUtils.formatAttributes({fieldInfos:i,attributes:o,graphic:t,timeZone:n,layer:e,fieldInfoMap:this.fieldInfoMap}),content:[]}}_extractFieldNames(e){return(0,d.ld)(e).filter((e=>!(0===e.indexOf("relationships/")||0===e.indexOf("expression/"))))}};(0,i._)([(0,l.Cb)({readOnly:!0})],p.prototype,"_arcadeTask",null),(0,i._)([(0,l.Cb)()],p.prototype,"_featureUtils",void 0),(0,i._)([(0,l.Cb)({readOnly:!0})],p.prototype,"featureUtilsPromise",null),(0,i._)([(0,l.Cb)({readOnly:!0})],p.prototype,"calculatedExpressions",null),(0,i._)([(0,l.Cb)()],p.prototype,"displayField",void 0),(0,i._)([(0,l.Cb)()],p.prototype,"effectivePopupTemplate",void 0),(0,i._)([(0,l.Cb)()],p.prototype,"expressionsUsedInTitle",null),(0,i._)([(0,l.Cb)()],p.prototype,"fieldsIndex",void 0),(0,i._)([(0,l.Cb)()],p.prototype,"fieldInfoMap",null),(0,i._)([(0,l.Cb)()],p.prototype,"fields",void 0),(0,i._)([(0,l.Cb)()],p.prototype,"objectIdField",void 0),(0,i._)([(0,l.Cb)()],p.prototype,"requiredFields",null),p=(0,i._)([(0,c.j)("esri.layers.support.TitleCreator")],p)},89617:function(e,t,n){"use strict";n.d(t,{Dg:function(){return s},b$:function(){return d},gH:function(){return a},mR:function(){return l},uS:function(){return c}});n(55214);var i=n(84644),r=(n(68808),n(23039)),o=n(37964);const s=()=>(0,i.h)({action:()=>Promise.all([n.e(58268),n.e(55001),n.e(11030)]).then(n.bind(n,11030))});function a(e,t,n){const{title:i,textEnabled:o}=t,{type:s,active:a,uid:c,disabled:d,indicator:u}=e;return e.visible?(0,r.u)("calcite-action",{...t,active:"toggle"===s&&e.value,appearance:"solid","data-action-id":e.id,"data-action-uid":c,disabled:d,icon:l(e),indicator:u,loading:a,scale:"s",text:i??"",title:o?void 0:i},n):null}function l(e){return e.icon?e.icon:"image"in e&&e.image||e.className?void 0:"question"}function c(e){return e?{backgroundImage:`url(${e})`}:{}}function d({action:e,feature:t}){const n=t?.attributes,i="image"in e?e.image:void 0;return i&&n?(0,o.n)(i,n):i??""}},59339:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var i,r=n(73440),o=(n(55214),n(17155)),s=(n(61432),n(96711),n(83850),n(48023)),a=n(82114),l=n(89617),c=n(1803),d=n(5221),u=n(84644),p=n(23039),h=n(68808),f=n(37964);let y=class extends c.Z{static{i=this}constructor(e){super(e),this.dragEnabled=!1,this.listModeDisabled=!1,this.parent=null,this.parentTitles=null,this.viewModel=null,this._onActionMenuOpen=e=>{this.item.actionsOpen=e.currentTarget.open},this._setTooltipReference=e=>{this.onTooltipReferenceChange?.(this.item.layer?.uid,e)},this._removeTooltipReference=()=>{this.onTooltipReferenceChange?.(this.item.layer?.uid,null)}}loadDependencies(){return(0,u.h)({"action-group":()=>Promise.all([n.e(58268),n.e(62737),n.e(55001),n.e(71823),n.e(79767),n.e(65988)]).then(n.bind(n,22655)),"action-menu":()=>Promise.all([n.e(58268),n.e(62737),n.e(55001),n.e(71823),n.e(79767),n.e(69208)]).then(n.bind(n,79767)),action:()=>Promise.all([n.e(58268),n.e(55001),n.e(11030)]).then(n.bind(n,11030)),icon:()=>Promise.all([n.e(58268),n.e(4204)]).then(n.bind(n,4204)),"list-item":()=>Promise.all([n.e(58268),n.e(62737),n.e(55001),n.e(96326),n.e(13206)]).then(n.bind(n,96326)),list:()=>Promise.all([n.e(58268),n.e(55001),n.e(17345),n.e(26041),n.e(75014),n.e(29749),n.e(52532)]).then(n.bind(n,29749)),notice:()=>Promise.all([n.e(58268),n.e(40473)]).then(n.bind(n,40473))})}static{this.vnodeSelector="calcite-list-item"}render(){const e=this.parentTitles??[],{_title:t,item:n,activeItem:i,selectionMode:r,selectedItems:o,messages:s,parent:a,css:l,dragDisabled:c}=this,d="visibleAtCurrentTimeExtent"in n&&"layerInvisibleAtTime"in s&&!n.visibleAtCurrentTimeExtent?`${t} (${s.layerInvisibleAtTime})`:"visibleAtCurrentScale"in n&&"layerInvisibleAtScale"in s&&!n.visibleAtCurrentScale?`${t} (${s.layerInvisibleAtScale})`:t,u="parent"in n&&"catalog"===n.parent?.layer?.type,{layer:h}=n,f="visibleAtCurrentScale"in n&&!n.visibleAtCurrentScale||"visibleAtCurrentTimeExtent"in n&&!n.visibleAtCurrentTimeExtent;return(0,p.u)("calcite-list-item",{afterCreate:e=>this._focusSelectedDragEl(e,n),afterUpdate:e=>this._focusSelectedDragEl(e,n),class:this.classes(l.item,"itemActive"in l&&{[l.itemActive]:i===n}),"data-item":n,"data-layer-id":h?.id,dragDisabled:!n.sortable||u||c,expanded:"open"in n&&n.open,id:h?.uid,key:`list-item-${h?.uid}`,label:t,metadata:{parentTitles:e,_title:t},selected:"none"!==r&&o.includes(n),title:d,unavailable:f,value:h?.uid,onCalciteListItemSelect:e=>"visible"in n&&this._handleCalciteListItemSelect(e,n,a),onCalciteListItemToggle:e=>"open"in n&&this._handleCalciteListItemToggle(e,n)},this._renderedCatalogFootprintIcon,this._renderedCatalogDynamicIcon,this._renderedItemStatus,this._renderedItemToggle,this._renderedCatalogSelectNode,this._renderedItemTemporaryIcon,this._renderedChildList,this._renderedItemMessage,this._renderedPanel,this._renderedPanelAction,this._renderedActions)}get _title(){const{messages:e}=this;return this.item.title||("untitledTable"in e?e.untitledTable:e.untitledLayer)}get _renderedItemStatus(){const{item:e,parent:t,visibleElements:n,css:i}=this;if(!n.statusIndicators)return null;const{publishing:r}=e,o="updating"in e&&e.updating&&!t,s="connectionStatus"in e?e.connectionStatus:void 0,a=!!s;return(0,p.u)("calcite-icon",{class:this.classes(i.statusIndicator,{[i.publishing]:r},"updating"in i&&{[i.updating]:o},"connectionStatus"in i&&{[i.connectionStatus]:a},"connectionStatusConnected"in i&&{[i.connectionStatusConnected]:a&&"connected"===s}),icon:(0,d.XO)({connectionStatus:s,publishing:r}),key:"layer-item-status",scale:"s",slot:"content-end"})}get _renderedItemTemporaryIcon(){const{item:e,visibleElements:t,css:n}=this,{layer:i}=e,r="temporaryLayerIndicators"in t&&t.temporaryLayerIndicators,o="temporaryTableIndicators"in t&&t.temporaryTableIndicators,s=i&&"persistenceEnabled"in i&&((0,a.xu)(i)||!i.persistenceEnabled);return(r||o)&&s?(0,p.u)("calcite-icon",{class:n.itemTemporaryIcon,icon:"temporary",key:"temporary-icon",scale:"s",slot:"content-start",title:this.messages.temporary}):null}get _renderedItemToggle(){const{_title:e,item:t,parent:n,messages:i,visibilityAppearance:r,css:o}=this;if(!("visible"in t&&"layerVisibility"in i&&"showLayer"in i&&"hideLayer"in i&&"visibleToggle"in o&&r))return null;const{visible:s}=t,a=this._getParentVisibilityMode(n);if("inherited"===a)return null;const l=(0,d.gk)({visible:s,exclusive:"exclusive"===a,visibilityAppearance:r}),c="checkbox"===r,u=i.layerVisibility,h=(0,f.n)(s?i.hideLayer:i.showLayer,{layerName:e});return(0,p.u)("calcite-action",{appearance:"transparent",class:o.visibleToggle,icon:c?l:void 0,key:"visibility-toggle",label:h,onclick:()=>this._toggleVisibility(t,n),scale:"s",slot:c?"actions-start":"actions-end",text:u,title:h},c?null:(0,p.u)("calcite-icon",{class:this.classes({[o.visibleIcon]:"exclusive"!==a&&s}),icon:l,scale:"s"}))}get _renderedPanel(){const{panel:e}=this.item;return!e?.open||e.disabled||e.flowEnabled?null:(0,p.u)("div",{class:this.css.itemContentBottom,key:`content-panel-${e.uid}`,slot:"content-bottom"},e.render())}get _renderedPanelAction(){const{panel:e}=this.item;if(!e?.visible)return null;const{open:t,title:n,disabled:i}=e;return(0,p.u)("calcite-action",{active:t,appearance:"transparent",disabled:i,icon:(0,l.mR)(e),key:`action-${e.uid}`,onclick:()=>this._togglePanel(e),scale:"s",slot:"actions-end",text:n??"",title:n??void 0},this._renderFallbackIcon(e))}get _renderedActions(){switch(this._actionsCount){case 0:return null;case 1:return this._singleAction;default:return this._renderedActionMenu}}get _renderedActionMenu(){const{item:e,messagesCommon:t}=this,n=t.options;return(0,p.u)("calcite-action-menu",{appearance:"transparent",key:"item-action-menu",label:t.menu,open:e.actionsOpen,overlayPositioning:"fixed",placement:"bottom-end",scale:"s",slot:"actions-end",onCalciteActionMenuOpen:this._onActionMenuOpen},(0,p.u)("calcite-action",{appearance:"transparent",icon:"ellipsis",scale:"s",slot:"trigger",text:n,title:n}),this._renderedActionMenuContent)}get _renderedActionMenuContent(){return this._filteredSections.toArray().map((e=>(0,p.u)("calcite-action-group",{key:`action-section-${e.uid}`},e.toArray().map((e=>this._renderAction({action:e,textEnabled:!0}))))))}get _renderedCatalogFootprintIcon(){const{css:e}=this,t=this.item.layer,n="catalog-footprint"===t?.type,i="sublayer"===t?.type&&(0,a.bs)(t,"footprints");return"itemCatalogIcon"in e&&(n||i)?(0,p.u)("calcite-icon",{class:e.itemCatalogIcon,icon:"footprint",key:"footprint",scale:"s",slot:"content-start"}):null}get _renderedCatalogDynamicIcon(){const{css:e}=this,t=this.item.layer,n="catalog-dynamic-group"===t?.type,i="sublayer"===t?.type&&(0,a.bs)(t,"layers-in-view");return"itemCatalogIcon"in e&&(n||i)?(0,p.u)("calcite-icon",{class:e.itemCatalogIcon,icon:"catalog-dataset",key:"catalog-dataset",scale:"s",slot:"content-start"}):null}get _renderedCatalogSelectNode(){const{_title:e,item:t,visibleElements:n}=this;if(!("visible"in t))return;const{layer:i}=t,r="catalog-dynamic-group"===i?.type;return"catalogLayerList"in n&&n.catalogLayerList&&r?(0,p.u)("calcite-action",{appearance:"transparent",disabled:!i.visible,icon:"chevron-right",iconFlipRtl:!0,onclick:()=>this._triggerOnCatalogOpen(t),scale:"s",slot:"actions-end",text:e}):null}get _renderedChildList(){const{dragEnabled:e,item:t,rootGroupUid:n,listModeDisabled:i,selectionMode:r,displayMode:o}=this;if(!("children"in t))return;const s=[...this.parentTitles??[],t.title],{children:a,layer:l}=t,c="catalog-dynamic-group"!==l?.type&&(0,d.bB)(t),u=!i&&(0,d.Kf)(l),h="group"===l?.type,f=!u&&!c&&e&&h,y=!!e&&"childrenSortable"in t&&t.childrenSortable&&(0,d.xA)(t);return c||f?(0,p.u)("calcite-list",{canPull:e=>!!this.canMove&&this.canMove(e,"pull"),canPut:e=>!!this.canMove&&this.canMove(e,"put"),"data-item":t,"data-layer-type":n,displayMode:o,dragEnabled:y,group:h?n:`${n}-${l?.uid}`,key:`child-list-${l?.uid}`,label:t.title,selectionAppearance:"border",selectionMode:r},a?.filter((e=>!e.hidden&&(this.visibleElements.errors||!e.error))).toArray().map((e=>this._renderItem(e,t,s))),this._renderedTablesItem):null}get _hasTables(){const{layerTablesEnabled:e}=this,t=this.item.layer;if(!e||!t)return!1;switch(t.type){case"knowledge-graph":return e.includes(t.type)&&"tables"in t&&!!t.tables?.length;case"map-image":case"tile":return e.includes(t.type)&&"subtables"in t&&!!t.subtables?.length;default:return!1}}get _renderedTablesItem(){const{item:e,messages:t,css:n}=this,{layer:i}=e;return"itemTableIcon"in n&&"visible"in e&&"tables"in t&&this._hasTables?(0,p.u)("calcite-list-item",{class:n.item,"data-layer-id":i?.id,dragDisabled:!0,key:`list-item-table-list-tables-${i?.uid}`,label:t.tables,title:t.tables,onCalciteListItemSelect:()=>this._triggerOnTablesOpen(e)},(0,p.u)("calcite-icon",{class:n.itemTableIcon,icon:"table",scale:"s",slot:"content-start"}),(0,p.u)("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"})):null}get _renderedItemMessage(){const{item:e,messages:t,css:n}=this;return e.error?(0,p.u)("div",{class:n.itemMessage,key:"esri-layer-list__error",slot:"content-bottom"},(0,p.u)("calcite-notice",{icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",width:"full"},(0,p.u)("div",{slot:"message"},"tableError"in t?t.tableError:t.layerError))):"incompatible"in e&&e.incompatible&&"layerIncompatible"in t?(0,p.u)("div",{class:n.itemMessage,key:"esri-layer-list__incompatible",slot:"content-bottom"},(0,p.u)("calcite-notice",{afterCreate:this._setTooltipReference,afterRemoved:this._removeTooltipReference,bind:this,icon:"exclamation-mark-triangle",kind:"warning",open:!0,scale:"s",tabIndex:0,width:"full"},(0,p.u)("div",{slot:"message"},t.layerIncompatible))):null}get _singleAction(){return this._renderAction({action:(0,d.g5)(this._filteredSections),textEnabled:!1})}get _filteredSections(){return this.item.actionsSections.map((e=>e.filter((e=>e.visible))))}get _actionsCount(){return this.item.actionsSections.reduce(((e,t)=>e+t.length),0)}_renderAction(e){const{item:t}=this,{action:n,textEnabled:i}=e;if(!n)return null;const{active:r,disabled:o,title:s,type:a,indicator:c}=n;return(0,p.u)("calcite-action",{active:"toggle"===a&&n.value,appearance:"transparent","data-action-id":n.id,disabled:o,icon:(0,l.mR)(n),indicator:c,key:`action-${n.uid}`,loading:r,onclick:()=>this._triggerAction(t,n),scale:"s",slot:i?void 0:"actions-end",text:s??"",textEnabled:i,title:s??void 0},this._renderFallbackIcon(n))}_renderFallbackIcon(e){const{css:t}=this,{icon:n}=e,i="className"in e?e.className:void 0;if(n)return null;const r="image"in e?e.image:void 0,o={[t.itemActionIcon]:!!i,[t.itemActionImage]:!!r};return i&&(o[i]=!0),r||i?(0,p.u)("span",{"aria-hidden":"true",class:this.classes(t.itemActionIcon,o),key:"icon",styles:(0,l.uS)(r)}):null}_renderItem(e,t,n=[]){return(0,p.u)(i,{activeItem:this.activeItem,canMove:this.canMove,css:this.css,displayMode:this.displayMode,dragEnabled:this.dragEnabled,item:e,key:`layerListItem-${e.layer?.uid}`,layerTablesEnabled:this.layerTablesEnabled,listModeDisabled:this.listModeDisabled,messages:this.messages,messagesCommon:this.messagesCommon,parent:t,parentTitles:n,rootGroupUid:this.rootGroupUid,selectedDragItemLayerUid:this.selectedDragItemLayerUid,selectedItems:this.selectedItems,selectionMode:this.selectionMode,visibilityAppearance:this.visibilityAppearance,visibleElements:this.visibleElements,onAction:this.onAction,onCatalogOpen:this.onCatalogOpen,onPanelOpen:this.onPanelOpen,onSelectedDragItemLayerUidChange:this.onSelectedDragItemLayerUidChange,onTablesOpen:this.onTablesOpen,onTooltipReferenceChange:this.onTooltipReferenceChange})}_triggerAction(e,t){t&&e&&("toggle"===t.type&&(t.value=!t.value),this.onAction(t,e))}_triggerOnTablesOpen(e){e&&this.onTablesOpen&&this.onTablesOpen(e)}_triggerOnCatalogOpen(e){e&&this.onCatalogOpen?.(e)}_focusSelectedDragEl(e,t){this.selectedDragItemLayerUid===t.layer?.uid&&((0,h.kW)(e),this.onSelectedDragItemLayerUidChange?.(null))}_handleCalciteListItemToggle(e,t){e.stopPropagation(),t.open=e.target.expanded}_getParentVisibilityMode(e){return e&&"visibilityMode"in e?e.visibilityMode:null}_handleCalciteListItemSelect(e,t,n){if((0,d.rV)(e.target)!==t)return;const i=this._getParentVisibilityMode(n);"none"===this.selectionMode&&"inherited"!==i&&this._toggleVisibility(t,n)}_togglePanel(e){e.open=!e.open,e.open&&this.onPanelOpen()}_toggleVisibility(e,t){e&&"visible"in e&&("exclusive"===this._getParentVisibilityMode(t)&&e.visible||(e.visible=!e.visible))}};(0,r._)([(0,o.Cb)()],y.prototype,"activeItem",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"canMove",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"css",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"displayMode",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"dragEnabled",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"dragDisabled",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"item",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"layerTablesEnabled",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"listModeDisabled",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"messages",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"messagesCommon",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"onAction",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"onPanelOpen",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"onCatalogOpen",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"onTablesOpen",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"onSelectedDragItemLayerUidChange",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"onTooltipReferenceChange",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"parent",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"parentTitles",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"rootGroupUid",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"selectionMode",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"selectedItems",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"selectedDragItemLayerUid",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"visibleElements",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"visibilityAppearance",void 0),(0,r._)([(0,o.Cb)()],y.prototype,"_title",null),(0,r._)([(0,o.Cb)()],y.prototype,"_renderedItemStatus",null),(0,r._)([(0,o.Cb)()],y.prototype,"_renderedItemTemporaryIcon",null),(0,r._)([(0,o.Cb)()],y.prototype,"_renderedItemToggle",null),(0,r._)([(0,o.Cb)()],y.prototype,"_renderedPanel",null),(0,r._)([(0,o.Cb)()],y.prototype,"_renderedPanelAction",null),(0,r._)([(0,o.Cb)()],y.prototype,"_renderedActions",null),(0,r._)([(0,o.Cb)()],y.prototype,"_renderedActionMenu",null),(0,r._)([(0,o.Cb)()],y.prototype,"_renderedActionMenuContent",null),(0,r._)([(0,o.Cb)()],y.prototype,"_renderedCatalogFootprintIcon",null),(0,r._)([(0,o.Cb)()],y.prototype,"_renderedCatalogDynamicIcon",null),(0,r._)([(0,o.Cb)()],y.prototype,"_renderedCatalogSelectNode",null),(0,r._)([(0,o.Cb)()],y.prototype,"_renderedChildList",null),(0,r._)([(0,o.Cb)()],y.prototype,"_hasTables",null),(0,r._)([(0,o.Cb)()],y.prototype,"_renderedTablesItem",null),(0,r._)([(0,o.Cb)()],y.prototype,"_renderedItemMessage",null),(0,r._)([(0,o.Cb)()],y.prototype,"_singleAction",null),(0,r._)([(0,o.Cb)()],y.prototype,"_filteredSections",null),(0,r._)([(0,o.Cb)()],y.prototype,"_actionsCount",null),y=i=(0,r._)([(0,s.j)("esri.widgets.LayerList.LayerListItem")],y);const m=y},94027:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var i=n(73440),r=n(43254),o=n(87833),s=n(90403),a=n(17155),l=(n(61432),n(96711),n(83850),n(48023));function c(e){return null!=e&&"object"==typeof e&&"2d"===e.type&&"linkchart"===e.view2dType}var d=n(48804),u=n(5221);const p="view",h="view-layers",f="map-layers",y="layer-views",m="layer-list-mode",g=r.Z.ofType(d.Z);let v=class extends o.Z.EventedAccessor{constructor(e){super(e),this.checkPublishStatusEnabled=!1,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.operationalItems=new g,this.view=null}initialize(){this.addHandles([(0,s.YP)((()=>!0===this.view?.ready),(()=>this._viewHandles()),s.nn),(0,s.YP)((()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled]),(()=>this._recompileList())),(0,s.YP)((()=>c(this.view)?this.view.inGeographicLayout:null),(()=>this._compileList()))],p)}destroy(){this._removeAllItems(),this.view=null}get state(){const{view:e}=this;return e?.ready?"ready":e?"loading":"disabled"}get totalItems(){return this.operationalItems.flatten((e=>e.children)).length}triggerAction(e,t){e&&!e.disabled&&this.emit("trigger-action",{action:e,item:t})}moveListItem(e,t,n,i){const r=e?.layer;if(!r||"subtype-sublayer"===r.type||"sublayer"===r.type)return;const o=this.view?.map?.layers,s=t?(0,u.Hh)(t):o,a=n?(0,u.Hh)(n):o;if(!s||!a)return;const{operationalItems:l}=this,c=t?.children||l,d=n?.children||l,p=a.length-i;e.parent=n||null,c.remove(e),s.remove(r),d.includes(e)||d.add(e,p),a.includes(r)||a.add(r,p),this._compileList()}_createLayerViewHandles(e){this.removeHandles(y),this._compileList(),e&&this.addHandles(e.on("change",(()=>this._compileList())),y)}_createMapLayerHandles(e){this.removeHandles(f),this._compileList(),e&&this.addHandles(e.on("change",(()=>this._compileList())),f)}_createListItem(e){const{view:t,listItemCreatedFunction:n,checkPublishStatusEnabled:i,listModeDisabled:r}=this;return new d.Z({checkPublishStatusEnabled:i,listModeDisabled:r,layer:e,listItemCreatedFunction:n,view:t})}_removeAllItems(){this.operationalItems.destroyAll()}_getViewableLayers(e){return e?this.listModeDisabled?e:e.filter((e=>"hide"!==(0,u.aV)(e))):void 0}_watchLayersListMode(e){this.removeHandles(m),e&&!this.listModeDisabled&&this.addHandles((0,s.YP)((()=>e.filter((e=>"listMode"in e)).map((e=>e.listMode)).toArray()),(()=>this._compileList())),m)}_compileList(){const e=this.view?.map?.layers,t=c(this.view)&&!this.view.inGeographicLayout?e?.filter((({type:e})=>"link-chart"===e)):e;this._watchLayersListMode(t);const n=this._getViewableLayers(t);n?.length?(this._createNewItems(n),this._removeItems(n),this._sortItems(n)):this._removeAllItems()}_createNewItems(e){const{operationalItems:t}=this;e.forEach((e=>{t.some((t=>t.layer===e))||t.add(this._createListItem(e))}))}_removeItems(e){const{operationalItems:t}=this,n=[];t.forEach((t=>{t&&e&&e.includes(t.layer)||n.push(t)})),t.destroyMany(n)}_sortItems(e){const{operationalItems:t}=this;t.sort(((t,n)=>{const i=e.indexOf(t.layer),r=e.indexOf(n.layer);return i>r?-1:i<r?1:0}))}_recompileList(){this._removeAllItems(),this._compileList()}_viewHandles(){const{view:e}=this;this.removeHandles([f,y,h]),e?.ready?this.addHandles([(0,s.YP)((()=>this.view?.map?.allLayers),(e=>this._createMapLayerHandles(e)),s.nn),(0,s.YP)((()=>this.view?.allLayerViews),(e=>this._createLayerViewHandles(e)),s.nn)],h):this._removeAllItems()}};(0,i._)([(0,a.Cb)()],v.prototype,"checkPublishStatusEnabled",void 0),(0,i._)([(0,a.Cb)()],v.prototype,"listItemCreatedFunction",void 0),(0,i._)([(0,a.Cb)({nonNullable:!0})],v.prototype,"listModeDisabled",void 0),(0,i._)([(0,a.Cb)({type:g})],v.prototype,"operationalItems",void 0),(0,i._)([(0,a.Cb)({readOnly:!0})],v.prototype,"state",null),(0,i._)([(0,a.Cb)()],v.prototype,"totalItems",null),(0,i._)([(0,a.Cb)()],v.prototype,"view",void 0),v=(0,i._)([(0,l.j)("esri.widgets.LayerList.LayerListViewModel")],v);const b=v},48804:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var i=n(73440),r=n(70880),o=n(3480),s=n(43254),a=n(15894),l=n(90403),c=n(17155),d=n(90775),u=(n(61432),n(48023)),p=n(57947),h=n(72689),f=n(47711),y=n(60650),m=n(61100),g=(n(96711),n(83850),n(1803)),v=n(5221),b=n(60916),C=n(23039);let _=class extends(a.Z.IdentifiableMixin(g.Z)){constructor(e,t){super(e,t),this._legend=null,this.content=null,this.flowEnabled=!1,this.image=null,this.listItem=null,this.open=!1,this.visible=!0}initialize(){this.addHandles([(0,l.YP)((()=>this._canCreateLegend),(()=>this._createLegend()),l.nn),(0,l.YP)((()=>[this._legend,this._legendOptions]),(()=>this._updateLegend()),l.nn)])}destroy(){this._legend=(0,m.SC)(this._legend)}get _canCreateLegend(){const{content:e,listItem:t}=this;if(!t)return!1;const n="legend";return e===n||null!=e&&!!Array.isArray(e)&&e.includes(n)}get _legendOptions(){const{listItem:e,_legendLayerInfo:t}=this,n=e?.view;return t&&n?{view:n,layerInfos:[t]}:{}}get _legendLayerInfo(){const e=this.listItem?.layer;if(!e||"subtype-sublayer"===e.type)return null;const t=(0,v.Dz)(e)?e:null,n=e?.parent,i=null!=n&&"type"in n&&"map-image"===n.type?t?.source:null;return i&&n?{layer:n,title:"",sublayerIds:[i.mapLayerId]}:{layer:e,title:""}}get disabled(){const{listItem:e,_legend:t,content:n}=this;return!(e&&(Array.isArray(n)&&n.length>1||!t||t.activeLayerInfos?.length&&e.visibleAtCurrentScale&&e.visible))}set disabled(e){this._overrideIfSome("disabled",e)}get icon(){const{image:e}=this,t=this._getFirstWidget();return this._get("icon")??(!e&&t?t.icon:null)}set icon(e){this._overrideIfSome("icon",e)}get title(){return this._get("title")||(this._getFirstWidget()?.label??"")}set title(e){this._override("title",e)}render(){return(0,C.u)("div",{class:"esri-list-item-panel"},this._renderContents())}_renderContent(e){const{_legend:t,disabled:n,open:i}=this;return e&&!n&&i?"legend"===e&&t?(0,C.u)("div",{key:"legend-widget"},t.render()):"string"==typeof e?(0,C.u)("div",{innerHTML:e,key:e}):(0,b.Qd)(e)?(0,C.u)("div",{key:"content-widget"},e.render()):e instanceof HTMLElement?(0,C.u)("div",{afterCreate:this._attachToNode,bind:e,key:"content-element"}):null:null}_renderContents(){const{content:e,open:t}=this;return t?Array.isArray(e)?e.map((e=>this._renderContent(e))):this._renderContent(e):null}async _createLegend(){if((0,m.SC)(this._legend),this._legend=null,!this._canCreateLegend)return;const{default:e}=await Promise.all([n.e(80746),n.e(81880),n.e(6874),n.e(6923)]).then(n.bind(n,83861)),t=new e(this._legendOptions);this._legend=t}_attachToNode(e){e.appendChild(this)}_updateLegend(){const e=this._legend;e&&e.set(this._legendOptions)}_getWidget(e){return"legend"===e?this._legend:(0,b.Qd)(e)?e:null}_getFirstWidget(){const{content:e}=this;return Array.isArray(e)?e.map((e=>this._getWidget(e))).find((e=>e)):this._getWidget(e)}};(0,i._)([(0,c.Cb)()],_.prototype,"_legend",void 0),(0,i._)([(0,c.Cb)()],_.prototype,"_canCreateLegend",null),(0,i._)([(0,c.Cb)()],_.prototype,"_legendOptions",null),(0,i._)([(0,c.Cb)()],_.prototype,"_legendLayerInfo",null),(0,i._)([(0,c.Cb)()],_.prototype,"content",void 0),(0,i._)([(0,c.Cb)()],_.prototype,"disabled",null),(0,i._)([(0,c.Cb)()],_.prototype,"flowEnabled",void 0),(0,i._)([(0,c.Cb)()],_.prototype,"icon",null),(0,i._)([(0,c.Cb)()],_.prototype,"image",void 0),(0,i._)([(0,c.Cb)()],_.prototype,"listItem",void 0),(0,i._)([(0,c.Cb)()],_.prototype,"open",void 0),(0,i._)([(0,c.Cb)()],_.prototype,"title",null),(0,i._)([(0,c.Cb)()],_.prototype,"visible",void 0),_=(0,i._)([(0,u.j)("esri.widgets.LayerList.ListItemPanel")],_);const w=_;var x;const I=s.Z.ofType({key:"type",defaultKeyValue:"button",base:h.Z,typeMap:{button:f.Z,toggle:y.Z}}),E=s.Z.ofType(I),S="layer",k="child-list-mode";let O=x=class extends(a.Z.IdentifiableMixin(r.Z)){constructor(e){super(e),this.actionsSections=new E,this.actionsOpen=!1,this.checkPublishStatusEnabled=!1,this.children=new(s.Z.ofType(x)),this.childrenSortable=!0,this.hidden=!1,this.layer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.open=!1,this.parent=null,this.view=null}initialize(){if(this.addHandles([(0,l.YP)((()=>[this.layer,this.layer?.listMode,this.listModeDisabled]),(()=>this._watchLayerProperties(this.layer)),l.nn),(0,l.YP)((()=>this.checkPublishStatusEnabled),(e=>this._updateChildrenPublishing(e)),l.nn),(0,l.YP)((()=>this.view),(e=>this._updateChildrenView(e)),l.nn),(0,l.YP)((()=>this.panel),(e=>this._setListItemOnPanel(e)),l.nn)]),"function"==typeof this.listItemCreatedFunction){const e={item:this};this.listItemCreatedFunction.call(null,e)}}destroy(){this.panel?.destroy(),this.children.destroyAll(),this.view=null}get connectionStatus(){const{layerView:e,publishing:t}=this;if(!t&&e&&"connectionStatus"in e)return e.connectionStatus}get error(){return this.layer?.loadError}get incompatible(){const{layerView:e}=this;return!(!e||!("spatialReferenceSupported"in e)||e.spatialReferenceSupported)}get layerView(){const{layer:e,view:t}=this;if(!e||!t||"sublayer"===e.type)return null;const n="subtype-sublayer"===e.type?e.parent:e;return t.allLayerViews.find((e=>e.layer===n))??null}set panel(e){const t=this._get("panel");e!==t&&e&&t?.destroy(),this._set("panel",e)}castPanel(e){return this.panel?.open&&!e.hasOwnProperty("open")&&(e.open=!0),e?new w(e):null}get sortable(){return"knowledge-graph-sublayer"!==this.layer?.type&&this._get("sortable")}set sortable(e){this._set("sortable",e)}get title(){const e=(0,p.U2)(this,"layer.layer");return(!e||e&&(0,p.U2)(this,"layer.layer.loaded"))&&(0,p.U2)(this,"layer.title")||(0,p.U2)(this,"layer.attributes.title")||""}set title(e){this._override("title",e)}get publishing(){const{layer:e,checkPublishStatusEnabled:t}=this;return!!(t&&e&&"publishingInfo"in e&&"publishing"===e.publishingInfo?.status)}get updating(){const{layerView:e,connectionStatus:t,layer:n,publishing:i}=this;return!i&&!t&&(e?e.updating:"loading"===n?.loadStatus||!1)}get visible(){return!!this.layer?.visible}set visible(e){const t=this.layer;t&&(t.visible=e)}get visibleAtCurrentScale(){return this.layerView?.visibleAtCurrentScale??!(0,v.zb)(this.layer,this.view?.scale)}get visibleAtCurrentTimeExtent(){return this.layerView?.visibleAtCurrentTimeExtent??!0}get visibilityMode(){return(0,v.sT)(this.layer)}clone(){return new x({actionsSections:this.actionsSections.clone(),actionsOpen:this.actionsOpen,checkPublishStatusEnabled:this.checkPublishStatusEnabled,children:this.children.clone(),childrenSortable:this.childrenSortable,hidden:this.hidden,layer:this.layer,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,open:this.open,panel:this.panel,parent:this.parent,sortable:this.sortable,title:this.title,view:this.view,visible:this.visible})}_setListItemOnPanel(e){e&&(e.listItem=this)}_updateChildrenPublishing(e){this.children?.forEach((t=>t.checkPublishStatusEnabled=e))}_updateChildrenView(e){const t=this.children;t&&t.forEach((t=>t.view=e))}_createChildren(e){const{listModeDisabled:t,children:n}=this,i=e.filter((e=>!n.some((t=>t.layer===e))));n.addMany(this._createChildItems(i,t))}_destroyChildren(e){const{children:t}=this,n=t.filter((t=>!!t.layer&&!e.includes(t.layer)));t.destroyMany(n)}_sortChildren(e){this.children.sort(((t,n)=>e.indexOf(n.layer)-e.indexOf(t.layer)))}_destroyAllChildren(){this.removeHandles(k),this.children.destroyAll()}_watchChildLayerListMode(e){this.removeHandles(k),this.listModeDisabled||this.addHandles(e.toArray().map((t=>(0,l.YP)((()=>t.listMode),(()=>this._compileChildren(e))))),k)}_compileChildren(e){const t=this.listModeDisabled?e:e?.filter((e=>"hide"!==(0,v.aV)(e)));e?.length?(this._createChildren(t),this._destroyChildren(t),this._sortChildren(t),this._watchChildLayerListMode(e)):this._destroyAllChildren()}_watchSublayerChanges(e){e&&this.addHandles(e.on("change",(()=>this._compileChildren(e))),S)}_initializeChildLayers(e){this._compileChildren(e),this._watchSublayerChanges(e)}_createChildItems(e,t){return e.reverse().map((e=>t||(0,v.gF)(e)?new x({layer:e,checkPublishStatusEnabled:this.checkPublishStatusEnabled,listItemCreatedFunction:this.listItemCreatedFunction,listModeDisabled:this.listModeDisabled,parent:this,view:this.view}):null)).filter(o.pC)}_watchLayerProperties(e){if(this.removeHandles(S),this.removeHandles(k),!e)return;if("hide-children"===(!this.listModeDisabled&&(0,v.aV)(e)))return void this.children.destroyAll();const t=(0,v.Ff)(e);t&&this.addHandles((0,l.YP)((()=>e[t]),(n=>{e.hasOwnProperty(t)&&this._initializeChildLayers(n)}),l.nn),S)}};(0,i._)([(0,c.Cb)({type:E})],O.prototype,"actionsSections",void 0),(0,i._)([(0,c.Cb)()],O.prototype,"actionsOpen",void 0),(0,i._)([(0,c.Cb)()],O.prototype,"checkPublishStatusEnabled",void 0),(0,i._)([(0,c.Cb)({type:s.Z.ofType(O)})],O.prototype,"children",void 0),(0,i._)([(0,c.Cb)()],O.prototype,"childrenSortable",void 0),(0,i._)([(0,c.Cb)({readOnly:!0})],O.prototype,"connectionStatus",null),(0,i._)([(0,c.Cb)({readOnly:!0})],O.prototype,"error",null),(0,i._)([(0,c.Cb)()],O.prototype,"hidden",void 0),(0,i._)([(0,c.Cb)({readOnly:!0})],O.prototype,"incompatible",null),(0,i._)([(0,c.Cb)()],O.prototype,"layer",void 0),(0,i._)([(0,c.Cb)({readOnly:!0})],O.prototype,"layerView",null),(0,i._)([(0,c.Cb)()],O.prototype,"listItemCreatedFunction",void 0),(0,i._)([(0,c.Cb)({nonNullable:!0})],O.prototype,"listModeDisabled",void 0),(0,i._)([(0,c.Cb)()],O.prototype,"open",void 0),(0,i._)([(0,c.Cb)({type:w})],O.prototype,"panel",null),(0,i._)([(0,d.p)("panel")],O.prototype,"castPanel",null),(0,i._)([(0,c.Cb)()],O.prototype,"parent",void 0),(0,i._)([(0,c.Cb)({value:!0})],O.prototype,"sortable",null),(0,i._)([(0,c.Cb)()],O.prototype,"title",null),(0,i._)([(0,c.Cb)({readOnly:!0})],O.prototype,"publishing",null),(0,i._)([(0,c.Cb)({readOnly:!0})],O.prototype,"updating",null),(0,i._)([(0,c.Cb)()],O.prototype,"view",void 0),(0,i._)([(0,c.Cb)()],O.prototype,"visible",null),(0,i._)([(0,c.Cb)({readOnly:!0})],O.prototype,"visibleAtCurrentScale",null),(0,i._)([(0,c.Cb)({readOnly:!0})],O.prototype,"visibleAtCurrentTimeExtent",null),(0,i._)([(0,c.Cb)({readOnly:!0})],O.prototype,"visibilityMode",null),O=x=(0,i._)([(0,u.j)("esri.widgets.LayerList.ListItem")],O);const N=O},5221:function(e,t,n){"use strict";n.d(t,{Cl:function(){return v},Dz:function(){return _},Ff:function(){return h},Gr:function(){return I},Hh:function(){return C},Kf:function(){return c},Kp:function(){return o},MZ:function(){return s},XO:function(){return l},YO:function(){return b},aV:function(){return d},bB:function(){return E},g5:function(){return S},gF:function(){return m},gX:function(){return p},gk:function(){return a},j5:function(){return f},rV:function(){return x},sT:function(){return u},xA:function(){return y},zb:function(){return g}});const i="hide",r="hide-children",o=10,s=2;function a({exclusive:e,visible:t,visibilityAppearance:n}){const i="checkbox"===n;return t?e?"circle-f":i?"check-square-f":"view-visible":e?"circle":i?"square":"view-hide"}function l({connectionStatus:e,publishing:t}){return e?"connected"===e?"beacon":"offline":t?"square":"bullet-point"}function c(e){return e?.listMode===r}function d(e){return e?.listMode??void 0}function u(e){if(!e)return"inherited";const t=function(e){const t=w(e);return null!=t&&"supportsSublayerVisibility"in t?t.supportsSublayerVisibility:void 0}(_(e)?e.layer:e);return null!=t?t?"independent":"inherited":"visibilityMode"in e&&null!=e.visibilityMode?e.visibilityMode:"independent"}function p(e){e?.removeMany(e.filter((e=>e?.destroyed)))}function h(e){if(e&&(!("type"in e)||"wmts"!==e.type))return"sublayers"in e?"sublayers":"layers"in e?"layers":void 0}function f(e,t){e&&(e.filterPredicate=t?e=>t(x(e)):void 0)}function y(e){const t=(e?.layer&&_(e.layer)?e.layer.layer:void 0)??e?.layer;return!!t&&"catalog"!==t.type&&(function(e){const t=w(e);return null!=t&&"supportsDynamicLayers"in t?t.supportsDynamicLayers:void 0}(t)??!0)}function m(e){return d(e)!==i}function g(e,t){if(!e||null==t||isNaN(t))return!1;const n=function(e){return null!=e&&"minScale"in e&&null!=e.minScale?e.minScale:void 0}(e),i=function(e){return null!=e&&"maxScale"in e&&null!=e.maxScale?e.maxScale:void 0}(e),r=null!=n&&!isNaN(n)&&n>0&&t>n,o=null!=i&&!isNaN(i)&&i>0&&t<i;return r||o}function v(e,t){e?.sort(((e,n)=>{const i="uid"in e?t.indexOf(e.uid):-1,r="uid"in n?t.indexOf(n.uid):-1;return i>r?-1:i<r?1:0}))}function b(e,t){const n=e?.layer;if(!n)return;const i=h(n);if(!i)return;let r;"layers"===i&&"layers"in n?r=n.layers:"sublayers"===i&&"sublayers"in n&&(r=n.sublayers),v(r,t)}function C(e){const t=e?.layer;return t&&"layers"in t?t.layers:null}function _(e){return null!=e&&"layer"in e&&null!=e.layer}function w(e){return e&&"capabilities"in e&&null!=e.capabilities&&"exportMap"in e.capabilities?e.capabilities.exportMap:void 0}function x(e){return e?.["data-item"]}function I(e){return e?.getAttribute("data-layer-type")}function E(e){const{children:t,error:n}=e,i="incompatible"in e&&e.incompatible;return!!t?.filter((e=>!e.hidden)).length&&!n&&!i}function S(e){for(const t of e)for(const e of t)if("button"===e.type||"toggle"===e.type)return e}},79691:function(e,t,n){"use strict";n.d(t,{M:function(){return c},X:function(){return a}});var i=n(99574),r=n(46512),o=n(68808),s=n(23039);function a({level:e,class:t,...n},i){const a=l(e);return(0,s.u)(`h${a}`,{...n,"aria-level":String(a),class:(0,o.Sh)(r.z.heading,t),role:"heading"},i)}function l(e){return(0,i.uZ)(Math.ceil(e),1,6)}function c(e,t=1){return l(e+t)}},29629:function(e,t,n){"use strict";function i(e){return t=>{t.hasOwnProperty("_delegatedEventNames")||(t._delegatedEventNames=t._delegatedEventNames?t._delegatedEventNames.slice():[]);const n=t._delegatedEventNames,i=Array.isArray(e)?e:function(e){return e.split(",").map((e=>e.trim()))}(e);n.push(...i)}}n.d(t,{s:function(){return i}})},58639:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});const i=["label","description","metadata"]},60916:function(e,t,n){"use strict";n.d(t,{Qd:function(){return i},o:function(){return r}});n(80079),n(23039),n(68808);function i(e){return e&&"function"==typeof e.render}function r(e){return e&&"function"==typeof e.postMixInProperties&&"function"==typeof e.buildRendering&&"function"==typeof e.postCreate&&"function"==typeof e.startup}},8403:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var i=n(20803),r=n(46789),o=n(47650),s=n(90403);const a=(e,t)=>t=>c(t,e);class l extends r.lZ{#e=new Map;#t;#n;constructor(e,t){super(e,t),new o.V(e);const n=this,s=n.instance;let a=s.viewModel,l=s.visibleElements;const c=new Proxy(this.exports,{get(e,t,n){return"viewModel"===t?a:"visibleElements"===t?l:Reflect.get(e,t,n)}});if(n.#n=s,n.instance=c,n.exports=c,a){const t={component:e,get exports(){return n.instance.viewModel}};(0,r.ZJ)(n).set("viewModel","viewModel"),e.addController(t),a=(0,r.we)(e,new WeakRef(t),(0,i.Rh)(e)-1,a,n.#e)}n.instance.visibleElements&&(l=n.#i(s))}hostConnected(){this.instance=this.#n,super.hostConnected()}hostLoad(){this.#t=(0,s.YP)((()=>this.component.el.view),(e=>{const t=this.instance;"view"in t||"object"!=typeof t.viewModel?t.view=e:t.viewModel.view=e,"map"in t||"object"!=typeof t.viewModel?t.map=e?.map:t.viewModel.map=e?.map}),{sync:!0,initial:!0})}hostUpdate(e){e.has("closed")&&(this.instance.visible=!this.component.closed)}hostLoaded(){const{el:e}=this.component;e.childElem??=document.createElement("div"),this.instance.container=e.childElem,void 0!==this.component.closed&&this.onLifecycle((()=>(0,s.YP)((()=>this.instance.visible),(e=>this.component.closed=!e),{initial:!0})))}#i(e){return new Proxy(e.visibleElements,{get:(t,n)=>{if("symbol"==typeof n||n in Promise.prototype)return t[n];const r=[n],o=this.#r(r);return(0,i.iD)(this.component,(t=>{const n=t;this.component[n]=!1;let i,o=e.visibleElements??{};for(const e of r.slice(0,-1)){if("object"!=typeof o[e]||null===o[e]){i=!!o[e];break}o=o[e]}void 0===i&&(i=!!(o[r.slice(-1)[0]]??1));const s=n.startsWith("hide")||n.startsWith("show")?n.startsWith("hide"):i;this.onUpdate((e=>{if(e.has(n)){const e=this.component[n];this.#o(r,e,s)}}))}),o)}})}#r(e){const t=new Proxy({},{get:(n,i)=>{const r=Reflect.get(n,i);return"symbol"==typeof i||i in Promise.prototype?r:(e.push(i),t)}});return t}#o(e,t,n){let i=this.instance.visibleElements??{};for(const t of e.slice(0,-1))("object"!=typeof i[t]||null===i[t])&&(i[t]={}),i=i[t];const r=!!(n?!t:t);i[e.at(-1)]=r}hostDestroy(){this.#t?.remove(),super.hostDestroy()}}const c=(0,i.j8)(l)},2814:function(e,t,n){"use strict";var i=n(64297),r=n(20803),o=n(46789),s=n(73440),a=n(43254),l=n(15894),c=n(87422),d=n(90403),u=n(17155),p=(n(61432),n(96711),n(83850),n(48023)),h=n(1803);const f="esri-layer-list",y=`${f}__item`,m={base:f,actionMenu:`${f}__action-menu`,actionGroup:`${f}__action-group`,filterNoResults:`${f}__filter-no-results`,item:y,itemActive:`${y}--active`,itemContentBottom:`${y}-content-bottom`,itemMessage:`${y}-message`,itemActionIcon:`${y}-action-icon`,itemActionImage:`${y}-action-image`,itemTemporaryIcon:`${y}-temporary-icon`,itemTableIcon:`${y}-table-icon`,itemCatalogIcon:`${y}-catalog-icon`,statusIndicator:`${f}__status-indicator`,publishing:`${f}__publishing`,updating:`${f}__updating`,connectionStatus:`${f}__connection-status`,connectionStatusConnected:`${f}__connection-status--connected`,visibleToggle:`${f}__visible-toggle`,visibleIcon:`${f}__visible-icon`};var g=n(59339),v=n(94027),b=n(70880);let C=class extends b.Z{constructor(){super(...arguments),this.catalogLayerList=!0,this.closeButton=!1,this.collapseButton=!1,this.errors=!1,this.filter=!1,this.flow=!0,this.heading=!1,this.statusIndicators=!0,this.temporaryLayerIndicators=!1}};(0,s._)([(0,u.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"catalogLayerList",void 0),(0,s._)([(0,u.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"closeButton",void 0),(0,s._)([(0,u.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"collapseButton",void 0),(0,s._)([(0,u.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"errors",void 0),(0,s._)([(0,u.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"filter",void 0),(0,s._)([(0,u.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"flow",void 0),(0,s._)([(0,u.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"heading",void 0),(0,s._)([(0,u.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"statusIndicators",void 0),(0,s._)([(0,u.Cb)({type:Boolean,nonNullable:!0})],C.prototype,"temporaryLayerIndicators",void 0),C=(0,s._)([(0,p.j)("esri.widgets.LayerList.LayerListVisibleElements")],C);const _=C;var w=n(48804),x=n(5221),I=n(84644),E=n(46512),S=n(58639),k=n(68808),O=n(24225),N=n(29629),Z=n(23039);const L=a.Z.ofType(w.Z),P="nested";let M=class extends(l.Z.IdentifiableMixin(h.Z)){constructor(e,t){super(e,t),this._rootListEl=null,this._activeItem=null,this._tooltipReferenceMap=new c.Z,this._focusRootFlowItem=!1,this._focusPanelFlowItem=!1,this._focusLayerFlowItem=null,this._layerListMap=new c.Z,this._lastDragDetail=null,this._selectedDragItemLayerUid=null,this._rootGroupUid=`operational-${this.uid}`,this._openedLayersController=null,this.catalogLayerList=null,this.catalogOptions=null,this.collapsed=!1,this.dragEnabled=!1,this.filterPlaceholder="",this.filterPredicate=null,this.filterText="",this.headingLevel=2,this.knowledgeGraphOptions=null,this.layerTablesEnabled=new a.Z(["knowledge-graph"]),this.listItemCanGiveFunction=null,this.listItemCanReceiveFunction=null,this.mapImageOptions=null,this.messages=null,this.messagesCommon=null,this.minDragEnabledItems=x.MZ,this.minFilterItems=x.Kp,this.openedLayers=new a.Z,this.openedLayerLists=new a.Z,this.selectedItems=new L,this.selectionMode="none",this.tableList=null,this.tileOptions=null,this.viewModel=new v.Z,this.visibilityAppearance="default",this.visibleElements=new _,this._canMove=({dragEl:e,fromEl:t,toEl:n},i)=>{const r="pull"===i?this.listItemCanGiveFunction:this.listItemCanReceiveFunction,o=(0,x.rV)(e);if(!o?.sortable)return!1;const s=(0,x.rV)(t),a=(0,x.Gr)(t),l=(0,x.rV)(n),c=(0,x.Gr)(n),d=!!a&&!!c&&a===c,u={selected:o,from:s,to:l},p=t.group,h=n.group,f=s?.layer?.type??"",y=l?.layer?.type??"",m=new Set(["map-image","catalog","knowledge-graph"]);return p&&h&&"function"==typeof r?r.call(null,u):d&&!m.has(f)&&!m.has(y)&&"sublayer"!==o?.layer?.type},this._onCatalogOpen=e=>{this.openedLayers.push(e.layer?.parent),this._focusLayerFlowItem=e.layer?.uid},this._onTablesOpen=e=>{this.openedLayers.push(e.layer),this._focusLayerFlowItem=e.layer?.uid},this._onPanelOpen=()=>{this._focusPanelFlowItem=!0},this._onTooltipReferenceChange=(e,t)=>{t?this._tooltipReferenceMap.set(e,t):this._tooltipReferenceMap.delete(e)},this._onSelectedDragItemLayerUidChange=e=>{this._selectedDragItemLayerUid=e},this._onTriggerAction=(e,t)=>{this.triggerAction(e,t)},this._clearActiveItem=()=>{this._activeItem=null},this._setActiveItem=e=>{if("default"!==this.visibilityAppearance)return;const t=Array.from(e.composedPath()).find((e=>e.classList?.contains(m.item)));this._activeItem=(0,x.rV)(t)},this._onCalciteListOrderChange=e=>{const{_lastDragDetail:t}=this,{toEl:n,fromEl:i,dragEl:r,newIndex:o}=e;if(i&&n&&(t?.newIndex!==o||t?.dragEl!==r||t?.toEl!==n||t?.fromEl!==i))if(this._lastDragDetail=e,this._selectedDragItemLayerUid=r.value,i!==n)this._moveLayerFromChildList({toEl:n,fromEl:i,dragEl:r,newIndex:o});else{const e=Array.from(i.children).filter((e=>e?.matches("calcite-list-item"))).map((e=>e.value));this._sortLayers(i,e)}}}initialize(){this.addHandles([(0,d.on)((()=>this.openedLayers),"change",(()=>this._handleOpenedLayersChange()),d.nn),(0,d.on)((()=>this.viewModel.operationalItems),"change",(()=>(0,x.gX)(this.selectedItems)),d.nn),(0,d.YP)((()=>[this.filterPredicate,this._rootListEl]),(()=>(0,x.j5)(this._rootListEl,this.filterPredicate)))])}loadDependencies(){return(0,I.h)({button:()=>Promise.all([n.e(58268),n.e(55001),n.e(17345),n.e(61637)]).then(n.bind(n,61637)),flow:()=>Promise.all([n.e(58268),n.e(43190)]).then(n.bind(n,16414)),"flow-item":()=>Promise.all([n.e(58268),n.e(62737),n.e(55001),n.e(71823),n.e(79767),n.e(34722),n.e(68937)]).then(n.bind(n,77506)),list:()=>Promise.all([n.e(58268),n.e(55001),n.e(17345),n.e(26041),n.e(75014),n.e(29749),n.e(52532)]).then(n.bind(n,29749)),notice:()=>Promise.all([n.e(58268),n.e(40473)]).then(n.bind(n,40473)),tooltip:()=>Promise.all([n.e(58268),n.e(62737),n.e(70514)]).then(n.bind(n,70514))})}destroy(){this._destroyOpenedLayerLists(),this._tooltipReferenceMap.clear()}get _totalItems(){return this.viewModel.operationalItems.flatten((e=>e.children.filter((e=>"catalog-dynamic-group"!==e.layer?.type)))).length}get _visibleItems(){return this.operationalItems?.filter((e=>!e.hidden&&(this.visibleElements.errors||!e.error)))}get _openedPanelItems(){return this._visibleItems.flatten((e=>e.children)).filter((({hidden:e,panel:t})=>!e&&t?.open&&!t.disabled&&t.flowEnabled))}get _dragEnabled(){return this._totalItems>=this.minDragEnabledItems&&this.dragEnabled}get _filterEnabled(){return this._totalItems>=this.minFilterItems&&this.visibleElements.filter}get _renderedOpenLayerFlowItems(){const{openedLayers:e}=this;return e.toArray().map(((t,n)=>this._renderLayerFlowItem(t,n===e.length-1)))}get icon(){return"layers"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get listItemCreatedFunction(){return this.viewModel.listItemCreatedFunction}set listItemCreatedFunction(e){this.viewModel.listItemCreatedFunction=e}get operationalItems(){return this.viewModel.operationalItems}set operationalItems(e){this.viewModel.operationalItems=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}triggerAction(e,t){return this.viewModel.triggerAction(e,t)}render(){const e=this.viewModel?.state,t={[E.z.hidden]:"loading"===e,[E.z.disabled]:"disabled"===e};return(0,Z.u)("div",{class:this.classes(m.base,E.z.widget,E.z.panel,t)},this._renderItemTooltips(),this._renderItems())}async _createFlowList(e,t){const{_layerListMap:n}=this,i=n.get(e);if(i)return i;const r="catalog"===e.type?await this._createCatalogLayerList(e):await this._createTableList(e);return t.aborted||n.set(e,r),r}async _handleOpenedLayersChange(){const{_layerListMap:e,openedLayers:t,openedLayerLists:n}=this;this._openedLayersController?.abort();const i=new AbortController,{signal:r}=i;this._openedLayersController=i,e.forEach(((n,i)=>{t.includes(i)||(n.destroy(),e.delete(i))}));const o=await Promise.all(t.map((e=>this._createFlowList(e,r))));if(r.aborted)return;n.removeAll(),n.addMany(o);const s=n.at(-1);s?"catalogLayer"in s?(this._set("catalogLayerList",s),this._set("tableList",null)):(this._set("catalogLayerList",null),this._set("tableList",s)):(this._set("catalogLayerList",null),this._set("tableList",null))}_destroyOpenedLayerLists(){this.openedLayerLists.destroyAll(),this.openedLayers.removeAll(),this._layerListMap.clear()}_renderItemTooltip(e){const{_tooltipReferenceMap:t,messages:n}=this;return e?(0,Z.u)("calcite-tooltip",{key:`tooltip-${e.layer?.uid}`,overlayPositioning:"fixed",referenceElement:t.get(e.layer?.uid)},n.layerIncompatibleTooltip):null}_renderItemTooltipNodes(e){return e.incompatible?this._renderItemTooltip(e):e.children?.filter((e=>!e.hidden)).toArray().map((e=>this._renderItemTooltipNodes(e)))}_renderItemTooltips(){return this._visibleItems?.toArray().map((e=>this._renderItemTooltipNodes(e)))}_renderNoItemsMessage(){return(0,Z.u)("div",{slot:"message"},this.messages.noItemsToDisplay)}_renderNoItems(){return(0,Z.u)("div",{class:m.itemMessage,key:"esri-layer-list__no-items"},(0,Z.u)("calcite-notice",{icon:"information",kind:"info",open:!0,width:"full"},this._renderNoItemsMessage()))}async _createCatalogLayerList(e){const{default:t}=await n.e(71151).then(n.bind(n,71151)),{headingLevel:i,catalogOptions:r,view:o,filterPlaceholder:s,listItemCreatedFunction:a,minFilterItems:l,selectionMode:c,visibilityAppearance:d,_onCatalogOpen:u,_onTablesOpen:p,layerTablesEnabled:h}=this;return new t({headingLevel:i,view:o,filterPlaceholder:s,listItemCreatedFunction:a,minFilterItems:l,selectionMode:c,visibilityAppearance:d,...r,catalogLayer:e,layerTablesEnabled:h,onCatalogOpen:u,onTablesOpen:p})}_getTableListParams(e){switch(e.type){case"knowledge-graph":return{...this.knowledgeGraphOptions,tables:e.tables};case"map-image":return{...this.mapImageOptions,tables:e.subtables};case"tile":return{...this.tileOptions,tables:e.subtables};default:return null}}async _createTableList(e){const{default:t}=await n.e(28941).then(n.bind(n,28941)),{headingLevel:i,selectionMode:r,dragEnabled:o}=this;return new t({headingLevel:i,selectionMode:r,dragEnabled:o,...this._getTableListParams(e)})}_renderLayerFlowItem(e,t){const{messages:n,openedLayers:i}=this,r=e.title||this.messages.untitledLayer;return(0,Z.u)("calcite-flow-item",{afterCreate:this._focusLayerFlowItemNode,afterUpdate:this._focusLayerFlowItemNode,bind:this,"data-layer-uid":e.uid,description:r,heading:n["catalog"===e.type?"catalogLayers":"tables"],headingLevel:this.headingLevel,key:`flow-layer-list-${e.uid}`,selected:t,onCalciteFlowItemBack:e=>{e.preventDefault(),i.pop();const t=i.at(-1);t?this._focusLayerFlowItem=t.uid:this._focusRootFlowItem=!0}},this._layerListMap.get(e)?.render())}_renderPanelFlowItems(){const{_openedPanelItems:e,openedLayers:t}=this;return e.toArray().map((({title:n,panel:i},r)=>{const o=()=>this._handlePanelFlowItemBack(i);return(0,Z.u)("calcite-flow-item",{afterCreate:this._focusPanelFlowItemNode,afterUpdate:this._focusPanelFlowItemNode,bind:this,description:n,heading:i.title,headingLevel:this.headingLevel,key:`flow-panel-${i.uid}`,selected:!t.length&&r===e.length-1,onCalciteFlowItemBack:e=>{e.preventDefault(),o()}},i.render(),(0,Z.u)("calcite-button",{appearance:"transparent",onclick:o,slot:"footer-actions",width:"full"},this.messagesCommon.back))}))}_handlePanelFlowItemBack(e){e.open=!1,this._focusRootFlowItem=!0}_focusRootFlowItemNode(e){this._focusRootFlowItem&&(this._focusRootFlowItem=!1,(0,k.kW)(e))}_focusLayerFlowItemNode(e){this._focusLayerFlowItem===e.dataset.layerUid&&(this._focusLayerFlowItem=null,(0,k.kW)(e))}_focusPanelFlowItemNode(e){this._focusPanelFlowItem&&(this._focusPanelFlowItem=!1,(0,k.kW)(e))}_renderItems(){const{visible:e,collapsed:t,_visibleItems:n,_openedPanelItems:i,_filterEnabled:r,_rootGroupUid:o,visibleElements:{closeButton:s,collapseButton:a,heading:l,flow:c},_dragEnabled:d,selectionMode:u,filterText:p,openedLayers:h,filterPlaceholder:f,messages:y}=this,g=[(0,Z.u)("calcite-flow-item",{afterCreate:this._focusRootFlowItemNode,afterUpdate:this._focusRootFlowItemNode,bind:this,closable:s,closed:!e,collapsed:t,collapsible:a,heading:l?y.widgetLabel:void 0,headingLevel:this.headingLevel,key:"root-flow-item",selected:!h.length&&!i.length,onCalciteFlowItemClose:()=>this.visible=!1},n?.length?null:this._renderNoItems(),(0,Z.u)("calcite-list",{afterCreate:e=>{this._rootListEl=e,e.addEventListener("focusin",this._setActiveItem),e.addEventListener("focusout",this._clearActiveItem)},afterRemoved:e=>{this._rootListEl=null,e.removeEventListener("focusin",this._setActiveItem),e.removeEventListener("focusout",this._clearActiveItem)},canPull:e=>this._canMove(e,"pull"),canPut:e=>this._canMove(e,"put"),"data-layer-type":o,displayMode:P,dragEnabled:d,filterEnabled:r,filterPlaceholder:f,filterProps:S.I,filterText:r?p:"",group:o,key:"root-list",label:y.widgetLabel,onmouseleave:this._clearActiveItem,onmouseover:this._setActiveItem,selectionAppearance:"border",selectionMode:u,onCalciteListChange:e=>this._handleCalciteListChange(e),onCalciteListDragEnd:e=>this._handleCalciteListDragEnd(e.detail),onCalciteListFilter:e=>this.filterText=e.currentTarget?.filterText??"",onCalciteListOrderChange:e=>this._onCalciteListOrderChange(e.detail)},n.toArray().map((e=>this._renderItem(e))),r?(0,Z.u)("div",{class:m.filterNoResults,slot:"filter-no-results"},(0,Z.u)("calcite-notice",{kind:"info",open:!0,width:"full"},this._renderNoItemsMessage())):null)),this._renderPanelFlowItems(),this._renderedOpenLayerFlowItems];return e?c?(0,Z.u)("calcite-flow",{key:"root-flow"},g):g:null}_renderItem(e,t,n){return(0,Z.u)(g.Z,{activeItem:this._activeItem,canMove:this._canMove,css:m,displayMode:P,dragEnabled:this.dragEnabled,item:e,key:`layerListItem-${e.layer?.uid}`,layerTablesEnabled:this.layerTablesEnabled,listModeDisabled:this.viewModel.listModeDisabled,messages:this.messages,messagesCommon:this.messagesCommon,parent:t,parentTitles:n,rootGroupUid:this._rootGroupUid,selectedDragItemLayerUid:this._selectedDragItemLayerUid,selectedItems:this.selectedItems,selectionMode:this.selectionMode,visibilityAppearance:this.visibilityAppearance,visibleElements:this.visibleElements,onAction:this._onTriggerAction,onCatalogOpen:this._onCatalogOpen,onPanelOpen:this._onPanelOpen,onSelectedDragItemLayerUidChange:this._onSelectedDragItemLayerUidChange,onTablesOpen:this._onTablesOpen,onTooltipReferenceChange:this._onTooltipReferenceChange})}_moveLayerFromChildList({toEl:e,fromEl:t,dragEl:n,newIndex:i}){const r=(0,x.rV)(n),o=(0,x.rV)(e),s=(0,x.rV)(t);this.viewModel.moveListItem(r,s,o,i)}_handleCalciteListDragEnd(e){const{fromEl:t,dragEl:n,oldIndex:i}=e;t.insertBefore(n,t.children[i])}_sortLayers(e,t){if(e)if(e===this._rootListEl)(0,x.Cl)(this.view?.map?.layers,t);else{const n=(0,x.rV)(e);if(!n)return;(0,x.YO)(n,t)}}_handleCalciteListChange(e){const{selectionMode:t,selectedItems:n}=this;if("none"===t)return;const i=e.target.selectedItems.map((e=>(0,x.rV)(e))).filter(Boolean);n.removeAll(),n.addMany(i)}};(0,s._)([(0,u.Cb)()],M.prototype,"_rootListEl",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"_activeItem",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"_tooltipReferenceMap",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"_focusRootFlowItem",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"_focusPanelFlowItem",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"_focusLayerFlowItem",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"_layerListMap",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"_totalItems",null),(0,s._)([(0,u.Cb)()],M.prototype,"_visibleItems",null),(0,s._)([(0,u.Cb)()],M.prototype,"_openedPanelItems",null),(0,s._)([(0,u.Cb)()],M.prototype,"_dragEnabled",null),(0,s._)([(0,u.Cb)()],M.prototype,"_filterEnabled",null),(0,s._)([(0,u.Cb)()],M.prototype,"_renderedOpenLayerFlowItems",null),(0,s._)([(0,u.Cb)({readOnly:!0})],M.prototype,"catalogLayerList",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"catalogOptions",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"collapsed",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"dragEnabled",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"filterPlaceholder",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"filterPredicate",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"filterText",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"headingLevel",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"icon",null),(0,s._)([(0,u.Cb)()],M.prototype,"knowledgeGraphOptions",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"label",null),(0,s._)([(0,u.Cb)()],M.prototype,"layerTablesEnabled",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"listItemCanGiveFunction",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"listItemCanReceiveFunction",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"listItemCreatedFunction",null),(0,s._)([(0,u.Cb)()],M.prototype,"mapImageOptions",void 0),(0,s._)([(0,u.Cb)(),(0,O.H)("esri/widgets/LayerList/t9n/LayerList")],M.prototype,"messages",void 0),(0,s._)([(0,u.Cb)(),(0,O.H)("esri/t9n/common")],M.prototype,"messagesCommon",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"minDragEnabledItems",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"minFilterItems",void 0),(0,s._)([(0,u.Cb)({readOnly:!0})],M.prototype,"openedLayers",void 0),(0,s._)([(0,u.Cb)({readOnly:!0})],M.prototype,"openedLayerLists",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"operationalItems",null),(0,s._)([(0,u.Cb)()],M.prototype,"selectedItems",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"selectionMode",void 0),(0,s._)([(0,u.Cb)({readOnly:!0})],M.prototype,"tableList",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"tileOptions",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"view",null),(0,s._)([(0,N.s)("trigger-action"),(0,u.Cb)({type:v.Z})],M.prototype,"viewModel",void 0),(0,s._)([(0,u.Cb)()],M.prototype,"visibilityAppearance",void 0),(0,s._)([(0,u.Cb)({type:_,nonNullable:!0})],M.prototype,"visibleElements",void 0),M=(0,s._)([(0,p.j)("esri.widgets.LayerList")],M);const $=M;var T=n(54503),A=n(8403);const D=n(49006).iv`@layer{arcgis-layer-list{display:block;.arcgis-layer-list{display:flex}.arcgis-layer-list__filter-no-results{padding:var(--calcite-spacing-md) var(--calcite-spacing-lg)}.arcgis-layer-list__item{--calcite-list-item-icon-center: 8.5px}.arcgis-layer-list__item-table-icon,.arcgis-layer-list__item-catalog-icon{margin-inline-end:0}.arcgis-layer-list__item-action-image{flex:0 0 var(--calcite-spacing-xl);background-position:50%;background-repeat:no-repeat;background-size:contain;width:var(--calcite-spacing-xl);height:var(--calcite-spacing-xl);text-align:center;font-size:var(--calcite-font-size)}.arcgis-layer-list__action-menu .arcgis-layer-list__action-group{display:none}.arcgis-layer-list__action-menu[open] .arcgis-layer-list__action-group{display:flex}.arcgis-layer-list__visible-icon{visibility:hidden}.arcgis-layer-list__item--active:hover,.arcgis-layer-list__item--active:focus,.arcgis-layer-list__item--active:focus-within{>.arcgis-layer-list__visible-toggle>.arcgis-layer-list__visible-icon{visibility:visible}}.arcgis-layer-list__status-indicator{visibility:hidden;margin-inline:0;color:transparent}.arcgis-layer-list__publishing{visibility:visible;color:var(--calcite-color-foreground-2);transform-origin:var(--calcite-list-item-icon-center) var(--calcite-list-item-icon-center);animation:arcgis-layer-list__publishing-anim 2s normal infinite}.arcgis-layer-list__updating{visibility:visible;animation:arcgis-layer-list__updating-anim 2s normal infinite}.arcgis-layer-list__connection-status{visibility:visible;margin-inline:calc(var(--calcite-spacing-lg) * .5);width:calc(var(--calcite-spacing-xxxl) * .5);height:calc(var(--calcite-spacing-xxxl) * .5);color:var(--calcite-color-status-danger)}.arcgis-layer-list__connection-status--connected{color:var(--calcite-color-status-success)}.arcgis-layer-list__item-content-bottom{margin:var(--calcite-spacing-md) var(--calcite-spacing-lg)}.arcgis-layer-list__item-content-bottom .arcgis-legend__service{padding:0 0 var(--calcite-spacing-md) 0}.arcgis-layer-list__item-message{margin:var(--calcite-spacing-md) var(--calcite-spacing-lg)}@keyframes arcgis-layer-list__updating-anim{0%,40%{color:transparent}50%,80%{color:var(--calcite-color-brand)}to{color:transparent}}@keyframes arcgis-layer-list__publishing-anim{0%,20%{transform:rotate(45deg)}80%,to{transform:rotate(135deg)}}}}`,R=(0,r.YI)(((e,t)=>(t.onLoaded((()=>{const t=e.el;e.listenOn(t.childElem,"calciteFlowItemClose",(()=>{e.arcgisClose.emit(),e.autoDestroyDisabled||e.destroy()}))})),(0,T.yM)()))),j=(0,A.m)($);class K extends T.oi{constructor(){super(...arguments),this.widget=j(this),this.viewModel=this.widget.viewModel,this.arcgisClose=R(this),this.autoDestroyDisabled=!1,this.catalogOptions=this.widget.catalogOptions,this.closed=!1,this.collapsed=this.widget.collapsed,this.dragEnabled=this.widget.dragEnabled,this.filterPlaceholder=this.widget.filterPlaceholder,this.filterPredicate=this.widget.filterPredicate,this.filterText=this.widget.filterText,this.headingLevel=this.widget.headingLevel,this.hideCatalogLayerList=this.widget.visibleElements.catalogLayerList,this.hideFlow=this.widget.visibleElements.flow,this.hideStatusIndicators=this.widget.visibleElements.statusIndicators,this.icon=this.widget.icon,this.knowledgeGraphOptions=this.widget.knowledgeGraphOptions,this.label=this.widget.label,this.listItemCreatedFunction=this.widget.listItemCreatedFunction,this.minDragEnabledItems=this.widget.minDragEnabledItems,this.minFilterItems=this.widget.minFilterItems,this.openedLayers=this.widget.openedLayers,this.position="bottom-left",this.selectedItems=this.widget.selectedItems,this.selectionMode=this.widget.selectionMode,this.showCloseButton=this.widget.visibleElements.closeButton,this.showCollapseButton=this.widget.visibleElements.collapseButton,this.showErrors=this.widget.visibleElements.errors,this.showFilter=this.widget.visibleElements.filter,this.showHeading=this.widget.visibleElements.heading,this.showTemporaryLayerIndicators=this.widget.visibleElements.temporaryLayerIndicators,this.state=this.viewModel.state,this.visibilityAppearance=this.widget.visibilityAppearance,this.arcgisPropertyChange=(0,r.OR)()("state"),this.arcgisReady=(0,T.yM)(),this.arcgisTriggerAction=(0,o.Wk)((()=>this.widget),"trigger-action")}static{this.properties={autoDestroyDisabled:5,catalogLayerList:32,catalogOptions:0,closed:5,collapsed:7,dragEnabled:5,filterPlaceholder:1,filterPredicate:0,filterText:1,headingLevel:9,hideCatalogLayerList:5,hideFlow:5,hideStatusIndicators:5,icon:1,knowledgeGraphOptions:0,label:1,listItemCreatedFunction:0,minDragEnabledItems:9,minFilterItems:9,openedLayers:0,operationalItems:32,position:1,referenceElement:1,selectedItems:0,selectionMode:1,showCloseButton:5,showCollapseButton:5,showErrors:5,showFilter:5,showHeading:5,showTemporaryLayerIndicators:5,state:3,tableList:32,visibilityAppearance:1}}static{this.shadowRootOptions=T.hZ}static{this.styles=D}get catalogLayerList(){return this.widget.catalogLayerList}get operationalItems(){return this.widget.operationalItems}get tableList(){return this.widget.tableList}async destroy(){await this.manager.destroy()}async triggerAction(e,t){this.widget?.triggerAction(e,t)}}(0,i.c)("arcgis-layer-list",K)},81714:function(e,t,n){"use strict";var i=n(64297),r=n(20803),o=n(83861),s=n(54503),a=n(8403);const l=n(49006).iv`@layer{arcgis-legend{display:block}}`,c=(0,a.m)(o.default);class d extends s.oi{constructor(){super(...arguments),this.widget=c(this),this.viewModel=this.widget.viewModel,this.activeLayerInfos=this.widget.activeLayerInfos,this.autoDestroyDisabled=!1,this.basemapLegendVisible=this.widget.basemapLegendVisible,this.headingLevel=this.widget.headingLevel,this.hideLayersNotInCurrentView=this.widget.hideLayersNotInCurrentView,this.icon=this.widget.icon,this.label=this.widget.label,this.layerInfos=this.widget.layerInfos,this.legendStyle=this.widget.style,this.position="bottom-left",this.respectLayerDefinitionExpression=this.widget.respectLayerDefinitionExpression,this.respectLayerVisibilityDisabled=this.widget.respectLayerVisibility,this.state=this.viewModel.state,this.arcgisPropertyChange=(0,r.OR)()("state"),this.arcgisReady=(0,s.yM)()}static{this.properties={activeLayerInfos:0,autoDestroyDisabled:5,basemapLegendVisible:5,headingLevel:9,hideLayersNotInCurrentView:5,icon:1,label:1,layerInfos:0,legendStyle:1,position:1,referenceElement:1,respectLayerDefinitionExpression:5,respectLayerVisibilityDisabled:5,state:3}}static{this.shadowRootOptions=s.hZ}static{this.styles=l}async destroy(){await this.manager.destroy()}}(0,i.c)("arcgis-legend",d)},47307:function(e,t){"use strict";t.Z=function(){return!0}},43909:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var i=n(12744),r=n(95598),o=n(11285),s=n(5393),a=n(92800),l=n(71082);function c(e){return'"'+e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var d=function(e){return(e<10?"0":"")+e},u="function"==typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+d(e.getUTCMonth()+1)+"-"+d(e.getUTCDate())+"T"+d(e.getUTCHours())+":"+d(e.getUTCMinutes())+":"+d(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"},p=n(33598);var h=n(88801),f=(0,s.Z)((function(e,t){return(0,h.Z)((n=e,function(){return!n.apply(this,arguments)}),t);var n})),y=f;function m(e,t){var n=function(n){var i=t.concat([e]);return(0,a.Z)(n,i)?"<Circular>":m(n,i)},i=function(e,t){return(0,l.Z)((function(t){return c(t)+": "+n(e[t])}),t.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+(0,l.Z)(n,e).join(", ")+"))";case"[object Array]":return"["+(0,l.Z)(n,e).concat(i(e,y((function(e){return/^\d+$/.test(e)}),(0,p.Z)(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+n(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?n(NaN):c(u(e)))+")";case"[object Map]":return"new Map("+n(Array.from(e))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+n(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object Set]":return"new Set("+n(Array.from(e).sort())+")";case"[object String]":return"object"==typeof e?"new String("+n(e.valueOf())+")":c(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var r=e.toString();if("[object Object]"!==r)return r}return"{"+i(e,(0,p.Z)(e)).join(", ")+"}"}}var g=(0,r.Z)((function(e){return m(e,[])})),v=(0,s.Z)((function(e,t){if(e===t)return t;function n(e,t){if(e>t!=t>e)return t>e?t:e}var i=n(e,t);if(void 0!==i)return i;var r=n(typeof e,typeof t);if(void 0!==r)return r===typeof e?e:t;var o=g(e),s=n(o,g(t));return void 0!==s&&s===o?e:t})),b=n(56943),C=(0,r.Z)((function(e){var t=(0,b.Z)(v,0,(0,o.Z)((function(e){return e[0].length}),e));return(0,i.Z)(t,(function(){for(var t=0;t<e.length;){if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments);t+=1}}))})),_=C},52362:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(5393),r=n(92800);function o(e,t,n){var i,o=typeof e;switch(o){case"string":case"number":return 0===e&&1/e==-1/0?!!n._items["-0"]||(t&&(n._items["-0"]=!0),!1):null!==n._nativeSet?t?(i=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===i):n._nativeSet.has(e):o in n._items?e in n._items[o]||(t&&(n._items[o][e]=!0),!1):(t&&(n._items[o]={},n._items[o][e]=!0),!1);case"boolean":if(o in n._items){var s=e?1:0;return!!n._items[o][s]||(t&&(n._items[o][s]=!0),!1)}return t&&(n._items[o]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==n._nativeSet?t?(i=n._nativeSet.size,n._nativeSet.add(e),n._nativeSet.size===i):n._nativeSet.has(e):o in n._items?!!(0,r.Z)(e,n._items[o])||(t&&n._items[o].push(e),!1):(t&&(n._items[o]=[e]),!1);case"undefined":return!!n._items[o]||(t&&(n._items[o]=!0),!1);case"object":if(null===e)return!!n._items.null||(t&&(n._items.null=!0),!1);default:return(o=Object.prototype.toString.call(e))in n._items?!!(0,r.Z)(e,n._items[o])||(t&&n._items[o].push(e),!1):(t&&(n._items[o]=[e]),!1)}}var s=function(){function e(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!o(e,!0,this)},e.prototype.has=function(e){return o(e,!1,this)},e}(),a=(0,i.Z)((function(e,t){for(var n=[],i=0,r=e.length,o=t.length,a=new s,l=0;l<o;l+=1)a.add(t[l]);for(;i<r;)a.add(e[i])&&(n[n.length]=e[i]),i+=1;return n}))},90602:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(5393),r=n(71927),o=(0,n(95598).Z)((function(e){return null==e})),s=(0,i.Z)((function(e,t){if(0===e.length||o(t))return!1;for(var n=t,i=0;i<e.length;){if(o(n)||!(0,r.Z)(e[i],n))return!1;n=n[e[i]],i+=1}return!0})),a=(0,i.Z)((function(e,t){return s([e],t)}))},92800:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(50223);function r(e,t){return function(e,t,n){var r,o;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(r=1/t;n<e.length;){if(0===(o=e[n])&&1/o===r)return n;n+=1}return-1}if(t!=t){for(;n<e.length;){if("number"==typeof(o=e[n])&&o!=o)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(null===t)return e.indexOf(t,n)}for(;n<e.length;){if((0,i.Z)(e[n],t))return n;n+=1}return-1}(t,e,0)>=0}},71082:function(e,t,n){"use strict";function i(e,t){for(var n=0,i=t.length,r=Array(i);n<i;)r[n]=e(t[n]),n+=1;return r}n.d(t,{Z:function(){return i}})},11285:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var i=n(18362),r=n(5393),o=n(39556),s=n(71082),a=n(44969),l=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=a.Z.init,e.prototype["@@transducer/result"]=a.Z.result,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),c=function(e){return function(t){return new l(e,t)}},d=n(12744),u=n(95598),p=n(13415);function h(e,t,n){return function(){for(var i=[],r=0,o=e,s=0,a=!1;s<t.length||r<arguments.length;){var l;s<t.length&&(!(0,p.Z)(t[s])||r>=arguments.length)?l=t[s]:(l=arguments[r],r+=1),i[s]=l,(0,p.Z)(l)?a=!0:o-=1,s+=1}return!a&&o<=0?n.apply(this,i):(0,d.Z)(Math.max(0,o),h(e,i,n))}}var f=(0,r.Z)((function(e,t){return 1===e?(0,u.Z)(t):(0,d.Z)(e,h(e,[],t))})),y=n(33598),m=(0,r.Z)((0,o.Z)(["fantasy-land/map","map"],c,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return f(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return(0,i.Z)((function(n,i){return n[i]=e(t[i]),n}),{},(0,y.Z)(t));default:return(0,s.Z)(e,t)}}))),g=m}}]);