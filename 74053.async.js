"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[74053],{2875:function(t,e,r){r.d(e,{a:function(){return a},b:function(){return o},c:function(){return u},d:function(){return i},e:function(){return h},f:function(){return l},l:function(){return c},n:function(){return p},t:function(){return s}});var n=r(38461);r(61432),r(96711);function i(t,e,r){s(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function s(t,e,r,n=3,i=n){if(t.length/n!==Math.ceil(e.length/i))return t;const s=t.length/n,u=r[0],o=r[1],f=r[2],c=r[4],l=r[5],a=r[6],h=r[8],p=r[9],y=r[10],d=r[12],B=r[13],E=r[14];let T=0,m=0;for(let r=0;r<s;r++){const r=e[T],s=e[T+1],g=e[T+2];t[m]=u*r+c*s+h*g+d,t[m+1]=o*r+l*s+p*g+B,t[m+2]=f*r+a*s+y*g+E,T+=i,m+=n}return t}function u(t,e,r){o(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function o(t,e,r,n=3,i=n){if(t.length/n!==Math.ceil(e.length/i))return;const s=t.length/n,u=r[0],o=r[1],f=r[2],c=r[3],l=r[4],a=r[5],h=r[6],p=r[7],y=r[8];let d=0,B=0;for(let r=0;r<s;r++){const r=e[d],s=e[d+1],E=e[d+2];t[B]=u*r+c*s+h*E,t[B+1]=o*r+l*s+p*E,t[B+2]=f*r+a*s+y*E,d+=i,B+=n}}function f(t,e,r,n=3,i=n){const s=Math.min(t.length/n,e.length/i);let u=0,o=0;for(let f=0;f<s;f++)t[o]=r*e[u],t[o+1]=r*e[u+1],t[o+2]=r*e[u+2],u+=i,o+=n;return t}function c(t,e,r,n){l(t.typedBuffer,e.typedBuffer,r,n,t.typedBufferStride,e.typedBufferStride)}function l(t,e,r,i,s=3,u=s){const o=Math.min(t.length/s,e.length/u);let f=0,c=0;const l=1/n.jm;for(let n=0;n<o;n++)t[c]=i*(r*e[f])**l,t[c+1]=i*(r*e[f+1])**l,t[c+2]=i*(r*e[f+2])**l,f+=u,c+=s}function a(t,e,r,n=3,i=n){const s=t.length/n;if(s!==Math.ceil(e.length/i))return t;let u=0,o=0;for(let f=0;f<s;f++)t[o]=e[u]+r[0],t[o+1]=e[u+1]+r[1],t[o+2]=e[u+2]+r[2],u+=i,o+=n;return t}function h(t,e){p(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function p(t,e,r=3,n=r){const i=Math.min(t.length/r,e.length/n);let s=0,u=0;for(let o=0;o<i;o++){const i=e[s],o=e[s+1],f=e[s+2],c=i*i+o*o+f*f;if(c>0){const e=1/Math.sqrt(c);t[u]=e*i,t[u+1]=e*o,t[u+2]=e*f}s+=n,u+=r}}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:l,linearToSRGBView:c,normalize:p,normalizeView:h,scale:f,scaleView:function(t,e,r){f(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)},shiftRight:function(t,e,r){const n=Math.min(t.count,e.count),i=t.typedBuffer,s=t.typedBufferStride,u=e.typedBuffer,o=e.typedBufferStride;let f=0,c=0;for(let t=0;t<n;t++)i[c]=u[f]>>r,i[c+1]=u[f+1]>>r,i[c+2]=u[f+2]>>r,f+=o,c+=s},transformMat3:o,transformMat3View:u,transformMat4:s,transformMat4View:i,translate:a},Symbol.toStringTag,{value:"Module"}))},91426:function(t,e,r){r.d(e,{a:function(){return s},b:function(){return l},l:function(){return c},n:function(){return o},t:function(){return u}});var n=r(38461),i=(r(61432),r(96711));function s(t,e,r){u(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function u(t,e,r,n=4,i=n){if(t.length/n!=e.length/i)return;const s=t.length/n,u=r[0],o=r[1],f=r[2],c=r[3],l=r[4],a=r[5],h=r[6],p=r[7],y=r[8];let d=0,B=0;for(let r=0;r<s;r++){const r=e[d],s=e[d+1],E=e[d+2],T=e[d+3];t[B]=u*r+c*s+h*E,t[B+1]=o*r+l*s+p*E,t[B+2]=f*r+a*s+y*E,t[B+3]=T,d+=i,B+=n}}function o(t,e){const r=Math.min(t.count,e.count),n=t.typedBuffer,i=t.typedBufferStride,s=e.typedBuffer,u=e.typedBufferStride;for(let t=0;t<r;t++){const e=t*i,r=t*u,o=s[r],f=s[r+1],c=s[r+2],l=o*o+f*f+c*c;if(l>0){const t=1/Math.sqrt(l);n[e]=t*o,n[e+1]=t*f,n[e+2]=t*c}}}function f(t,e,r,n=4){const i=Math.min(t.length/n,e.count),s=e.typedBuffer,u=e.typedBufferStride;let o=0,f=0;for(let e=0;e<i;e++)t[f]=r*s[o],t[f+1]=r*s[o+1],t[f+2]=r*s[o+2],t[f+3]=r*s[o+3],o+=u,f+=n}function c(t,e,r,n){l(t.typedBuffer,e,r,n,t.typedBufferStride)}function l(t,e,r,i,s=4){const u=Math.min(t.length/s,e.count),o=e.typedBuffer,f=e.typedBufferStride;let c=0,l=0;const a=1/n.jm;for(let e=0;e<u;e++)t[l]=i*(r*o[c])**a,t[l+1]=i*(r*o[c+1])**a,t[l+2]=i*(r*o[c+2])**a,t[l+3]=i*r*o[c+3],c+=f,l+=s}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:l,linearToSRGBView:c,normalize:o,scale:f,scaleView:function(t,e,r){f(t.typedBuffer,e,r,t.typedBufferStride)},transformMat3:u,transformMat3View:s,transformMat4:function(t,e,r,n=4,s=n){if(t.length/n!=e.length/s)return void i.Z.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const u=t.length/n,o=r[0],f=r[1],c=r[2],l=r[3],a=r[4],h=r[5],p=r[6],y=r[7],d=r[8],B=r[9],E=r[10],T=r[11],m=r[12],g=r[13],A=r[14],S=r[15];let M=0,b=0;for(let r=0;r<u;r++){const r=e[M],i=e[M+1],u=e[M+2],_=e[M+3];t[b]=o*r+a*i+d*u+m*_,t[b+1]=f*r+h*i+B*u+g*_,t[b+2]=c*r+p*i+E*u+A*_,t[b+3]=l*r+y*i+T*u+S*_,M+=s,b+=n}},transformMat4View:function(t,e,r){if(t.count!==e.count)return;const n=t.count,i=r[0],s=r[1],u=r[2],o=r[3],f=r[4],c=r[5],l=r[6],a=r[7],h=r[8],p=r[9],y=r[10],d=r[11],B=r[12],E=r[13],T=r[14],m=r[15],g=t.typedBuffer,A=t.typedBufferStride,S=e.typedBuffer,M=e.typedBufferStride;for(let t=0;t<n;t++){const e=t*A,r=t*M,n=S[r],b=S[r+1],_=S[r+2],w=S[r+3];g[e]=i*n+f*b+h*_+B*w,g[e+1]=s*n+c*b+p*_+E*w,g[e+2]=u*n+l*b+y*_+T*w,g[e+3]=o*n+a*b+d*_+m*w}}},Symbol.toStringTag,{value:"Module"}))},41788:function(t,e,r){function n(){return[0,0]}function i(t){return[t[0],t[1]]}function s(t,e){return[t,e]}function u(t,e=[0,0]){const r=Math.min(2,t.length);for(let n=0;n<r;++n)e[n]=t[n];return e}function o(){return[0,0]}function f(){return s(1,1)}function c(){return s(1,0)}function l(){return s(0,1)}r.d(e,{AG:function(){return a},E9:function(){return p},IO:function(){return y},Ue:function(){return n},al:function(){return s},d9:function(){return i},hq:function(){return h},ll:function(){return o},nI:function(){return u}});const a=[0,0],h=f(),p=c(),y=l();Object.freeze(Object.defineProperty({__proto__:null,ONES:h,UNIT_X:p,UNIT_Y:y,ZEROS:a,clone:i,create:n,freeze:function(t,e){return[t,e]},fromArray:u,fromValues:s,ones:f,unitX:c,unitY:l,zeros:o},Symbol.toStringTag,{value:"Module"}))},96373:function(t,e,r){r.d(e,{Iu:function(){return a},Jp:function(){return l},U1:function(){return h},U_:function(){return f},XL:function(){return B},bA:function(){return p},en:function(){return y},f6:function(){return d},p4:function(){return o},t8:function(){return s},uj:function(){return c},xO:function(){return i},yR:function(){return u}});var n=r(66130);function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function s(t,e,r,n,i,s,u,o,f,c){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=s,t[5]=u,t[6]=o,t[7]=f,t[8]=c,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function o(t,e){if(t===e){const r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function f(t,e){const r=e[0],n=e[1],i=e[2],s=e[3],u=e[4],o=e[5],f=e[6],c=e[7],l=e[8],a=l*u-o*c,h=-l*s+o*f,p=c*s-u*f;let y=r*a+n*h+i*p;return y?(y=1/y,t[0]=a*y,t[1]=(-l*n+i*c)*y,t[2]=(o*n-i*u)*y,t[3]=h*y,t[4]=(l*r-i*f)*y,t[5]=(-o*r+i*s)*y,t[6]=p*y,t[7]=(-c*r+n*f)*y,t[8]=(u*r-n*s)*y,t):null}function c(t,e){const r=e[0],n=e[1],i=e[2],s=e[3],u=e[4],o=e[5],f=e[6],c=e[7],l=e[8];return t[0]=u*l-o*c,t[1]=i*c-n*l,t[2]=n*o-i*u,t[3]=o*f-s*l,t[4]=r*l-i*f,t[5]=i*s-r*o,t[6]=s*c-u*f,t[7]=n*f-r*c,t[8]=r*u-n*s,t}function l(t,e,r){const n=e[0],i=e[1],s=e[2],u=e[3],o=e[4],f=e[5],c=e[6],l=e[7],a=e[8],h=r[0],p=r[1],y=r[2],d=r[3],B=r[4],E=r[5],T=r[6],m=r[7],g=r[8];return t[0]=h*n+p*u+y*c,t[1]=h*i+p*o+y*l,t[2]=h*s+p*f+y*a,t[3]=d*n+B*u+E*c,t[4]=d*i+B*o+E*l,t[5]=d*s+B*f+E*a,t[6]=T*n+m*u+g*c,t[7]=T*i+m*o+g*l,t[8]=T*s+m*f+g*a,t}function a(t,e,r){const n=e[0],i=e[1],s=e[2],u=e[3],o=e[4],f=e[5],c=e[6],l=e[7],a=e[8],h=r[0],p=r[1];return t[0]=n,t[1]=i,t[2]=s,t[3]=u,t[4]=o,t[5]=f,t[6]=h*n+p*u+c,t[7]=h*i+p*o+l,t[8]=h*s+p*f+a,t}function h(t,e,r){const n=e[0],i=e[1],s=e[2],u=e[3],o=e[4],f=e[5],c=e[6],l=e[7],a=e[8],h=Math.sin(r),p=Math.cos(r);return t[0]=p*n+h*u,t[1]=p*i+h*o,t[2]=p*s+h*f,t[3]=p*u-h*n,t[4]=p*o-h*i,t[5]=p*f-h*s,t[6]=c,t[7]=l,t[8]=a,t}function p(t,e,r){const n=r[0],i=r[1],s=r[2];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=s*e[6],t[7]=s*e[7],t[8]=s*e[8],t}function y(t,e){const r=e[0],n=e[1],i=e[2],s=e[3],u=r+r,o=n+n,f=i+i,c=r*u,l=n*u,a=n*o,h=i*u,p=i*o,y=i*f,d=s*u,B=s*o,E=s*f;return t[0]=1-a-y,t[3]=l-E,t[6]=h+B,t[1]=l+E,t[4]=1-c-y,t[7]=p-d,t[2]=h-B,t[5]=p+d,t[8]=1-c-a,t}function d(t,e){const r=e[0],n=e[1],i=e[2],s=e[4],u=e[5],o=e[6],f=e[8],c=e[9],l=e[10],a=l*u-o*c,h=-l*s+o*f,p=c*s-u*f,y=r*a+n*h+i*p;if(!y)return null;const d=1/y;return t[0]=a*d,t[1]=(-l*n+i*c)*d,t[2]=(o*n-i*u)*d,t[3]=h*d,t[4]=(l*r-i*f)*d,t[5]=(-o*r+i*s)*d,t[6]=p*d,t[7]=(-c*r+n*f)*d,t[8]=(u*r-n*s)*d,t}function B(t,e){const r=e[0],n=e[1],i=e[2],s=e[3],u=e[4],o=e[5],f=e[6],c=e[7],l=e[8],a=e[9],h=e[10],p=e[11],y=e[12],d=e[13],B=e[14],E=e[15],T=r*o-n*u,m=r*f-i*u,g=r*c-s*u,A=n*f-i*o,S=n*c-s*o,M=i*c-s*f,b=l*d-a*y,_=l*B-h*y,w=l*E-p*y,R=a*B-h*d,v=a*E-p*d,x=h*E-p*B;let L=T*x-m*v+g*R+A*w-S*_+M*b;return L?(L=1/L,t[0]=(o*x-f*v+c*R)*L,t[1]=(f*w-u*x-c*_)*L,t[2]=(u*v-o*w+c*b)*L,t[3]=(i*v-n*x-s*R)*L,t[4]=(r*x-i*w+s*_)*L,t[5]=(n*w-r*v-s*b)*L,t[6]=(d*M-B*S+E*A)*L,t[7]=(B*g-y*M-E*m)*L,t[8]=(y*S-d*g+E*T)*L,t):null}function E(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}const T=l,m=E;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t},adjoint:c,copy:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},determinant:function(t){const e=t[0],r=t[1],n=t[2],i=t[3],s=t[4],u=t[5],o=t[6],f=t[7],c=t[8];return e*(c*s-u*f)+r*(-c*i+u*o)+n*(f*i-s*o)},equals:function(t,e){const r=t[0],i=t[1],s=t[2],u=t[3],o=t[4],f=t[5],c=t[6],l=t[7],a=t[8],h=e[0],p=e[1],y=e[2],d=e[3],B=e[4],E=e[5],T=e[6],m=e[7],g=e[8],A=(0,n.bn)();return Math.abs(r-h)<=A*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(i-p)<=A*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(s-y)<=A*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(u-d)<=A*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(o-B)<=A*Math.max(1,Math.abs(o),Math.abs(B))&&Math.abs(f-E)<=A*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(c-T)<=A*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(l-m)<=A*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(a-g)<=A*Math.max(1,Math.abs(a),Math.abs(g))},exactEquals:function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)},fromMat2d:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},fromMat4:i,fromQuat:y,fromRotation:function(t,e){const r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromScaling:function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromTranslation:function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},identity:u,invert:f,isOrthoNormal:function(t){const e=(0,n.bn)(),r=t[0],i=t[1],s=t[2],u=t[3],o=t[4],f=t[5],c=t[6],l=t[7],a=t[8];return Math.abs(1-(r*r+u*u+c*c))<=e&&Math.abs(1-(i*i+o*o+l*l))<=e&&Math.abs(1-(s*s+f*f+a*a))<=e},mul:T,multiply:l,multiplyScalar:function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t},multiplyScalarAndAdd:function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t},normalFromMat4:B,normalFromMat4Legacy:d,projection:function(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},rotate:h,scale:p,scaleByVec2:function(t,e,r){const n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t},set:s,str:function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},sub:m,subtract:E,translate:a,transpose:o},Symbol.toStringTag,{value:"Module"}))},74238:function(t,e,r){r.d(e,{B:function(){return c}});var n=r(99574),i=r(31865),s=r(82846),u=r(74817),o=r(8008),f=r(8554);function c(t,e,r,n){const s=(0,o.E2)(t,n);if(null==s)return!1;const c=s.source.spatialReferenceId,y=s.dest.spatialReferenceId;if(c===y&&!l(y)&&(c!==o.Ej.UNKNOWN||(0,f.fS)(t,n)))return(0,i.vc)(r,e),!0;if(l(y)){const t=o.rf[c][o.Ej.LON_LAT],n=o.rf[o.Ej.LON_LAT][y];return null!=t&&null!=n&&(t(e,0,h,0),n(h,0,p,0),(0,u.q)(a*h[0],a*h[1],r),r[12]=p[0],r[13]=p[1],r[14]=p[2],!0)}const d=l(c);if((y===o.Ej.WEB_MERCATOR||y===o.Ej.PLATE_CARREE||y===o.Ej.WGS84||y===o.Ej.CGCS2000)&&(c===o.Ej.WGS84||d||c===o.Ej.WEB_MERCATOR||c===o.Ej.CGCS2000)){const t=o.rf[c][o.Ej.LON_LAT],n=o.rf[o.Ej.LON_LAT][y];return null!=t&&null!=n&&(t(e,0,h,0),n(h,0,p,0),d?(0,u.B)(a*h[0],a*h[1],r):(0,i.yR)(r),r[12]=p[0],r[13]=p[1],r[14]=p[2],!0)}return!1}function l(t){return t===o.Ej.SPHERICAL_ECEF||t===o.Ej.SPHERICAL_MARS_PCPF||t===o.Ej.SPHERICAL_MOON_PCPF||t===o.Ej.WGS84_ECEF}const a=(0,n.Vl)(1),h=(0,s.Ue)(),p=(0,s.Ue)()},74817:function(t,e,r){r.d(e,{B:function(){return s},q:function(){return i}});var n=r(31865);function i(t,e,r){const n=Math.sin(t),i=Math.cos(t),s=Math.sin(e),u=Math.cos(e),o=r;return o[0]=-n,o[4]=-s*i,o[8]=u*i,o[12]=0,o[1]=i,o[5]=-s*n,o[9]=u*n,o[13]=0,o[2]=0,o[6]=u,o[10]=s,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1,o}function s(t,e,r){return i(t,e,r),(0,n.p4)(r,r),r}},6961:function(t,e,r){r.d(e,{K:function(){return u},U:function(){return o}});var n=r(82846),i=r(13132),s=r(30146);function u(t,e,r,n){if((0,i.canProjectWithoutEngine)(t.spatialReference,r)){f[0]=t.x,f[1]=t.y;const i=t.z;return f[2]=i??n??0,(0,s.projectBuffer)(f,t.spatialReference,0,e,r,0)}const u=(0,i.tryProjectWithZConversion)(t,r);return!!u&&(e[0]=u?.x,e[1]=u?.y,e[2]=u?.z??n??0,!0)}async function o(t,e,r,n,s){return await(0,i.initializeProjection)(t.spatialReference,r,null,s),u(t,e,r,n)}const f=(0,n.Ue)()},70331:function(t,e,r){r.d(e,{HQ:function(){return o},VY:function(){return f},rS:function(){return l},wY:function(){return c}});var n=r(47925),i=r(45213),s=r(8554);const u=new i.Z(n.kU),o=new i.Z(n.JL),f=new i.Z(n.mM),c=new i.Z(n.pn);function l(t){const e=a.get(t);if(e)return e;let r=u;if(t)if(t===o)r=o;else if(t===f)r=f;else{const e=t.wkid,n=t.latestWkid;if(null!=e||null!=n)(0,s.o$)(e)||(0,s.o$)(n)?r=o:((0,s.ME)(e)||(0,s.ME)(n))&&(r=f);else{const e=t.wkt2??t.wkt;if(e){const t=e.toUpperCase();t===h?r=o:t===p&&(r=f)}}}return a.set(t,r),r}const a=new Map,h=o.wkt.toUpperCase(),p=f.wkt.toUpperCase()},98556:function(t,e,r){r.d(e,{Q:function(){return h}});var n,i=r(73440),s=r(63255),u=r(28947),o=r(96711),f=r(17155),c=r(90775),l=r(48023),a=r(69460);let h=n=class extends s.Z{constructor(t){super(t),this.color=null,this.position=new Float64Array(0),this.uv=null,this.normal=null,this.tangent=null}castColor(t){return(0,a.X)(t,Uint8Array,[Uint8ClampedArray],{loggerTag:".color=",stride:4},o.Z.getLogger(this))}castPosition(t){return t&&t instanceof Float32Array&&o.Z.getLogger(this).warn(".position=","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array"),(0,a.X)(t,Float64Array,[Float32Array],{loggerTag:".position=",stride:3},o.Z.getLogger(this))}castUv(t){return(0,a.X)(t,Float32Array,[Float64Array],{loggerTag:".uv=",stride:2},o.Z.getLogger(this))}castNormal(t){return(0,a.X)(t,Float32Array,[Float64Array],{loggerTag:".normal=",stride:3},o.Z.getLogger(this))}castTangent(t){return(0,a.X)(t,Float32Array,[Float64Array],{loggerTag:".tangent=",stride:4},o.Z.getLogger(this))}clone(){const t={position:(0,u.d9)(this.position),uv:(0,u.d9)(this.uv),normal:(0,u.d9)(this.normal),tangent:(0,u.d9)(this.tangent),color:(0,u.d9)(this.color)};return new n(t)}clonePositional(){const t={position:(0,u.d9)(this.position),normal:(0,u.d9)(this.normal),tangent:(0,u.d9)(this.tangent),uv:this.uv,color:this.color};return new n(t)}get usedMemory(){return this.position.byteLength+(this.uv?.byteLength??0)+(this.normal?.byteLength??0)+(this.tangent?.byteLength??0)+(this.color?.byteLength??0)}};(0,i._)([(0,f.Cb)({json:{write:a.d}})],h.prototype,"color",void 0),(0,i._)([(0,c.p)("color")],h.prototype,"castColor",null),(0,i._)([(0,f.Cb)({nonNullable:!0,json:{write:a.d}})],h.prototype,"position",void 0),(0,i._)([(0,c.p)("position")],h.prototype,"castPosition",null),(0,i._)([(0,f.Cb)({json:{write:a.d}})],h.prototype,"uv",void 0),(0,i._)([(0,c.p)("uv")],h.prototype,"castUv",null),(0,i._)([(0,f.Cb)({json:{write:a.d}})],h.prototype,"normal",void 0),(0,i._)([(0,c.p)("normal")],h.prototype,"castNormal",null),(0,i._)([(0,f.Cb)({json:{write:a.d}})],h.prototype,"tangent",void 0),(0,i._)([(0,c.p)("tangent")],h.prototype,"castTangent",null),h=n=(0,i._)([(0,l.j)("esri.geometry.support.MeshVertexAttributes")],h)},81342:function(t,e,r){r.d(e,{ly:function(){return d},yT:function(){return y},oS:function(){return w},o7:function(){return q},Jj:function(){return J},Hz:function(){return k},gK:function(){return S},ey:function(){return M},bj:function(){return b},O1:function(){return _},av:function(){return N},Nu:function(){return V},D_:function(){return L},Eu:function(){return E},hg:function(){return B},q6:function(){return R},or:function(){return X},wA:function(){return K},Vs:function(){return z},TS:function(){return O},qt:function(){return Y},xA:function(){return C},ct:function(){return m},qx:function(){return T},fP:function(){return v},n1:function(){return W},PP:function(){return H},P_:function(){return Z},mw:function(){return U},G5:function(){return G},ne:function(){return P},ek:function(){return A},R2:function(){return g},Cd:function(){return x},zO:function(){return D},TN:function(){return Q},ir:function(){return $},v6:function(){return j},hu:function(){return I},mc:function(){return F}});var n=r(57192);class i{static{this.ElementCount=9}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.elementCount=9;const s=this.TypedArrayConstructor;void 0===n&&(n=9*s.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==i?new s(e,u):new s(e,u,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<9;t++)e[t]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<9;t++)this.typedBuffer[r++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){const n=this.typedBuffer,i=e.typedBuffer;let s=t*this.typedBufferStride,u=r*e.typedBufferStride;for(let t=0;t<9;++t)n[s++]=i[u++]}get buffer(){return this.typedBuffer.buffer}}class s{static{this.ElementCount=16}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.elementCount=16;const s=this.TypedArrayConstructor;void 0===n&&(n=16*s.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==i?new s(e,u):new s(e,u,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<16;t++)e[t]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<16;t++)this.typedBuffer[r++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){this.copyFromTypedBuffer(t,e.typedBuffer,r*e.typedBufferStride)}copyFromTypedBuffer(t,e,r){const n=this.typedBuffer;let i=t*this.typedBufferStride;for(let t=0;t<16;++t)n[i++]=e[r++]}get buffer(){return this.typedBuffer.buffer}}class u{static{this.ElementCount=1}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.elementCount=1;const s=this.TypedArrayConstructor;void 0===n&&(n=s.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==i?new s(e,u):new s(e,u,(i-r)/s.BYTES_PER_ELEMENT),this.stride=n,this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,e){this.typedBuffer[t*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}}var o=r(26821);class f{static{this.ElementCount=2}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.start=r,this.elementCount=2;const s=this.TypedArrayConstructor;void 0===n&&(n=2*s.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==i?new s(e,u):new s(e,u,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,o.t8)(e,this.typedBuffer[t],this.typedBuffer[t+1])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t]=e[1]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t]=r}copyFrom(t,e,r){const n=this.typedBuffer,i=e.typedBuffer;let s=t*this.typedBufferStride,u=r*e.typedBufferStride;n[s++]=i[u++],n[s]=i[u]}get buffer(){return this.typedBuffer.buffer}}var c=r(24910);class l{static{this.ElementCount=3}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.elementCount=3;const s=this.TypedArrayConstructor;void 0===n&&(n=3*s.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==i?new s(e,u):new s(e,u,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,c.i)(e,this.typedBuffer[t],this.typedBuffer[t+1],this.typedBuffer[t+2])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t]=e[2]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,n){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t]=n}copyFrom(t,e,r){const n=this.typedBuffer,i=e.typedBuffer;let s=t*this.typedBufferStride,u=r*e.typedBufferStride;n[s++]=i[u++],n[s++]=i[u++],n[s]=i[u]}get buffer(){return this.typedBuffer.buffer}}var a=r(73749);class h{static{this.ElementCount=4}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.start=r,this.elementCount=4;const s=this.TypedArrayConstructor;void 0===n&&(n=4*s.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:r;this.typedBuffer=null==i?new s(e,u):new s(e,u,(i-r)/s.BYTES_PER_ELEMENT),this.typedBufferStride=n/s.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,e){return t*=this.typedBufferStride,(0,a.s)(e,this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t++]=e[2],this.typedBuffer[t]=e[3]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,n,i){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t++]=n,this.typedBuffer[t]=i}copyFrom(t,e,r){const n=this.typedBuffer,i=e.typedBuffer;let s=t*this.typedBufferStride,u=r*e.typedBufferStride;n[s++]=i[u++],n[s++]=i[u++],n[s++]=i[u++],n[s]=i[u]}get buffer(){return this.typedBuffer.buffer}}var p=r(61719);class y extends u{constructor(t,e=0,r,i){(0,p.hu)(n.LL),super((0,n.vz)(),t,e,r,i),this.elementType="f16"}static{this.ElementType="f16"}}class d extends u{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}static{this.ElementType="f32"}}class B extends f{constructor(t,e=0,r,i){(0,p.hu)(n.LL),super((0,n.vz)(),t,e,r,i),this.elementType="f16"}slice(t,e){return this.sliceBuffer(B,t,e)}static{this.ElementType="f16"}}class E extends f{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(E,t,e)}static{this.ElementType="f32"}}class T extends l{constructor(t,e=0,r,i){(0,p.hu)(n.LL),super((0,n.vz)(),t,e,r,i),this.elementType="f16"}slice(t,e){return this.sliceBuffer(T,t,e)}static{this.ElementType="f16"}}class m extends l{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(m,t,e)}static fromTypedArray(t,e){return new m(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f32"}}class g extends h{constructor(t,e=0,r,i){(0,p.hu)(n.LL),super((0,n.vz)(),t,e,r,i),this.elementType="f16"}slice(t,e){return this.sliceBuffer(g,t,e)}static{this.ElementType="f16"}}class A extends h{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(A,t,e)}static{this.ElementType="f32"}}class S extends i{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(S,t,e)}static{this.ElementType="f32"}}class M extends i{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(M,t,e)}static{this.ElementType="f64"}}class b extends s{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(b,t,e)}static{this.ElementType="f32"}}class _ extends s{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(_,t,e)}static{this.ElementType="f64"}}class w extends u{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(w,t,e)}static{this.ElementType="f64"}}class R extends f{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(R,t,e)}static{this.ElementType="f64"}}class v extends l{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(v,t,e)}static fromTypedArray(t,e){return new v(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f64"}}class x extends h{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(x,t,e)}static{this.ElementType="f64"}}class L extends u{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(L,t,e)}static{this.ElementType="u8"}}class C extends f{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(C,t,e)}static{this.ElementType="u8"}}class P extends l{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(P,t,e)}static fromTypedArray(t,e){return new P(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="u8"}}class F extends h{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(F,t,e)}static{this.ElementType="u8"}}class N extends u{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(N,t,e)}static{this.ElementType="u16"}}class O extends f{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(O,t,e)}static{this.ElementType="u16"}}class U extends l{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(U,t,e)}static{this.ElementType="u16"}}class j extends h{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(j,t,e)}static{this.ElementType="u16"}}class V extends u{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(V,t,e)}static{this.ElementType="u32"}}class Y extends f{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(Y,t,e)}static{this.ElementType="u32"}}class G extends l{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(G,t,e)}static{this.ElementType="u32"}}class I extends h{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(I,t,e)}static{this.ElementType="u32"}}class k extends u{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(k,t,e)}static{this.ElementType="i8"}}class z extends f{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(z,t,e)}static{this.ElementType="i8"}}class Z extends l{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(Z,t,e)}static{this.ElementType="i8"}}class $ extends h{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer($,t,e)}static{this.ElementType="i8"}}class q extends u{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(q,t,e)}static{this.ElementType="i16"}}class X extends f{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(X,t,e)}static{this.ElementType="i16"}}class W extends l{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(W,t,e)}static{this.ElementType="i16"}}class D extends h{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(D,t,e)}static{this.ElementType="i16"}}class J extends u{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(J,t,e)}static{this.ElementType="i32"}}class K extends f{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(K,t,e)}static{this.ElementType="i32"}}class H extends l{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(H,t,e)}static{this.ElementType="i32"}}class Q extends h{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(Q,t,e)}static{this.ElementType="i32"}}},57192:function(t,e,r){r.d(e,{LL:function(){return u},TQ:function(){return i},vz:function(){return s}});let n=globalThis.Float16Array;function i(...t){return new(n??Float32Array)(...t)}function s(){return n}let u=!!n},69460:function(t,e,r){function n(t,e,r,n){const{loggerTag:i,stride:s}=e;return t.length%s!=0?(n.error(i,`Invalid array length, expected a multiple of ${s}`),new r([])):t}function i(t,e,r,i,s){if(!t)return t;if(t instanceof e)return n(t,i,e,s);for(const u of r)if(t instanceof u)return n(new e(t),i,e,s);if(Array.isArray(t))return n(new e(t),i,e,s);{const n=r.map((t=>`'${t.name}'`));return s.error(`Failed to set property, expected one of ${n}, but got ${t.constructor.name}`),new e([])}}function s(t,e,r){e[r]=function(t){const e=new Array(t.length);for(let r=0;r<t.length;r++)e[r]=t[r];return e}(t)}r.d(e,{X:function(){return i},d:function(){return s}})},74053:function(t,e,r){r.d(e,{convertMeshVertexSpace:function(){return f}});var n=r(88194),i=r(28947),s=r(93568),u=r(98556),o=r(63827);async function f(t,e,r){await Promise.resolve(),(0,s.k_)(r);const f=(0,o.qk)(t,e,{useEllipsoid:r?.useEllipsoid});if(!f)throw new n.Z("meshUtils:convertVertexSpace()","Failed to convert to provided vertex space due to projection errors");const c=t.cloneAndModifyVertexAttributes(new u.Q({...f,uv:(0,i.d9)(t.vertexAttributes.uv),color:(0,i.d9)(t.vertexAttributes.color)}),e);return c.transform=null,c}},17966:function(t,e,r){r.d(e,{$s:function(){return R},Gi:function(){return T},Iz:function(){return g},M2:function(){return L},MO:function(){return C},Ot:function(){return w},To:function(){return M},VS:function(){return _},XO:function(){return S},Yk:function(){return A},pn:function(){return m},w9:function(){return b},wi:function(){return x}});var n=r(99574),i=r(96373),s=r(30748),u=r(31865),o=r(10934),f=r(24910),c=r(82846),l=r(74238),a=r(30146),h=r(21414),p=r(8554),y=r(97290),d=r(81342),B=r(2875),E=r(91426);const T="Projection may be possible after calling projection.load().";function m(t,e,r,n){t.error(`Failed to project from (wkid:${e.wkid}) to (wkid:${r.wkid}).${n?" ":""}${n}`)}function g(t,e,r,n,i,s){return O(P.TO_PCPF,d.ct.fromTypedArray(t),C.NORMAL,d.fP.fromTypedArray(e),r,d.fP.fromTypedArray(n),i,d.ct.fromTypedArray(s))?s:null}function A(t,e,r,n,i,s){return O(P.FROM_PCPF,d.ct.fromTypedArray(t),C.NORMAL,d.fP.fromTypedArray(e),r,d.fP.fromTypedArray(n),i,d.ct.fromTypedArray(s))?s:null}function S(t,e,r,n){return(0,a.projectBuffer)(t,e,0,r,n,0)?r:null}function M(t,e,r,n){return(0,a.projectBuffer)(t,e,0,r,n,0)?r:null}function b(t,e,r){return(0,i.XL)(Y,r),(0,B.b)(e,t,Y),(0,n.oc)(Y)&&(0,B.n)(e,e),e}function _(t,e,r){return(0,i.xO)(Y,r),(0,E.t)(e,t,Y),(0,n.oc)(Y)&&(0,B.n)(e,e,4),e}function w(t,e,r,i){const s=e===C.NORMAL;return v(t,e,r,((t,e)=>{const r=Math.cos((0,n.Vl)(t));e[0]=s?r:1/r,e[1]=1}),i)}function R(t,e,r,n){const i=e===C.NORMAL;return v(t,e,r,((t,e)=>{const r=Math.cosh(-t/h.sv.radius);e[0]=1,e[1]=i?r:1/r}),n)}function v(t,e,r,n,i){const s=e===C.NORMAL?3:4,u=[0,0];for(let e=0,o=1;e<t.length;e+=s,o+=3){n(r[o],u);const f=t[e]*u[0],c=t[e+1]*u[1],l=t[e+2],a=1/Math.sqrt(f*f+c*c+l*l);i[e]=f*a,i[e+1]=c*a,i[e+2]=l*a,4===s&&(i[e+3]=t[e+3])}return i}function x(t,e,r,n,i,s){if(!O(P.TO_PCPF,d.ct.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),C.TANGENT,d.fP.fromTypedArray(e),r,d.fP.fromTypedArray(n),i,d.ct.fromTypedArray(s,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let e=3;e<t.length;e+=4)s[e]=t[e];return s}function L(t,e,r,n,i,s){if(!O(P.FROM_PCPF,d.ct.fromTypedArray(t,16),C.TANGENT,d.fP.fromTypedArray(e),r,d.fP.fromTypedArray(n),i,d.ct.fromTypedArray(s,16)))return null;for(let e=3;e<t.length;e+=4)s[e]=t[e];return s}var C,P,F;function N(t,e,r,n,s){switch((0,l.B)(n,r,V,n),t===P.FROM_PCPF&&(0,u.U_)(V,V),e){case C.NORMAL:return(0,i.XL)(s,V);case C.TANGENT:return(0,i.xO)(s,V)}}function O(t,e,r,n,i,s,u,o){if(!e)return;const c=n.count;if(function(t){return t.isWGS84||(0,p.yW)(t)||(0,p.BZ)(t)||(0,p.V2)(t)}(i))for(let n=0;n<c;n++)s.getVec(n,U),e.getVec(n,j),(0,f.o)(j,j,N(t,r,U,u,Y)),o.setVec(n,j);else for(let i=0;i<c;i++){s.getVec(i,U),e.getVec(i,j);const c=(0,y.mZ)(n.get(i,1));let l=Math.cos(c);r===C.TANGENT!=(t===P.TO_PCPF)&&(l=1/l),N(t,r,U,u,Y),t===P.TO_PCPF?(Y[0]*=l,Y[1]*=l,Y[2]*=l,Y[3]*=l,Y[4]*=l,Y[5]*=l):(Y[0]*=l,Y[3]*=l,Y[6]*=l,Y[1]*=l,Y[4]*=l,Y[7]*=l),(0,f.o)(j,j,Y),(0,f.n)(j,j),o.setVec(i,j)}return o}(F=C||(C={}))[F.NORMAL=0]="NORMAL",F[F.TANGENT=1]="TANGENT",function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(P||(P={}));const U=(0,c.Ue)(),j=(0,c.Ue)(),V=(0,o.Ue)(),Y=(0,s.Ue)()},63827:function(t,e,r){r.d(e,{qk:function(){return A},ur:function(){return R},x1:function(){return g}});var n=r(96711),i=r(99574),s=r(26636),u=r(96373),o=r(30748),f=r(31865),c=r(10934),l=r(24910),a=r(82846),h=r(70331),p=r(74238),y=r(6961),d=r(52861),B=r(8554),E=r(2875),T=r(17966);const m=()=>n.Z.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function g(t,e,{vertexSpace:r,spatialReference:n}){if("georeferenced"===r.type){const i=t;if(!(0,y.K)(e,i,n))return!1;const{origin:s}=r;return(0,l.d)(t,i,s),!0}const i=(0,h.rS)(n),s=t;if(!(0,y.K)(e,s,i))return!1;const{origin:u}=r,o=P;if(!(0,p.B)(n,u,o,i))return!1;const c=(0,f.U_)(P,o);return null!=c&&((0,l.t)(t,s,c),!0)}function A(t,e,r){const{vertexSpace:n,transform:i,vertexAttributes:s}=t,o=(0,d.zZ)(n)?i:null,a=_(t.spatialReference,r,F.SOURCE_AND_TARGET);if((0,d.vI)(n,e)&&(!o||(0,f.I6)(o.localMatrix,c.Wd))&&w(a)){const{position:t,normal:e,tangent:n}=s,i=r?.allowBufferReuse;return{position:i?t:t.slice(),normal:i?e:e?.slice(),tangent:i?n:n?.slice()}}switch(t.vertexSpace.type){case"local":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:r},{origin:n},i,s){const u=S(e,s);if(!(0,p.B)(e,n,v,u))return(0,T.pn)(m(),e,u),null;if(r&&(0,f.Jp)(v,v,r.localMatrix),!(0,p.B)(e,i,x,u))return(0,T.pn)(m(),u,e),null;(0,f.U_)(x,x);const o=(0,f.Jp)(v,x,v);return b(o,e,s,F.SOURCE_AND_TARGET),M(t,o)}(t,t.vertexSpace,e.origin,r):function({spatialReference:t,vertexAttributes:e,transform:r},{origin:n},i,s){const u=S(t,s);if(!(0,p.B)(t,n,v,u))return(0,T.pn)(m(),t,u),null;r&&(0,f.Jp)(v,v,r.localMatrix),b(v,t,s,F.SOURCE);const o=new Float64Array(e.position.length),c=function(t,e,r,n,i){(0,E.t)(n,t,e);const s=new Float64Array(t.length);return(0,T.To)(n,i,s,r)?s:((0,T.pn)(m(),i,r),null)}(e.position,v,t,o,u);if(!c)return null;const a=function(t,e,r,n,i,s){if(null==i)return null;const u=new Float32Array(i.length);return(0,T.w9)(i,u,s),(0,T.Yk)(u,t,e,r,n,u)?u:((0,T.pn)(m(),n,e),null)}(c,t,o,u,e.normal,v);if(e.normal&&!a)return null;const h=function(t,e,r,n,i,s){if(null==i)return null;const u=new Float32Array(i.length);return(0,T.VS)(i,u,s),(0,T.M2)(u,t,e,r,n,u)?u:((0,T.pn)(m(),n,e),null)}(c,t,o,u,e.tangent,v);if(e.tangent&&!h)return null;if(i){const t=(0,l.u)(C,i);(0,E.a)(c,c,t)}return{position:c,normal:a,tangent:h}}(t,t.vertexSpace,e.origin,r);case"georeferenced":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:r},{origin:n},i,s){const o=S(e,s);if(!(0,p.B)(e,i,v,o))return(0,T.pn)(m(),e,o),null;const c=1/_(e,s,F.TARGET);(0,f.bA)(v,v,[c,c,c]);const l=(0,f.U_)(x,v),{position:a,normal:h,tangent:y}=function(t,e,r){if(!e)return t;if(!r){const{position:r,normal:n,tangent:i}=t;return{position:(0,E.a)(new Float64Array(r.length),r,e),tangent:i,normal:n}}const n=M(t,r.localMatrix);return(0,E.a)(n.position,n.position,e),n}(t,n,r),d=new Float64Array(a.length),B=function(t,e,r,n,i){const s=(0,T.XO)(t,e,n,i);if(!s)return(0,T.pn)(m(),e,i),null;const u=new Float64Array(s.length);return(0,E.t)(u,s,r),u}(a,e,l,d,o);if(!B)return null;const g=(0,u.XL)(L,l),A=function(t,e,r,n,i,s,u){if(null==t)return null;const o=u??new Float32Array(t.length);return(0,T.Iz)(t,e,r,n,i,o)?((0,E.b)(o,o,s),o):((0,T.pn)(m(),r,i),null)}(h,a,e,d,o,g,h!==t.normal?h:void 0);if(!A&&h)return null;const b=function(t,e,r,n,i,s,u){if(null==t)return null;const o=u??new Float32Array(t.length);return(0,T.wi)(t,e,r,n,i,o)?((0,E.b)(o,o,s,4),o):((0,T.pn)(m(),r,i),null)}(y,a,e,d,o,g,y!==t.tangent?y:void 0);return!b&&y?null:{position:B,normal:A,tangent:b}}(t,t.vertexSpace,e.origin,r):function({vertexAttributes:t,transform:e,spatialReference:r},{origin:n},i,s){const u=_(r,s,F.SOURCE_AND_TARGET),o=n||!w(u)?(0,f.JG)(v,e?.localMatrix??c.Wd):null;o&&b(o,r,s,F.SOURCE_AND_TARGET);const{position:a,normal:h,tangent:p}=o?M(t,o):t,y=s?.allowBufferReuse,d=y?a:new Float64Array(a.length);let B=a;if(n&&(B=(0,E.a)(d,B,n)),i){const t=(0,l.u)(C,i);B=(0,E.a)(d,B,t)}return{position:B!==t.position||y?B:B.slice(),normal:h!==t.normal||y?h:h?.slice(),tangent:p!==t.tangent||y?p:p?.slice()}}(t,t.vertexSpace,e.origin,r)}}function S(t,e){return e?.useEllipsoid&&(0,B.N$)(t)?h.wY:(0,h.rS)(t)}function M(t,e){const r=new Float64Array(t.position.length);(0,E.t)(r,t.position,e);const n=t.normal?new Float32Array(t.normal.length):null,i=t.tangent?new Float32Array(t.tangent.length):null;return n&&t.normal&&(0,T.w9)(t.normal,n,e),i&&t.tangent&&(0,T.VS)(t.tangent,i,e),{position:r,normal:n,tangent:i}}function b(t,e,r,n){const i=_(e,r,n);w(i)||(0,f.bA)(t,t,[i,i,i])}function _(t,e,r){const n=!!(r&F.SOURCE),i=!!(r&F.TARGET),s=e?.sourceUnit,u=e?.targetUnit;if(!s&&!u)return 1;let o=R(s,t);n||!s||w(o)||(m().warn("source unit conversion not supported"),o=1);let f=1/R(u,t);return i||!u||w(f)||(m().warn("target unit conversion not supported"),f=1),o*f}function w(t){return(0,i.Po)(t,1)}function R(t,e){if(null==t)return 1;const r=(0,s.r6)(e);return 1/(0,s.En)(r,"meters",t)}const v=(0,c.Ue)(),x=(0,c.Ue)(),L=(0,o.Ue)(),C=(0,a.Ue)(),P=(0,c.Ue)();var F,N;(N=F||(F={}))[N.NONE=0]="NONE",N[N.SOURCE=1]="SOURCE",N[N.TARGET=2]="TARGET",N[N.SOURCE_AND_TARGET=3]="SOURCE_AND_TARGET"},61719:function(t,e,r){r.d(e,{E6:function(){return h},T:function(){return f},ep:function(){return l},hu:function(){return o},iV:function(){return a},kG:function(){return p},yK:function(){return c}});var n=r(41788),i=r(73749);const s=(0,r(27583).Ue)();class u{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}}function o(t,e="Assertion"){if(!t){const t=new Error(e).stack;throw new u(`${e} at ${t}`)}}function f(t,e){t||(e=e||"",console.warn("Verify failed: "+e+"\n"+new Error("verify").stack))}function c(t,e,r,n){let i,s=(r[0]-t[0])/e[0],u=(n[0]-t[0])/e[0];s>u&&(i=s,s=u,u=i);let o=(r[1]-t[1])/e[1],f=(n[1]-t[1])/e[1];if(o>f&&(i=o,o=f,f=i),s>f||o>u)return!1;o>s&&(s=o),f<u&&(u=f);let c=(r[2]-t[2])/e[2],l=(n[2]-t[2])/e[2];return c>l&&(i=c,c=l,l=i),!(s>l||c>u||(l<u&&(u=l),u<0))}function l(t,e,r,i,s,u=(0,n.Ue)()){const o=(i[s]-r[s])*(e[0]-t[0])-(i[0]-r[0])*(e[s]-t[s]),f=(i[0]-r[0])*(t[s]-r[s])-(i[s]-r[s])*(t[0]-r[0]);if(0===o)return!1;const c=f/o;return u[0]=t[0]+c*(e[0]-t[0]),u[1]=t[s]+c*(e[s]-t[s]),!0}function a(t,e,r,n,u){s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=1,(0,i.t)(s,s,e),u.length>2&&(u[2]=-s[2]),(0,i.t)(s,s,r),o(0!==s[3]),u[0]=s[0]/s[3],u[1]=s[1]/s[3],u[2]=s[2]/s[3],u[0]=(.5*u[0]+.5)*n[2]+n[0],u[1]=(.5*u[1]+.5)*n[3]+n[1]}function h(t,e){return Math.log(t)/Math.log(e)}function p(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&1===t[15]}}}]);