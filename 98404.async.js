"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[98404],{10126:function(e,n,t){function o(e){return e=e||globalThis.location.hostname,c.some((n=>null!=e?.match(n)))}function r(e,n){return e?(n=n||globalThis.location.hostname)?null!=n.match(l)||null!=n.match(i)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=n.match(s)||null!=n.match(a)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e:null}t.d(n,{XO:function(){return o},pJ:function(){return r}});const l=/^devext\.arcgis\.com$/,s=/^qaext\.arcgis\.com$/,i=/^[\w-]*\.mapsdevext\.arcgis\.com$/,a=/^[\w-]*\.mapsqa\.arcgis\.com$/,c=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local\.esri\.com$/,l,s,/^jsapps\.esri\.com$/,i,a]},9350:function(e,n,t){t.d(n,{CJ:function(){return c},Rz:function(){return m},js:function(){return f},xA:function(){return a},z3:function(){return u}});t(61432);var o=t(89636),r=t(38096),l=t(19886),s=t(45433),i=t(54914);const a=l.Z.fromJSON(i.I4),c=r.Z.fromJSON(i.ET),u=o.Z.fromJSON(i.lF),m=s.Z.fromJSON(i.qP);function f(e){if(null==e)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return a;case"polyline":return c;case"polygon":case"extent":return u}return null}l.Z.fromJSON(i.eG),r.Z.fromJSON(i.wW),o.Z.fromJSON(i.lj)},49028:function(e,n,t){t.d(n,{av:function(){return h},iZ:function(){return g},qN:function(){return Z}});var o=t(53147),r=t(43254),l=(t(61432),t(96094)),s=t(24584),i=t(90901),a=t(75777),c=t(85357),u=t(9726),m=t(11672),f=t(16725),y=t(9350),b=t(54914);const p=u.Z.fromSimpleMarkerSymbol(y.xA),d=i.Z.fromSimpleLineSymbol(y.CJ),S=m.Z.fromSimpleFillSymbol(y.z3),w=new c.Z({symbolLayers:new r.Z([new s.Z({material:{color:b.SQ},edges:new f.Z({size:(0,l.Wz)(1),color:new o.Z(b.X1)})})])}),g=new i.Z({symbolLayers:new r.Z([new a.Z({material:{color:new o.Z([0,0,0])},size:(0,l.Wz)(1)})])}),h=new m.Z({symbolLayers:new r.Z([new s.Z({outline:{color:new o.Z([0,0,0]),size:(0,l.Wz)(1)}})])});function Z(e){if(null==e)return null;switch(e.type){case"mesh":return w;case"point":case"multipoint":return p;case"polyline":return d;case"polygon":case"extent":return S}return null}},54914:function(e,n,t){t.d(n,{ET:function(){return s},I4:function(){return l},SQ:function(){return o},X1:function(){return r},eG:function(){return c},lF:function(){return i},lj:function(){return m},qP:function(){return a},wW:function(){return u}});const o=[252,146,31,255],r=[153,153,153,255],l={type:"esriSMS",style:"esriSMSCircle",size:6,color:o,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},s={type:"esriSLS",style:"esriSLSSolid",width:.75,color:o},i={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},a={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},c={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},u={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},m={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}},22145:function(e,n,t){t.d(n,{cW:function(){return c},im:function(){return y},vX:function(){return u}});var o=t(88194),r=t(60123),l=t(75428),s=t(70459),i=t(87644),a=t(68578);function c(e,n,t,o){const l=f(e,{},{context:o,isLabelSymbol:!1});null!=l&&(0,r.RB)(t,l,n)}function u(e,n,t,o){const r=f(e,{},{context:o,isLabelSymbol:!0});null!=r&&(n[t]=r)}function m(e){return(0,a.dU)(e)||e instanceof s.Z}function f(e,n,t){if(null==e)return null;const{context:r,isLabelSymbol:s}=t,a=r?.origin,c=r?.messages;if("web-scene"===a&&!m(e)){const t=(0,i.q)(e,{retainCIM:!0,hasLabelingContext:s});return null!=t.symbol?t.symbol.write(n,r):(c?.push(new o.Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:r,error:t.error})),null)}return(0,l.A2)(r?.layer)&&("polygon-3d"===(u=e)?.type||"line-3d"===u?.type)?(c?.push(new o.Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${r?.layer?.declaredClass}'.`,{symbol:e,context:r})),null):("web-map"===a||"portal-item"===a&&!(0,l.A2)(r?.layer))&&m(e)?(c?.push(new o.Z("symbol:unsupported",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:r})),null):e.write(n,r);var u}function y(e,n){return(0,a.S9)(e,null,n)}},6234:function(e,n,t){t.d(n,{wm:function(){return g},n2:function(){return f},KV:function(){return y},EJ:function(){return d},v9:function(){return b}});var o=t(78619),r=t(88194),l=t(61432),s=t(93568),i=t(95490),a=t(77601),c=t(43564);const u=new Map;function m(e,n,t){const o=null!=n.portal?n.portal:a.Z.getDefault();let l;const s=`${o.url} - ${o.user?.username} - ${e}`,i=u.get(s);if(i)return i;const m=function(e,n,t){return n.load(t).then((()=>{const o=new c.Z({disableExtraQuery:!0,query:`owner:${S} AND type:${w} AND typekeywords:"${e}"`});return n.queryItems(o,t)})).then((({results:n})=>{let o=null;const l=e.toLowerCase();if(n&&Array.isArray(n))for(const e of n){const n=e.typeKeywords?.some((e=>e.toLowerCase()===l));if(n&&e.type===w&&e.owner===S){o=e;break}}if(!o)throw new r.Z("symbolstyleutils:style-not-found",`The style '${e}' could not be found`,{styleName:e});return o.load(t)}))}(e,o,t).then((e=>(l=e,e.fetchData()))).then((n=>({data:n,baseUrl:l.itemUrl??"",styleName:e})));return u.set(s,m),m}function f(e,n,t){return null!=e?.styleUrl?async function(e,n){try{return{data:(await d(e,n)).data,baseUrl:(0,i.Yd)(e),styleUrl:e}}catch(e){return(0,s.r9)(e),null}}(e.styleUrl,t):null!=e?.styleName?m(e.styleName,n,t):Promise.reject(new r.Z("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function y(e){return null===e||"CIMSymbolReference"===e.type?e:{type:"CIMSymbolReference",symbol:e}}function b(e,n){for(const t of n)switch(t){case"cim":if(e.cimRef)return{format:t,url:encodeURI(e.cimRef)};break;case"web-gltf-basisu":{const n=p(e,"gltf_basisu");if(n)return{format:t,url:n};break}case"web-gltf":{const n=p(e,"gltf");if(n)return{format:t,url:n};break}case"web":{const n=p(e,"gltf");if(n)return{format:"web-gltf",url:n};if(e.webRef)return{format:t,url:encodeURI(e.webRef)};break}}}function p(e,n){if(!(0,l.Z)("enable-feature:force-wosr"))return e.formatInfos?.find((e=>e.type===n))?.href}function d(e,n){const t={responseType:"json",query:{f:"json"},...n};return(0,o.Z)((0,i.Fv)(e),t)}const S="esri_en",w="Style",g="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json"},87644:function(e,n,t){t.d(n,{K:function(){return w},q:function(){return g}});var o=t(88194),r=t(7952),l=t(90901),s=t(85357),i=t(48596),a=t(9726),c=t(11672),u=t(89636),m=t(38096),f=t(19886),y=t(45433),b=t(70459),p=t(49028),d=t(68578);const S="#useCIMFallbackSymbology()",w={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function g(e,n=w){if(!e)return{symbol:null};const{retainId:t=w.retainId,ignoreDrivers:g=w.ignoreDrivers,hasLabelingContext:h=w.hasLabelingContext,retainCIM:Z=w.retainCIM,cimFallbackEnabled:C=w.cimFallbackEnabled}=n;let v=null;if((0,d.dU)(e)||e instanceof b.Z)v=e.clone();else if("cim"===e.type){const t=e.data?.symbol?.type;switch(t){case"CIMPointSymbol":v=Z?e.clone():a.Z.fromCIMSymbol(e);break;case"CIMLineSymbol":C&&(v=p.iZ.clone(),n?.logWarning?.(S,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":C&&(v=p.av.clone(),n?.logWarning?.(S,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!v)return{error:new o.Z("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${t||"unknown"}' is unsupported in 3D`,{symbol:e})}}else if(e instanceof m.Z)v=l.Z.fromSimpleLineSymbol(e);else if(e instanceof f.Z)v=a.Z.fromSimpleMarkerSymbol(e);else if(e instanceof i.Z)v=a.Z.fromPictureMarkerSymbol(e);else if(e instanceof u.Z)v=n.geometryType&&"mesh"===n.geometryType?s.Z.fromSimpleFillSymbol(e):c.Z.fromSimpleFillSymbol(e);else{if(!(e instanceof y.Z))return{error:new o.Z("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${e.type||e.declaredClass}' is unsupported in 3D`,{symbol:e})};v=h?r.Z.fromTextSymbol(e):a.Z.fromTextSymbol(e)}return t&&v&&"cim"!==v.type&&(v.id=e.id),!g||"cim"===v.type||v instanceof b.Z||v.symbolLayers.forEach((e=>e.ignoreDrivers=!0)),{symbol:v}}},73318:function(e,n,t){t.d(n,{h:function(){return o}});const o=["web-gltf","web","cim"]},98404:function(e,n,t){t.d(n,{_:function(){return d},m:function(){return p},resolveWebStyleSymbol:function(){return b}});var o=t(10126),r=t(88194),l=t(95490),s=t(77601),i=t(28938),a=t(22145),c=t(49393),u=t(6234),m=t(99580),f=t(68578),y=t(73318);function b(e,n,t){const o=e.name;return null==o?Promise.reject(new r.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference")):"Esri2DPointSymbolsStyle"===e.styleName?function(e,n,t){const o=u.wm.replaceAll(/\{SymbolName\}/gi,e),r=null!=n.portal?n.portal:s.Z.getDefault();return(0,u.EJ)(o,t).then((e=>{const n=(0,u.KV)(e.data);return(0,a.im)(n,{portal:r,url:(0,l.mN)((0,l.Yd)(o)),origin:"portal-item"})}))}(o,n,t):(0,u.n2)(e,n,t).then((e=>d(e,o,n,u.v9,t)))}function p(e,n){return n.items.find((n=>n.name===e))}async function d(e,n,t,b,d){const S=null!=t?.portal?t.portal:s.Z.getDefault(),w={portal:S,url:(0,l.mN)(e.baseUrl)},g=p(n,e.data);if(!g)throw new r.Z("symbolstyleutils:symbol-name-not-found",`The symbol name '${n}' could not be found`,{symbolName:n});const h=d?.acceptedFormats??y.h,Z=b(g,h);if(!Z)throw new r.Z("symbolstyleutils:symbol-reference-no-accepted-format",`The symbol name '${n}' does not have an accepted format (one of ${h})`,{symbolName:n});const{url:C,format:v}=Z;let N=(0,i.f)(C,w),k=g.thumbnail?.href??null;const L=g.thumbnail?.imageData;(0,o.XO)()&&(N=(0,o.pJ)(N)??"",k=(0,o.pJ)(k));const M={portal:S,url:(0,l.mN)((0,l.Yd)(N)),origin:"portal-item"};return(0,u.EJ)(N,d).then((o=>{const r="cim"===v?(0,u.KV)(o.data):o.data,l=(0,a.im)(r,M);if(l&&(0,f.dU)(l)){if(k){const e=(0,i.f)(k,w);l.thumbnail=new m.p({url:e})}else L&&(l.thumbnail=new m.p({url:`data:image/png;base64,${L}`}));e.styleUrl?l.styleOrigin=new c.Z({portal:t.portal,styleUrl:e.styleUrl,name:n}):e.styleName&&(l.styleOrigin=new c.Z({portal:t.portal,styleName:e.styleName,name:n}))}return l}))}}}]);