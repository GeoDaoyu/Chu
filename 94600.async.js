"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[94600],{12853:function(e,t,n){n.d(t,{z:function(){return o}});var r=n(69071);class o{constructor(e,t){this.removeFunc=t,this._storage=new r.WJ,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this)}destroy(){this._storage.deregister(this),this._storage.destroy()}put(e,t,n=1){this._storage.put(this,e,t,n,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}}},58426:function(e,t,n){n.d(t,{$c:function(){return p},Hg:function(){return m},jW:function(){return d},xb:function(){return y}});var r=n(70880),o=n(43254),i=n(22018);const s=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function l(e){return e instanceof r.Z}function u(e){return e instanceof o.Z?Object.keys(e.items):l(e)?(0,i.vw)(e).keys():e?Object.keys(e):[]}function a(e,t){return e instanceof o.Z?e.items[t]:e[t]}function c(e){return e?e.declaredClass:null}function f(e,t){const n=e.diff;if(n&&"function"==typeof n)return n(e,t);const r=u(e),o=u(t);if(0===r.length&&0===o.length)return;if(!r.length||!o.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const i=o.filter((e=>!r.includes(e))),d=r.filter((e=>!o.includes(e))),p=r.filter((n=>o.includes(n)&&a(e,n)!==a(t,n))).concat(i,d).sort(),m=c(e);if(m&&s.has(m)&&p.length)return{type:"complete",oldValue:e,newValue:t};let y;const g=l(e)&&l(t);for(const r of p){const o=a(e,r),i=a(t,r);let s;if((g||"function"!=typeof o&&"function"!=typeof i)&&o!==i&&(null!=o||null!=i)){if(n&&n[r]&&"function"==typeof n[r])s=n[r]?.(o,i);else if(o instanceof Date&&i instanceof Date){if(o.getTime()===i.getTime())continue;s={type:"complete",oldValue:o,newValue:i}}else s="object"==typeof o&&"object"==typeof i&&c(o)===c(i)?f(o,i):{type:"complete",oldValue:o,newValue:i};null!=s&&(null!=y?y.diff[r]=s:y={type:"partial",diff:{[r]:s}})}}return y}function d(e,t){return function(e,t){if(null==e)return!1;const n=t.split(".");let r=e;for(const e of n){if("complete"===r.type)return!0;if("partial"!==r.type)return!1;{const t=r.diff[e];if(!t)return!1;r=t}}return!0}(e,t)}function p(e,t){if(!e)return!1;if("partial"===e.type){const n=Object.keys(e.diff);return 1===n.length&&n[0]===t}return!1}function m(e,t){if("function"!=typeof e&&"function"!=typeof t&&(null!=e||null!=t))return null==e||null==t||"object"==typeof e&&"object"==typeof t&&c(e)!==c(t)?{type:"complete",oldValue:e,newValue:t}:f(e,t)}function y(e){if(null==e)return!0;switch(e.type){case"complete":return!1;case"collection":{const t=e;for(const e of t.added)if(!y(e))return!1;for(const e of t.removed)if(!y(e))return!1;for(const e of t.changed)if(!y(e))return!1;return!0}case"partial":for(const t in e.diff)if(!y(e.diff[t]))return!1;return!0}}},70243:function(e,t,n){function r(e){return null!=l(e)||null!=s(e)}function o(e){return u.test(e)}function i(e){return l(e)??s(e)}function s(e){const t=new Date(e);return function(e,t){if(Number.isNaN(e.getTime()))return!1;let n=!0;if(c&&/\d+\W*$/.test(t)){const e=t.match(/[a-zA-Z]{2,}/);if(e){let t=!1,r=0;for(;!t&&r<=e.length;)t=!a.test(e[r]),r++;n=!t}}return n}(t,e)?Number.isNaN(t.getTime())?null:t.getTime()-6e4*t.getTimezoneOffset():null}function l(e){const t=u.exec(e);if(!t?.groups)return null;const n=t.groups,r=+n.year,o=+n.month-1,i=+n.day,s=+(n.hours??"0"),l=+(n.minutes??"0"),a=+(n.seconds??"0");if(s>23)return null;if(l>59)return null;if(a>59)return null;const c=n.ms??"0",f=c?+c.padEnd(3,"0").slice(0,3):0;let d;if(n.isUTC||!n.offsetSign)d=Date.UTC(r,o,i,s,l,a,f);else{const e=+n.offsetHours,t=+n.offsetMinutes;d=6e4*("+"===n.offsetSign?-1:1)*(60*e+t)+Date.UTC(r,o,i,s,l,a,f)}return Number.isNaN(d)?null:d}n.d(t,{mu:function(){return o},of:function(){return r},sG:function(){return i}});const u=/^(?:(?<year>-?\d{4,})-(?<month>\d{2})-(?<day>\d{2}))(?:T(?<hours>\d{2}):(?<minutes>\d{2}):(?<seconds>\d{2})(?:\.(?<ms>\d+))?)?(?:(?<isUTC>Z)|(?:(?<offsetSign>\+|-)(?<offsetHours>\d{2}):(?<offsetMinutes>\d{2})))?$/;const a=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,c=!Number.isNaN(new Date("technology 10").getTime())},18763:function(e,t,n){n.d(t,{O3:function(){return C},lG:function(){return P},my:function(){return k},q9:function(){return c}});var r=n(70243),o=n(88194),i=n(8554),s=n(24564),l=n(20722),u=n(76554);const a={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function c(e){return a[e]}function*f(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const t of e.features)t&&(yield t)}}function*d(e){if(e)switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const t of e.coordinates)yield*t;break;case"MultiPolygon":for(const t of e.coordinates)for(const e of t)yield*e}}function p(e){for(const t of e)if(t.length>2)return!0;return!1}function m(e){let t=0;for(let n=0;n<e.length;n++){const r=e[n],o=e[(n+1)%e.length];t+=r[0]*o[1]-o[0]*r[1]}return t<=0}function y(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]||e.push(t),e}function g(e,t,n){switch(t.type){case"LineString":case"MultiPoint":return function(e,t,n){return S(e,t.coordinates,n),e}(e,t,n);case"MultiLineString":return function(e,t,n){for(const r of t.coordinates)S(e,r,n);return e}(e,t,n);case"MultiPolygon":return function(e,t,n){for(const r of t.coordinates){h(e,r[0],n);for(let t=1;t<r.length;t++)b(e,r[t],n)}return e}(e,t,n);case"Point":return function(e,t,n){return M(e,t.coordinates,n),e}(e,t,n);case"Polygon":return function(e,t,n){const r=t.coordinates;h(e,r[0],n);for(let t=1;t<r.length;t++)b(e,r[t],n);return e}(e,t,n)}}function h(e,t,n){const r=y(t);!function(e){return!m(e)}(r)?S(e,r,n):I(e,r,n)}function b(e,t,n){const r=y(t);!function(e){return m(e)}(r)?S(e,r,n):I(e,r,n)}function S(e,t,n){for(const r of t)M(e,r,n);e.lengths.push(t.length)}function I(e,t,n){for(let r=t.length-1;r>=0;r--)M(e,t[r],n);e.lengths.push(t.length)}function M(e,t,n){const[r,o,i]=t;e.coords.push(r,o),n.hasZ&&e.coords.push(i||0)}function w(e){switch(typeof e){case"string":return(0,r.mu)(e)?"esriFieldTypeDate":"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function C(e,t=4326){if(!e)throw new o.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new o.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});const{crs:n}=e;if(!n)return;const r="string"==typeof n?n:"name"===n.type?n.properties.name:"EPSG"===n.type?n.properties.code:null,s=(0,i.oR)({wkid:t})?new RegExp(".*(CRS84H?|4326)$","i"):new RegExp(`.*(${t})$`,"i");if(!r||!s.test(r))throw new o.Z("geojson:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:n})}function k(e,t={}){const n=[],r=new Set,o=new Set;let i,s=!1,l=null,a=!1,{geometryType:m=null}=t;for(const t of f(e)){const{geometry:e,properties:f,id:y}=t;if((!e||(m||(m=c(e.type)),c(e.type)===m))&&(s||(s=p(d(e))),a||(a=null!=y,a&&(i=typeof y,f&&(l=Object.keys(f).filter((e=>f[e]===y))))),f&&l&&a&&null!=y&&(l.length>1?l=l.filter((e=>f[e]===y)):1===l.length&&(l=f[l[0]]===y?l:[])),f))for(const e in f){if(r.has(e))continue;const t=w(f[e]);if("unknown"===t){o.add(e);continue}o.delete(e),r.add(e);const i=(0,u.q6)(e);i&&n.push({name:i,alias:e,type:t})}}const y=(0,u.q6)(1===l?.length&&l[0]||null)??void 0;if(y)for(const e of n)if(e.name===y&&(0,u.H7)(e)){e.type="esriFieldTypeOID";break}return{fields:n,geometryType:m,hasZ:s,objectIdFieldName:y,objectIdFieldType:i,unknownFields:Array.from(o)}}function P(e,t){return Array.from(function*(e,t={}){const{geometryType:n,objectIdField:r}=t;for(const o of e){const{geometry:e,properties:i,id:u}=o;if(e&&c(e.type)!==n)continue;const a=i||{};let f;r&&(f=a[r],null==u||f||(a[r]=f=u));const d=new s.u_(e?g(new l.Z,e,t):null,a,null,f);yield d}}(f(e),t))}},73967:function(e,t,n){n.d(t,{Dm:function(){return c},Hq:function(){return d},MS:function(){return p},bU:function(){return l}});var r=n(61432),o=n(28947),i=n(17749),s=n(54914);function l(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?s.I4:"esriGeometryPolyline"===e?s.ET:s.lF}}}const u=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let a=1;function c(e,t){if((0,r.Z)("esri-csp-restrictions"))return()=>({[t]:null,...e});try{let n=`this${f(t)} = null;`;for(const t in e)n+=`this${f(t)} = ${JSON.stringify(e[t])};`;const r=new Function(`\n      return class AttributesClass$${a++} {\n        constructor() {\n          ${n};\n        }\n      }\n    `)();return()=>new r}catch(n){return()=>({[t]:null,...e})}}function f(e){return u.test(e)?`.${e}`:`["${e}"]`}function d(e={}){return[{name:"New Feature",description:"",prototype:{attributes:(0,o.d9)(e)}}]}function p(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:i.g,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:i.e,editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},31879:function(e,t,n){n.d(t,{O0:function(){return d},av:function(){return u},b:function(){return g},d1:function(){return c},eR:function(){return h},og:function(){return y}});var r=n(70243),o=n(8554),i=n(76554);class s{constructor(e){this.description=e,this.code=null}}class l{constructor(e){this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error=new s(e)}}function u(e){return new l(e)}class a{constructor(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}}function c(e){return new a(e)}const f=new Set;function d(e,t,n,r=!1){f.clear();for(const o in n){const s=e.get(o);if(!s)continue;const l=p(s,n[o]);if(f.add(s.name),s&&(r||s.editable)){const e=(0,i.Qc)(s,l);if(e)return u((0,i.vP)(e,s,l));t[s.name]=l}}for(const t of e.requiredFields??[])if(!f.has(t.name))return u(`missing required field "${t.name}"`);return null}function p(e,t){let n=t;return(0,i.H7)(e)&&"string"==typeof t?n=parseFloat(t):(0,i.qN)(e)&&null!=t&&"string"!=typeof t?n=String(t):(0,i.y2)(e)&&"string"==typeof t&&(n=(0,r.sG)(t)),(0,i.Pz)(n)}let m;function y(e,t){if(!e||!(0,o.JY)(t))return e;if("rings"in e||"paths"in e){if(null==m)throw new TypeError("geometry engine not loaded");return m.simplify(t,e)}return e}async function g(e,t){!(0,o.JY)(e)||"esriGeometryPolygon"!==t&&"esriGeometryPolyline"!==t||await async function(){return null==m&&(m=await Promise.all([n.e(27093),n.e(13323)]).then(n.bind(n,69339))),m}()}const h={supportsAutoIntervalBin:!0,supportsFixedIntervalBin:!0,supportsFixedBoundariesBin:!0,supportsDateBin:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsNormalization:!0,supportedStatisticTypes:["COUNT","SUM","AVG","VAR","STDDEV","MIN","MAX","PERCENTILE_CONT","PERCENTILE_DISC","CentroidAggregate","EnvelopeAggregate","ConvexHullAggregate"],supportedNormalizationTypes:["field","log","naturalLog","percentOfTotal","squareRoot"]}},36337:function(e,t,n){n.d(t,{$9:function(){return w},G4:function(){return F},Lu:function(){return M},WW:function(){return j},d:function(){return N},eS:function(){return x},gp:function(){return T},j:function(){return P},w9:function(){return k},yN:function(){return A}});var r=n(78619),o=n(88194),i=n(96711),s=n(95490),l=n(45213),u=n(8554),a=n(97290),c=n(64246),f=n(42829),d=n(18763),p=n(73967),m=n(31879),y=n(299),g=n(72396),h=n(41801);const b=()=>i.Z.getLogger("esri.layers.ogc.ogcFeatureUtils"),S="startindex",I=new Set([S,"offset"]),M="http://www.opengis.net/def/crs/",w=`${M}OGC/1.3/CRS84`;var C;async function k(e,t,n={},i=5){const{links:l}=e,u=Z(l,"items",C.geojson)||Z(l,"http://www.opengis.net/def/rel/ogc/1.0/items",C.geojson);if(null==u)throw new o.Z("ogc-feature-layer:missing-items-page","Missing items url");const{apiKey:a,customParameters:c,signal:f}=n,m=(0,s.hF)(u.href,e.landingPage.url),I={limit:i,...c,token:a},M=(0,s.fl)(m,I),w={accept:C.geojson},{data:k}=await(0,r.Z)(M,{signal:f,headers:w}),P=E(M,i,k.links)??S;(0,d.O3)(k);const F=(0,d.my)(k,{geometryType:t.geometryType}),T=t.fields||F.fields||[],x=null!=t.hasZ?t.hasZ:F.hasZ,N=F.geometryType,A=t.objectIdField||F.objectIdFieldName||"OBJECTID";let j=t.timeInfo;const G=T.find((({name:e})=>e===A));if(G)G.editable=!1,G.nullable=!1;else{if(!F.objectIdFieldType)throw new o.Z("ogc-feature-layer:missing-feature-id","Collection geojson require a feature id as a unique identifier");T.unshift({name:A,alias:A,type:"number"===F.objectIdFieldType?"esriFieldTypeOID":"esriFieldTypeString",editable:!1,nullable:!1})}if(A!==F.objectIdFieldName){const e=T.find((({name:e})=>e===F.objectIdFieldName));e&&(e.type="esriFieldTypeInteger")}T===F.fields&&F.unknownFields.length>0&&b().warn({name:"ogc-feature-layer:unknown-field-types",message:"Some fields types couldn't be inferred from the features and were dropped",details:{unknownFields:F.unknownFields}});for(const e of T){if(null==e.name&&(e.name=e.alias),null==e.alias&&(e.alias=e.name),"esriFieldTypeOID"!==e.type&&"esriFieldTypeGlobalID"!==e.type&&(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable),!e.name)throw new o.Z("ogc-feature-layer:invalid-field-name","field name is missing",{field:e});if(!g.v.jsonValues.includes(e.type))throw new o.Z("ogc-feature-layer:invalid-field-type",`invalid type for field "${e.name}"`,{field:e})}if(j){const e=new y.Z(T);if(j.startTimeField){const t=e.get(j.startTimeField);t?(j.startTimeField=t.name,t.type="esriFieldTypeDate"):j.startTimeField=null}if(j.endTimeField){const t=e.get(j.endTimeField);t?(j.endTimeField=t.name,t.type="esriFieldTypeDate"):j.endTimeField=null}if(j.trackIdField){const t=e.get(j.trackIdField);t?j.trackIdField=t.name:(j.trackIdField=null,b().warn({name:"ogc-feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:j}}))}j.timeReference||={timeZoneIANA:h.pt},j.startTimeField||j.endTimeField||(b().warn({name:"ogc-feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing",details:{timeInfo:j}}),j=void 0)}return{drawingInfo:N?(0,p.bU)(N):null,extent:O(e),geometryType:N,fields:T,hasZ:!!x,objectIdField:A,paginationParameter:P,timeInfo:j}}async function P(e,t={}){const{links:n,url:i}=e,l=Z(n,"data",C.json)||Z(n,"http://www.opengis.net/def/rel/ogc/1.0/data",C.json);if(null==l)throw new o.Z("ogc-feature-layer:missing-collections-page","Missing collections url");const{apiKey:u,customParameters:a,signal:c}=t,f=(0,s.hF)(l.href,i),{data:d}=await(0,r.Z)(f,{signal:c,headers:{accept:C.json},query:{...a,token:u}});for(const t of d.collections)t.landingPage=e;return d}async function F(e,t={}){const{links:n,url:i}=e,l=Z(n,"conformance",C.json)||Z(n,"http://www.opengis.net/def/rel/ogc/1.0/conformance",C.json);if(null==l)throw new o.Z("ogc-feature-layer:missing-conformance-page","Missing conformance url");const{apiKey:u,customParameters:a,signal:c}=t,f=(0,s.hF)(l.href,i),{data:d}=await(0,r.Z)(f,{signal:c,headers:{accept:C.json},query:{...a,token:u}});return d}async function T(e,t={}){const{apiKey:n,customParameters:o,signal:i}=t,{data:s}=await(0,r.Z)(e,{signal:i,headers:{accept:C.json},query:{...o,token:n}});return s.url=e,s}async function x(e,t={}){const{links:n,url:o}=e,i=Z(n,"service-desc",C.openapi);if(null==i)return b().warn("ogc-feature-layer:missing-openapi-page","The OGC API-Features server does not have an OpenAPI page."),null;const{apiKey:l,customParameters:u,signal:a}=t,c=(0,s.hF)(i.href,o),{data:f}=await(0,r.Z)(c,{signal:a,headers:{accept:C.openapi},query:{...u,token:l}});return f}function N(e){const t=/^http:\/\/www\.opengis.net\/def\/crs\/(?<authority>.*)\/(?<version>.*)\/(?<code>.*)$/i.exec(e)?.groups;if(!t)return null;const{authority:n,code:r}=t;switch(n.toLowerCase()){case"ogc":switch(r.toLowerCase()){case"crs27":return l.Z.GCS_NAD_1927.wkid;case"crs83":return 4269;case"crs84":case"crs84h":return l.Z.WGS84.wkid;default:return null}case"esri":case"epsg":{const e=Number.parseInt(r,10);return Number.isNaN(e)?null:e}default:return null}}async function A(e,t,n){const r=await j(e,t,n);return(0,c.cn)(r)}async function j(e,t,n){const{collection:{links:i,landingPage:{url:p}},layerDefinition:g,maxRecordCount:h,queryParameters:{apiKey:b,customParameters:S},spatialReference:I,supportedCrs:M}=e,w=Z(i,"items",C.geojson)||Z(i,"http://www.opengis.net/def/rel/ogc/1.0/items",C.geojson);if(null==w)throw new o.Z("ogc-feature-layer:missing-items-page","Missing items url");const{geometry:k,num:P,start:F,timeExtent:T,where:x}=t;if(t.objectIds)throw new o.Z("ogc-feature-layer:query-by-objectids-not-supported","Queries with object ids are not supported");const N=l.Z.fromJSON(I),A=t.outSpatialReference??N,j=A.isWGS84?null:G(A,M),v=L(k,M),O=function(e){if(null==e)return null;const{start:t,end:n}=e;return`${null!=t?t.toISOString():".."}/${null!=n?n.toISOString():".."}`}(T),E=function(e){return null!=e&&e&&"1=1"!==e?e:null}(x),z=P??(null==F?h:10),R=0===F?void 0:F,{fields:D,geometryType:q,hasZ:$,objectIdField:B,paginationParameter:V}=g,W=(0,s.hF)(w.href,p),{data:J}=await(0,r.Z)(W,{...n,query:{...S,...v,crs:j,datetime:O,query:E,limit:z,[V]:R,token:b},headers:{accept:C.geojson}}),U=(0,d.lG)(J,{geometryType:q,hasZ:$,objectIdField:B}),_=U.length===z&&!!Z(J.links??[],"next",C.geojson),H=new y.Z(D);for(const e of U){const t={};(0,m.O0)(H,t,e.attributes,!0);for(const e of H.fields)e.nullable&&!(e.name in t)&&(t[e.name]=null);t[B]=e.attributes[B],e.attributes=t}if(!j&&A.isWebMercator)for(const e of U)if(null!=e.geometry&&null!=q){const t=(0,c.di)(e.geometry,q,$,!1);t.spatialReference=l.Z.WGS84,e.geometry=(0,c.GH)((0,a.iV)(t,A))}for(const e of U)e.objectId=e.attributes[B];const Q=j||!j&&A.isWebMercator?A.toJSON():u.YU,Y=new f.Z;return Y.exceededTransferLimit=_,Y.features=U,Y.fields=D,Y.geometryType=q,Y.hasZ=$,Y.spatialReference=Q,Y}function G(e,t){const{isWebMercator:n,wkid:r}=e;if(!r)return null;const o=n?t[3857]??t[102100]??t[102113]??t[900913]:t[e.wkid];return o?`${M}${o}`:null}function v(e){if(null==e)return"";const{xmin:t,ymin:n,xmax:r,ymax:o}=e;return`${t},${n},${r},${o}`}function L(e,t){if(!function(e){return null!=e&&"extent"===e.type}(e))return null;const{spatialReference:n}=e;if(!n||n.isWGS84)return{bbox:v(e)};const r=G(n,t);return null!=r?{bbox:v(e),"bbox-crs":r}:n.isWebMercator?{bbox:v((0,a.iV)(e,l.Z.WGS84))}:null}function O(e){const t=e.extent?.spatial;if(!t)return null;const n=t.bbox[0],r=4===n.length,[o,i]=n,s=r?void 0:n[2];return{xmin:o,ymin:i,xmax:r?n[2]:n[3],ymax:r?n[3]:n[4],zmin:s,zmax:r?void 0:n[5],spatialReference:l.Z.WGS84.toJSON()}}function Z(e,t,n){return e.find((({rel:e,type:r})=>e===t&&r===n))??e.find((({rel:e,type:n})=>e===t&&!n))}function E(e,t,n){if(!n)return;const r=Z(n,"next",C.geojson),o=(0,s.mN)(r?.href)?.query;if(!o)return;const i=(0,s.mN)(e).query,l=Object.keys(i??{}),u=Object.entries(o).filter((([e])=>!l.includes(e))).find((([e,n])=>I.has(e.toLowerCase())&&Number.parseInt(n,10)===t)),a=u?.[0];return a}!function(e){e.json="application/json",e.geojson="application/geo+json",e.openapi="application/vnd.oai.openapi+json;version=3.0"}(C||(C={}))},78279:function(e,t,n){n.d(t,{Ee:function(){return i},Gr:function(){return l},UO:function(){return s}});var r=n(99574),o=n(48797);function i(e,t){return{...t,filterMode:e.mode}}function s(e,t){return u(e,t).next().value??null}function l(e,t,n){const i=function(e){if("manual"===c(e))return null;const t=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:n,maxScale:r}of e.filters)t[0]=Math.max(t[0],f(n)),t[1]=Math.min(t[1],d(r));return t}(e);if(i&&((0,r.nB)(t,i[0])||(0,r.pt)(n,i[1])))return"";const s=Array.from(u(e,t,n)),l=function(e,t,n){if(0===e.length)return!0;const o=f(e.at(0)?.minScale),i=d(e.at(-1)?.maxScale);if((0,r.pt)(o,t)||(0,r.nB)(i,n))return!0;for(let t=0;t<e.length-1;t++){const n=e[t],o=e[t+1];if((0,r.pt)(f(o.minScale),d(n.maxScale)))return!0}return!1}(s,t,n)?"1=1":s.map((e=>e.where||"1=1")).reduce(((e,t)=>(0,o.D3)(e,t)),"");return l&&"1=1"!==l?l:""}function*u(e,t,n){if("manual"===c(e)){const t=e.filters.find((t=>t.id===e.activeFilterId));t&&(yield t)}else{"object"==typeof t&&(t=t.scale);for(const r of e.filters)a(r.minScale,r.maxScale,t,n)&&(yield r)}}function a(e,t,n,o){return e=f(e),n=f(n),t=d(t),!(!(0,r.W8)(n,e)&&(o??n)>e||(0,r.aR)(t,n)||void 0!==o&&(0,r.W8)(o,e))}function c(e){return"mode"in e?e.mode:e.filterMode}function f(e){return e||Number.POSITIVE_INFINITY}function d(e){return e||0}},6298:function(e,t,n){n.d(t,{E:function(){return o}});var r=n(44252);const o={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:r.IH.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:r.IH.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRadial:{angle:0,length:5},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:r.of.Loop,repeatdelay:0,easing:r.IB.Linear},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0},CIMSymbolAnimationMoveAlongLine:{speed:30,distanceAlong:100}}},61421:function(e,t,n){n.d(t,{$Z:function(){return C},BX:function(){return M},Cc:function(){return g},E_:function(){return l},F:function(){return k},FG:function(){return F},H1:function(){return i},J0:function(){return y},JW:function(){return N},Lb:function(){return q},Le:function(){return A},Ml:function(){return E},On:function(){return S},Qf:function(){return T},RI:function(){return h},TB:function(){return x},Ul:function(){return Z},W7:function(){return w},X_:function(){return P},be:function(){return c},e0:function(){return L},gJ:function(){return m},hU:function(){return v},hf:function(){return r},k5:function(){return p},oY:function(){return a},pJ:function(){return b},qQ:function(){return s},wi:function(){return I},yL:function(){return d},yl:function(){return j},zL:function(){return f}});n(6298);function r(e,t,n,r){return function(e){return"function"==typeof e}(e)?e(t,n,r):e}function o(e){let t=e.length;for(;t--;)if(!" /-,\n".includes(e.charAt(t)))return!1;return!0}function i(e,t){const n=[];let r=0,i=-1;do{if(i=e.indexOf("[",r),i>=r){if(i>r){const t=e.slice(r,i);n.push([t,null,o(t)])}if(r=i+1,i=e.indexOf("]",r),i>=r){if(i>r){const o=t[e.slice(r,i)];o&&n.push([null,o,!1])}r=i+1}}}while(-1!==i);if(r<e.length){const t=e.slice(r);n.push([t,null,o(t)])}return n}function s(e,t,n){let r="",o=null;for(const n of t){const[t,i,s]=n;if(null!=t&&""!==t)s?o=t:(null!=o&&(r+=o,o=null),r+=t);else{const t=e.readAttribute(i);null!=t&&""!==t&&(null!==o&&(r+=o,o=null),r+=t)}}return u(r,n)}function l(e,t,n,r){let o="",i=null;for(const r of t){const[t,s,l]=r;if(null!=t&&""!==t)l?i=t:(null!=i&&(o+=i,i=null),o+=t);else{let t=s;null!=n&&(t=O(s,n));const r=e.attributes[t];null!=r&&""!==r&&(null!=i&&(o+=i,i=null),o+=r)}}return u(o,r)}function u(e,t){switch("string"!=typeof e&&(e=String(e)),t){case"LowerCase":return e.toLowerCase();case"Allcaps":return e.toUpperCase();default:return e}}function a(e){return e?[e[0],e[1],e[2],e[3]/255]:[0,0,0,0]}function c(e){return e.data?.symbol??null}function f(e){return"CIMVectorMarker"===e.type||"CIMPictureMarker"===e.type||"CIMBarChartMarker"===e.type||"CIMCharacterMarker"===e.type||"CIMPieChartMarker"===e.type||"CIMStackedBarChartMarker"===e.type}function d(e){return"CIMGradientStroke"===e.type||"CIMPictureStroke"===e.type||"CIMSolidStroke"===e.type}function p(e){return null!=e&&("CIMGradientFill"===e.type||"CIMHatchFill"===e.type||"CIMPictureFill"===e.type||"CIMSolidFill"===e.type||"CIMWaterFill"===e.type)}function m(e){return null!=e&&("CIMMarkerPlacementAlongLineRandomSize"===e.type||"CIMMarkerPlacementAlongLineSameSize"===e.type||"CIMMarkerPlacementAlongLineVariableSize"===e.type||"CIMMarkerPlacementAtExtremities"===e.type||"CIMMarkerPlacementAtMeasuredUnits"===e.type||"CIMMarkerPlacementAtRatioPositions"===e.type||"CIMMarkerPlacementOnLine"===e.type||"CIMMarkerPlacementOnVertices"===e.type)}const y=(e,t=0)=>null==e||isNaN(e)?t:e,g=e=>{if(!e)return!1;for(const t of e)switch(t.type){case"CIMGeometricEffectBuffer":case"CIMGeometricEffectDonut":case"CIMGeometricEffectOffset":case"CIMGeometricEffectTaperedPolygon":case"CIMGeometricEffectEnclosingPolygon":return!0}return!1};function h(){return Promise.all([n.e(27093),n.e(13323)]).then(n.bind(n,69339))}function b(e){if(!e)return"normal";switch(e.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function S(e){if(!e)return"normal";switch(e.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function I(e){let t="normal",n="normal";if(e){const r=e.toLowerCase();r.includes("italic")?t="italic":r.includes("oblique")&&(t="oblique"),r.includes("bold")?n="bold":r.includes("light")&&(n="lighter")}return{style:t,weight:n}}function M(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}function w(e){if(!e)return null;switch(e.type){case"CIMPolygonSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=w(t);if(null!=e)return e}break;case"CIMTextSymbol":return w(e.symbol);case"CIMSolidFill":return e.color}return null}function C(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const t=e.symbolLayers;if(t)for(const e of t){const t=C(e);if(null!=t)return t}break}case"CIMTextSymbol":return C(e.symbol);case"CIMSolidStroke":return e.color}}function k(e){if(e)switch(e.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(e.symbolLayers)for(const t of e.symbolLayers){const e=k(t);if(void 0!==e)return e}break;case"CIMTextSymbol":return k(e.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return e.width}}function P(e){switch(e){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function F(e){switch(e){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function T(e){return(e?Object.keys(e):[]).map((t=>({name:t,alias:t,type:"string"==typeof e[t]?"esriFieldTypeString":"esriFieldTypeDouble"})))}const x=e=>e.includes("data:image/svg+xml");function N(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function A(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}function j(e,t,n,r,o,i,s=!0){const{infos:l}=i;let u=1,a=0,c=0,f=0,d=1;for(const{absoluteAnchorPoint:e,offsetX:t,offsetY:n,rotation:r,size:o,frameHeight:i,rotateClockWise:p,scaleSymbolsProportionally:m}of l)d=e?1:u,c=R(t,n,a,d,c),f=z(t,n,a,d,f),i&&(m||s)&&(u*=o/i),a=D(r,p,a);const p=R(r,o,a,d,c),m=z(r,o,a,d,f);return{size:e*u,rotation:D(t,n,a),offsetX:p,offsetY:m}}function G(e){return"string"==typeof e?function(e){return e.split(" ").map((e=>Number(e)))}(e):e}function v(e){return e?.dashTemplate&&(e.dashTemplate=G(e.dashTemplate)),e}function L(e){if(null==e)return"Normal";switch(e.type){case"CIMTextSymbol":return e.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const t=e.symbolLayers;if(!t)return"Normal";for(const e of t)if("CIMVectorMarker"===e.type)return L(e)}break;case"CIMVectorMarker":{const t=e.markerGraphics;if(!t)return"Normal";for(const e of t)if(e.symbol)return L(e.symbol)}}return"Normal"}function O(e,t){if(null!==t){const n=t.get(e);return n?n.name:e}return e}function Z(e){return e.map((e=>({...e,propertyName:A(e.propertyName)})))}function E(e){const t={};for(const n in e){const r=e[n];t[A(n)]=r}return t}function z(e,t,n,r,o){const i=n*Math.PI/180;if(i){const n=Math.cos(i);return(Math.sin(i)*e+n*t)*r+o}return t*r+o}function R(e,t,n,r,o){const i=n*Math.PI/180;return i?(Math.cos(i)*e-Math.sin(i)*t)*r+o:e*r+o}function D(e,t,n){return t?n-e:n+e}function q(e,t){return Math.max(Math.min((e??t)/100,1),0)}},9350:function(e,t,n){n.d(t,{CJ:function(){return a},Rz:function(){return f},js:function(){return d},xA:function(){return u},z3:function(){return c}});n(61432);var r=n(89636),o=n(38096),i=n(19886),s=n(45433),l=n(54914);const u=i.Z.fromJSON(l.I4),a=o.Z.fromJSON(l.ET),c=r.Z.fromJSON(l.lF),f=s.Z.fromJSON(l.qP);function d(e){if(null==e)return null;switch(e.type){case"mesh":return null;case"point":case"multipoint":return u;case"polyline":return a;case"polygon":case"extent":return c}return null}i.Z.fromJSON(l.eG),o.Z.fromJSON(l.wW),r.Z.fromJSON(l.lj)},54914:function(e,t,n){n.d(t,{ET:function(){return s},I4:function(){return i},SQ:function(){return r},X1:function(){return o},eG:function(){return a},lF:function(){return l},lj:function(){return f},qP:function(){return u},wW:function(){return c}});const r=[252,146,31,255],o=[153,153,153,255],i={type:"esriSMS",style:"esriSMSCircle",size:6,color:r,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},s={type:"esriSLS",style:"esriSLSSolid",width:.75,color:r},l={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},u={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},a={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},c={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},f={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null}}}]);