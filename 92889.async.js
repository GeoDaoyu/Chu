"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[92889],{68651:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(73440),i=n(89314),o=n(95437),s=n(63255),c=n(61100),a=n(17155),u=n(90775),l=(n(61432),n(83850),n(48023)),d=n(95226),g=n(60508);let f=class extends(i.Z.ClonableMixin(s.Z)){constructor(e){super(e),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}equals(e){return this.heading===e.heading&&this.tilt===e.tilt&&this.width===e.width&&this.height===e.height&&(0,c._W)(this.position,e.position)}};(0,r._)([(0,a.Cb)({type:["plane"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],f.prototype,"type",void 0),(0,r._)([(0,a.Cb)({type:g.Z,json:{write:{isRequired:!0}}})],f.prototype,"position",void 0),(0,r._)([(0,a.Cb)({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}}),(0,u.p)((e=>o.BV.normalize((0,d.q9)(e),0,!0)))],f.prototype,"heading",void 0),(0,r._)([(0,a.Cb)({type:Number,nonNullable:!0,range:{min:0,max:360},json:{write:{isRequired:!0}}}),(0,u.p)((e=>o.BV.normalize((0,d.q9)(e),0,!0)))],f.prototype,"tilt",void 0),(0,r._)([(0,a.Cb)({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],f.prototype,"width",void 0),(0,r._)([(0,a.Cb)({type:Number,nonNullable:!0,range:{min:0},json:{write:{isRequired:!0}}})],f.prototype,"height",void 0),f=(0,r._)([(0,l.j)("esri.analysis.SlicePlane")],f);const h=f},71517:function(e,t,n){n.d(t,{S:function(){return l},b:function(){return u}});var r=n(96541),i=n(2013),o=n(85119),s=n(48857),c=n(52061),a=n(15150);function u(e){const t=new a.kG,{vertex:n,fragment:u,attributes:l,varyings:d}=t;return(0,r.Sv)(n,e),l.add(c.T.POSITION,"vec3"),l.add(c.T.UV0,"vec2"),d.add("vUV","vec2"),n.main.add(s.H`vUV = uv0;
gl_Position = proj * view * vec4(position, 1.0);`),u.uniforms.add(new i.N("backgroundColor",(e=>e.backgroundColor)),new i.N("gridColor",(e=>e.gridColor)),new o.p("gridWidth",(e=>e.gridWidth))).main.add(s.H`const float LINE_WIDTH = 1.0;
vec2 uvScaled = vUV * gridWidth;
vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));
vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);
grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);
grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);
float gridFade = max(grid.x, grid.y);
float gridAlpha = gridColor.a * gridFade;
fragColor =
vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +
vec4(gridColor.rgb, 1.0) * gridAlpha;`),t}const l=Object.freeze(Object.defineProperty({__proto__:null,build:u},Symbol.toStringTag,{value:"Module"}))},70077:function(e,t,n){n.d(t,{o:function(){return p}});var r=n(53147),i=n(90403),o=n(82846),s=n(41531),c=n(9478),a=n(3682),u=n(77811),l=n(23496),d=n(86026),g=n(19596),f=n(19843),h=n(55541);class p extends a.Z{constructor(e,t){const n=(0,c.J0)(t),o=n?s.QG:s.cf,a=o*s.Mr,l=s.cf,d={renderOccluded:g.yD.OccludeAndTransparent,isDecoration:!0},h=new f.U({...d,width:o}),p=new f.U({...d,width:a}),M=new f.U({...d,width:l});super({view:e,...u.X9,...b({isCorner:n,unfocusedMaterial:h,focusedMaterial:p,outlineMaterial:M})}),this._themeHandle=(0,i.YP)((()=>e.effectiveTheme.accentColor),(e=>{const t=r.Z.toUnitRGBA(e);h.setParameters({color:t}),p.setParameters({color:t}),M.setParameters({color:t})}),i.nn)}destroy(){this._themeHandle.remove(),super.destroy()}}function b({isCorner:e,unfocusedMaterial:t,focusedMaterial:n,outlineMaterial:r}){const i=e?[(0,o.al)(1,0,0),(0,o.al)(0,0,0),(0,o.al)(0,1,0)]:[(0,o.al)(1,0,0),(0,o.al)(-1,0,0)];return{renderObjects:[new l.r((0,d.rh)(t,i),h.Q9.Unfocused|c.Sc),new l.r((0,d.rh)(n,i),h.Q9.Focused|c.Sc),new l.r((0,d.rh)(r,i),c.vc)],collisionType:{type:"line",paths:[i]},radius:e?s.Qf:s.yy,state:c.Sc}}},10348:function(e,t,n){n.d(t,{Z:function(){return I}});var r=n(53147),i=n(92643),o=n(61100),s=n(90403),c=n(9478),a=n(3682),u=n(77811),l=n(23496),d=n(81749),g=n(25952),f=n(86026),h=n(19596),p=n(52061),b=n(3113),M=n(19843),m=n(55541);class I extends a.Z{constructor(e,t){const n=(0,i.G)(e.effectiveTheme.accentColor,.5),o=(0,i.mj)(e.effectiveTheme.accentColor),c=t(n,o),a=new b.j({draped:!1,texture:c.texture,writeDepth:!1,renderOccluded:h.yD.Opaque,isDecoration:!0}),l=u.rotateManipulatorDefaults.calloutWidth,d=new M.U({width:l,renderOccluded:h.yD.OccludeAndTransparent,isDecoration:!0});super({view:e,...w({imageMaterial:a,calloutMaterial:d})}),this._material=a,this._textureHandle=c,this._themeHandle=(0,s.YP)((()=>e.effectiveTheme.accentColor),(e=>{const n=(0,i.G)(e,.5),o=(0,i.mj)(e),s=this._textureHandle;this._textureHandle=t(n,o),a.setParameters({texture:this._textureHandle.texture}),s?.release(),d.setParameters({color:r.Z.toUnitRGBA(e)})}),s.nn)}destroy(){this._textureHandle=(0,o.RY)(this._textureHandle),this._themeHandle.remove(),this._material.dispose(),super.destroy()}}function w({imageMaterial:e,calloutMaterial:t}){const{focusMultiplier:n,calloutLength:r,discRadius:i}=u.rotateManipulatorDefaults,o=i*n,s=(e,t)=>{const n=[0,1,2,2,3,0];return new g.Z(t,[[p.T.POSITION,new d.a([r-e,-e,0,r+e,-e,0,r+e,e,0,r-e,e,0],n,3,!0)],[p.T.UV0,new d.a([0,0,1,0,1,1,0,1],n,2,!0)]])},a=(0,f.rh)(t,[[0,0,0],[r-i,0,0]]),h=(0,f.rh)(t,[[0,0,0],[r-o,0,0]]),b=c.do;return{autoScaleRenderObjects:!1,collisionPriority:1,collisionType:{type:"disc",direction:[0,0,1],offset:[r,0,0]},focusMultiplier:n,radius:i,renderObjects:[new l.r(s(i,e),m.Q9.Unfocused|b),new l.r(a,m.Q9.Unfocused|b),new l.r(s(o,e),m.Q9.Focused|b),new l.r(h,m.Q9.Focused|b)],state:b}}},90233:function(e,t,n){n.d(t,{K:function(){return N},l:function(){return r}});var r,i,o=n(53147),s=n(92643),c=n(90403),a=n(31865),u=n(10934),l=n(18156),d=n(24910),g=n(82846),f=n(69811),h=n(41531),p=n(9478),b=n(3682),M=n(23496),m=n(32420),I=n(86026),w=n(19596),C=n(80147),T=n(19843),y=n(55541);(i=r||(r={}))[i.CENTER_ON_CALLOUT=0]="CENTER_ON_CALLOUT",i[i.CENTER_ON_ARROW=1]="CENTER_ON_ARROW";class N extends b.Z{constructor(e,t){const n=new T.U({width:1,renderOccluded:w.yD.OccludeAndTransparent,isDecoration:!0}),r=new C.E({cullFace:m.Vr.Back,renderOccluded:w.yD.Opaque,isDecoration:!0}),i=new C.E({cullFace:m.Vr.Back,renderOccluded:w.yD.Opaque,isDecoration:!0}),a=new C.E({cullFace:m.Vr.Back,renderOccluded:w.yD.Opaque,isDecoration:!0}),u=new C.E({writeDepth:!1,cullFace:m.Vr.Front,renderOccluded:w.yD.Transparent,isDecoration:!0});super({view:e,...v({offsetMode:t,tubeMaterial:r,tipMaterial:i,capMaterial:a,outlineMaterial:u,calloutMaterial:n})}),this._themeHandle=(0,c.YP)((()=>e.effectiveTheme.accentColor),(e=>{const t=(0,s.mj)(e),c=o.Z.toUnitRGBA(e),l=o.Z.toUnitRGBA(t),d=o.Z.toUnitRGBA(o.Z.blendColors(t,e,.4)),g=o.Z.toUnitRGBA(o.Z.blendColors(t,e,.14));n.setParameters({color:c}),r.setParameters({color:g}),i.setParameters({color:l}),a.setParameters({color:d}),u.setParameters({color:c})}),c.nn)}destroy(){this._themeHandle.remove(),super.destroy()}}function v({offsetMode:e,tubeMaterial:t,tipMaterial:n,capMaterial:i,outlineMaterial:o,calloutMaterial:s}){const c=e===r.CENTER_ON_CALLOUT?h.Eu:0,a=[(0,g.al)(c,0,-24),(0,g.al)(c,0,h.C7/2)],u=function(e,t){const n=(0,d.d)((0,g.Ue)(),e[e.length-1],e[e.length-2]);(0,d.n)(n,n),(0,d.g)(n,n,h.GW),(0,d.f)(n,n,e[e.length-1]);{const t=(0,d.d)((0,g.Ue)(),e[0],e[1]);return(0,d.n)(t,t),(0,d.g)(t,t,h.GW),(0,d.f)(t,t,e[0]),[t,...e,n]}}(a),l=_({vertices:a,padding:0,materials:{tube:t,tip:n,cap:i}}),f=_({vertices:a,padding:h.K_,materials:{tube:o,tip:o,cap:o}}),b=(0,I.rh)(s,[[c,0,0],[c-h.Eu,0,0]]),m=(0,I.rh)(s,[[c,0,0],[c-h.Eu,0,0]]);return{renderObjects:[...l.normal.map((e=>new M.r(e,y.Q9.Unfocused|p.do))),...f.normal.map((e=>new M.r(e,y.Q9.Unfocused|p.do))),new M.r(b,y.Q9.Unfocused|p.do|p.Df),...l.focused.map((e=>new M.r(e,y.Q9.Focused|p.do))),...f.focused.map((e=>new M.r(e,y.Q9.Focused|p.do))),new M.r(m,y.Q9.Focused|p.do|p.Df)],autoScaleRenderObjects:!1,collisionType:{type:"line",paths:[u]},collisionPriority:1,radius:h.tv,state:p.do}}function _({vertices:e,padding:t,materials:n}){const r=r=>{const i=e.slice(),o=(0,d.d)(f.WM.get(),i[0],i[1]);(0,d.n)(o,o);const s=(0,d.d)(f.WM.get(),i[i.length-1],i[i.length-2]);if((0,d.n)(s,s),t>0){const e=(0,d.g)((0,g.Ue)(),s,-t);i[i.length-1]=(0,d.f)(e,e,i[i.length-1]);const n=(0,d.g)((0,g.Ue)(),o,-t);i[0]=(0,d.f)(n,n,i[0])}const c=r?h.XC:1,p=h.GW*c,b=h.tv*c,M=(0,a.yR)(f.MP.get());if(t>0){const e=p/4,n=(0,d.i)(f.WM.get(),0,e,0),r=1+t/e;(0,a.Iu)(M,M,n),(0,a.bA)(M,M,(0,d.i)(f.WM.get(),r,r,r)),(0,a.Iu)(M,M,(0,d.g)(n,n,-1/r))}const m=(0,a.yR)((0,u.Ue)()),w=(0,g.al)(0,1,0),C=(0,a.en)((0,u.Ue)(),(0,l.b0)(f.vD.get(),w,s));C[12]=i[i.length-1][0],C[13]=i[i.length-1][1],C[14]=i[i.length-1][2],(0,a.Jp)(C,C,M);const T=n.tube,y=function(e,t,n){const r=[],i=12;for(let t=0;t<i;t++){const n=t/i*2*Math.PI;r.push([Math.cos(n)*e,Math.sin(n)*e])}return(0,I.x2)(n,r,t,[],[],!1)}(h.sz*(r?h.L0:1)+t,i,T);y.transformation=m;const N=[y],v=n.tip,_=(0,I.QL)(v,p,b,24,!1,!1,!0);_.transformation=C,N.push(_);const A=n.cap,W=(0,I.QL)(A,p,b,24,!1,!0,!1);W.transformation=C,N.push(W);const O=(0,a.en)((0,u.Ue)(),(0,l.b0)(f.vD.get(),w,o));return O[12]=i[0][0],O[13]=i[0][1],O[14]=i[0][2],(0,a.Jp)(O,O,M),N.push(_.instantiate({transformation:O})),N.push(W.instantiate({transformation:O})),N};return{normal:r(!1),focused:r(!0)}}},1490:function(e,t,n){n.d(t,{CB:function(){return o},bL:function(){return s},ku:function(){return i}});var r=n(92643);const i=(0,n(27583).al)(0,0,0,.04);function o({accentColor:e}){return(0,r.Ch)(e,.5)}function s({accentColor:e}){return(0,r.Ch)(e,.7)}},41531:function(e,t,n){n.d(t,{AN:function(){return l},C7:function(){return T},Ci:function(){return O},Eu:function(){return C},G0:function(){return f},GI:function(){return s},GW:function(){return w},K_:function(){return y},L0:function(){return a},Lf:function(){return b},Mr:function(){return c},P3:function(){return d},QG:function(){return N},Qf:function(){return A},Wp:function(){return g},XC:function(){return u},Yn:function(){return _},ZE:function(){return h},ae:function(){return R},cf:function(){return v},fg:function(){return M},sz:function(){return m},tW:function(){return o},tv:function(){return I},v9:function(){return p},yy:function(){return W}});var r=n(61432),i=n(99574);const o=(0,r.Z)("mac")?"Meta":"Control",s="Shift",c=2,a=1.15,u=1.15,l=2500,d=.02,g=Math.cos((0,i.Vl)(45)),f=Math.cos((0,i.Vl)(5)),h=.95,p=.3,b=2,M=1,m=3,I=11,w=22.5,C=40,T=48,y=2.25,N=4,v=1,_=.3,A=6,W=4,O=1600,R=.4},9478:function(e,t,n){n.d(t,{do:function(){return Ie},Df:function(){return Te},aZ:function(){return we},ww:function(){return Ce},zY:function(){return ne},Lw:function(){return de},fT:function(){return ee},R_:function(){return he},i3:function(){return fe},j6:function(){return $},Rd:function(){return re},TA:function(){return te},J0:function(){return ge},lR:function(){return Ae},Hq:function(){return pe},m3:function(){return Me},oP:function(){return me},Sc:function(){return ve},vc:function(){return _e},Q3:function(){return K},EC:function(){return oe},A5:function(){return se},wj:function(){return ce},tF:function(){return ie}});var r=n(68651),i=(n(61432),n(96711)),o=n(99574),s=n(96094),c=n(31865),a=n(24910),u=n(82846),l=(n(71354),n(60508)),d=n(13132),g=n(93070),f=n(89420),h=n(77773),p=n(12659),b=n(63271),M=n(69811),m=n(1490),I=n(41531),w=n(1505),C=n(77811),T=n(80075),y=n(73749),N=n(27583),v=n(49102),_=n(86026),A=n(19596),W=n(41044),O=n(56696),R=n(59797),P=n(948),D=n(29296),j=n(36121),Z=n(42266),L=n(58257),E=n(29107),S=n(71517),x=n(65650),U=n(74826),H=n(51135);class G extends U.K{constructor(){super(...arguments),this.backgroundColor=(0,N.al)(1,0,0,.5),this.gridColor=(0,N.al)(0,1,0,.5),this.gridWidth=4}}class V extends E.A{constructor(e,t){super(e,t,new L.J(S.S,(()=>n.e(58668).then(n.bind(n,58668)))))}initializePipeline(){return(0,H.sm)({blending:H.Zo,depthTest:{func:x.wb.LESS},colorWrite:H.gf})}}class k extends Z.c{constructor(e){super(e,z),this.produces=new Map([[P.r.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>(0,W.c1)(e)]]),this._configuration=new O.P}get visible(){return!0}createGLMaterial(e){return new Y(e)}createBufferWriter(){return new D.G(j.qj)}getConfiguration(){return this._configuration}}class Y extends R.Z{constructor(e){super(e)}beginSlot(e){return this.getTechnique(V,e)}}class z extends G{constructor(){super(...arguments),this.renderOccluded=A.yD.Occlude,this.isDecoration=!1}}class Q extends v._{constructor(e){super(e),this._material=null,this._renderOccluded=A.yD.OccludeAndTransparent,this._gridWidth=1,this._gridColor=(0,N.al)(1,0,0,1),this._backgroundColor=(0,N.al)(1,0,0,1),this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(e){this._gridWidth!==e&&(this._gridWidth=e,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(e){(0,y.c)(this._gridColor,e),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){(0,y.c)(this._backgroundColor,e),this._updateMaterial()}createExternalResources(){this._material=new k(this._materialParameters)}destroyExternalResources(){this._material=null}forEachMaterial(e){e(this._material)}createGeometries(e){if(null!=this._material){const t=(0,_.g7)(this._material);e.addGeometry(t)}}get _materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded,isDecoration:this.isDecoration}}_updateMaterial(){this._material?.setParameters(this._materialParameters)}}var B,X,F=n(32243),J=n(13445),q=n(55541);function $(e,t,n,r,i,o,s,c){return function(e,t,n,r,i,o){const s=(0,a.e)(e,t),c=M.WM.get(),u=M.WM.get();switch(r===Ce.HORIZONTAL_OR_VERTICAL?Math.abs(s)>I.Wp?Ce.HORIZONTAL:Ce.VERTICAL:r){case Ce.VERTICAL:{const r=Math.abs(s)<=I.G0?e:n.viewUp;(0,a.h)(c,r,t),(0,a.c)(u,t);break}case Ce.HORIZONTAL:(0,a.h)(c,n.viewUp,t),(0,a.h)(u,t,c);break;case Ce.TILTED:{const r=Math.abs(s)<=I.G0?t:n.viewUp;(0,a.h)(c,r,e),(0,a.h)(u,e,c);break}}const l=(0,a.h)(M.WM.get(),c,u);(0,a.e)(l,n.viewForward)>0&&(0,a.g)(u,u,-1),(0,a.n)(i,c),(0,a.n)(o,u)}(t,s.worldUpAtPosition(e,M.WM.get()),i,o,c.basis1,c.basis2),(0,a.g)(c.basis1,c.basis1,n),(0,a.g)(c.basis2,c.basis2,r),(0,a.c)(c.origin,e),(0,h.my)(c.basis2,c.basis1,c.origin,c.plane),c}function K(e,t,n,r,i,o){const s=(0,a.c)(M.WM.get(),i.origin);(0,a.f)(s,s,(0,a.g)(M.WM.get(),i.basis1,e.direction[0]<0?1:-1)),(0,a.f)(s,s,(0,a.g)(M.WM.get(),i.basis2,e.direction[1]<0?1:-1));const c=(0,a.l)(i.basis1),u=(0,a.l)(i.basis2),l=(0,a.d)(M.WM.get(),n,s),d=(0,a.d)(M.WM.get(),t,s);let g=0,h=0;if(ge(e)){const t=de(i),n=de(o);g=c-.5*e.direction[0]*(0,a.e)(i.basis1,d)/c,h=u-.5*e.direction[1]*(0,a.e)(i.basis2,d)/u;const r=n/t;g*=r,h*=r}const p=g+.5*e.direction[0]*(0,a.e)(i.basis1,l)/c,b=h+.5*e.direction[1]*(0,a.e)(i.basis2,l)/u,m=(0,a.g)(M.WM.get(),i.basis1,p/c),w=(0,a.g)(M.WM.get(),i.basis2,b/u);(p<=0||ue(o.origin,m,r)<=I.Ci)&&(0,a.c)(m,o.basis1),(b<=0||ue(o.origin,w,r)<=I.Ci)&&(0,a.c)(w,o.basis2);const C=(0,a.c)(M.WM.get(),s);return(0,a.f)(C,C,(0,a.g)(M.WM.get(),m,e.direction[0]<0?-1:1)),(0,a.f)(C,C,(0,a.g)(M.WM.get(),w,e.direction[1]<0?-1:1)),(0,f.f)(C,m,w,o)}function ee(e,t){return I.ae*Math.min(t.width,t.height)*t.computeRenderPixelSizeAt(e)}function te(e,t,n,r){const i=(0,a.h)(M.WM.get(),t,n);return(0,a.h)(i,i,t),(0,h.Yq)(e,i,r)}function ne(e,t){return(0,C.Aq)(e.basis1,e.basis2,e.origin,t)}function re(e,t,n,r){const i=t.worldUpAtPosition(e.origin,M.WM.get()),o=M.WM.get();switch(n){case we.HEADING:(0,a.c)(o,i);break;case we.TILT:(0,a.c)(o,e.basis1)}return(0,h.Yq)(e.origin,o,r)}function ie(e,t,n,r){const i=ae(n,B.NEGATIVE_X),o=M.MP.get();(0,c.jI)(o,t,i.edge*Math.PI/2);const l=(0,a.n)(M.WM.get(),i.basis);let d=(0,a.g)(M.WM.get(),l,i.direction*r.computeScreenPixelSizeAt(i.position)*I.Eu);(0,a.f)(d,d,i.position);const g=r.projectToRenderScreen(d,(0,s.Wv)(M.WM.get())),h=function(e,t){const[n,r,i,o]=e.viewport,s=Math.min(i,o)/16;let c=!0;return t[0]<n+s?(t[0]=n+s,c=!1):t[0]>n+i-s&&(t[0]=n+i-s,c=!1),t[1]<r+s?(t[1]=r+s,c=!1):t[1]>r+o-s&&(t[1]=r+o-s,c=!1),c}(r,g);(0,J.Bh)(r,g,ye),(0,a.n)(ye.direction,ye.direction);const p=M.WM.get();!h&&(0,f.i)(n,ye,p)&&(d=p),o[12]=0,o[13]=0,o[14]=0,e.modelTransform=o,e.renderLocation=(0,u.d9)(d),h?e.state|=Te:e.state&=~Te}function oe(e,t,n,r){const i=(0,a.l)(r.basis1),o=(0,a.l)(r.basis2),s=le(r),u=de(r),l=(0,a.i)(M.WM.get(),0,0,0);(0,a.f)(l,(0,a.g)(M.WM.get(),r.basis1,t.direction[0]),(0,a.g)(M.WM.get(),r.basis2,t.direction[1])),(0,a.f)(l,r.origin,l);let d=0,g=1;if(ge(t))1===t.direction[0]&&-1===t.direction[1]?d=Ne:1===t.direction[0]&&1===t.direction[1]?d=Math.PI:-1===t.direction[0]&&1===t.direction[1]&&(d=3*Math.PI/2),g=u;else{const e=0!==t.direction[0]?1:2;d=1===e?Ne:0,g=(1===e?o:i)-s}const f=(0,c.QO)(M.MP.get(),d);(0,c.bA)(f,f,(0,a.i)(M.WM.get(),g,g,g)),(0,c.Jp)(f,n,f),f[12]=0,f[13]=0,f[14]=0,e.modelTransform=f,e.renderLocation=l}function se(e,t,n,r){const i=r.worldUpAtPosition(n.origin,M.WM.get()),o=ae(n,B.POSITIVE_X),s=(0,c.QO)(M.MP.get(),o.edge*Math.PI/2);(0,c.lM)(s,s,-be(n,i)),(0,c.Jp)(s,t,s),s[12]=0,s[13]=0,s[14]=0,e.modelTransform=s,e.renderLocation=o.position}function ce(e,t,n){const r=ae(n,B.POSITIVE_Y),i=(0,c.QO)(M.MP.get(),r.edge*Math.PI/2);(0,c.lM)(i,i,Ne),(0,c.Jp)(i,t,i),i[12]=0,i[13]=0,i[14]=0,e.modelTransform=i,e.renderLocation=r.position}function ae(e,t){switch(t){case B.POSITIVE_X:return{basis:e.basis1,direction:1,position:(0,a.f)(M.WM.get(),e.origin,e.basis1),edge:t};case B.POSITIVE_Y:return{basis:e.basis2,direction:1,position:(0,a.f)(M.WM.get(),e.origin,e.basis2),edge:t};case B.NEGATIVE_X:return{basis:e.basis1,direction:-1,position:(0,a.d)(M.WM.get(),e.origin,e.basis1),edge:t};case B.NEGATIVE_Y:return{basis:e.basis2,direction:-1,position:(0,a.d)(M.WM.get(),e.origin,e.basis2),edge:t}}}function ue(e,t,n){const r=n.projectToRenderScreen((0,a.f)(M.WM.get(),e,t),(0,s.Wv)(M.WM.get())),i=n.projectToRenderScreen((0,a.d)(M.WM.get(),e,t),(0,s.Wv)(M.WM.get()));return(0,a.k)((0,a.d)(r,r,i))}function le(e){const t=(0,a.l)(e.basis1),n=(0,a.l)(e.basis2);return I.Yn*Math.min(t,n)}function de(e){return le(e)}function ge(e){return 0!==e.direction[0]&&0!==e.direction[1]}function fe(e){return new T.r({view:e,attached:!1,color:(0,m.bL)(e.effectiveTheme),width:I.fg,renderOccluded:A.yD.OccludeAndTransparent,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]],isDecoration:!0})}function he(e){return new Q({view:e,attached:!1,backgroundColor:m.ku,gridColor:(0,m.CB)(e.effectiveTheme),gridWidth:4,renderOccluded:A.yD.OccludeAndTransparent,isDecoration:!0})}function pe(e,t,n,i=new r.Z){if(null==e)return null;const{renderCoordsHelper:s}=t,c=s.fromRenderCoords(e.origin,new l.Z({spatialReference:t.spatialReference}));if(null==c)return null;const u=(0,d.tryProjectWithZConversion)(c,n);if(null==u)return null;i.position=u;const g=2*(0,a.l)(e.basis1),f=2*(0,a.l)(e.basis2),h=F.Z.renderUnitScaleFactor(t.spatialReference,n);i.width=g*h,i.height=f*h;const p=s.worldUpAtPosition(e.origin,M.WM.get());return i.tilt=(0,o.BV)(be(e,p)),i.heading=s.headingAtPosition(e.origin,e.basis1)-90,i}function be(e,t){return(0,b.cp)(t,e.basis2,e.basis1)+Ne}function Me(e,t){if(null==e?.position)return null;const n=(0,w.G)(e.position,t.spatialReference,t.elevationProvider);if(null==n)return null;const r=F.Z.renderUnitScaleFactor(e.position.spatialReference,t.spatialReference),i=e.width*r,o=e.height*r;return{position:n,heading:e.heading,tilt:e.tilt,renderWidth:i,renderHeight:o}}function me(e,t,n,r=(0,f.d)()){if(null==e)return null;const s=function(e,t,n,r,s,c,u=(0,f.d)()){return c.toRenderCoords(e,u.origin)?(c.worldBasisAtPosition(u.origin,g.R.X,u.basis1),c.worldBasisAtPosition(u.origin,g.R.Y,u.basis2),(0,h.my)(u.basis2,u.basis1,u.origin,u.plane),(0,f.r)(u,-(0,o.Vl)(t),(0,f.n)(u),u),(0,f.r)(u,(0,o.Vl)(n),u.basis1,u),(0,a.g)(u.basis1,u.basis1,r/2),(0,a.g)(u.basis2,u.basis2,s/2),(0,f.u)(u),u):(i.Z.getLogger("esri.views.3d.analysis.Slice.sliceToolUtils").error(`Failed to project slice plane position, projection from ${e.spatialReference.wkid} is not supported`),null)}(e.position,e.heading,e.tilt,e.renderWidth,e.renderHeight,t.renderCoordsHelper,r);return n.tiltEnabled||null==s||function(e,t,n){const r=t.worldUpAtPosition(e.origin,M.WM.get()),i=e.basis1,o=be(e,r),s=Math.round(o/Ne)*Ne;(0,f.r)(e,s-o,i,n)}(s,t.renderCoordsHelper,s),s}(X=B||(B={}))[X.POSITIVE_X=0]="POSITIVE_X",X[X.POSITIVE_Y=1]="POSITIVE_Y",X[X.NEGATIVE_X=2]="NEGATIVE_X",X[X.NEGATIVE_Y=3]="NEGATIVE_Y";const Ie=q.jg.Custom1;var we,Ce;!function(e){e[e.HEADING=1]="HEADING",e[e.TILT=2]="TILT"}(we||(we={})),function(e){e[e.HORIZONTAL_OR_VERTICAL=0]="HORIZONTAL_OR_VERTICAL",e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL",e[e.TILTED=3]="TILTED"}(Ce||(Ce={}));const Te=q.jg.Custom2,ye=(0,p.Ue)(),Ne=Math.PI/2,ve=q.jg.Custom1,_e=q.jg.Custom2;function Ae(e){return null!=("building-scene-3d"===e.type?e:null)}},11234:function(e,t,n){n.d(t,{O:function(){return s},s:function(){return c}});function r(e,t){return function(e,t){const n=new Image(t,t);return n.src=e,n}(function(e){const t=(new XMLSerializer).serializeToString(e);return`data:image/svg+xml;base64,${btoa(t)}`}(i(function(e){const t=e.split(",")[1],n=atob(t);return(new DOMParser).parseFromString(n,"image/svg+xml")}(e),t)),t.size)}function i(e,{accentColor:t,contrastColor:n}){const r=t.toHex(),i=t.a,o=n.toHex(),s=n.a,c=e.getElementsByTagNameNS("http://www.w3.org/2000/svg","style").namedItem("theme-style");return c&&(c.innerHTML=`\n      .contrast-fill { fill: ${o}; fill-opacity: ${s}; }\n      .contrast-stroke { stroke: ${o}; stroke-opacity: ${s};  }\n      .accent-fill { fill: ${r}; fill-opacity: ${i}; }\n      .accent-stroke { stroke: ${r}; stroke-opacity:  ${i}; }`),e}var o=n(28751);function s(e,t){const{accentColor:n,contrastColor:i,preMultiplyAlpha:s}=t;return e.fromData(`heading-rotate:[accent:${n},contrast:${i},size:64]`,(()=>new o.x(r("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxwYXRoIGQ9Ik0yOCAwYTI4IDI4IDAgMSAxIDAgNTYgMjggMjggMCAwIDEgMC01NiIgY2xhc3M9ImFjY2VudC1maWxsIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI0Ljk5IiBkPSJNMjAuMDUgNDAuODZhMTUuMDUgMTUuMDUgMCAwIDAgMTcuMTQtMS41IDE1LjA1IDE1LjA1IDAgMCAwIDQuNDctMTYuNjUgMTUuMDUgMTUuMDUgMCAwIDAtMjIuNzItNy4xNSAxNS4wNSAxNS4wNSAwIDAgMC01LjUgNy4xNSIgY2xhc3M9ImNvbnRyYXN0LXN0cm9rZSIvPjxwYXRoIGQ9Im0xMC45NyAzNS41NyA1LjM4IDEyLjA3IDcuNzktMTMuNDd6IiBjbGFzcz0iY29udHJhc3QtZmlsbCIvPjwvc3ZnPg==",{accentColor:n,contrastColor:i,size:64}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:s})))}function c(e,t){const{accentColor:n,contrastColor:i,preMultiplyAlpha:s}=t;return e.fromData(`tilt-rotate:[accent:${n},contrast:${i},size:64]`,(()=>new o.x(r("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NiIgaGVpZ2h0PSI1NiIgZmlsbD0ibm9uZSIgdmVyc2lvbj0iMi4wIj48c3R5bGUgaWQ9InRoZW1lLXN0eWxlIj4uY29udHJhc3QtZmlsbHtmaWxsOiNmZmZ9LmNvbnRyYXN0LXN0cm9rZXtzdHJva2U6I2ZmZn0uYWNjZW50LWZpbGx7ZmlsbDojZmY3ZjAwO2ZpbGwtb3BhY2l0eTouNX08L3N0eWxlPjxjaXJjbGUgY3g9IjM5LjQ3OCIgY3k9IjMuMDc4IiByPSIyOCIgY2xhc3M9ImFjY2VudC1maWxsIiB0cmFuc2Zvcm09InJvdGF0ZSg0MC41NDIpIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSI1IiBkPSJtNy4wNzQgMzAuMDUzIDI5LjM5NyAxMS45ODUtMy42NzMtMzMuNDkzIiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIi8+PHBhdGggc3Ryb2tlLXdpZHRoPSIyLjk5NiIgZD0iTTI0LjUwNCAyMy4yMDdhMTEuOTggMTEuOTggMCAwIDAtOS44IDcuNTA3IiBjbGFzcz0iY29udHJhc3Qtc3Ryb2tlIGNvbnRyYXN0LWZpbGwiLz48cGF0aCBkPSJtMjkuODE4IDIyLjgwOC02LjE4NCA0LjYtLjU0MS04LjM2NHoiIGNsYXNzPSJjb250cmFzdC1maWxsIi8+PC9zdmc+",{accentColor:n,contrastColor:i,size:64}),{mipmap:!0,reloadable:!0,preMultiplyAlpha:s})))}}}]);