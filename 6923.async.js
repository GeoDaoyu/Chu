"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[6923],{92643:function(t,e,n){n.d(e,{Ch:function(){return j},EX:function(){return E},G:function(){return z},H0:function(){return N},Ht:function(){return V},K6:function(){return x},O:function(){return G},WC:function(){return T},Y3:function(){return P},_Y:function(){return w},_j:function(){return R},c9:function(){return Z},gp:function(){return Y},jQ:function(){return a},mj:function(){return O},nR:function(){return F},sJ:function(){return L},vG:function(){return v},xr:function(){return I}});var r=n(53147),o=n(3480),i=n(28947),c=n(99574),s=n(73749),l=n(27583);function a(t){return"r"in t&&"g"in t&&"b"in t}function u(t){return"h"in t&&"s"in t&&"v"in t}function f(t){return"l"in t&&"a"in t&&"b"in t}function h(t){return"l"in t&&"c"in t&&"h"in t}const m=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],d=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function p(t,e){const n=[];let r,o;if(t[0].length!==e.length)throw new Error("dimensions do not match");const i=t.length,c=t[0].length;let s=0;for(r=0;r<i;r++){for(s=0,o=0;o<c;o++)s+=t[r][o]*e[o];n.push(s)}return n}function g(t){const e=[t.r/255,t.g/255,t.b/255].map((t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4)),n=p(m,e);return{x:100*n[0],y:100*n[1],z:100*n[2]}}function y(t){const e=p(d,[t.x/100,t.y/100,t.z/100]).map((t=>{const e=t<=.0031308?12.92*t:1.055*t**(1/2.4)-.055;return Math.min(1,Math.max(e,0))}));return{r:Math.round(255*e[0]),g:Math.round(255*e[1]),b:Math.round(255*e[2])}}function b(t){const e=[t.x/95.047,t.y/100,t.z/108.883].map((t=>t>(6/29)**3?t**(1/3):1/3*(29/6)**2*t+4/29));return{l:116*e[1]-16,a:500*(e[0]-e[1]),b:200*(e[1]-e[2])}}function M(t){const e=t.l,n=[(e+16)/116+t.a/500,(e+16)/116,(e+16)/116-t.b/200].map((t=>t>6/29?t**3:3*(6/29)**2*(t-4/29)));return{x:95.047*n[0],y:100*n[1],z:108.883*n[2]}}function k(t){return function(t){const e=t.l,n=t.a,r=t.b,o=Math.sqrt(n*n+r*r);let i=Math.atan2(r,n);return i=i>0?i:i+2*Math.PI,{l:e,c:o,h:i}}(b(g(t)))}function C(t){return y(M(function(t){const e=t.l,n=t.c,r=t.h;return{l:e,a:n*Math.cos(r),b:n*Math.sin(r)}}(t)))}function I(t){return a(t)?t:h(t)?C(t):f(t)?function(t){return y(M(t))}(t):function(t){return"x"in t&&"y"in t&&"z"in t}(t)?y(t):u(t)?function(t){const e=(t.h+360)%360/60,n=t.s/100,r=t.v/100*255,o=r*n,i=o*(1-Math.abs(e%2-1));let c;switch(Math.floor(e)){case 0:c={r:o,g:i,b:0};break;case 1:c={r:i,g:o,b:0};break;case 2:c={r:0,g:o,b:i};break;case 3:c={r:0,g:i,b:o};break;case 4:c={r:i,g:0,b:o};break;case 5:case 6:c={r:o,g:0,b:i};break;default:c={r:0,g:0,b:0}}return c.r=Math.round(c.r+r-o),c.g=Math.round(c.g+r-o),c.b=Math.round(c.b+r-o),c}(t):t}function w(t){return u(t)?t:function(t){const e=t.r,n=t.g,r=t.b,o=Math.max(e,n,r),i=o-Math.min(e,n,r);let c=o,s=0===i?0:o===e?(n-r)/i%6:o===n?(r-e)/i+2:(e-n)/i+4,l=0===i?0:i/c;return s<0&&(s+=6),s*=60,l*=100,c*=100/255,{h:s,s:l,v:c}}(I(t))}function P(t){return f(t)?t:function(t){return b(g(t))}(I(t))}function L(t){return h(t)?t:k(I(t))}function S(t){let{r:e,g:n,b:o,a:i}=t;return i<1&&(e=Math.round(i*e+255*(1-i)),n=Math.round(i*n+255*(1-i)),o=Math.round(i*o+255*(1-i))),new r.Z({r:e,g:n,b:o})}function E(t,e){const{r:n,g:r,b:o}=e?.ignoreAlpha?t:S(t);return.2126*n+.7152*r+.0722*o}var x,A;function O(t,e=x.High){return E(t,{ignoreAlpha:!0})>e?new r.Z([0,0,0,t.a]):new r.Z([255,255,255,t.a])}function R(t,e){const n=P(t);n.l*=1-e;const r=I(n),o=t.clone();return o.setColor(r),o.a=t.a,o}function z(t,e){const n=t.clone();return n.a*=e,n}function v(t,e){const n=w(t);n.s*=e;const r=I(n),o=t.clone();return o.setColor(r),o.a=t.a,o}function G(t){return r.Z.toUnitRGBA(t)}function T(t,e){return t===e||null!=t&&t.equals(e)}function V(t,e){return t===e||null!=t&&null!=e&&(0,s.e)(t,e)}function Y(t){return(0,l.al)(t[0],t[1],t[2],t.length>3?t[3]:1)}function Z(t){return t[0]??=0,t[1]??=0,t[2]??=0,t}function F(t){return t.length=4,Z(t),t[3]??=1,(0,c.uZ)(t[3],0,1),t}function j(t,e){const n=r.Z.toUnitRGBA(t);return n[3]*=e,n}function N(t,e,n={}){if(0===t.length||e<=0)return[];if(1===(t=t.map((t=>"string"==typeof t?new r.Z(t):t))).length||1===e){const n=[],r=t[0];for(let t=0;t<e;t++)n.push(r.clone());return n}if(n.shuffle&&(t=(0,o.TV)((0,i.d9)(t),n.seed)),t.length>=e){const n=[],r=(t.length-1)/(e-1);for(let o=0;o<e;o++){const e=Math.round(o*r);n.push(t[e].clone())}return n}return function(t,e,n={}){const r=[],i=t.length-1,c=Math.ceil((e-t.length)/i);t:for(let o=0;o<i;o++){const i=t[o],s=t[o+1];for(let o=1;o<=c;o++){const l=o/(c+1);if(r.push(X(i,s,l,n)),r.length+t.length===e)break t}}return[...t.map((t=>t.clone())),...(0,o.TV)(r,n.seed??1)]}(t,e,n)}(A=x||(x={}))[A.Low=160]="Low",A[A.High=225]="High";const W=(t,e)=>{const n=Math.floor(10*e())-5;return Math.min(255,Math.max(0,t+n))};function X(t,e,n,i={}){const c=t.r,s=t.g,l=t.b,a=e.r,u=e.g,f=e.b,h=Math.round(c+(a-c)*n),m=Math.round(s+(u-s)*n),d=Math.round(l+(f-l)*n);if(!i.offset)return new r.Z([h,m,d]);const p=(0,o.FS)(i.seed);return new r.Z([W(h,p),W(m,p),W(d,p)])}},85881:function(t,e,n){n.d(e,{F$:function(){return c},G7:function(){return a},HG:function(){return h},Mm:function(){return f},Qi:function(){return m},YL:function(){return o},YN:function(){return u},du:function(){return i},kk:function(){return s}});var r=n(59384);function o(t){return 32+t.length}const i=16;function c(t){if(!t)return 0;let e=f;for(const n in t)t.hasOwnProperty(n)&&(e+=l(t[n],!1));return e}function s(t){if(!t)return 0;if("number"==typeof t[0])return a(t);if(Array.isArray(t))return function(t){const e=t.length;if(0===e||"number"==typeof t[0])return u(t,8);let n=h;for(let r=0;r<e;r++)n+=l(t[r]);return n}(t);let e=f;for(const n in t)t.hasOwnProperty(n)&&(e+=l(t[n]));return e}function l(t,e=!0){switch(typeof t){case"object":return e?s(t):f;case"string":return o(t);case"number":return i;case"boolean":return 4;default:return 8}}function a(...t){return t.reduce(((t,e)=>t+(e?(0,r.fU)(e)?e.byteLength+m:Array.isArray(e)?u(e,i):0:0)),0)}function u(t,e){return h+t.length*e}const f=32,h=16,m=145},20722:function(t,e,n){n.d(e,{Z:function(){return o}});var r=n(85881);class o{constructor(t=[],e=[]){this.lengths=t??[],this.coords=e??[]}static fromJSON(t){return new o(t.lengths,t.coords)}static fromRect(t){const[e,n,r,i]=t,c=r-e,s=i-n;return new o([5],[e,n,c,0,0,s,-c,0,0,-s])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce(((t,e)=>t+e))}get usedMemory(){return 64+(0,r.G7)(this.lengths,this.coords)}area(){let t=0,e=0;if(!this.lengths.length)return 0;for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];if(r<3)continue;let o=this.coords[2*e],i=this.coords[2*e+1];for(let n=1;n<r;n+=1){const r=this.coords[2*(n+e)],c=this.coords[2*(n+e)+1];t+=-.5*(r-o)*(c+i),o=r,i=c}e+=r}return t}forEachVertex(t){let e=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const r=this.lengths[n];for(let n=0;n<r;n++)t(this.coords[2*(n+e)],this.coords[2*(n+e)+1]);e+=r}}deltaDecode(){const t=this.clone(),{coords:e,lengths:n}=t;let r=0;for(const t of n){for(let n=1;n<t;n++)e[2*(r+n)]+=e[2*(r+n)-2],e[2*(r+n)+1]+=e[2*(r+n)-1];r+=t}return t}clone(t){if(0===this.lengths.length)return new o([],[this.coords[0],this.coords[1]]);const e=2*(0===this.lengths.length?1:this.lengths.reduce(((t,e)=>t+e))),n=this.coords.slice(0,e);return t?(t.set(n),new o(this.lengths,t)):new o(Array.from(this.lengths),Array.from(n))}}},2003:function(t,e,n){n.d(e,{Ao:function(){return a},DV:function(){return c},JQ:function(){return i},rL:function(){return o},s_:function(){return s},xk:function(){return l}});const r={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-34028234663852886e22,34028234663852886e22],f64:[-Number.MAX_VALUE,Number.MAX_VALUE],unknown:void 0,c64:void 0,c128:void 0};function o(t){return r[t]??[-34028234663852886e22,34028234663852886e22]}function i(t,e){return null==t||null==e?"s32":t<0?t>=-128&&e<128?"s8":t>=-32768&&e<32768?"s16":"s32":e<256?"u8":e<65536?"u16":"u32"}function c(t){return(t?.startsWith("s")||t?.startsWith("u"))??!1}function s(t,e,n,r){let[i,s]=o(n);const l=c(n);return l&&(i-=1e-5,s+=1e-5),l?n.startsWith("u")?function(t,e,n,r){const[o,i]=r;for(let r=0;r<e.length;r++)if(e[r]){const c=t[r];c<o||c>i?e[r]=0:n[r]=c+.5|0}}(t,e,r,[i,s]):function(t,e,n,r){const[o,i]=r;for(let r=0;r<e.length;r++)if(e[r]){const c=t[r];c<o||c>i?e[r]=0:n[r]=c+(c>0?.5:-.5)|0}}(t,e,r,[i,s]):function(t,e,n,r){const[o,i]=r;for(let r=0;r<e.length;r++)if(e[r]){const c=t[r];c<o||c>i?e[r]=0:n[r]=c}}(t,e,r,[i,s])}function l(t,e){for(let n=0;n<e.length;n++)e[n]&&isNaN(t[n])&&(e[n]=0,t[n]=0)}function a(t,e,n){if(t.depthCount&&t.depthCount>1)return;const{pixels:r,statistics:i,pixelType:c}=t,s=r[0].length,l=t.bandMasks??[],a=t.mask??new Uint8Array(s).fill(255),u="f32"===c||"f64"===c,f=o(c);let h=!1;for(let t=0;t<r.length;t++){const o="number"==typeof e?e:e[t];if(null==o)continue;const s=i?.[t]?.minValue??f[0],m=i?.[t]?.maxValue??f[1];if(s>o+Number.EPSILON||m<o-Number.EPSILON)continue;const d=l[t]||a.slice(),p=r[t],g=n?.customFloatTolerance;if(u&&0!==g){let t=g;t||(t=Math.abs(o)>=9999999e31?2e-7*Math.abs(o):"f32"===c?2**-23:Number.EPSILON);for(let e=0;e<p.length;e++)d[e]&&Math.abs(p[e]-o)<t&&(p[e]=0,d[e]=0,a[e]=0,h=!0)}else for(let t=0;t<p.length;t++)d[t]&&p[t]===o&&(p[t]=0,d[t]=0,a[t]=0,h=!0);l[t]=d}if(h){const e=t.bandMasks||t.pixels.length>1?l:null;n?.matchAllNoData?t.mask=e&&e.length>1?function(t){if(t.length<2)return t[0];const e=t[0].length,n=new Uint8Array(e).fill(0);for(let r=0;r<t.length;r++){const o=t[r];for(let t=0;t<e;t++)o[t]&&(n[t]=255)}return n}(e):a:(t.bandMasks=e,t.mask=a)}h&&"updateStatistics"in t&&t.updateStatistics()}},33285:function(t,e,n){n.d(e,{FN:function(){return i},QV:function(){return o},ac:function(){return s}});var r=n(66951);function o(t,e,n){const r=e.flatten((({sublayers:t})=>t)).length;return r!==t.length||(!!t.some((t=>t.originIdOf("minScale")>n||t.originIdOf("maxScale")>n||t.originIdOf("renderer")>n||t.originIdOf("labelingInfo")>n||t.originIdOf("opacity")>n||t.originIdOf("labelsVisible")>n||t.originIdOf("source")>n))||!c(t,e))}function i(t,e,n){return!!t.some((t=>{const e=t.source,o=!e||"map-layer"===e.type&&e.mapLayerId===t.id&&(null==e.gdbVersion||e.gdbVersion===n);t.commitProperty("renderer"),t.commitProperty("labelingInfo"),t.commitProperty("opacity"),t.commitProperty("labelsVisible"),t.commitProperty("orderBy");const i=t.layer?.capabilities?.exportMap?.supportsSublayerOrderBy??!1;return!o||t.originIdOf("renderer")>r.s3.SERVICE||t.originIdOf("labelingInfo")>r.s3.SERVICE||t.originIdOf("opacity")>r.s3.SERVICE||t.originIdOf("labelsVisible")>r.s3.SERVICE||i&&t.originIdOf("orderBy")>r.s3.SERVICE}))||!c(t,e)}function c(t,e){if(!t?.length||null==e)return!0;const n=e.slice().reverse().flatten((({sublayers:t})=>t&&t.toArray().reverse())).map((t=>t.id)).toArray();if(t.length>n.length)return!1;let r=0;const o=n.length;for(const{id:e}of t){for(;r<o&&n[r]!==e;)r++;if(r>=o)return!1}return!0}function s(t){return!!t&&t.some((t=>null!=t.minScale||null!=t.layerDefinition?.minScale))}},27737:function(t,e,n){n.d(e,{YV:function(){return i},ZB:function(){return m},iW:function(){return l}});var r=n(53147),o=n(61421);function i(t,e,n,r){if(t)if("CIMTextSymbol"!==t.type){if(n&&t.effects)for(const n of t.effects)s(n,e);if(t.symbolLayers)for(const n of t.symbolLayers){switch(n.type){case"CIMPictureMarker":case"CIMVectorMarker":c(n,e,r);break;case"CIMPictureStroke":case"CIMSolidStroke":case"CIMGradientStroke":!r?.preserveOutlineWidth&&n.width&&(n.width*=e);break;case"CIMPictureFill":n.height&&(n.height*=e),n.offsetX&&(n.offsetX*=e),n.offsetY&&(n.offsetY*=e);break;case"CIMHatchFill":i(n.lineSymbol,e,!0,{...r,preserveOutlineWidth:!1}),n.offsetX&&(n.offsetX*=e),n.offsetY&&(n.offsetY*=e),n.separation&&(n.separation*=e)}if(n.effects)for(const t of n.effects)s(t,e)}}else null!=t.height&&(t.height*=e)}function c(t,e,n){if(t&&(t.markerPlacement&&function(t,e){switch((0,o.gJ)(t)&&t.offset&&(t.offset*=e),t.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(t.customEndingOffset&&(t.customEndingOffset*=e),t.offsetAlongLine&&(t.offsetAlongLine*=e),t.placementTemplate&&t.placementTemplate.length){const n=t.placementTemplate.map((t=>t*e));t.placementTemplate=n}break;case"CIMMarkerPlacementAlongLineVariableSize":if(t.maxRandomOffset&&(t.maxRandomOffset*=e),t.placementTemplate&&t.placementTemplate.length){const n=t.placementTemplate.map((t=>t*e));t.placementTemplate=n}break;case"CIMMarkerPlacementOnLine":t.startPointOffset&&(t.startPointOffset*=e);break;case"CIMMarkerPlacementAtExtremities":t.offsetAlongLine&&(t.offsetAlongLine*=e);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":t.beginPosition&&(t.beginPosition*=e),t.endPosition&&(t.endPosition*=e);break;case"CIMMarkerPlacementPolygonCenter":t.offsetX&&(t.offsetX*=e),t.offsetY&&(t.offsetY*=e);break;case"CIMMarkerPlacementInsidePolygon":t.offsetX&&(t.offsetX*=e),t.offsetY&&(t.offsetY*=e),t.stepX&&(t.stepX*=e),t.stepY&&(t.stepY*=e)}}(t.markerPlacement,e),t.offsetX&&(t.offsetX*=e),t.offsetY&&(t.offsetY*=e),t.anchorPoint&&"Absolute"===t.anchorPointUnits&&(t.anchorPoint={x:t.anchorPoint.x*e,y:t.anchorPoint.y*e}),t.size=null!=t.size?t.size*e:0,"CIMVectorMarker"===t.type&&t.markerGraphics))for(const r of t.markerGraphics)t.scaleSymbolsProportionally||i(r.symbol,e,!0,n)}function s(t,e){switch(t.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":t.width&&(t.width*=e);break;case"CIMGeometricEffectBuffer":t.size&&(t.size*=e);break;case"CIMGeometricEffectCut":t.beginCut&&(t.beginCut*=e),t.endCut&&(t.endCut*=e),t.middleCut&&(t.middleCut*=e);break;case"CIMGeometricEffectDashes":if(t.customEndingOffset&&(t.customEndingOffset*=e),t.offsetAlongLine&&(t.offsetAlongLine*=e),t.dashTemplate&&t.dashTemplate.length){const n=t.dashTemplate.map((t=>t*e));t.dashTemplate=n}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":t.length&&(t.length*=e);break;case"CIMGeometricEffectMove":t.offsetX&&(t.offsetX*=e),t.offsetY&&(t.offsetY*=e);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":t.offset&&(t.offset*=e);break;case"CIMGeometricEffectRegularPolygon":t.radius&&(t.radius*=e);break;case"CIMGeometricEffectTaperedPolygon":t.fromWidth&&(t.fromWidth*=e),t.length&&(t.length*=e),t.toWidth&&(t.toWidth*=e);break;case"CIMGeometricEffectWave":t.amplitude&&(t.amplitude*=e),t.period&&(t.period*=e)}}function l(t){const e=[];return a((0,o.be)(t),e),e.length?new r.Z((0,o.oY)(e[0])):null}function a(t,e){if(!t)return;let n;n="CIMTextSymbol"===t.type?t.symbol:t;const r="CIMPolygonSymbol"===t.type;if(n?.symbolLayers)for(const t of n.symbolLayers)if(!(t.colorLocked||r&&((0,o.yL)(t)||(0,o.zL)(t)&&t.markerPlacement&&(0,o.gJ)(t.markerPlacement))))switch(t.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":t.tintColor&&u(e,t.tintColor);break;case"CIMVectorMarker":t.markerGraphics?.forEach((t=>{a(t.symbol,e)}));break;case"CIMSolidStroke":case"CIMSolidFill":u(e,t.color);break;case"CIMGradientFill":f(e,t);break;case"CIMHatchFill":a(t.lineSymbol,e)}}function u(t,e){for(const n of t)if(n.join(".")===e.join("."))return;t.push(e)}function f(t,e){const n=e.colorRamp?.type;switch(n){case"CIMMultipartColorRamp":e.colorRamp.colorRamps?.forEach((e=>{"CIMLinearContinuousColorRamp"===e.type&&h(t,e)}));break;case"CIMLinearContinuousColorRamp":case"CIMPolarContinuousColorRamp":h(t,e.colorRamp)}}function h(t,e){e&&(e.fromColor&&u(t,e.fromColor),e.toColor&&u(t,e.toColor))}function m(t,e,n){e instanceof r.Z||(e=new r.Z(e));const i=(0,o.be)(t);i&&d(i,e,n)}function d(t,e,n){if(!t)return;let r;r="CIMTextSymbol"===t.type?t.symbol:t;const i="CIMPolygonSymbol"===r?.type;if(r?.symbolLayers)for(const t of r.symbolLayers){if(t.colorLocked)continue;if(i)if(n){const{layersToColor:e}=n;if(((0,o.yL)(t)||(0,o.zL)(t)&&t.markerPlacement&&(0,o.gJ)(t.markerPlacement))&&"fill"===e||(0,o.k5)(t)&&"outline"===e)continue}else if((0,o.yL)(t)||(0,o.zL)(t)&&t.markerPlacement&&(0,o.gJ)(t.markerPlacement))continue;const r=e.toArray();switch(t.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":t.tintColor=r;break;case"CIMVectorMarker":t.markerGraphics?.forEach((t=>{d(t.symbol,e,n)}));break;case"CIMSolidStroke":case"CIMSolidFill":t.color=r;break;case"CIMGradientFill":p(t,e);break;case"CIMHatchFill":d(t.lineSymbol,e,n)}}}function p(t,e){const n=t.colorRamp?.type;switch(n){case"CIMMultipartColorRamp":t.colorRamp.colorRamps?.forEach((t=>{"CIMLinearContinuousColorRamp"===t.type&&g(t,e)}));break;case"CIMLinearContinuousColorRamp":case"CIMPolarContinuousColorRamp":g(t.colorRamp,e)}}function g(t,e){if(t&&(t.fromColor&&(t.fromColor=e.toArray()),t.toColor)){const n=e.clone();n.a=0,t.toColor=n.toArray()}}},48922:function(t,e,n){n.d(e,{Ne:function(){return M},Od:function(){return p},Sp:function(){return b},_M:function(){return d},iI:function(){return y},mx:function(){return g}});var r=n(1800),o=n(53147),i=n(78619),c=n(12853),s=n(96094),l=n(27737);const a="picture-fill",u="simple-fill",f="simple-marker",h=new Map([["dash",[4,3]],["dashdot",[4,3,1,3]],["dot",[1,3]],["longdash",[8,3]],["longdashdot",[8,3,1,3]],["longdashdotdot",[8,3,1,3,1,3]],["shortdash",[4,1]],["shortdashdot",[4,1,1,1]],["shortdashdotdot",[4,1,1,1,1,1]],["shortdot",[1,1]],["solid",[]]]),m=new c.z(1e3);function d(t){const e=t.style;let n=null;if(t)switch(t.type){case f:"cross"!==e&&"x"!==e&&(n=t.color);break;case u:e&&"solid"!==e?"none"!==e&&(n={type:"pattern",x:0,y:0,src:(0,r.V)(`esri/symbols/patterns/${e}.png`),width:5,height:5}):n=t.color;break;case a:n={type:"pattern",src:t.url,width:(0,s.F2)(t.width)*t.xscale,height:(0,s.F2)(t.height)*t.yscale,x:(0,s.F2)(t.xoffset),y:(0,s.F2)(t.yoffset)};break;case"text":n=t.color;break;case"cim":n=(0,l.iW)(t)}return n}function p(t,e){const n=t+"-"+e;return void 0!==m.get(n)?Promise.resolve(m.get(n)):(0,i.Z)(t,{responseType:"image"}).then((t=>{const r=t.data,o=r.naturalWidth,i=r.naturalHeight,c=document.createElement("canvas");c.width=o,c.height=i;const s=c.getContext("2d");s.fillStyle=e,s.fillRect(0,0,o,i),s.globalCompositeOperation="destination-in",s.drawImage(r,0,0);const l=c.toDataURL();return m.put(n,l),l}))}function g(t){if(!t)return null;let e=null;switch(t.type){case u:case a:case f:e=g(t.outline);break;case"simple-line":{const n=(0,s.F2)(t.width);null!=t.style&&"none"!==t.style&&0!==n&&(e={color:t.color,style:b(t.style),width:n,cap:t.cap,join:"miter"===t.join?(0,s.F2)(t.miterLimit):t.join},e.dashArray=y(e).join(",")||"none");break}default:e=null}return e}function y(t){if(!t?.style)return[];const{dashArray:e,style:n,width:r}=t;if("string"==typeof e&&"none"!==e)return e.split(",").map((t=>Number(t)));const o=r??0,i=h.has(n)?h.get(n).map((t=>t*o)):[];if("butt"!==t.cap)for(const[t,e]of i.entries())i[t]=t%2==1?e+o:Math.max(e-o,1);return i}const b=(()=>{const t={};return e=>{if(t[e])return t[e];const n=e.replaceAll("-","");return t[e]=n,n}})(),M=new o.Z([128,128,128])},30903:function(t,e,n){n.d(e,{BR:function(){return P},QL:function(){return S},Y6:function(){return m},YW:function(){return d},_h:function(){return g},e3:function(){return w},nf:function(){return p},tb:function(){return b},wJ:function(){return L}});var r=n(53147),o=n(29292),i=(n(61432),n(96094)),c=n(82846),s=n(615),l=n(27737),a=n(48922),u=n(75485),f=n(68578);const h=new r.Z("white");function m(t){if(!t)return 0;if((0,f.dU)(t)){const e=function(t){const e=t.symbolLayers?.at(-1);if(e&&"outline"in e)return e?.outline?.size}(t);return null!=e?e:0}return(0,i.Wz)((0,a.mx)(t)?.width)}function d(t){if(null==t||!("symbolLayers"in t)||null==t.symbolLayers)return!1;switch(t.type){case"point-3d":return t.symbolLayers.some((t=>"object"===t.type));case"line-3d":return t.symbolLayers.some((t=>"path"===t.type));case"polygon-3d":return t.symbolLayers.some((t=>"object"===t.type||"extrude"===t.type));default:return!1}}function p(t){return t.resource?.href??""}function g(t,e){if(!t)return null;let n=null;return(0,f.dU)(t)?n=function(t){const e=t.symbolLayers;if(!e)return null;let n=null;return e.forEach((t=>{"object"===t.type&&t.resource?.href||(n="water"===t.type?t.color:t.material?t.material.color:null)})),n?new r.Z(n):null}(t):(0,f.cT)(t)&&(n="cim"===t.type?(0,l.iW)(t):t.color?new r.Z(t.color):null),n?y(n,e):null}function y(t,e){if(null==e||null==t)return t;const n=t.toRgba();return n[3]=n[3]*e,new r.Z(n)}function b(t,e,n){t&&(e||null!=n)&&(e&&(e=new r.Z(e)),(0,f.dU)(t)?function(t,e,n){const r=t.symbolLayers;if(!r)return;const o=t=>y(e??t??(null!=n?h:null),n);r.forEach((t=>{if("object"!==t.type||!t.resource?.href||e)if("water"===t.type)t.color=o(t.color);else{const e=null!=t.material?t.material.color:null,r=o(e);if(null==t.material?t.material=new u.b({color:r}):t.material.color=r,null!=n&&"outline"in t&&null!=t.outline?.color&&(t.outline.color=y(t.outline.color,n)),"marker"in t&&null!=t.marker){const e=o(t.marker.color);t.marker.color=e}}}))}(t,e,n):(0,f.cT)(t)&&function(t,e,n){(e=e??t.color)&&(t.color=y(e,n)),null!=n&&"outline"in t&&t.outline?.color&&(t.outline.color=y(t.outline.color,n))}(t,e,n))}async function M(t,e){const r=t.symbolLayers;r&&await(0,o.Ed)(r,(async t=>async function(t,e){switch(t.type){case"extrude":!function(t,e){const n=e[2];"number"==typeof n&&(t.size=n)}(t,e);break;case"icon":case"line":case"text":!function(t,e){const n=k(e);null!=n&&(t.size=n)}(t,e);break;case"path":!function(t,e){const n=C(e,c.hq,[t.width,void 0,t.height]);null!=n&&(t.width=I(e[0],t.width,1,n),t.height=I(e[2],t.height,1,n))}(t,e);break;case"object":await async function(t,e){const{resourceSize:r,symbolSize:o}=await async function(t){const{computeObjectLayerResourceSize:e}=await n.e(99795).then(n.bind(n,99795)),r=await e(t,10),{width:o,height:i,depth:c}=t,s=[o,c,i];let l=1;for(let t=0;t<3;t++){const e=s[t];if(null!=e){l=e/r[t];break}}for(let t=0;t<3;t++)null==s[t]&&(s[t]=r[t]*l);return{resourceSize:r,symbolSize:s}}(t),i=C(e,r,o);null!=i&&(t.width=I(e[0],o[0],r[0],i),t.depth=I(e[1],o[1],r[1],i),t.height=I(e[2],o[2],r[2],i))}(t,e)}}(t,e)))}function k(t){for(const e of t)if("number"==typeof e)return e;return null}function C(t,e,n){for(let r=0;r<3;r++){const o=t[r];switch(o){case"symbol-value":{const t=n[r];return null!=t?t/e[r]:1}case"proportional":break;default:if(o&&e[r])return o/e[r]}}return null}function I(t,e,n,r){switch(t){case"proportional":return n*r;case"symbol-value":return null!=e?e:n;default:return t}}async function w(t,e){if(t&&e)return(0,f.dU)(t)?M(t,e):void((0,f.cT)(t)&&function(t,e){const n=k(e);if(null!=n)switch(t.type){case"simple-marker":t.size=n;break;case"picture-marker":{const e=t.width/t.height;e>1?(t.width=n,t.height=n*e):(t.width=n*e,t.height=n);break}case"simple-line":t.width=n;break;case"text":t.font.size=n}}(t,e))}function P(t,e,n){if(t&&null!=e)if((0,f.dU)(t)){const r=t.symbolLayers;r&&r.forEach((t=>{if("object"===t.type)switch(n){case"tilt":t.tilt=(t.tilt??0)+e;break;case"roll":t.roll=(t.roll??0)+e;break;default:t.heading=(t.heading??0)+e}"icon"===t.type&&(t.angle+=e)}))}else(0,f.cT)(t)&&("simple-marker"!==t.type&&"picture-marker"!==t.type&&"text"!==t.type||(t.angle+=e))}function L(t){if(!t)return null;const e=t.effects.filter((t=>"bloom"!==t.type)).map((t=>t.toJSON()));return(0,s.rM)(e)}function S(t){return null!=t&&"polygon-3d"===t.type&&t.symbolLayers.some((t=>"extrude"===t.type))}}}]);