"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[46269,14320],{46269:function(e,t,n){n.r(t),n.d(t,{area:function(){return G.a},buffer:function(){return D},centroid:function(){return M.c},clip:function(){return E.c},contains:function(){return w.c},convexHull:function(){return I},crosses:function(){return A},cut:function(){return q.c},densify:function(){return j.d},difference:function(){return X.d},disjoint:function(){return z},distance:function(){return k.d},equals:function(){return V.e},generalize:function(){return F.g},geodesicBuffer:function(){return d},geodeticArea:function(){return _.g},geodeticDensify:function(){return g.g},geodeticLength:function(){return P.g},intersection:function(){return L.i},intersects:function(){return U.i},isSelfIntersecting:function(){return _e},labelPoint:function(){return Z.l},length:function(){return H.l},loadAll:function(){return ge},offset:function(){return J},overlaps:function(){return te},proximity:function(){return ne.p},relate:function(){return re.r},rotate:function(){return ye},simplify:function(){return oe.s},symmetricDifference:function(){return ie.s},touches:function(){return ce},union:function(){return fe},within:function(){return pe}});var r=n(6064),o=n(66547),i=n(3480),s=n(26636),u=n(79610),c=n(25859);let a,m,f,l,h;function p(){return!!a&&(0,u.kR)()}async function y(){if(!p()){const[e]=await Promise.all([Promise.resolve().then(n.bind(n,40472)),(0,u.zD)()]);a=e.fromGeometry,m=e.fromSpatialReference,f=e.getSpatialReference,l=e.toPolygon,h=(0,u.dE)()}}const d=Object.freeze(Object.defineProperty({__proto__:null,execute:function(e,t,n={}){let{curveType:r="geodesic",maxDeviation:o=NaN,unit:i}=n;i&&(t=(0,s.En)(t,i,"meters"),o&&(o=(0,s.En)(o,i,"meters")));const h=f(e);return l((0,u.ht)(a(e),m(h),c.H[r],t,o),h)},executeMany:function(e,t,n={}){let{curveType:r="geodesic",maxDeviation:o=NaN,union:h=!1,unit:p}=n;p&&(t=t.map((e=>(0,s.En)(e,p,"meters"))),o&&(o=(0,s.En)(o,p,"meters")));const y=e.map(a),d=f(e);return(0,u.XR)(y,m(d),c.H[r],t,o,h).map((e=>l(e,d))).filter(i.pC)},isLoaded:p,load:y,get supportsCurves(){return h}},Symbol.toStringTag,{value:"Module"}));var _=n(80927),g=n(48800),P=n(47034),x=n(36644),v=n(14320),G=n(6463),b=n(16461),S=n(40472);const C=(0,b.dE)(),D=Object.freeze(Object.defineProperty({__proto__:null,execute:function(e,t,n={}){const{unit:r}=n,o=(0,S.getSpatialReference)(e);return r&&(t=(0,s.nC)(t,r,o)),(0,S.toPolygon)((0,b.ht)((0,S.fromGeometry)(e),(0,S.fromSpatialReference)(o),t),o)},executeMany:function(e,t,n={}){let{maxDeviation:r=NaN,maxVerticesInFullCircle:o=96,union:u=!1,unit:c}=n;const a=(0,S.getSpatialReference)(e);c&&(t=t.map((e=>(0,s.nC)(e,c,a))),r&&(r=(0,s.nC)(r,c,a)));const m=e.map(S.fromGeometry);return(0,b.kV)(m,(0,S.fromSpatialReference)(a),t,r,o,u).map((e=>(0,S.toPolygon)(e,a))).filter(i.pC)},supportsCurves:C},Symbol.toStringTag,{value:"Module"}));var M=n(43273),E=n(48343),w=n(60259),R=n(8935);const N=(0,R.dE)(),I=Object.freeze(Object.defineProperty({__proto__:null,execute:function(e){const t=(0,S.getSpatialReference)(e);return(0,S.toGeometry)((0,R.ht)((0,S.fromGeometry)(e)),t)},executeMany:function(e,t={}){const{merge:n=!1}=t,r=e.map(S.fromGeometry),o=(0,S.getSpatialReference)(e);return(0,R.XR)(r,n).map((e=>(0,S.toGeometry)(e,o)))},isConvex:function(e){return(0,R.Q4)((0,S.fromGeometry)(e))},supportsCurves:N},Symbol.toStringTag,{value:"Module"}));const T=new(n(45713).O);const O=T.supportsCurves(),A=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:function(e){const t=(0,S.getSpatialReference)(e);return T.accelerateGeometry((0,S.fromGeometry)(e),(0,S.fromSpatialReference)(t),1)},execute:function(e,t){return T.execute((0,S.fromGeometry)(e),(0,S.fromGeometry)(t),(0,S.fromSpatialReference)(e.spatialReference),null)},supportsCurves:O},Symbol.toStringTag,{value:"Module"}));var q=n(77209),j=n(64718),X=n(53326);const B=new(n(65513).d);const Y=B.supportsCurves(),z=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:function(e){const t=(0,S.getSpatialReference)(e);return B.accelerateGeometry((0,S.fromGeometry)(e),(0,S.fromSpatialReference)(t),1)},execute:function(e,t){return B.execute((0,S.fromGeometry)(e),(0,S.fromGeometry)(t),(0,S.fromSpatialReference)(e.spatialReference))},supportsCurves:Y},Symbol.toStringTag,{value:"Module"}));var k=n(70213),V=n(6519),F=n(30783),L=n(88880),U=n(73339),Z=n(76244),H=n(45410),$=n(58234);const Q={round:0,bevel:1,miter:2,square:3};const W=(0,$.dE)(),J=Object.freeze(Object.defineProperty({__proto__:null,execute:function(e,t,n={}){const{miterLimit:r=10,flattenError:o=0,joins:i="round",unit:u}=n,c=(0,S.getSpatialReference)(e);return u&&(t=(0,s.nC)(t,u,c)),(0,S.toGeometry)((0,$.ht)((0,S.fromGeometry)(e),(0,S.fromSpatialReference)(c),t,Q[i],r,o),c)},executeMany:function(e,t,n={}){const{miterLimit:r=10,flattenError:o=0,joins:u="round",unit:c}=n,a=(0,S.getSpatialReference)(e);c&&(t=(0,s.nC)(t,c,a));const m=e.map(S.fromGeometry);return(0,$.XR)(m,(0,S.fromSpatialReference)(a),t,Q[u],r,o).map((e=>(0,S.toGeometry)(e,a))).filter(i.pC)},supportsCurves:W},Symbol.toStringTag,{value:"Module"}));const K=new(n(89027).O);const ee=K.supportsCurves(),te=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:function(e){const t=(0,S.getSpatialReference)(e);return K.accelerateGeometry((0,S.fromGeometry)(e),(0,S.fromSpatialReference)(t),1)},execute:function(e,t){return K.execute((0,S.fromGeometry)(e),(0,S.fromGeometry)(t),(0,S.fromSpatialReference)(e.spatialReference),null)},supportsCurves:ee},Symbol.toStringTag,{value:"Module"}));var ne=n(55590),re=n(22045),oe=n(31215),ie=n(24489);const se=new(n(23287).O);const ue=se.supportsCurves(),ce=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:function(e){const t=(0,S.getSpatialReference)(e);return se.accelerateGeometry((0,S.fromGeometry)(e),(0,S.fromSpatialReference)(t),1)},execute:function(e,t){return se.execute((0,S.fromGeometry)(e),(0,S.fromGeometry)(t),(0,S.fromSpatialReference)(e.spatialReference),null)},supportsCurves:ue},Symbol.toStringTag,{value:"Module"}));var ae=n(835);const me=(0,ae.dE)(),fe=Object.freeze(Object.defineProperty({__proto__:null,execute:function(e,t){const n=(0,S.getSpatialReference)(e);return(0,S.toGeometry)((0,ae.ht)((0,S.fromGeometry)(e),(0,S.fromGeometry)(t),(0,S.fromSpatialReference)(n)),n)},executeMany:function(e){const t=e.map(S.fromGeometry),n=(0,S.getSpatialReference)(e);return(0,S.toGeometry)((0,ae.XR)(t,(0,S.fromSpatialReference)(n)),n)},supportsCurves:me},Symbol.toStringTag,{value:"Module"}));const le=new(n(79501).O);const he=le.supportsCurves(),pe=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:function(e){const t=(0,S.getSpatialReference)(e);return le.accelerateGeometry((0,S.fromGeometry)(e),(0,S.fromSpatialReference)(t),1)},execute:function(e,t){return le.execute((0,S.fromGeometry)(e),(0,S.fromGeometry)(t),(0,S.fromSpatialReference)(e.spatialReference),null)},supportsCurves:he},Symbol.toStringTag,{value:"Module"}));function ye(e,t,n,r){const i=(new v.default).rotate(t,n,r);return(0,o.execute)(e,i)}const de=new Set([5,6,7,10,11,12]);function _e(e){const t=new r.NonSimpleResult;return!(0,x.isSimple)(e,t)&&de.has(t.m_reason)}async function ge(){await Promise.all([(0,_.l)(),y(),(0,g.l)(),(0,P.l)()])}},85968:function(e,t,n){n.d(t,{D:function(){return x},m:function(){return m},s:function(){return _},w:function(){return d}});var r=n(73440),o=n(10057),i=n(11894),s=n(65513),u=n(9519),c=n(64699),a=n(60988);function m(){return{outPoint:new u.P,index:-1,t:Number.NaN}}function f(e,t,n){return{outPoint:e.clone(),index:t,t:n}}function l(e,t,n,r){e.outPoint.assign(t),e.index=n,e.t=r}function h(e,t){e.outPoint.assign(t.outPoint),e.index=t.index,e.t=t.t}function p(e,t,n,r){e.index=n,e.t=r,t.queryCoord2D(e.t,e.outPoint)}function y(e,t){const n=m();h(n,e),h(e,t),h(t,n)}function d(e,t,n,r,i,u){if(e.getGeometryType()===o.G.enumPolygon){for(;r.nextPath();)if(r.hasNextSegment()){const t=r.nextSegment();if(0!==(0,s.h)(e,t.getEndXY(),0))return l(i,t.getEndXY(),-1,Number.NaN),l(u,t.getEndXY(),-1,Number.NaN),!0}r.resetToFirstPath()}if(t.getGeometryType()===o.G.enumPolygon){for(;n.nextPath();)if(n.hasNextSegment()){const e=n.nextSegment();if(0!==(0,s.h)(t,e.getEndXY(),0))return l(i,e.getEndXY(),-1,Number.NaN),l(u,e.getEndXY(),-1,Number.NaN),!0}n.resetToFirstPath()}return!1}function _(e){const t=e.getPathCount(),n=(0,u.d)(e.getSegmentCount(),0);let r=0;for(let o=0;o<t;++o){const t=r+e.getSegmentCountPath(o);for(let i=r,s=e.getPathStart(o);i<t;++i,++s)n[i]=s;r=t}return(0,i.s)(e.getPointCount(),n),n}function g(e,t){return!!Number.isNaN(t)||e<=t}function P(e){const t=new i.a;return t.addEnvelope(e,!1),t}class x{constructor(e,t){if(this.m_env2DgeometryA=null,this.m_env2DgeometryB=null,this.m_progressCounter=0,this.m_progressTracker=t,this.m_maxSqrDistance=e*e,this.m_maxDistance=e,this.m_bIsNearCalc=!1,Number.isNaN(this.m_maxDistance)?this.m_maxDistance=Number.POSITIVE_INFINITY:this.m_maxDistance=e,this.m_maxSqrDistance=this.m_maxDistance*this.m_maxDistance,Number.isFinite(this.m_maxSqrDistance)){let e=Math.sqrt(this.m_maxSqrDistance);for(;e<this.m_maxDistance;)this.m_maxSqrDistance*=1+Number.EPSILON,e=Math.sqrt(this.m_maxSqrDistance)}}calculate(e,t,n,r){if((e.getGeometryType()!==a.P.type||t.getGeometryType()!==a.P.type)&&(this.m_env2DgeometryA=new c.Envelope2D,this.m_env2DgeometryB=new c.Envelope2D,e.queryEnvelope(this.m_env2DgeometryA),t.queryEnvelope(this.m_env2DgeometryB),!g(this.m_env2DgeometryA.distanceFromEnvelope(this.m_env2DgeometryB),this.m_maxDistance)))return Number.POSITIVE_INFINITY;const o=f(new u.P,(0,u.j)(),Number.NaN),i=f(new u.P,(0,u.j)(),Number.NaN),s=this._ExecuteBruteForce(e,t,o,i);return g(s,this.m_maxDistance)?(null!==n&&h(n,o),null!==r&&h(r,i),s):Number.POSITIVE_INFINITY}isNear(e,t){if(this.m_bIsNearCalc=!0,e.isEmpty()||t.isEmpty())return!1;if(e===t)return!0;let n=!0;if(e.getGeometryType()!==a.P.type&&e.getGeometryType()!==a.E.type||t.getGeometryType()!==a.P.type&&t.getGeometryType()!==a.E.type||(n=!1),n){if(this.m_env2DgeometryA=new c.Envelope2D,this.m_env2DgeometryB=new c.Envelope2D,e.queryEnvelope(this.m_env2DgeometryA),t.queryEnvelope(this.m_env2DgeometryB),!(this.m_env2DgeometryA.sqrMaxMinDistanceEnvelope(this.m_env2DgeometryB)>this.m_maxSqrDistance))return!0;if(this.m_env2DgeometryA.sqrDistanceEnvelope(this.m_env2DgeometryB,null,null)>this.m_maxSqrDistance)return!1}const r=f(new u.P,(0,u.j)(),Number.NaN),o=f(new u.P,(0,u.j)(),Number.NaN);return this._ExecuteBruteForce(e,t,r,o)<=this.m_maxDistance}progress_(e=!1){}_ExecuteBruteForce(e,t,n,r){switch(e.getGeometryType()){case o.G.enumPoint:return this.distancePointGeometry(e,t,n,r);case o.G.enumMultiPoint:return this.distanceMultipointGeometry(e,t,n,r);case o.G.enumEnvelope:return this.distanceEnvelopeGeometry(e,t,n,r);case o.G.enumPolyline:case o.G.enumPolygon:return this.distanceMultipathGeometry(e,t,n,r);default:return Number.NaN}}distancePointGeometry(e,t,n,r){switch(t.getGeometryType()){case o.G.enumPoint:return this.distancePointPoint(e,t,n,r);case o.G.enumMultiPoint:return this.distancePointMultipoint(e,t,n,r);case o.G.enumPolyline:case o.G.enumPolygon:return this.distancePointMultipath(e,t,n,r);case o.G.enumEnvelope:return this.distancePointEnvelope(e,t,n,r);default:return Number.NaN}}distancePointPoint(e,t,n,r){const o=e.getXY(),i=t.getXY();return l(n,o,0,0),l(r,i,0,0),Math.sqrt(u.P.sqrDistance(o,i))}distancePointMultipoint(e,t,n,r){const o=e.getXY();let i=this.m_maxSqrDistance,s=i,c=!1;const a=t.getPointCount(),m=new u.P;for(let e=0;e<a;++e)if(t.queryXY(e,m),s=u.P.sqrDistance(o,m),this.m_bIsNearCalc){if(s<=i)return 0}else if(!(s>i)&&(!c&&s===i||s<i)&&(i=s,l(n,o,0,0),l(r,m,e,0),c=!0,0===i))return 0;return c?Math.sqrt(i):Number.POSITIVE_INFINITY}distancePointMultipath(e,t,n,r){const i=!this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB),a=e.getXY();if(!i&&t.getGeometryType()===o.G.enumPolygon&&0!==(0,s.h)(t,a,0))return l(n,a,0,0),l(r,a,-1,Number.NaN),0;t.getImpl().getAccelerators();let m=this.m_maxSqrDistance,f=m,h=-1;const p=new c.Envelope2D,y=t.querySegmentIterator();let d=!1;for(;y.nextPath();)for(;y.hasNextSegment();){const e=y.nextSegment();e.queryEnvelope(p);const t=p.sqrDistance(a);if(t>m)continue;if(!this.m_bIsNearCalc&&d&&t===m)continue;h=e.getClosestCoordinate(a,!1);const o=e.getCoord2D(h);if(f=u.P.sqrDistance(a,o),this.m_bIsNearCalc){if(f<=m)return 0}else if(!(f>m)&&(!d||f<m)&&(m=f,l(n,a,0,0),l(r,o,y.getStartPointIndex(),h),d=!0,0===m))return 0}return d?Math.sqrt(m):Number.POSITIVE_INFINITY}distancePointEnvelope(e,t,n,r){const o=e.getXY();l(n,o,0,0),l(r,o,-1,Number.NaN);const i=t.asEnvelope2D();return i.contains(o)?0:Math.sqrt(i.sqrDistance(o,r.outPoint))}distanceMultipointGeometry(e,t,n,r){switch(t.getGeometryType()){case o.G.enumPoint:{this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const o=this.distancePointMultipoint(t,e,r,n);return this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),o}case o.G.enumMultiPoint:return this.distanceMultipointMultipoint(e,t,n,r,1,1);case o.G.enumPolyline:case o.G.enumPolygon:return this.distanceMultipointMultipath(e,t,n,r);case o.G.enumEnvelope:return this.distanceMultipointMultipath(e,P(t),n,r);default:return Number.NaN}}distanceMultipointMultipoint(e,t,n,o,i,s){const c={stack:[],error:void 0,hasError:!1};try{if(this.m_bIsNearCalc&&1===i&&1===s){const r=Math.trunc((0,u.s)(Math.sqrt(e.getPointCount())+1,1,(0,u.i)())),i=Math.trunc((0,u.s)(Math.sqrt(t.getPointCount())+1,1,(0,u.i)()));if((r>=4||i>=4)&&this.distanceMultipointMultipoint(e,t,n,o,r,i)<=this.m_maxSqrDistance)return 0}let a=this.m_maxSqrDistance;const m=[e],f=[t],h=this.swapGeometriesIfBGtA(m,f);h&&(this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),s=(0,u.c)(i,i=s),y(n,o)),(0,r.b)(c,(0,u.h)((()=>{y(n,o),this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB)}),!h),!1);const p=m[0].getImpl(),d=f[0].getImpl(),_=p.getPointCount(),g=d.getPointCount(),P=g>1;let x=!1;const v=new u.P,G=new u.P;for(let e=0;e<_;e+=i){if(p.queryXY(e,v),P){const e=this.m_env2DgeometryB.sqrDistance(v);if(this.m_bIsNearCalc){if(e>a)continue;if(this.m_env2DgeometryB.sqrMaxMinDistance(v)<=a)return 0}else if(e>=a)continue}for(let t=0;t<g;t+=s){d.queryXY(t,G);const r=u.P.sqrDistance(v,G);if(this.m_bIsNearCalc){if(r<=a)return 0}else if(!(r>a||x&&r===a)&&(!x||r<a)&&(l(n,v,e,0),l(o,G,t,0),x=!0,a=r,0===a))return x?Math.sqrt(a):Number.POSITIVE_INFINITY}}return x?Math.sqrt(a):Number.POSITIVE_INFINITY}catch(e){c.error=e,c.hasError=!0}finally{(0,r.c)(c)}}distanceMultipointMultipath(e,t,n,r){let i=!!this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB)&&t.getGeometryType()===o.G.enumPolygon;const a=t.querySegmentIterator();a.stripAttributes();const m=new c.Envelope2D,f=new u.P;let h=this.m_maxSqrDistance;const p=e.getImpl(),y=p.getPointCount(),d=y>1;let _=!1;for(;a.nextPath();)for(;a.hasNextSegment();){const e=a.nextSegment();if(e.queryLooseEnvelope(m),d){const e=m.sqrDistanceEnvelope(this.m_env2DgeometryA,null,null);if(this.m_bIsNearCalc){if(e>h)continue}else if(e>h||_&&e===h)continue}for(let o=0;o<y;o++){if(p.queryXY(o,f),i&&0!==(0,s.h)(t,f,0))return l(n,f,-1,Number.NaN),l(r,f,o,0),0;{const e=m.sqrDistance(f);if(this.m_bIsNearCalc){if(e>h)continue}else if(e>h)continue}const u=e.getClosestCoordinate(f,!1),c=e.getCoord2D(u);f.subThis(c);const y=f.sqrLength();if(this.m_bIsNearCalc){if(y<=h)return 0}else if(!(y>h)&&(!_||y<h)&&(h=y,l(n,p.getXY(o),o,0),l(r,c,a.getStartPointIndex(),u),_=!0,0===h))return 0}i=!1}return _?Math.sqrt(h):Number.POSITIVE_INFINITY}distanceEnvelopeGeometry(e,t,n,r){switch(t.getGeometryType()){case o.G.enumPoint:return this.distancePointEnvelope(t,e,r,n);case o.G.enumMultiPoint:{this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const o=this.distanceMultipointMultipath(t,P(e),r,n);return this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),o}case o.G.enumPolyline:case o.G.enumPolygon:return this.distanceMultipathMultipath(P(e),t,n,r);case o.G.enumEnvelope:return this.distanceEnvelopeEnvelope(e,t,n,r);default:return Number.NaN}}distanceEnvelopeEnvelope(e,t,n,r){n.t=Number.NaN,n.index=-1,r.t=Number.NaN,r.index=-1;const o=e.asEnvelope2D(),i=t.asEnvelope2D();return Math.sqrt(o.sqrDistanceEnvelope(i,n.outPoint,r.outPoint))}distanceMultipathGeometry(e,t,n,r){switch(t.getGeometryType()){case o.G.enumPoint:{this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const o=this.distancePointMultipath(t,e,r,n);return this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),o}case o.G.enumMultiPoint:{this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const o=this.distanceMultipointMultipath(t,e,r,n);return this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),o}case o.G.enumPolyline:case o.G.enumPolygon:return this.distanceMultipathMultipath(e,t,n,r);case o.G.enumEnvelope:return this.distanceMultipathMultipath(e,P(t),n,r);default:return Number.NaN}}distanceMultipathMultipath(e,t,n,o){const s={stack:[],error:void 0,hasError:!1};try{const a=[e],f=[t],l=this.swapGeometriesIfAGtB(a,f);l&&(this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),y(n,o)),(0,r.b)(s,(0,u.h)((()=>{y(n,o),this.m_env2DgeometryB=(0,u.c)(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB)}),!l),!1);const g=a[0],P=f[0],x=g.querySegmentIterator();x.stripAttributes();const v=P.querySegmentIterator();if(v.stripAttributes(),this.m_bIsNearCalc&&this.m_env2DgeometryA.sqrMaxMinDistanceEnvelope(this.m_env2DgeometryB)<=this.m_maxSqrDistance)return 0;if(this.m_bIsNearCalc){const e=Math.trunc((0,u.s)(Math.sqrt(g.getPointCount())+1,1,(0,u.i)())),t=Math.trunc((0,u.s)(Math.sqrt(g.getPointCount())+1,1,(0,u.i)()));if(this.distanceMultipointMultipoint(g,P,n,o,e,t)<=this.m_maxSqrDistance)return 0}if(this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB)){const e=m(),t=m();if(d(g,P,x,v,e,t))return h(n,e),h(o,t),0}const G=_(g),b=[],S=new i.S,C=new c.Envelope2D,D=new c.Envelope2D,M=new c.Envelope2D;let E=this.m_maxSqrDistance,w=!0,R=!1;for(let e=0,t=G.length;e<t;++e){g.querySegment(G[e],S,!0);const t=S.get();if(t.queryEnvelope(C),!(C.sqrDistanceEnvelope(this.m_env2DgeometryB,null,null)>E)){if(this.m_bIsNearCalc&&C.sqrMaxDistanceEnvelope(this.m_env2DgeometryB)<=E)return 0;for(;v.nextPath();){if(this.progress_(),w)P.queryPathEnvelope(v.getPathIndex(),M),b[v.getPathIndex()]=M.clone();else if(C.sqrDistanceEnvelope(b[v.getPathIndex()],null,null)>E)continue;for(;v.hasNextSegment();){const r=v.nextSegment();if(r.queryEnvelope(D),C.sqrDistanceEnvelope(D,null,null)<=E){const i=!C.isIntersecting(D),s=[0],u=[0];let c=t.distance(r,i,s,u);if(c*=c,this.m_bIsNearCalc&&c<=this.m_maxSqrDistance)return 0;if(c<E||c===E&&G[e]<n.index){if(R=!0,p(n,t,G[e],s[0]),p(o,r,v.getStartPointIndex(),u[0]),0===c)return 0;E=c}}}}v.resetToFirstPath(),w=!1}}return R?Math.sqrt(E):Number.POSITIVE_INFINITY}catch(e){s.error=e,s.hasError=!0}finally{(0,r.c)(s)}}swapGeometriesIfAGtB(e,t){return(0,o.v)(e[0])>(0,o.v)(t[0])&&(t[0]=(0,u.c)(e[0],e[0]=t[0]),!0)}swapGeometriesIfBGtA(e,t){return this.swapGeometriesIfAGtB(t,e)}}},45713:function(e,t,n){n.d(t,{O:function(){return o}});var r=n(65513);class o extends r.e{getOperatorType(){return 6}execute(e,t,n,o){return(0,r.r)(e,t,n,16,o)}}},3666:function(e,t,n){n.d(t,{O:function(){return o}});var r=n(65513);class o extends r.e{getOperatorType(){return 4}execute(e,t,n,o){return!(0,r.r)(e,t,n,4,o)}}},89027:function(e,t,n){n.d(t,{O:function(){return o}});var r=n(65513);class o extends r.e{getOperatorType(){return 9}execute(e,t,n,o){return(0,r.r)(e,t,n,32,o)}}},23287:function(e,t,n){n.d(t,{O:function(){return o}});var r=n(65513);class o extends r.e{getOperatorType(){return 5}execute(e,t,n,o){return(0,r.r)(e,t,n,8,o)}}},79501:function(e,t,n){n.d(t,{O:function(){return o}});var r=n(65513);class o extends r.e{getOperatorType(){return 7}execute(e,t,n,o){return(0,r.r)(e,t,n,2,o)}}},6463:function(e,t,n){n.d(t,{a:function(){return u},e:function(){return i},s:function(){return s}});var r=n(26636),o=n(40472);function i(e,t={}){const{unit:n}=t;let i=(0,o.fromGeometry)(e).calculateArea2D();if(i&&n){const t=(0,o.getSpatialReference)(e);if(t.isGeographic)throw new Error("Unable to convert from an angular area unit to a linear area unit.");const s=(0,r.oq)(t);s!==n&&(s?i=(0,r.En)(i,s,n):(i=Math.sqrt(i),i*=(0,r.c9)(t),i**=2,i=(0,r.En)(i,"square-meters",n)))}return i}const s=!0,u=Object.freeze(Object.defineProperty({__proto__:null,execute:i,supportsCurves:s},Symbol.toStringTag,{value:"Module"}))},43273:function(e,t,n){n.d(t,{c:function(){return c},e:function(){return s},s:function(){return u}});var r=n(99579),o=n(40472);const i=new class{getOperatorType(){return 10205}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}supportsCurves(){return!0}execute(e,t){return(0,r.c)(e)}};function s(e){const t=i.execute((0,o.fromGeometry)(e),null);return(0,o.toPoint)(t,(0,o.getSpatialReference)(e))}const u=i.supportsCurves(),c=Object.freeze(Object.defineProperty({__proto__:null,execute:s,supportsCurves:u},Symbol.toStringTag,{value:"Module"}))},48343:function(e,t,n){n.d(t,{a:function(){return s},c:function(){return c},e:function(){return i},s:function(){return u}});var r=n(44718),o=n(40472);function i(e,t){const n=(0,o.getSpatialReference)(e),i=(0,o.fromExtent)(t).asEnvelope2D();return(0,o.toGeometry)((0,r.ht)((0,o.fromGeometry)(e),i,(0,o.fromSpatialReference)(n)),n)}function s(e,t){const n=e.map(o.fromGeometry),i=(0,o.getSpatialReference)(e),s=(0,o.fromExtent)(t).asEnvelope2D();return(0,r.XR)(n,s,(0,o.fromSpatialReference)(i)).map((e=>(0,o.toGeometry)(e,i)))}const u=(0,r.dE)(),c=Object.freeze(Object.defineProperty({__proto__:null,execute:i,executeMany:s,supportsCurves:u},Symbol.toStringTag,{value:"Module"}))},60259:function(e,t,n){n.d(t,{a:function(){return s},c:function(){return a},e:function(){return u},s:function(){return c}});var r=n(65513),o=n(40472);const i=new r.b;function s(e){const t=(0,o.getSpatialReference)(e);return i.accelerateGeometry((0,o.fromGeometry)(e),(0,o.fromSpatialReference)(t),1)}function u(e,t){return i.execute((0,o.fromGeometry)(e),(0,o.fromGeometry)(t),(0,o.fromSpatialReference)(e.spatialReference),null)}const c=i.supportsCurves(),a=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:s,execute:u,supportsCurves:c},Symbol.toStringTag,{value:"Module"}))},77209:function(e,t,n){n.d(t,{c:function(){return c},e:function(){return s},s:function(){return u}});var r=n(3480),o=n(19508),i=n(40472);function s(e,t){const n=(0,i.getSpatialReference)(e);return(0,o.h)((0,i.fromGeometry)(e),(0,i.fromPolyline)(t),(0,i.fromSpatialReference)(n)).map((e=>(0,i.toGeometry)(e,n))).filter(r.pC)}const u=(0,o.d)(),c=Object.freeze(Object.defineProperty({__proto__:null,execute:s,supportsCurves:u},Symbol.toStringTag,{value:"Module"}))},64718:function(e,t,n){n.d(t,{a:function(){return a},d:function(){return f},e:function(){return c},s:function(){return m}});var r=n(3480),o=n(99574),i=n(26636),s=n(40562),u=n(40472);function c(e,t,n={}){let{maxAngleInDegrees:r=0,maxDeviation:c=0,unit:a}=n;const m=(0,u.getSpatialReference)(e);return a&&(t=(0,i.nC)(t,a,m),c&&(c=(0,i.nC)(c,a,m))),(0,u.toGeometry)((0,s.ht)((0,u.fromGeometry)(e),t,c,(0,o.Vl)(r)),m)}function a(e,t,n={}){let{maxAngleInDegrees:c=0,maxDeviation:a=0,unit:m}=n;const f=e.map(u.fromGeometry),l=(0,u.getSpatialReference)(e);return m&&(t=(0,i.nC)(t,m,l),a&&(a=(0,i.nC)(a,m,l))),(0,s.XR)(f,t,a,(0,o.Vl)(c)).map((e=>(0,u.toGeometry)(e,l))).filter(r.pC)}const m=(0,s.dE)(),f=Object.freeze(Object.defineProperty({__proto__:null,execute:c,executeMany:a,supportsCurves:m},Symbol.toStringTag,{value:"Module"}))},53326:function(e,t,n){n.d(t,{a:function(){return s},d:function(){return c},e:function(){return i},s:function(){return u}});var r=n(68989),o=n(40472);function i(e,t){const n=(0,o.getSpatialReference)(e);return(0,o.toGeometry)((0,r.ht)((0,o.fromGeometry)(e),(0,o.fromGeometry)(t),(0,o.fromSpatialReference)(n)),n)}function s(e,t){const n=e.map(o.fromGeometry),i=(0,o.getSpatialReference)(e);return(0,r.XR)(n,(0,o.fromGeometry)(t),(0,o.fromSpatialReference)(i)).map((e=>(0,o.toGeometry)(e,i)))}const u=(0,r.dE)(),c=Object.freeze(Object.defineProperty({__proto__:null,execute:i,executeMany:s,supportsCurves:u},Symbol.toStringTag,{value:"Module"}))},70213:function(e,t,n){n.d(t,{d:function(){return m},e:function(){return c},s:function(){return a}});var r=n(10057),o=n(85968),i=n(26636),s=n(40472);const u=new class{getOperatorType(){return 10100}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}execute(e,t,n){return this.executeEx(e,t,n,null,null,Number.NaN)}executeEx(e,t,n,i,s,u){if(e.isEmpty()||t.isEmpty())return Number.NaN;(0,r.c)(e),(0,r.c)(t);const c=e,a=t;Number.isNaN(u)&&(u=Number.POSITIVE_INFINITY);const m=new o.D(u,n).calculate(c,a,i,s);return Number.isFinite(m)?m:Number.NaN}};function c(e,t,n={}){const{unit:r}=n;let o=u.execute((0,s.fromGeometry)(e),(0,s.fromGeometry)(t),null);if(o&&r){const t=(0,s.getSpatialReference)(e);o=(0,i.qp)(o,t,r)}return o}const a=u.supportsCurves(),m=Object.freeze(Object.defineProperty({__proto__:null,execute:c,supportsCurves:a},Symbol.toStringTag,{value:"Module"}))},6519:function(e,t,n){n.d(t,{a:function(){return u},b:function(){return c},e:function(){return m},s:function(){return a}});var r=n(65513),o=n(40472);class i extends r.e{getOperatorType(){return 2}execute(e,t,n,o){return(0,r.r)(e,t,n,3,o)}}const s=new i;function u(e){const t=(0,o.getSpatialReference)(e);return s.accelerateGeometry((0,o.fromGeometry)(e),(0,o.fromSpatialReference)(t),1)}function c(e,t){return s.execute((0,o.fromGeometry)(e),(0,o.fromGeometry)(t),(0,o.fromSpatialReference)(e.spatialReference),null)}const a=s.supportsCurves(),m=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:u,execute:c,supportsCurves:a},Symbol.toStringTag,{value:"Module"}))},30783:function(e,t,n){n.d(t,{a:function(){return c},e:function(){return u},g:function(){return m},s:function(){return a}});var r=n(3480),o=n(26636),i=n(84688),s=n(40472);function u(e,t,n={}){const{removeDegenerateParts:r=!1,unit:u}=n,c=(0,s.getSpatialReference)(e);return u&&(t=(0,o.nC)(t,u,c)),(0,s.toGeometry)((0,i.ht)((0,s.fromGeometry)(e),t,r),c)}function c(e,t,n={}){const{removeDegenerateParts:u=!1,unit:c}=n,a=e.map(s.fromGeometry),m=(0,s.getSpatialReference)(e);return c&&(t=(0,o.nC)(t,c,m)),(0,i.XR)(a,t,u).map((e=>(0,s.toGeometry)(e,m))).filter(r.pC)}const a=(0,i.dE)(),m=Object.freeze(Object.defineProperty({__proto__:null,execute:u,executeMany:c,supportsCurves:a},Symbol.toStringTag,{value:"Module"}))},80927:function(e,t,n){n.d(t,{e:function(){return l},g:function(){return h},i:function(){return m},l:function(){return f},s:function(){return a}});var r=n(26636),o=n(7963),i=n(25859);let s,u,c,a;function m(){return!!s&&(0,o.kR)()}async function f(){if(!m()){const[e]=await Promise.all([Promise.all([n.e(9519),n.e(66288),n.e(65513),n.e(56870),n.e(76873)]).then(n.bind(n,40472)),(0,o.zD)()]);s=e.fromGeometry,u=e.fromSpatialReference,c=e.getSpatialReference,a=(0,o.dE)()}}function l(e,t={}){const{curveType:n="geodesic",unit:a}=t,m=c(e);let f=(0,o.ht)(s(e),u(m),i.H[n]);return f&&a&&(f=(0,r.En)(f,"square-meters",a)),f}const h=Object.freeze(Object.defineProperty({__proto__:null,execute:l,isLoaded:m,load:f,get supportsCurves(){return a}},Symbol.toStringTag,{value:"Module"}))},48800:function(e,t,n){n.d(t,{a:function(){return p},e:function(){return h},g:function(){return y},i:function(){return f},l:function(){return l},s:function(){return m}});var r=n(26636),o=n(74528),i=n(25859);let s,u,c,a,m;function f(){return!!s&&(0,o.kR)()}async function l(){if(!f()){const[e]=await Promise.all([Promise.all([n.e(9519),n.e(66288),n.e(65513),n.e(56870),n.e(70885)]).then(n.bind(n,40472)),(0,o.zD)()]);s=e.fromGeometry,u=e.fromSpatialReference,c=e.getSpatialReference,a=e.toGeometry,m=(0,o.dE)()}}function h(e,t,n={}){const{curveType:m="geodesic",unit:f}=n;f&&(t=(0,r.En)(t,f,"meters"));const l=c(e);return a((0,o.ht)(s(e),t,u(l),i.H[m]),l)}function p(e,t,n={}){const{curveType:m="geodesic",unit:f}=n;f&&(t=(0,r.En)(t,f,"meters"));const l=e.map(s),h=c(e);return(0,o.XR)(l,t,u(h),i.H[m]).map((e=>a(e,h)))}const y=Object.freeze(Object.defineProperty({__proto__:null,execute:h,executeMany:p,isLoaded:f,load:l,get supportsCurves(){return m}},Symbol.toStringTag,{value:"Module"}))},47034:function(e,t,n){n.d(t,{e:function(){return l},g:function(){return h},i:function(){return m},l:function(){return f},s:function(){return a}});var r=n(26636),o=n(30391),i=n(25859);let s,u,c,a;function m(){return!!s&&(0,o.kR)()}async function f(){if(!m()){const[e]=await Promise.all([Promise.all([n.e(9519),n.e(66288),n.e(65513),n.e(56870),n.e(76873)]).then(n.bind(n,40472)),(0,o.zD)()]);s=e.fromGeometry,u=e.fromSpatialReference,c=e.getSpatialReference,a=(0,o.dE)()}}function l(e,t={}){const{curveType:n="geodesic",unit:a}=t,m=c(e);let f=(0,o.ht)(s(e),u(m),i.H[n]);return f&&a&&(f=(0,r.En)(f,"meters",a)),f}const h=Object.freeze(Object.defineProperty({__proto__:null,execute:l,isLoaded:m,load:f,get supportsCurves(){return a}},Symbol.toStringTag,{value:"Module"}))},88880:function(e,t,n){n.d(t,{a:function(){return s},b:function(){return c},e:function(){return u},i:function(){return m},s:function(){return a}});var r=n(3480),o=n(4412),i=n(40472);function s(e){const t=(0,i.getSpatialReference)(e);return(0,o.MW)((0,i.fromGeometry)(e),(0,i.fromSpatialReference)(t))}function u(e,t){const n=(0,i.getSpatialReference)(e);return(0,i.toGeometry)((0,o.ht)((0,i.fromGeometry)(e),(0,i.fromGeometry)(t),(0,i.fromSpatialReference)(n)),n)}function c(e,t){const n=e.map(i.fromGeometry),s=(0,i.getSpatialReference)(e);return(0,o.XR)(n,(0,i.fromGeometry)(t),(0,i.fromSpatialReference)(s),7).map((e=>(0,i.toGeometry)(e,s))).filter(r.pC)}const a=(0,o.dE)(),m=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:s,execute:u,executeMany:c,supportsCurves:a},Symbol.toStringTag,{value:"Module"}))},73339:function(e,t,n){n.d(t,{a:function(){return s},e:function(){return u},i:function(){return a},s:function(){return c}});var r=n(3666),o=n(40472);const i=new r.O;function s(e){const t=(0,o.getSpatialReference)(e);return i.accelerateGeometry((0,o.fromGeometry)(e),(0,o.fromSpatialReference)(t),1)}function u(e,t){return i.execute((0,o.fromGeometry)(e),(0,o.fromGeometry)(t),(0,o.fromSpatialReference)(e.spatialReference),null)}const c=i.supportsCurves(),a=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:s,execute:u,supportsCurves:c},Symbol.toStringTag,{value:"Module"}))},45410:function(e,t,n){n.d(t,{e:function(){return i},l:function(){return u},s:function(){return s}});var r=n(26636),o=n(40472);function i(e,t={}){const{unit:n}=t;let i=(0,o.fromGeometry)(e).calculateLength2D();if(i&&n){const t=(0,o.getSpatialReference)(e);i=(0,r.qp)(i,t,n)}return i}const s=!0,u=Object.freeze(Object.defineProperty({__proto__:null,execute:i,supportsCurves:s},Symbol.toStringTag,{value:"Module"}))},55590:function(e,t,n){n.d(t,{a:function(){return a},b:function(){return m},g:function(){return c},p:function(){return l},s:function(){return f}});var r=n(87525),o=n(26636),i=n(40472),s=n(10559);const u=new r.O;function c(e,t,n={}){const{calculateLeftRightSide:r=!1,testPolygonInterior:c=!0,unit:a}=n,m=u.getNearestCoordinate((0,i.fromGeometry)(e),(0,i.fromPoint)(t).getXY(),c,r);if(a&&m.m_distance){const t=(0,i.getSpatialReference)(e);m.m_distance=(0,o.qp)(m.m_distance,t,a)}return(0,s.O)(m,e,r)}function a(e,t,n={}){const{unit:r}=n,c=u.getNearestVertex((0,i.fromGeometry)(e),(0,i.fromPoint)(t).getXY());if(r&&c.m_distance){const t=(0,i.getSpatialReference)(e);c.m_distance=(0,o.qp)(c.m_distance,t,r)}return(0,s.O)(c,e)}function m(e,t,n,r,c={}){const{unit:a}=c,m=(0,i.getSpatialReference)(e);return a&&n&&(n=(0,o.nC)(n,a,m)),u.getNearestVertices((0,i.fromGeometry)(e),(0,i.fromPoint)(t).getXY(),n,r).map((t=>(a&&t.m_distance&&(t.m_distance=(0,o.qp)(t.m_distance,m,a)),(0,s.O)(t,e))))}const f=u.supportsCurves(),l=Object.freeze(Object.defineProperty({__proto__:null,getNearestCoordinate:c,getNearestVertex:a,getNearestVertices:m,supportsCurves:f},Symbol.toStringTag,{value:"Module"}))},22045:function(e,t,n){n.d(t,{a:function(){return s},e:function(){return u},i:function(){return c},r:function(){return m},s:function(){return a}});var r=n(65513),o=n(40472);const i=new class{supportsCurves(){return!0}getOperatorType(){return 1}execute(e,t,n,o,i){return(0,r.af)(e,t,n,o,i)}isValidDE9IM(e){return 0===(0,r.ag)(e)}accelerateGeometry(e,t,n){return(0,r.ah)(e,t,n)}canAccelerateGeometry(e){return(0,r.ai)(e)}};function s(e){const t=(0,o.getSpatialReference)(e);return i.accelerateGeometry((0,o.fromGeometry)(e),(0,o.fromSpatialReference)(t),1)}function u(e,t,n){return i.execute((0,o.fromGeometry)(e),(0,o.fromGeometry)(t),(0,o.fromSpatialReference)(e.spatialReference),n,null)}function c(e){return i.isValidDE9IM(e)}const a=i.supportsCurves(),m=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:s,execute:u,isValidDE9IM:c,supportsCurves:a},Symbol.toStringTag,{value:"Module"}))},31215:function(e,t,n){n.d(t,{a:function(){return s},b:function(){return c},e:function(){return i},i:function(){return u},s:function(){return a}});var r=n(11879),o=n(40472);function i(e){const t=(0,o.getSpatialReference)(e);return(0,o.toGeometry)((0,r.ht)((0,o.fromGeometry)(e),(0,o.fromSpatialReference)(t),!1),t)}function s(e){const t=e.map(o.fromGeometry),n=(0,o.getSpatialReference)(e);return(0,r.XR)(t,(0,o.fromSpatialReference)(n),!1).map((e=>(0,o.toGeometry)(e,n)))}function u(e){return(0,r.OA)((0,o.fromGeometry)(e),(0,o.fromSpatialReference)((0,o.getSpatialReference)(e)),!1)}const c=(0,r.dE)(),a=Object.freeze(Object.defineProperty({__proto__:null,execute:i,executeMany:s,isSimple:u,supportsCurves:c},Symbol.toStringTag,{value:"Module"}))},24489:function(e,t,n){n.d(t,{a:function(){return u},b:function(){return c},e:function(){return s},s:function(){return a}});var r=n(3480),o=n(2118),i=n(40472);function s(e,t){const n=(0,i.getSpatialReference)(e);return(0,i.toGeometry)((0,o.ht)((0,i.fromGeometry)(e),(0,i.fromGeometry)(t),(0,i.fromSpatialReference)(n)),n)}function u(e,t){const n=e.map(i.fromGeometry),s=(0,i.getSpatialReference)(e);return(0,o.XR)(n,(0,i.fromGeometry)(t),(0,i.fromSpatialReference)(s)).map((e=>(0,i.toGeometry)(e,s))).filter(r.pC)}const c=(0,o.dE)(),a=Object.freeze(Object.defineProperty({__proto__:null,execute:s,executeMany:u,supportsCurves:c},Symbol.toStringTag,{value:"Module"}))},66547:function(e,t,n){n.r(t),n.d(t,{execute:function(){return m},executeMany:function(){return f},supportsCurves:function(){return l}});var r=n(3480),o=n(81066),i=n(10057);class s extends o.G{constructor(e,t,n){super(),this.m_index=-1,this.m_transformation=t.clone(),this.m_inputGeometryCursor=e}next(){let e;if(e=this.m_inputGeometryCursor.next()){(0,i.c)(e),this.m_index=this.m_inputGeometryCursor.getGeometryID();const t=e.clone();return t.applyTransformation(this.m_transformation),t}return null}getGeometryID(){return this.m_index}tock(){return!0}getRank(){return 1}}const u=new class{getOperatorType(){return 10303}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,n){return new s(e,t,n)}execute(e,t,n){const r=e.clone();return r.applyTransformation(t),r}};function c(e,t){return u.execute(e,t,null)}var a=n(40472);function m(e,t){const n=(0,a.getSpatialReference)(e);return(0,a.toGeometry)(c((0,a.fromGeometry)(e),t.transform),n)}function f(e,t){const n=e.map(a.fromGeometry),i=(0,a.getSpatialReference)(e);return function(e,t){const n=u.executeMany(new o.S(e),t,null);return Array.from(n)}(n,t.transform).map((e=>(0,a.toGeometry)(e,i))).filter(r.pC)}const l=u.supportsCurves()},44718:function(e,t,n){n.d(t,{XR:function(){return s},dE:function(){return u},ht:function(){return i}});var r=n(81066);const o=new(n(12069).O);function i(e,t,n){return o.execute(e,t,n,null)}function s(e,t,n){const i=o.executeMany(new r.S(e),t,n,null);return Array.from(i)}function u(){return o.supportsCurves()}},8935:function(e,t,n){n.d(t,{Q4:function(){return y},XR:function(){return p},dE:function(){return d},ht:function(){return h}});var r=n(81066),o=n(10057),i=n(60988),s=n(11894),u=n(64699);class c extends r.G{constructor(e,t,n){super(),t||(0,o.a)(""),this.m_progressTracker=n,this.m_index=-1,this.m_bMerge=e,this.m_bDone=!1,this.m_inputGeometryCursor=t}getGeometryID(){return this.m_index}tock(){return!0}getRank(){return 1}next(){if(this.m_bMerge){if(!this.m_bDone){const e=a(this.m_inputGeometryCursor);return this.m_bDone=!0,e}return null}if(!this.m_bDone){const e=this.m_inputGeometryCursor.next();if(null!==e)return(0,o.o)(e),(0,o.c)(e),this.m_index=this.m_inputGeometryCursor.getGeometryID(),m(e);this.m_bDone=!0}return null}}function a(e,t){const n=new s.C;let r;for(;r=e.next();)(0,o.o)(r),(0,o.c)(r),n.addGeometry(r);return n.getBoundingGeometry()}function m(e,t){if((0,o.c)(e),e.isEmpty())return e.createInstance();const n=e.getGeometryType();if((0,o.f)(n)){const t=e;if(t.isDegenerate(0)){const e=new i.P;return t.queryStart(e),e}if(t.getGeometryType()===o.G.enumLine){const n=new i.P,r=new s.P({vd:e.getDescription()});return t.queryStart(n),r.startPathPoint(n),t.queryEnd(n),r.lineToPoint(n),r}{const n=new s.P({vd:e.getDescription()});return n.addSegment(t,!0),m(n)}}if(n===o.G.enumEnvelope){const t=e,n=new u.Envelope2D;if(t.queryEnvelope(n),n.xmin===n.xmax&&n.ymin===n.ymax){const e=new i.P;return t.queryCornerByVal(0,e),e}if(n.xmin===n.xmax||n.ymin===n.ymax){const n=new i.P,r=new s.P({vd:e.getDescription()});return t.queryCornerByVal(0,n),r.startPathPoint(n),t.queryCornerByVal(1,n),r.lineToPoint(n),r}{const n=new s.a({vd:e.getDescription()});return n.addEnvelope(t,!1),n}}if(n===o.G.enumGeometryCollection)return a((0,s.g)(e,-1));if(f(e)){if(n===o.G.enumMultiPoint){const t=e,n=new i.P;return t.getPointByVal(0,n),n}return e}return(0,o.g)((0,o.i)(n)),(0,s.f)(e)}function f(e,t){if((0,o.c)(e),e.isEmpty())return!0;const n=e.getGeometryType();if(n===o.G.enumPoint)return!0;if(n===o.G.enumEnvelope){const t=e;return t.getXMin()!==t.getXMax()&&t.getYMin()!==t.getYMax()}if((0,o.f)(n)){const t=e;if(t.isDegenerate(0))return!1;if(n===o.G.enumLine)return!0;const r=new s.P;return r.addSegment(t,!0),f(r)}if(n===o.G.enumMultiPoint)return 1===e.getPointCount();if(n===o.G.enumPolyline){const t=e;return!t.hasNonLinearSegments()&&1===t.getPathCount()&&2===t.getPointCount()&&!t.getXY(0).equals(t.getXY(1))}if(n===o.G.enumGeometryCollection){const t=e;return 1===t.getGeometryCount()&&f(t.getGeometry(0))}const r=e;return!(1!==r.getPathCount()||r.getPointCount()<3)&&(0,s.i)(r,0)}const l=new class{getOperatorType(){return 10102}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,n){return new c(t,e,n)}execute(e,t){return m(e)}isConvex(e,t){if((0,o.c)(e),e.isEmpty())return!0;const n=e.getGeometryType();if(n===o.G.enumPoint)return!0;if(n===o.G.enumEnvelope){const t=e;return t.getXMin()!==t.getXMax()&&t.getYMin()!==t.getYMax()}if((0,o.f)(n)){const t=e;return!t.getStartXY().equals(t.getEndXY())}if(n===o.G.enumMultiPoint)return 1===e.getPointCount();if(n===o.G.enumPolyline){const t=e;return 1===t.getPathCount()&&2===t.getPointCount()&&!t.getXY(0).equals(t.getXY(1))}if(n===o.G.enumGeometryCollection){const n=e;return 1===n.getGeometryCount()&&this.isConvex(n.getGeometry(0),t)}const r=e;return!(1!==r.getPathCount()||r.getPointCount()<3)&&(0,s.i)(r,0)}constructOrientedMinimumBoundingBox(e,t,n,r,o){(0,s.e)(e,t,n,r,o)}};function h(e){return l.execute(e,null)}function p(e,t){const n=l.executeMany(new r.S(e),t,null);return Array.from(n)}function y(e){return l.isConvex(e,null)}function d(){return l.supportsCurves()}},19508:function(e,t,n){n.d(t,{h:function(){return l},d:function(){return h}});var r=n(81066),o=n(10057),i=n(11894),s=n(60988),u=n(65513),c=u.C;function a(e,t){return{m_geometry:e,m_side:t}}class m extends r.G{constructor(e,t,n,r,o){super(),this.m_cutIndex=-1,this.m_cuts=[],this.m_progressTracker=o,this.m_cuttee=t.clone(),this.m_cutter=new i.P({copy:n}),this.m_bConsiderTouch=e;const u=(0,s.g)(t,n);this.m_tolerance=(0,s.c)(r,u,!0)}next(){return-1===this.m_cutIndex&&this.generateCuts(),++this.m_cutIndex<this.m_cuts.length?this.m_cuts[this.m_cutIndex]:null}getGeometryID(){return this.m_cutIndex}tock(){return!0}getRank(){return 1}generateCuts(){switch(this.m_cuttee.getGeometryType()){case o.G.enumPolyline:this.generatePolylineCuts();break;case o.G.enumPolygon:this.generatePolygonCuts()}}generatePolylineCuts(){const e=new i.P,t=new i.P,n=new i.P;this.m_cuts.length=0,this.m_cuts.push(e),this.m_cuts.push(t);const r=[];!function(e,t,n,r,o,s){if(t.isEmpty()){const e=a(t,0);return void o.push(e)}if(n.isEmpty()){const e=a(t,0);return void o.push(e)}const m=[],f=new i.E;{const i=f.createGeometryUserIndex(),l=f.addGeometry(t),h=f.addGeometry(n),p=new u.T(s);let y=0,d=null;if(f.hasCurves()){d=new c;const e=f.getEnvelope2D(s);y=(0,u.l)(r.total());const t=(0,u.m)(r.total(),e);(0,u.n)(f,t,r.total(),12e3,d,null,s)}f.dbgVerifyCurves(),p.setEditShapeCrackAndCluster(f,r),p.cut(e,i,l,h,m);for(const e of m){null!==d&&d.stitchCurves(f,e,y,!1);const t=a(f.getGeometry(e),(0,u.o)(f.getGeometryUserIndex(e,i)));o.push(t)}null!==d&&d.clearStitcher(f)}}(this.m_bConsiderTouch,this.m_cuttee,this.m_cutter,this.m_tolerance,r,this.m_progressTracker);for(let i=0;i<r.length;i++){const s=r[i];1===s.m_side?e.add(s.m_geometry,!1):2===s.m_side||4===s.m_side?t.add(s.m_geometry,!1):3===s.m_side?this.m_cuts.push(s.m_geometry):0===s.m_side?n.add(s.m_geometry,!1):(0,o.d)("")}n.isEmpty()||e.isEmpty()&&t.isEmpty()&&!(this.m_cuts.length>=3)||this.m_cuts.push(n),e.isEmpty()&&t.isEmpty()&&this.m_cuts.length<3&&(this.m_cuts.length=0)}generatePolygonCuts(){const e=new i.a,t=new i.a,n=new i.a;this.m_cuts.length=0,this.m_cuts.push(e),this.m_cuts.push(t);const r=[];!function(e,t,n,r,o,s){if(t.isEmpty()){const e=a(t,0);return void o.push(e)}if(n.isEmpty()){const e=a(t,0);return void o.push(e)}const m=[],f=new i.E;{const e=f.createGeometryUserIndex(),l=f.addGeometry(t),h=f.addGeometry(n),p=new u.T(s);let y=0,d=null;if(f.hasCurves()){d=new c;const e=f.getEnvelope2D(s);y=(0,u.l)(r.total());const t=(0,u.m)(r.total(),e);(0,u.n)(f,t,r.total(),12e3,d,null,s)}f.dbgVerifyCurves(),p.setEditShapeCrackAndCluster(f,r),p.cut(!1,e,l,h,m),null!==d&&d.stitchCurves(f,i.n,y,!0);let _=f.getGeometry(l);const g=new i.a,P=new i.a,x=[];for(let t=0;t<m.length;t++){let n=null;{const o=new i.E,c=o.addGeometry(_),a=o.addGeometry(f.getGeometry(m[t]));if(o.hasCurves()){const e=o.getEnvelope2D(s);y=(0,u.l)(r.total());const t=(0,u.m)(r.total(),e);(0,u.n)(o,t,r.total(),12e3,d,null,s)}p.setEditShapeCrackAndCluster(o,r);const l=p.intersection(c,a);if(null!==d&&d.stitchCurves(o,i.n,y,!0),n=o.getGeometry(l),n.isEmpty())continue;const h=f.getGeometryUserIndex(m[t],e);2===h?g.add(n,!1):1===h?P.add(n,!1):x.push(n)}{const e=new i.E,n=e.addGeometry(_),o=e.addGeometry(f.getGeometry(m[t]));if(e.hasCurves()){const t=e.getEnvelope2D(s);y=(0,u.l)(r.total());const n=(0,u.m)(r.total(),t);(0,u.n)(e,n,r.total(),12e3,d,null,s)}p.setEditShapeCrackAndCluster(e,r);const c=p.difference(n,o);null!==d&&d.stitchCurves(e,i.n,y,!0),_=e.getGeometry(c)}}if(!_.isEmpty()&&m.length>0&&x.push(_),g.isEmpty()&&P.isEmpty())return;if(!g.isEmpty()){const e=a(g,1);o.push(e)}if(!P.isEmpty()){const e=a(P,2);o.push(e)}for(let e=0,t=x.length;e<t;++e){const t=a(x[e],3);o.push(t)}}}(this.m_bConsiderTouch,this.m_cuttee,this.m_cutter,this.m_tolerance,r,this.m_progressTracker);for(let i=0;i<r.length;i++){const s=r[i];1===s.m_side?e.add(s.m_geometry,!1):2===s.m_side?t.add(s.m_geometry,!1):3===s.m_side?this.m_cuts.push(s.m_geometry):0===s.m_side?n.add(s.m_geometry,!1):(0,o.d)("")}(0,o.g)(n.isEmpty()||1===r.length),e.isEmpty()&&t.isEmpty()&&this.m_cuts.length<3&&(this.m_cuts.length=0)}}const f=new class{getOperatorType(){return 10005}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}supportsCurves(){return!0}execute(e,t,n,r,o){return new m(e,t,n,r,o)}};function l(e,t,n){const r=f.execute(!0,e,t,n,null);return Array.from(r)}function h(){return f.supportsCurves()}},40562:function(e,t,n){n.d(t,{XR:function(){return s},dE:function(){return u},ht:function(){return i}});var r=n(81066);const o=new(n(95016).O);function i(e,t,n,r){return o.execute(e,t,n,r,null)}function s(e,t,n,i){const s=o.executeMany(new r.S(e),t,n,i,null);return Array.from(s)}function u(){return o.supportsCurves()}},68989:function(e,t,n){n.d(t,{XR:function(){return u},dE:function(){return c},ht:function(){return s}});var r=n(81066),o=(n(10057),n(65513));n(9519),n(11894),n(64699),n(60988);const i=new o.f;function s(e,t,n){return i.execute(e,t,n,null)}function u(e,t,n){const o=i.executeMany(new r.S(e),new r.S([t]),n,null);return Array.from(o)}function c(){return i.supportsCurves()}},84688:function(e,t,n){n.d(t,{XR:function(){return s},dE:function(){return u},ht:function(){return i}});var r=n(81066);const o=new(n(7196).O);function i(e,t,n){return o.execute(e,t,n,null)}function s(e,t,n){const i=o.executeMany(new r.S(e),t,n,null);return Array.from(i)}function u(){return o.supportsCurves()}},79610:function(e,t,n){n.d(t,{XR:function(){return a},dE:function(){return m},ht:function(){return c},kR:function(){return s},zD:function(){return u}});var r=n(81066),o=n(53286);let i;function s(){return!!i&&(0,o.i)()}async function u(){if(!s()){const[e,t]=await Promise.all([Promise.all([n.e(9519),n.e(66288),n.e(65513),n.e(61504)]).then(n.bind(n,61504)),Promise.all([n.e(9519),n.e(66288),n.e(65513)]).then(n.bind(n,65513)).then((e=>e.aG)).then((({injectPe:e})=>e)),(0,o.l)()]);i=new e.OperatorGeodesicBuffer,t(o.p)}}function c(e,t,n,r,o){return i.execute(e,t,n,r,o,!1,null)}function a(e,t,n,o,s,u){const c=i.executeMany(new r.S(e),t,n,o,s,!1,u,null);return Array.from(c)}function m(){return i.supportsCurves()}},7963:function(e,t,n){n.d(t,{dE:function(){return c},ht:function(){return u},kR:function(){return i},zD:function(){return s}});var r=n(53286);let o;function i(){return!!o&&(0,r.i)()}async function s(){if(!i()){const[e,t]=await Promise.all([Promise.all([n.e(9519),n.e(66288),n.e(65513),n.e(28742)]).then(n.bind(n,28742)),Promise.all([n.e(9519),n.e(66288),n.e(65513),n.e(81066)]).then(n.bind(n,65513)).then((e=>e.aG)).then((({injectPe:e})=>e)),(0,r.l)()]);o=new e.OperatorGeodeticArea,t(r.p)}}function u(e,t,n){return o.execute(e,t,n,null)}function c(){return o.supportsCurves()}},74528:function(e,t,n){n.d(t,{XR:function(){return a},dE:function(){return m},ht:function(){return c},kR:function(){return s},zD:function(){return u}});var r=n(81066),o=n(53286);let i;function s(){return!!i&&(0,o.i)()}async function u(){if(!s()){const[e,t]=await Promise.all([Promise.all([n.e(9519),n.e(66288),n.e(65513),n.e(33035)]).then(n.bind(n,33035)),Promise.all([n.e(9519),n.e(66288),n.e(65513)]).then(n.bind(n,65513)).then((e=>e.aG)).then((({injectPe:e})=>e)),(0,o.l)()]);i=new e.OperatorGeodeticDensifyByLength,t(o.p)}}function c(e,t,n,r){return i.execute(e,t,n,r,null)}function a(e,t,n,o){const s=i.executeMany(new r.S(e),t,n,o,null);return Array.from(s)}function m(){return i.supportsCurves()}},30391:function(e,t,n){n.d(t,{dE:function(){return c},ht:function(){return u},kR:function(){return i},zD:function(){return s}});var r=n(53286);let o;function i(){return!!o&&(0,r.i)()}async function s(){if(!i()){const[e,t]=await Promise.all([Promise.all([n.e(9519),n.e(66288),n.e(65513),n.e(32288)]).then(n.bind(n,17107)),Promise.all([n.e(9519),n.e(66288),n.e(65513),n.e(81066)]).then(n.bind(n,65513)).then((e=>e.aG)).then((({injectPe:e})=>e)),(0,r.l)()]);o=new e.OperatorGeodeticLength,t(r.p)}}function u(e,t,n){return o.execute(e,t,n,null)}function c(){return o.supportsCurves()}},4412:function(e,t,n){n.d(t,{MW:function(){return s},XR:function(){return c},dE:function(){return a},ht:function(){return u}});var r=n(81066),o=(n(10057),n(65513));n(11894),n(60988);const i=new o.g;function s(e,t){return i.accelerateGeometry(e,t,1)}function u(e,t,n){return i.execute(e,t,n,null)}function c(e,t,n,o){const s=i.executeMany(new r.S(e),new r.S([t]),n,null,o);return Array.from(s)}function a(){return i.supportsCurves()}},58234:function(e,t,n){n.d(t,{XR:function(){return _},dE:function(){return g},ht:function(){return d}});var r=n(81066),o=n(60988),i=n(10057),s=n(11894),u=n(9519);const c=1.4142135623730951,a=.017453292519943295,m=256,f=1024;class l{static construct(e,t,n){const r=new l;return r.x=e.x,r.y=e.y,r.m_next=-1,r.m_prev=-1,r.z=t,r.m=n,r.type=0,r}clone(){const e=new l;return e.x=this.x,e.y=this.y,e.m_next=this.m_next,e.m_prev=this.m_prev,e.z=this.z,e.m=this.m,e.type=this.type,e}asPoint2D(){return new u.P(this.x,this.y)}}class h{constructor(e){this.m_distance=-1,this.m_tolerance=-1,this.m_miterLimit=10,this.m_joins=0,this.m_progressCounter=0,this.m_bUseZ=!1,this.m_bUseM=!1,this.m_srcPts=[],this.m_srcPtCount=0,this.m_offsetPts=[],this.m_offsetPtCount=0,this.m_a1=0,this.m_a2=0,this.m_progressTracker=e}constructOffset(){const e=this.m_inputGeometry.getGeometryType();if(e===i.G.enumLine)return this.offsetLine();if(e===i.G.enumEnvelope)return this.offsetEnvelope();if((0,i.f)(e)){const e=new s.P;return e.addSegment(this.m_inputGeometry,!0),this.m_inputGeometry=e,this.constructOffset()}if(e===i.G.enumPolyline){const e=new s.P;return this.offsetMultiPath(e),e}if(e===i.G.enumPolygon){const e=new s.a;return this.offsetMultiPath(e),e}(0,i.t)("")}offsetLine(){const e=this.m_inputGeometry,t=e.getStartXY(),n=e.getEndXY(),r=new u.P;r.setSub(n,t),r.normalize(),r.leftPerpendicularThis(),r.scale(this.m_distance),t.addThis(r),n.addThis(r);const o=e.clone();return o.setStartXY(t),o.setEndXY(n),o}offsetEnvelope(){const e=this.m_inputGeometry;if(this.m_distance>0&&2!==this.m_joins){const t=new s.a;return t.addEnvelope(e,!1),this.m_inputGeometry=t,this.constructOffset()}const t=e.clone();return t.inflateCoords(this.m_distance,this.m_distance),t}progress(){}static buildPoint(e,t,n,r){r.x=e.x+t*Math.cos(n),r.y=e.y+t*Math.sin(n),r.type=e.type,r.z=e.z,r.m=e.m,r.m_next=-1,r.m_prev=-1}addPoint(e){this.m_offsetPts.push(e.clone()),this.m_offsetPtCount++}addPointEx(e,t){if(0===this.m_offsetPtCount)return void this.addPoint(e);const n=this.m_srcPtCount,r=this.m_srcPts[0===t?n-1:t-1],o=this.m_srcPts[t],i=h.dotSign(r,o,this.m_offsetPts[this.m_offsetPtCount-1],e);if(i>0)this.addPoint(e);else if(i<0)if(h.dotSign(r,o,o,this.m_offsetPts[this.m_offsetPtCount-1])>0){const o=new l;let i;i=0===t?n-2:1===t?n-1:t-2;const s=this.m_srcPts[i],c=Math.atan2(r.y-s.y,r.x-s.x);if(h.buildPoint(r,this.m_distance,c-u.o,o),this.m_offsetPts[this.m_offsetPtCount-1]=o,1===this.m_joins||2===this.m_joins){o.x=.5*(o.x+r.x),o.y=.5*(o.y+r.y),this.addPoint(o),h.buildPoint(r,this.m_distance,this.m_a1+u.o,o);const e=o.clone();e.x=.5*(e.x+r.x),e.y=.5*(e.y+r.y),e.type|=m,this.addPoint(e),this.addPoint(o)}else h.buildPoint(r,this.m_distance,this.m_a1+u.o,o),o.type|=m,this.addPoint(o);this.addPointEx(e,t)}else{const e=new l;if(h.buildPoint(o,this.m_distance,this.m_a1+u.o,e),this.addPoint(e),1===this.m_joins||2===this.m_joins){e.x=.5*(e.x+o.x),e.y=.5*(e.y+o.y),this.addPoint(e),h.buildPoint(o,this.m_distance,this.m_a2-u.o,e);const t=e.clone();t.x=.5*(t.x+o.x),t.y=.5*(t.y+o.y),t.type|=m,this.addPoint(t),this.addPoint(e)}else h.buildPoint(o,this.m_distance,this.m_a2-u.o,e),e.type|=m,this.addPoint(e)}}buildOffset(){const e=new l,t=this.m_srcPtCount;this.m_offsetPtCount=0;const n=.5*this.m_tolerance;let r=0,o=0;for(let i=0;i<t;i++){const s=this.m_srcPts[i],l=0===i?this.m_srcPts[t-1]:this.m_srcPts[i-1],p=i===t-1?this.m_srcPts[0]:this.m_srcPts[i+1];let y,d,_=0;{const e=l.x-s.x,t=l.y-s.y,n=p.x-s.x,c=p.y-s.y;y=Math.atan2(t,e),d=Math.atan2(c,n),this.m_a1=y,this.m_a2=d,0===i&&(r=y,o=d),_=u.P.orientationRobust(s.asPoint2D(),l.asPoint2D(),p.asPoint2D())}const g=d;if(d<y&&(d+=u.p),_*this.m_distance>0)if(1===this.m_joins||2===this.m_joins){h.buildPoint(s,this.m_distance,y+u.o,e),this.addPoint(e);const t=.001;e.x=s.x+(e.x-s.x)*t,e.y=s.y+(e.y-s.y)*t,this.addPoint(e),h.buildPoint(s,this.m_distance,d-u.o,e);const n=e.clone();n.x=s.x+(n.x-s.x)*t,n.y=s.y+(n.y-s.y)*t,n.type|=m,this.addPoint(n),this.addPoint(e)}else{const t=.5*(d-y),n=0===t?this.m_distance:this.m_distance/Math.abs(Math.sin(t));h.buildPoint(s,n,.5*(y+d),e),this.addPointEx(e,i)}else if(512&s.type){const t=1-n/Math.abs(this.m_distance);let r=1,o=this.m_distance<0?-Math.PI:Math.PI;if(t>-1&&t<1){let e=2*Math.acos(t);e<a&&(e=a),r=Math.trunc(Math.PI/e+1.5),r>1&&(o/=r)}r<=1&&(r=2,o/=2);let c=y+u.o;h.buildPoint(s,this.m_distance,c,e),0===i&&(e.type|=f),this.addPointEx(e,i);const m=this.m_distance/Math.cos(o/2);for(c+=o/2,h.buildPoint(s,m,c,e),e.type|=f,this.addPoint(e);--r>0;)c+=o,h.buildPoint(s,m,c,e),e.type|=f,this.addPoint(e);h.buildPoint(s,this.m_distance,d-u.o,e),e.type|=f,this.addPoint(e)}else if(1!==this.m_joins)if(0!==this.m_joins)if(2!==this.m_joins){let t;if(d=g,this.m_distance>0?(d>y&&(d-=u.p),t=y-d<u.o):(d<y&&(d+=u.p),t=d-y<u.o),t){const t=this.m_distance*c;let n;n=t<0?y+.25*Math.PI:y+3*Math.PI*.25,h.buildPoint(s,t,n,e),this.addPointEx(e,i),n=t<0?d-.25*Math.PI:d-3*Math.PI*.25,h.buildPoint(s,t,n,e),this.addPoint(e)}else{const t=.5*(d-y),n=this.m_distance/Math.abs(Math.sin(t));d<y&&(d+=u.p),h.buildPoint(s,n,(y+d)/2,e),this.addPointEx(e,i)}}else{const t=l.x-s.x,n=l.y-s.y,r=p.x-s.x,o=p.y-s.y,a=(t*r+n*o)/Math.sqrt(t*t+n*n)/Math.sqrt(r*r+o*o);if(a>1-1e-8){h.buildPoint(s,c*this.m_distance,d-.25*Math.PI,e),this.addPointEx(e,i),h.buildPoint(s,c*this.m_distance,d+.25*Math.PI,e),this.addPoint(e);continue}const m=Math.abs(this.m_distance/Math.sin(.5*Math.acos(a))),f=Math.abs(this.m_miterLimit*this.m_distance);if(m>f){const t=.5*(d-y),n=this.m_distance/Math.abs(Math.sin(t));h.buildPoint(s,n,.5*(y+d),e);const r=u.P.construct(e.x,e.y),o=u.P.construct(s.x,s.y),c=new u.P;c.setSub(r,o);const a=new u.P;a.setScaleAdd(f/c.length(),c,o);const l=Math.sqrt(m*m-this.m_distance*this.m_distance),p=(m-f)*Math.abs(this.m_distance)/l;this.m_distance>0?c.leftPerpendicularThis():c.rightPerpendicularThis(),c.scale(p/c.length());const _=new u.P;_.setAdd(a,c);const g=new u.P;g.setSub(a,c),e.x=_.x,e.y=_.y,this.addPointEx(e,i),e.x=g.x,e.y=g.y,this.addPoint(e);continue}const _=.5*(d-y),g=this.m_distance/Math.abs(Math.sin(_));h.buildPoint(s,g,.5*(y+d),e),this.addPointEx(e,i)}else{const t=1-n/Math.abs(this.m_distance);let r=1,o=d-u.o-(y+u.o);if(t>-1&&t<1){let e=2*Math.acos(t);e<a&&(e=a),r=Math.trunc(Math.abs(o)/e+1.5),r>1&&(o/=r)}const c=this.m_distance/Math.cos(.5*o);let m=y+u.o+.5*o;for(h.buildPoint(s,c,m,e),this.addPointEx(e,i);--r>0;)m+=o,h.buildPoint(s,c,m,e),this.addPoint(e)}else h.buildPoint(s,this.m_distance,y+u.o,e),this.addPointEx(e,i),h.buildPoint(s,this.m_distance,d-u.o,e),this.addPoint(e)}return this.m_a1=r,this.m_a2=o,this.addPointEx(this.m_offsetPts[0],0),this.m_offsetPts[0]=this.m_offsetPts[this.m_offsetPtCount-1].clone(),this.removeBadSegsFast()}removeBadSegsFast(){let e=!1;for(let e=0;e<this.m_offsetPtCount;e++){const t=this.m_offsetPts[e];t.m_next=e+1,t.m_prev=e-1}this.m_offsetPts[0].m_prev=this.m_offsetPtCount-2,this.m_offsetPts[this.m_offsetPtCount-2].m_next=0;let t=0;for(let n=0;n<this.m_offsetPtCount;n++)if(this.m_offsetPts[t].type&m){const n=this.deleteClosedSeg(t);if(-1===n){e=!0;break}t=n}else t=this.m_offsetPts[t].m_next;return!e&&(this.compressOffsetArray(t),!0)}deleteClosedSeg(e){const t=this.m_offsetPtCount-1;let n,r,o=e;for(let i=1;i<=t-2;i++){o=this.m_offsetPts[o].m_next,n=o,r=e;for(let e=1;e<=i;e++){if(r=this.m_offsetPts[r].m_prev,0==(this.m_offsetPts[r].type&m)&&0==(this.m_offsetPts[n].type&m)){const e=this.handleClosedIntersection(r,n);if(-1!==e)return e}n=this.m_offsetPts[n].m_prev}}return-1}handleClosedIntersection(e,t){const n=this.m_offsetPts[this.m_offsetPts[e].m_prev],r=this.m_offsetPts[e],o=this.m_offsetPts[this.m_offsetPts[t].m_prev],i=this.m_offsetPts[t];if(!this.sectGraphicRect(n,r,o,i))return-1;const s={pt:new l,bAtExistingPt:!1};if(((r.x-n.x)*(i.y-o.y)-(r.y-n.y)*(i.x-o.x))*this.m_distance<0&&this.findIntersection(n,r,o,i,s)&&!s.bAtExistingPt){const u=1e-8,c=Math.sqrt((r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y)),a=(r.x-n.x)/c,m=(r.y-n.y)/c,f=Math.sqrt((i.x-o.x)*(i.x-o.x)+(i.y-o.y)*(i.y-o.y)),l=(i.x-o.x)/f,h=(i.y-o.y)/f;let p=!1;const y=s.pt.clone();y.x+=(a+l)*u,y.y+=(m+h)*u;let d=o,_=s.pt,g=this.m_offsetPts[e].m_prev;for(;_.y>y.y!=d.y>y.y&&y.x<(d.x-_.x)*(y.y-_.y)/(d.y-_.y)+_.x&&(p=!p),d=_,g=this.m_offsetPts[g].m_next,g!==t;)_=this.m_offsetPts[g];if(p)return-1;const P=this.m_offsetPts[e].m_prev;return s.pt.type=r.type,s.pt.m_next=t,s.pt.m_prev=P,this.m_offsetPts[e]=s.pt,this.m_offsetPts[t].m_prev=e,t}return-1}sectGraphicRect(e,t,n,r){return Math.max(e.x,t.x)>=Math.min(n.x,r.x)&&Math.max(n.x,r.x)>=Math.min(e.x,t.x)&&Math.max(e.y,t.y)>=Math.min(n.y,r.y)&&Math.max(n.y,r.y)>=Math.min(e.y,t.y)}findIntersection(e,t,n,r,o){let i,s,u,c;return o.bAtExistingPt=!1,i=(t.y-e.y)*(r.x-n.x)-(t.x-e.x)*(r.y-n.y),s=(n.y-e.y)*(t.x-e.x)-(n.x-e.x)*(t.y-e.y),u=0===i?2:s/i,u>=0&&u<=1&&(c=u,i=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y),s=(e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y),u=0===i?2:s/i,u>=0&&u<=1)&&(o.pt.x=e.x+u*(t.x-e.x),o.pt.y=e.y+u*(t.y-e.y),this.m_bUseZ&&(o.pt.z=n.z+c*(r.z-n.z)),this.m_bUseM&&(o.pt.m=n.m+c*(r.m-n.m)),0!==c&&1!==c||0!==u&&1!==u||(o.bAtExistingPt=!0),!((0===c||1===c)&&u>0&&u<1||(0===u||1===u)&&c>0&&c<1))}compressOffsetArray(e){for(;this.m_offsetPts[e].m_prev<e;)e=this.m_offsetPts[e].m_prev;let t=0,n=e;do{const e=this.m_offsetPts[n].clone();this.m_offsetPts[t]=e,n=e.m_next,t++}while(n!==e);this.m_offsetPts[t]=this.m_offsetPts[0].clone(),this.m_offsetPtCount=t+1}addPart(e,t){if(!(t<2))for(let n=0;n<t;n++){const t=this.m_offsetPts[e+n];if(n?this.m_bUseZ?this.m_resultPath.lineTo3DCoords(t.x,t.y,t.z):this.m_resultPath.lineToCoords(t.x,t.y):this.m_bUseZ?this.m_resultPath.startPath3DCoords(t.x,t.y,t.z):this.m_resultPath.startPathCoords(t.x,t.y),this.m_bUseM){const e=this.m_resultPath.getPointCount()-1;this.m_resultPath.setAttribute(2,e,0,t.m)}}}offsetMultiPath(e){const t=(0,s.d)(this.m_inputGeometry,0,this.m_tolerance,0,this.m_progressTracker,12e3),n=t.querySegmentIterator();n.resetToFirstPath();let r=-1;for(;n.nextPath();)r++,this.offsetPath(t,r,e)}offsetPath(e,t,n){let r=e.getPathStart(t),o=e.getPathEnd(t);if(this.m_resultPath=n,e.isClosedPath(t)){const t=e.getXY(r);for(;o>r&&e.getXY(o-1).equals(t);)o--;if(o-r>=2){this.m_srcPtCount=o-r,this.m_srcPts.length=this.m_srcPtCount;for(let t=r;t<o;t++)this.progress(),this.m_srcPts[t-r]=l.construct(e.getXY(t),this.m_bUseZ?e.getAttributeAsDbl(1,t,0):0,this.m_bUseM?e.getAttributeAsDbl(2,t,0):0);this.buildOffset()&&this.addPart(0,this.m_offsetPtCount-1)}}else{const t=e.getXY(r);for(;r<o-1&&e.getXY(r+1).equals(t);)r++;const n=e.getXY(o-1);for(;r<o-1&&e.getXY(o-2).equals(n);)o--;if(o-r>=2){this.m_srcPtCount=2*(o-r)-2,this.m_srcPts.length=this.m_srcPtCount;let n=l.construct(t,this.m_bUseZ?e.getAttributeAsDbl(1,r,0):0,this.m_bUseM?e.getAttributeAsDbl(2,r,0):0);n.type|=1536,this.m_srcPts[0]=n;let i=1,s=this.m_srcPtCount-1;for(let t=r+1;t<o-1;t++,i++,s--)this.progress(),n=l.construct(e.getXY(t),this.m_bUseZ?e.getAttributeAsDbl(1,t,0):0,this.m_bUseM?e.getAttributeAsDbl(2,t,0):0),this.m_srcPts[i]=n.clone(),n.type|=f,this.m_srcPts[s]=n.clone();if(n=l.construct(e.getXY(o-1),this.m_bUseZ?e.getAttributeAsDbl(1,o-1,0):0,this.m_bUseM?e.getAttributeAsDbl(2,o-1,0):0),n.type|=512,this.m_srcPts[i]=n.clone(),this.buildOffset())if(this.m_offsetPts.length>=2){let e=-1,t=-1,n=0!=(this.m_offsetPts[this.m_offsetPtCount-1].type&f);n||(e=0);for(let r=1;r<this.m_offsetPtCount;r++){this.progress();const o=0!=(this.m_offsetPts[r].type&f);o?n||(t=r-1,t-e+1>1&&this.addPart(e,t-e+1)):n&&(e=r-1),n=o}n||(t=this.m_offsetPtCount-1,t-e+1>1&&this.addPart(e,t-e+1))}else{const e=0,t=this.m_offsetPtCount-1;t-e>=1&&this.addPart(e,t-e+1)}}}this.m_srcPts.length=0,this.m_srcPtCount=0,this.m_offsetPts.length=0,this.m_offsetPtCount=0}static dotSign(e,t,n,r){const o=t.x-e.x,i=t.y-e.y,s=r.x-n.x,c=r.y-n.y,a=(0,u.t)(o,i,s,c);return(0,u.e)(a)}}class p extends r.G{constructor(e,t,n,r,o,i,s){super(),this.m_progressTracker=s,this.m_index=-1,this.m_inputGeoms=e,this.m_spatialReference=t,this.m_distance=n,this.m_joins=r,this.m_miterLimit=o,this.m_flattenError=i}tock(){return!0}getRank(){return 1}next(){if(!this.m_inputGeoms)return null;let e;for(;e=this.m_inputGeoms.next();)return this.m_index=this.m_inputGeoms.getGeometryID(),this.offset(e);return null}getGeometryID(){return this.m_index}offset(e){let t;return(0,i.c)(e),t=this.m_flattenError<=0?(0,o.b)(this.m_spatialReference,e,!0).total():this.m_flattenError,function(e,t,n,r,o,s){if(null===e&&(0,i.a)(""),e.getDimension()<1&&(0,i.a)(""),o>0||(0,i.a)(""),(0,i.c)(e),0===t||e.isEmpty())return e;const u=new h(s);return u.m_bUseZ=e.hasAttribute(1),u.m_bUseM=e.hasAttribute(2),u.m_inputGeometry=e,u.m_distance=t,u.m_tolerance=o,u.m_joins=n,u.m_miterLimit=r>1?r:1,u.m_progressCounter=0,u.constructOffset()}(e,this.m_distance,this.m_joins,this.m_miterLimit,t,this.m_progressTracker)}}const y=new class{getOperatorType(){return 10108}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}supportsCurves(){return!0}executeMany(e,t,n,r,o,i,s){return new p(e,t,n,r,o,i,s)}execute(e,t,n,r,o,i,s){return new p(null,t,n,r,o,i,s).offset(e)}};function d(e,t,n,r,o,i){return y.execute(e,t,n,r,o,i,null)}function _(e,t,n,o,i,s){const u=y.executeMany(new r.S(e),t,n,o,i,s,null);return Array.from(u)}function g(){return y.supportsCurves()}},11879:function(e,t,n){n.d(t,{OA:function(){return c},XR:function(){return u},dE:function(){return a},ht:function(){return s}});var r=n(81066),o=(n(10057),n(11894),n(65513));n(60988);const i=new o.O;function s(e,t,n){return i.execute(e,t,n,null)}function u(e,t,n){const o=i.executeMany(new r.S(e),t,n,null);return Array.from(o)}function c(e,t,n){return i.isSimpleAsFeature(e,t,n,null,null)}function a(){return i.supportsCurves()}},2118:function(e,t,n){n.d(t,{XR:function(){return y},dE:function(){return d},ht:function(){return p}});var r=n(81066),o=n(10057),i=n(9519),s=n(11894),u=n(64699),c=n(60988),a=n(65513);function m(e,t,n,r){const m=e.getDimension(),l=t.getDimension();if(m!==l)return m>l?e:t;if(e.isEmpty())return t;if(t.isEmpty())return e;const h=new u.Envelope2D,p=new u.Envelope2D,y=new u.Envelope2D;e.queryEnvelope(h),t.queryEnvelope(p),y.setCoords({env2D:h}),y.mergeEnvelope2D(p);const d=(0,c.c)(n,y,!0),_=e.getGeometryType(),g=t.getGeometryType();return _===o.G.enumPoint&&g===o.G.enumPoint?function(e,t,n,r){const o=(0,c.e)(n),u=o*o,a=e.getXY(),m=t.getXY(),f=new s.M({vd:e.getDescription()});return i.P.sqrDistance(a,m)>u&&(f.add(e),f.add(t)),f}(e,t,d):_===o.G.enumPoint&&g===o.G.enumMultiPoint?f(t,e,d):_===o.G.enumMultiPoint&&g===o.G.enumPoint?f(e,t,d):(0,a.ak)(e,t,n,r)}function f(e,t,n,r){const o=e.getImpl().getAttributeStreamRef(0),s=e.getPointCount(),a=t.getXY(),m=e.createInstance(),f=(0,c.e)(n),l=new u.Envelope2D;if(e.queryEnvelope(l),l.inflateCoords(f,f),l.contains(a)){const n=f*f;let r=!1;const u=(0,i.d)(s,!1);for(let e=0;e<s;e++){const t=o.read(2*e),i=o.read(2*e+1),s=t-a.x,c=i-a.y;s*s+c*c<=n&&(r=!0,u[e]=!0)}if(r)for(let t=0;t<s;t++)u[t]||m.addPoints(e,t,t+1);else m.addPoints(e,0,s),m.add(t)}else m.addPoints(e,0,s),m.add(t);return m}class l extends r.G{constructor(e,t,n,r){super(),this.m_progressTracker=r,this.m_index=-1,this.m_inputGeoms=e,this.m_spatialReference=n,this.m_rightGeom=t.next(),this.m_bEmpty=!this.m_rightGeom,(0,o.c)(this.m_rightGeom)}tock(){return!0}getRank(){return 1}next(){if(this.m_bEmpty)return null;const e=this.m_inputGeoms.next();return e?((0,o.c)(e),this.m_index=this.m_inputGeoms.getGeometryID(),m(e,this.m_rightGeom,this.m_spatialReference,this.m_progressTracker)):null}getGeometryID(){return this.m_index}}const h=new class{getOperatorType(){return 10003}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,n,r){return new l(e,t,n,r)}execute(e,t,n,i){const s=new r.S([e]),u=new r.S([t]),c=this.executeMany(s,u,n,i).next();return c||(0,o.d)("null output"),c}};function p(e,t,n){return h.execute(e,t,n,null)}function y(e,t,n){const o=h.executeMany(new r.S(e),new r.S([t]),n,null);return Array.from(o)}function d(){return h.supportsCurves()}},835:function(e,t,n){n.d(t,{XR:function(){return u},dE:function(){return c},ht:function(){return s}});var r=n(81066),o=(n(10057),n(9519),n(11894),n(64699),n(65513));n(60988);const i=new o.j;function s(e,t,n){return i.execute(e,t,n,null)}function u(e,t){return i.executeMany(new r.S(e),t,null).next()}function c(){return i.supportsCurves()}},36644:function(e,t,n){n.r(t),n.d(t,{execute:function(){return s},executeMany:function(){return u},isSimple:function(){return c},supportsCurves:function(){return a}});var r=n(81066);const o=new(n(76895).O);var i=n(40472);function s(e){const t=(0,i.getSpatialReference)(e);return(0,i.toGeometry)(function(e,t,n){return o.execute(e,t,n,null)}((0,i.fromGeometry)(e),(0,i.fromSpatialReference)(t),!1),t)}function u(e){const t=e.map(i.fromGeometry),n=(0,i.getSpatialReference)(e);return function(e,t,n){const i=o.executeMany(new r.S(e),t,n,null);return Array.from(i)}(t,(0,i.fromSpatialReference)(n),!1).map((e=>(0,i.toGeometry)(e,n)))}function c(e,t){return function(e,t,n,r){return o.isSimple(e,t,n,r,null)}((0,i.fromGeometry)(e),(0,i.fromSpatialReference)((0,i.getSpatialReference)(e)),null!=t,t??null)}const a=o.supportsCurves()},14320:function(e,t,n){n.d(t,{default:function(){return c}});var r=n(9519),o=n(66288),i=n(99574);const s={uniform:0,conformal:1,rigid:2,"rigid-motion":3,general:4},u=e=>e.map((e=>new r.P(e.x,e.y)));class c{constructor(){this.transform=new o.T}calculateErrors(e,t){const n=e.length,r=t.length;if(n!==r)throw new Error(`The input length (${n}) is not the same as output length (${r})`);const o=[];return{rms:this.transform.calculateErrors(n,u(e),u(t),o),errorsOut:o}}flipX(e,t){return this.transform.flipX(e,t),this}flipY(e,t){return this.transform.flipY(e,t),this}initializeFromControlPoints(e,t,n,r){const o=t.length,i=n.length;if(o!==i)throw new Error(`The input length (${o}) is not the same as output length (${i})`);this.transform.initializeFromControlPoints(s[e],o,u(t),u(n),r?.transform)}isIdentity(){return this.transform.isIdentity()}rotate(e,t,n){const o=(0,i.Vl)(e);return null!=t&&null!=n?this.transform.rotateAngleAbout(o,new r.P(t,n)):this.transform.rotateAngle(o),this}scale(e,t){return this.transform.scale(e,t),this}setIdentity(){this.transform.setIdentity()}setSwapCoordinates(){return this.transform.setSwapCoordinates(),this}shear(e,t){return this.transform.shear(e,t),this}shift(e,t){return this.transform.shiftCoords(e,t),this}}},25859:function(e,t,n){n.d(t,{H:function(){return r}});const r={geodesic:0,loxodrome:1,"great-elliptic":2,"normal-section":3,"shape-preserving":4}},10559:function(e,t,n){n.d(t,{O:function(){return o}});var r=n(40472);function o(e,t,n=!1){const o=(0,r.toPoint)(e.m_coordinate,(0,r.getSpatialReference)(t)),i=e.m_distance,s=e.isEmpty(),u=e.m_bRightSide;return{coordinate:o,distance:i,isEmpty:s,...n&&{isRightSide:u},vertexIndex:e.m_vertexIndex}}}}]);