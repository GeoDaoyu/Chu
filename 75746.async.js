"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[75746],{90900:function(t,n,e){e.d(n,{Z:function(){return h}});var r=e(73440),i=e(93460),o=e(70880),u=e(89314),s=e(15894),c=e(63255),a=e(17155),l=(e(61432),e(96711),e(83850),e(48023));let f=0,h=class extends(c.Z.JSONSupportMixin(u.Z.ClonableMixin(s.Z.IdentifiableMixin(o.Z)))){constructor(t){super(t),this.id=`${Date.now().toString(16)}-analysis-${f++}`,this.origin=null}get parent(){return this._get("parent")}set parent(t){const n=this.parent;if(null!=n)switch(n.type){case"line-of-sight":case"dimension":case"viewshed":n.releaseAnalysis(this);break;case"2d":case"3d":n.analyses.includes(this)&&n.analyses.remove(this)}this._set("parent",t)}equals(t){return!0}};(0,r._)([(0,a.Cb)({type:String,constructOnly:!0,clonable:!1})],h.prototype,"id",void 0),(0,r._)([(0,a.Cb)({clonable:!1,value:null})],h.prototype,"parent",null),(0,r._)([(0,a.Cb)({types:{key:"type",base:null,typeMap:{"web-scene":i.Z}}})],h.prototype,"origin",void 0),h=(0,r._)([(0,l.j)("esri.analysis.Analysis")],h)},51741:function(t,n,e){e.d(n,{Z:function(){return b}});var r=e(73440),i=e(90900),o=e(49052),u=e(99965),s=e(3480),c=e(43254),a=e(41145),l=e(61100),f=e(90403),h=e(17155),d=(e(61432),e(96711),e(48023)),p=e(13132),g=e(16447),m=e(51870);const y=c.Z.ofType(u.Z);let b=class extends i.Z{constructor(t){super(t),this.type="line-of-sight",this.observer=null,this.extent=null}initialize(){this.addHandles((0,f.YP)((()=>this._computeExtent()),(t=>{null==t?.pending&&this._set("extent",null!=t?t.extent:null)}),f.tX))}get targets(){return this._get("targets")||new y}set targets(t){this._set("targets",(0,a.Z)(t,this.targets,y))}get spatialReference(){return null!=this.observer?.position?this.observer.position.spatialReference:null}get valid(){return null!=this.observer?.position}async waitComputeExtent(){const t=this._computeExtent();return null!=t?t.pending:Promise.resolve()}_computeExtent(){const t=this.spatialReference;if(null==this.observer?.position||null==t)return null;const n=t=>"absolute-height"===(0,m.VW)(t.position,t.elevationInfo),e=this.observer.position,r=(0,g.al)(e.x,e.y,e.z,e.x,e.y,e.z);for(const n of this.targets)if(null!=n.position){const e=(0,p.projectOrLoad)(n.position,t);if(null!=e.pending)return{pending:e.pending,extent:null};if(null!=e.geometry){const{x:t,y:n,z:i}=e.geometry;(0,g.pp)(r,[t,n,i])}}const i=(0,g.HH)(r,t);return n(this.observer)&&this.targets.every(n)||(i.zmin=void 0,i.zmax=void 0),{pending:null,extent:i}}clear(){this.observer=null,this.targets.removeAll()}equals(t){return this===t||super.equals(t)&&(0,l._W)(this.observer,t.observer)&&(0,s.fS)(this.targets.toArray(),t.targets.toArray(),((t,n)=>t.equals(n)))}};(0,r._)([(0,h.Cb)({type:["line-of-sight"]})],b.prototype,"type",void 0),(0,r._)([(0,h.Cb)({type:o.Z,json:{read:!0,write:!0}})],b.prototype,"observer",void 0),(0,r._)([(0,h.Cb)({cast:a.R,type:y,nonNullable:!0,json:{read:!0,write:!0}})],b.prototype,"targets",null),(0,r._)([(0,h.Cb)({value:null,readOnly:!0})],b.prototype,"extent",void 0),(0,r._)([(0,h.Cb)()],b.prototype,"spatialReference",null),(0,r._)([(0,h.Cb)({readOnly:!0})],b.prototype,"valid",null),b=(0,r._)([(0,d.j)("esri.analysis.LineOfSightAnalysis")],b)},49052:function(t,n,e){e.d(n,{Z:function(){return g}});var r=e(73440),i=e(37877),o=e(70880),u=e(89314),s=e(63255),c=e(61100),a=e(17155),l=(e(61432),e(96711),e(83850),e(48023)),f=e(75432),h=e(60508),d=e(13689);let p=class extends(s.Z.JSONSupportMixin(u.Z.ClonableMixin(o.Z))){constructor(t){super(t),this.position=null,this.elevationInfo=null,this.feature=null}equals(t){return(0,c._W)(this.position,t.position)&&(0,c._W)(this.elevationInfo,t.elevationInfo)&&(0,i.kk)(this.feature,t.feature)}};(0,r._)([(0,a.Cb)({type:h.Z,json:{write:{isRequired:!0}}})],p.prototype,"position",void 0),(0,r._)([(0,a.Cb)({type:d.Z}),(0,f.B)()],p.prototype,"elevationInfo",void 0),(0,r._)([(0,a.Cb)(i.rX)],p.prototype,"feature",void 0),p=(0,r._)([(0,l.j)("esri.analysis.LineOfSightAnalysisObserver")],p);const g=p},99965:function(t,n,e){e.d(n,{Z:function(){return d}});var r=e(73440),i=e(37877),o=e(89314),u=e(63255),s=e(61100),c=e(17155),a=(e(61432),e(96711),e(83850),e(48023)),l=e(75432),f=e(60508),h=e(13689);let d=class extends(u.Z.JSONSupportMixin(o.Z)){constructor(t){super(t),this.position=null,this.elevationInfo=null,this.feature=null}equals(t){return(0,s._W)(this.position,t.position)&&(0,s._W)(this.elevationInfo,t.elevationInfo)&&(0,i.kk)(this.feature,t.feature)}};(0,r._)([(0,c.Cb)({type:f.Z,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),(0,l.B)()],d.prototype,"position",void 0),(0,r._)([(0,c.Cb)({type:h.Z}),(0,l.B)()],d.prototype,"elevationInfo",void 0),(0,r._)([(0,c.Cb)(i.rX)],d.prototype,"feature",void 0),d=(0,r._)([(0,a.j)("esri.analysis.LineOfSightAnalysisTarget")],d)},37877:function(t,n,e){e.d(n,{NS:function(){return f},kk:function(){return c},pD:function(){return a},rX:function(){return l}});var r=e(24910),i=e(82846),o=e(12659),u=e(61442),s=e(90189);function c(t,n){return a(t)===a(n)}function a(t){if(null==t)return null;const n=null!=t.layer?t.layer.id:"";let e=null;return e=null!=t.objectId?t.objectId:null!=t.layer&&"objectIdField"in t.layer&&null!=t.layer.objectIdField&&null!=t.attributes?t.attributes[t.layer.objectIdField]:t.uid,null==e?null:`o-${n}-${e}`}const l={json:{write:{writer:function(t,n){null!=t?.layer?.objectIdField&&null!=t.attributes&&(n.feature={layerId:t.layer.id,objectId:t.attributes[t.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String],isRequired:!0},"feature.objectId":{type:[Number,String],isRequired:!0}}},origins:{"web-scene":{read:function(t){if(null!=t.layerId&&null!=t.objectId)return{uid:null,layer:{id:t.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:t.objectId}}}}}}};function f(t,n,e,c){const{sceneIntersectionHelper:l}=t,{observer:f,observerFeatureId:d,targetFeatureId:m,target:y}=e;if(null==d&&null==m)return;c||(c=t=>t),(0,r.a)(g,f,y);const b=(0,r.l)(g);(0,r.b)(g,f,g,1/b);const M=(0,o.zk)(g,y,p);n.options.store=u.e.ALL,l.intersectToolIntersectorRay(M,n);let v=null,x=null,_=null,I=null;for(const e of n.results.all){const n=(0,s.tB)(e,t);if(null==n||null==e.distanceInRenderSpace)continue;const r=a(n);null!=r&&(null!=d&&r===d&&(v??=c(h(e,t,b)),e.distanceInRenderSpace-1<v&&(_=e)),null!=m&&r===m&&(x??=c(h(e,t,b)),null==I&&e.distanceInRenderSpace-1<b&&b-e.distanceInRenderSpace+1<x&&(I=e)))}const{observerAdjusted:w,targetAdjusted:S}=e;_?.getIntersectionPoint(w)?e.observerSurfaceNormal=_.getTransformedNormal((0,i.Ue)()):e.observerSurfaceNormal=null,I?.getIntersectionPoint(S)?e.targetSurfaceNormal=I.getTransformedNormal((0,i.Ue)()):e.targetSurfaceNormal=null}function h(t,n,e){if((0,s._s)(t)){const r=(0,s.VB)(t,n);if(null!=r)return Math.min(r*d,e)}return 1e-5*e}const d=.05,p=(0,o.Ue)(),g=(0,i.Ue)()},93460:function(t,n,e){e.d(n,{Z:function(){return c}});var r=e(73440),i=e(89314),o=e(17155),u=(e(61432),e(96711),e(83850),e(48023));let s=class extends i.Z{constructor(t){super(t),this.type="web-scene"}equals(t){return this.type===t.type}};(0,r._)([(0,o.Cb)()],s.prototype,"type",void 0),s=(0,r._)([(0,u.j)("esri.analysis.support.AnalysisOriginWebScene")],s);const c=s},69055:function(t,n,e){e.d(n,{N:function(){return g},a:function(){return w},b:function(){return _},c:function(){return m},d:function(){return E},e:function(){return M},f:function(){return S},g:function(){return I},h:function(){return P},i:function(){return j},j:function(){return Z},k:function(){return T},l:function(){return v},m:function(){return U},n:function(){return y},o:function(){return F},p:function(){return N},s:function(){return B},t:function(){return D},u:function(){return z},w:function(){return x}});e(61432),e(96711);var r=e(99574),i=e(31865),o=e(24910),u=e(82846),s=e(73749),c=e(27583),a=e(66130),l=e(93070),f=e(12659);function h(t,n){const e=(0,o.l)(t),i=(0,r.Kt)(t[2]/e),u=Math.atan2(t[1]/e,t[0]/e);return(0,o.i)(n,e,i,u),n}var d=e(63271),p=e(69811);const g=m();function m(){return(0,c.Ue)()}const y=s.e,b=s.e;function M(t,n){return(0,s.c)(n,t)}function v(t,n){return(0,c.al)(t[0],t[1],t[2],n)}function x(t){return t}function _(t,n){return t[0]=t[1]=t[2]=0,t[3]=n,t}function I(t){return t[3]}function w(t){return t}function S(t,n,e,r){return(0,c.al)(t,n,e,r)}function j(t,n,e){if(null==n)return!1;if(!A(t,n,O))return!1;let{t0:r,t1:i}=O;if((r<0||i<r&&i>0)&&(r=i),r<0)return!1;if(e){const{origin:t,direction:i}=n;e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r}return!0}function U(t,n,e){const r=(0,f.zk)(n,e);if(!A(t,r,O))return[];const{origin:i,direction:s}=r,{t0:c,t1:l}=O,h=n=>{const e=(0,u.Ue)();return(0,o.b)(e,i,s,n),N(t,e,e)};return Math.abs(c-l)<(0,a.bn)()?[h(c)]:[h(c),h(l)]}const O={t0:0,t1:0};function A(t,n,e){const{origin:r,direction:i}=n,o=R;o[0]=r[0]-t[0],o[1]=r[1]-t[1],o[2]=r[2]-t[2];const u=i[0]*i[0]+i[1]*i[1]+i[2]*i[2];if(0===u)return!1;const s=2*(i[0]*o[0]+i[1]*o[1]+i[2]*o[2]),c=s*s-4*u*(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]-t[3]*t[3]);if(c<0)return!1;const a=Math.sqrt(c);return e.t0=(-s-a)/(2*u),e.t1=(-s+a)/(2*u),!0}const R=(0,u.Ue)();function T(t,n){return j(t,n,null)}function Z(t,n,e){const r=p.WM.get(),u=p.MP.get();(0,o.h)(r,n.origin,n.direction);const s=I(t);(0,o.h)(e,r,n.origin),(0,o.g)(e,e,1/(0,o.l)(e)*s);const c=L(t,n.origin),a=(0,d.EU)(n.origin,e);return(0,i.Us)(u,a+c,r),(0,o.t)(e,e,u),e}function E(t,n,e,r){const i=I(t),o=i*i,u=n+.5*Math.PI,s=e*e+o-2*Math.cos(u)*e*i,c=Math.sqrt(s),a=s-o;if(a<=0)return.5;const l=Math.sqrt(a),f=Math.acos(l/c)-Math.asin(i/(c/Math.sin(u)));return Math.min(1,(f+.5*r)/r)}function N(t,n,e){const r=(0,o.d)(p.WM.get(),n,t),i=(0,o.g)(p.WM.get(),r,t[3]/(0,o.l)(r));return(0,o.f)(e,i,t)}function P(t,n){const e=(0,o.d)(p.WM.get(),n,t),r=(0,o.k)(e),i=t[3]*t[3];return Math.sqrt(Math.abs(r-i))}function L(t,n){const e=(0,o.d)(p.WM.get(),n,t),i=(0,o.l)(e),u=I(t),s=u+Math.abs(u-i);return(0,r.ZF)(u/s)}const q=(0,u.Ue)();function C(t,n,e,r){const i=(0,o.d)(q,n,t);switch(e){case l.R.X:{const t=h(i,q)[2];return(0,o.i)(r,-Math.sin(t),Math.cos(t),0)}case l.R.Y:{const t=h(i,q),n=t[1],e=t[2],u=Math.sin(n);return(0,o.i)(r,-u*Math.cos(e),-u*Math.sin(e),Math.cos(n))}case l.R.Z:return(0,o.n)(r,i);default:return}}function V(t,n){const e=(0,o.d)(W,n,t);return(0,o.l)(e)-t[3]}function F(t,n){const e=(0,o.s)(t,n),r=I(t);return e<=r*r}function z(t,n,e=(0,c.Ue)()){const r=(0,o.j)(t,n),i=t[3],u=n[3];return r+u<i?((0,s.c)(e,t),e):r+i<u?((0,s.c)(e,n),e):((0,o.m)(e,t,n,(r+u-i)/(2*r)),e[3]=(r+i+u)/2,e)}const W=(0,u.Ue)(),D=m(),B=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:g,altitudeAt:V,angleToSilhouette:L,axisAt:C,cameraFrustumCoverage:E,clear:function(t){t[0]=t[1]=t[2]=t[3]=0},closestPoint:function(t,n,e){return j(t,n,e)?e:((0,f.JI)(n,t,e),N(t,e,e))},closestPointOnSilhouette:Z,containsPoint:F,copy:M,create:m,distanceToSilhouette:P,elevate:function(t,n,e){return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2]),e[3]=t[3]+n,e},equals:b,exactEquals:y,fromCenterAndRadius:v,fromRadius:_,fromValues:S,getCenter:w,getExtent:function(t,n){return n},getRadius:I,intersectLine:U,intersectRay:j,intersectRayClosestSilhouette:function(t,n,e){if(j(t,n,e))return e;const r=Z(t,n,p.WM.get());return(0,o.f)(e,n.origin,(0,o.g)(p.WM.get(),n.direction,(0,o.j)(n.origin,r)/(0,o.l)(n.direction))),e},intersectsRay:T,projectPoint:N,setAltitudeAt:function(t,n,e,r){const i=V(t,n),u=C(t,n,l.R.Z,W),s=(0,o.g)(W,u,e-i);return(0,o.f)(r,n,s)},setExtent:function(t,n,e){return t!==e&&M(t,e),e},tmpSphere:D,union:z,wrap:x},Symbol.toStringTag,{value:"Module"}))},73749:function(t,n,e){e.d(n,{a:function(){return v},b:function(){return g},c:function(){return i},d:function(){return f},e:function(){return x},f:function(){return d},g:function(){return s},h:function(){return y},i:function(){return o},j:function(){return p},l:function(){return b},n:function(){return m},s:function(){return u},t:function(){return M},v:function(){return A}});var r=e(66130);function i(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}function o(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function u(t,n,e,r,i){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t}function s(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t}function c(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t}function a(t,n,e){return t[0]=n[0]*e[0],t[1]=n[1]*e[1],t[2]=n[2]*e[2],t[3]=n[3]*e[3],t}function l(t,n,e){return t[0]=n[0]/e[0],t[1]=n[1]/e[1],t[2]=n[2]/e[2],t[3]=n[3]/e[3],t}function f(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t}function h(t,n){const e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return Math.sqrt(e*e+r*r+i*i+o*o)}function d(t,n){const e=n[0]-t[0],r=n[1]-t[1],i=n[2]-t[2],o=n[3]-t[3];return e*e+r*r+i*i+o*o}function p(t){const n=t[0],e=t[1],r=t[2],i=t[3];return Math.sqrt(n*n+e*e+r*r+i*i)}function g(t){const n=t[0],e=t[1],r=t[2],i=t[3];return n*n+e*e+r*r+i*i}function m(t,n){const e=n[0],r=n[1],i=n[2],o=n[3];let u=e*e+r*r+i*i+o*o;return u>0&&(u=1/Math.sqrt(u),t[0]=e*u,t[1]=r*u,t[2]=i*u,t[3]=o*u),t}function y(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function b(t,n,e,r){const i=n[0],o=n[1],u=n[2],s=n[3];return t[0]=i+r*(e[0]-i),t[1]=o+r*(e[1]-o),t[2]=u+r*(e[2]-u),t[3]=s+r*(e[3]-s),t}function M(t,n,e){const r=n[0],i=n[1],o=n[2],u=n[3];return t[0]=e[0]*r+e[4]*i+e[8]*o+e[12]*u,t[1]=e[1]*r+e[5]*i+e[9]*o+e[13]*u,t[2]=e[2]*r+e[6]*i+e[10]*o+e[14]*u,t[3]=e[3]*r+e[7]*i+e[11]*o+e[15]*u,t}function v(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]}function x(t,n){const e=t[0],i=t[1],o=t[2],u=t[3],s=n[0],c=n[1],a=n[2],l=n[3],f=(0,r.bn)();return Math.abs(e-s)<=f*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(i-c)<=f*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(o-a)<=f*Math.max(1,Math.abs(o),Math.abs(a))&&Math.abs(u-l)<=f*Math.max(1,Math.abs(u),Math.abs(l))}const _=c,I=a,w=l,S=h,j=d,U=p,O=g,A=Object.freeze(Object.defineProperty({__proto__:null,add:s,ceil:function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t[3]=Math.ceil(n[3]),t},copy:i,copyVec3:o,dist:S,distance:h,div:w,divide:l,dot:y,equals:x,exactEquals:v,floor:function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t[3]=Math.floor(n[3]),t},inverse:function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t[3]=1/n[3],t},len:U,length:p,lerp:b,max:function(t,n,e){return t[0]=Math.max(n[0],e[0]),t[1]=Math.max(n[1],e[1]),t[2]=Math.max(n[2],e[2]),t[3]=Math.max(n[3],e[3]),t},min:function(t,n,e){return t[0]=Math.min(n[0],e[0]),t[1]=Math.min(n[1],e[1]),t[2]=Math.min(n[2],e[2]),t[3]=Math.min(n[3],e[3]),t},mul:I,multiply:a,negate:function(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t[3]=-n[3],t},normalize:m,random:function(t,n=1){const e=r.FD;let i,o,u,s,c,a;do{i=2*e()-1,o=2*e()-1,c=i*i+o*o}while(c>=1);do{u=2*e()-1,s=2*e()-1,a=u*u+s*s}while(a>=1);const l=Math.sqrt((1-c)/a);return t[0]=n*i,t[1]=n*o,t[2]=n*u*l,t[3]=n*s*l,t},round:function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t[3]=Math.round(n[3]),t},scale:f,scaleAndAdd:function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t},set:u,sqrDist:j,sqrLen:O,squaredDistance:d,squaredLength:g,str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},sub:_,subtract:c,transformMat4:M,transformQuat:function(t,n,e){const r=n[0],i=n[1],o=n[2],u=e[0],s=e[1],c=e[2],a=e[3],l=a*r+s*o-c*i,f=a*i+c*r-u*o,h=a*o+u*i-s*r,d=-u*r-s*i-c*o;return t[0]=l*a+d*-u+f*-c-h*-s,t[1]=f*a+d*-s+h*-u-l*-c,t[2]=h*a+d*-c+l*-s-f*-u,t[3]=n[3],t}},Symbol.toStringTag,{value:"Module"}))},29328:function(t,n,e){e.d(n,{F:function(){return d},M:function(){return r}});const r={Base64:0,Hex:1,String:2,Raw:3};function i(t,n){const e=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(e>>16)<<16|65535&e}function o(t){const n=[];for(let e=0,r=8*t.length;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function u(t){const n=[];for(let e=0,r=32*t.length;e<r;e+=8)n.push(String.fromCharCode(t[e>>5]>>>e%32&255));return n.join("")}function s(t,n,e,r,o,u){return i(function(t,n){return t<<n|t>>>32-n}(i(i(n,t),i(r,u)),o),e)}function c(t,n,e,r,i,o,u){return s(n&e|~n&r,t,n,i,o,u)}function a(t,n,e,r,i,o,u){return s(n&r|e&~r,t,n,i,o,u)}function l(t,n,e,r,i,o,u){return s(n^e^r,t,n,i,o,u)}function f(t,n,e,r,i,o,u){return s(e^(n|~r),t,n,i,o,u)}function h(t,n){t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;let e=1732584193,r=-271733879,o=-1732584194,u=271733878;for(let n=0;n<t.length;n+=16){const s=e,h=r,d=o,p=u;e=c(e,r,o,u,t[n],7,-680876936),u=c(u,e,r,o,t[n+1],12,-389564586),o=c(o,u,e,r,t[n+2],17,606105819),r=c(r,o,u,e,t[n+3],22,-1044525330),e=c(e,r,o,u,t[n+4],7,-176418897),u=c(u,e,r,o,t[n+5],12,1200080426),o=c(o,u,e,r,t[n+6],17,-1473231341),r=c(r,o,u,e,t[n+7],22,-45705983),e=c(e,r,o,u,t[n+8],7,1770035416),u=c(u,e,r,o,t[n+9],12,-1958414417),o=c(o,u,e,r,t[n+10],17,-42063),r=c(r,o,u,e,t[n+11],22,-1990404162),e=c(e,r,o,u,t[n+12],7,1804603682),u=c(u,e,r,o,t[n+13],12,-40341101),o=c(o,u,e,r,t[n+14],17,-1502002290),r=c(r,o,u,e,t[n+15],22,1236535329),e=a(e,r,o,u,t[n+1],5,-165796510),u=a(u,e,r,o,t[n+6],9,-1069501632),o=a(o,u,e,r,t[n+11],14,643717713),r=a(r,o,u,e,t[n],20,-373897302),e=a(e,r,o,u,t[n+5],5,-701558691),u=a(u,e,r,o,t[n+10],9,38016083),o=a(o,u,e,r,t[n+15],14,-660478335),r=a(r,o,u,e,t[n+4],20,-405537848),e=a(e,r,o,u,t[n+9],5,568446438),u=a(u,e,r,o,t[n+14],9,-1019803690),o=a(o,u,e,r,t[n+3],14,-187363961),r=a(r,o,u,e,t[n+8],20,1163531501),e=a(e,r,o,u,t[n+13],5,-1444681467),u=a(u,e,r,o,t[n+2],9,-51403784),o=a(o,u,e,r,t[n+7],14,1735328473),r=a(r,o,u,e,t[n+12],20,-1926607734),e=l(e,r,o,u,t[n+5],4,-378558),u=l(u,e,r,o,t[n+8],11,-2022574463),o=l(o,u,e,r,t[n+11],16,1839030562),r=l(r,o,u,e,t[n+14],23,-35309556),e=l(e,r,o,u,t[n+1],4,-1530992060),u=l(u,e,r,o,t[n+4],11,1272893353),o=l(o,u,e,r,t[n+7],16,-155497632),r=l(r,o,u,e,t[n+10],23,-1094730640),e=l(e,r,o,u,t[n+13],4,681279174),u=l(u,e,r,o,t[n],11,-358537222),o=l(o,u,e,r,t[n+3],16,-722521979),r=l(r,o,u,e,t[n+6],23,76029189),e=l(e,r,o,u,t[n+9],4,-640364487),u=l(u,e,r,o,t[n+12],11,-421815835),o=l(o,u,e,r,t[n+15],16,530742520),r=l(r,o,u,e,t[n+2],23,-995338651),e=f(e,r,o,u,t[n],6,-198630844),u=f(u,e,r,o,t[n+7],10,1126891415),o=f(o,u,e,r,t[n+14],15,-1416354905),r=f(r,o,u,e,t[n+5],21,-57434055),e=f(e,r,o,u,t[n+12],6,1700485571),u=f(u,e,r,o,t[n+3],10,-1894986606),o=f(o,u,e,r,t[n+10],15,-1051523),r=f(r,o,u,e,t[n+1],21,-2054922799),e=f(e,r,o,u,t[n+8],6,1873313359),u=f(u,e,r,o,t[n+15],10,-30611744),o=f(o,u,e,r,t[n+6],15,-1560198380),r=f(r,o,u,e,t[n+13],21,1309151649),e=f(e,r,o,u,t[n+4],6,-145523070),u=f(u,e,r,o,t[n+11],10,-1120210379),o=f(o,u,e,r,t[n+2],15,718787259),r=f(r,o,u,e,t[n+9],21,-343485551),e=i(e,s),r=i(r,h),o=i(o,d),u=i(u,p)}return[e,r,o,u]}function d(t,n=r.Hex){const e=n||r.Base64,i=h(o(t),8*t.length);switch(e){case r.Raw:return i;case r.Hex:return function(t){const n="0123456789abcdef",e=[];for(let r=0,i=4*t.length;r<i;r++)e.push(n.charAt(t[r>>2]>>r%4*8+4&15)+n.charAt(t[r>>2]>>r%4*8&15));return e.join("")}(i);case r.String:return u(i);case r.Base64:return function(t){const n=[];for(let e=0,r=4*t.length;e<r;e+=3){const r=(t[e>>2]>>e%4*8&255)<<16|(t[e+1>>2]>>(e+1)%4*8&255)<<8|t[e+2>>2]>>(e+2)%4*8&255;for(let i=0;i<4;i++)8*e+6*i>32*t.length?n.push("="):n.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>6*(3-i)&63))}return n.join("")}(i)}}},38949:function(t,n,e){e.d(n,{x:function(){return i}});var r=e(94413);class i{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.Y)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*o);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,o));t++)this._items.push(this._allocator())}}const o=1024},75432:function(t,n,e){e.d(n,{B:function(){return d}});var r=e(88194),i=e(29328),o=e(9713),u=e(95490),s=e(18764),c=e(15853),a=e(66951),l=e(17155),f=e(84753),h=e(28938);function d(t){const n=t?.origins??[void 0];return(e,r)=>{const i=function(t,n,e){if("resource"===t?.type)return function(t,n,e){const r=(0,c.Oe)(n,e);return{type:String,read:(t,n,e)=>{const i=(0,h.r)(t,n,e);return r.type===String?i:"function"==typeof r.type?new r.type({url:i}):void 0},write:{isRequired:r.json?.write?.isRequired,writer(n,i,s,c){if(!c?.resources)return"string"==typeof n?void(i[s]=(0,h.t)(n,c)):void(i[s]=n.write({},c));const l=function(t){return null==t?null:"string"==typeof t?t:t.url}(n),d=(0,h.t)(l,{...c,verifyItemRelativeUrls:c?.verifyItemRelativeUrls?{writtenUrls:c.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},h.M.NO),y=r.type!==String&&(!(0,o.l)(this)||c?.origin&&this.originIdOf(e)>(0,a.M9)(c.origin)),b={object:this,propertyName:e,value:n,targetUrl:d,dest:i,targetPropertyName:s,context:c,params:t};c?.portalItem&&d&&!(0,u.YP)(d)?y&&t?.contentAddressed?p(b):y?function(t){const{context:n,targetUrl:e,params:r,value:i,dest:o,targetPropertyName:s}=t;if(!n.portalItem)return;const c=n.portalItem.resourceFromPath(e),a=m(i,e,n),l=(0,f.B)(a),h=(0,u.Ml)(c.path),d=r?.compress??!1;l===h?(n.resources&&g({...t,resource:c,content:a,compress:d,updates:n.resources.toUpdate}),o[s]=e):p(t)}(b):function({context:t,targetUrl:n,dest:e,targetPropertyName:r}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(n),compress:!1}),e[r]=n)}(b):c?.portalItem&&(null==d||null!=(0,h.i)(d)||(0,u.jc)(d)||y)?p(b):i[s]=d}}}}(t,n,e);switch(t?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:t,write:n}=h.b;return{read:t,write:n}}}}(t,e,r);for(const t of n){const n=(0,l.CJ)(e,t,r);for(const t in i)n[t]=i[t]}}}function p(t){const{targetUrl:n,params:e,value:o,context:c,dest:a,targetPropertyName:l}=t;if(!c.portalItem)return;const d=(0,h.p)(n),p=m(o,n,c);if(e?.contentAddressed&&"json"!==p.type)return void c.messages?.push(new r.Z("persistable:contentAddressingUnsupported",`Property "${l}" is trying to serializing a resource with content of type ${p.type} with content addressing. Content addressing is only supported for json resources.`,{content:p}));const y=e?.contentAddressed&&"json"===p.type?(0,i.F)(p.jsonString):d?.filename??(0,s.DO)(),b=(0,u.v_)(e?.prefix??d?.prefix,y),M=`${b}.${(0,f.B)(p)}`;if(e?.contentAddressed&&c.resources&&"json"===p.type){const t=c.resources.toKeep.find((({resource:t})=>t.path===M))??c.resources.toAdd.find((({resource:t})=>t.path===M));if(t)return void(a[l]=t.resource.itemRelativeUrl)}const v=c.portalItem.resourceFromPath(M);(0,u.jc)(n)&&c.resources&&c.resources.pendingOperations.push((0,u.gi)(n).then((t=>{v.path=`${b}.${(0,f.B)({type:"blob",blob:t})}`,a[l]=v.itemRelativeUrl})).catch((()=>{})));const x=e?.compress??!1;c.resources&&g({...t,resource:v,content:p,compress:x,updates:c.resources.toAdd}),a[l]=v.itemRelativeUrl}function g({object:t,propertyName:n,updates:e,resource:r,content:i,compress:o}){e.push({resource:r,content:i,compress:o,finish:e=>{!function(t,n,e){"string"==typeof t[n]?t[n]=e.url:t[n].url=e.url}(t,n,e)}})}function m(t,n,e){return"string"==typeof t?{type:"url",url:n}:{type:"json",jsonString:JSON.stringify(t.toJSON(e))}}},30748:function(t,n,e){function r(){return[1,0,0,0,1,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function o(t,n,e,r,i,o,u,s,c){return[t,n,e,r,i,o,u,s,c]}e.d(n,{Ue:function(){return r},Wd:function(){return u},al:function(){return o},d9:function(){return i}});const u=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:u,clone:i,create:r,fromValues:o},Symbol.toStringTag,{value:"Module"}))},10934:function(t,n,e){function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function o(t,n,e,r,i,o,u,s,c,a,l,f,h,d,p,g){return[t,n,e,r,i,o,u,s,c,a,l,f,h,d,p,g]}e.d(n,{Ue:function(){return r},Wd:function(){return u},al:function(){return o},d9:function(){return i}});const u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:u,clone:i,create:r,fromValues:o},Symbol.toStringTag,{value:"Module"}))},21117:function(t,n,e){function r(){return[0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3]]}function o(t,n,e,r){return[t,n,e,r]}e.d(n,{Ue:function(){return r},Wd:function(){return u},al:function(){return o},d9:function(){return i}});const u=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:u,clone:i,create:r,fromValues:o},Symbol.toStringTag,{value:"Module"}))},41788:function(t,n,e){function r(){return[0,0]}function i(t){return[t[0],t[1]]}function o(t,n){return[t,n]}function u(t,n=[0,0]){const e=Math.min(2,t.length);for(let r=0;r<e;++r)n[r]=t[r];return n}function s(){return[0,0]}function c(){return o(1,1)}function a(){return o(1,0)}function l(){return o(0,1)}e.d(n,{AG:function(){return f},E9:function(){return d},IO:function(){return p},Ue:function(){return r},al:function(){return o},d9:function(){return i},hq:function(){return h},ll:function(){return s},nI:function(){return u}});const f=[0,0],h=c(),d=a(),p=l();Object.freeze(Object.defineProperty({__proto__:null,ONES:h,UNIT_X:d,UNIT_Y:p,ZEROS:f,clone:i,create:r,freeze:function(t,n){return[t,n]},fromArray:u,fromValues:o,ones:c,unitX:a,unitY:l,zeros:s},Symbol.toStringTag,{value:"Module"}))},27583:function(t,n,e){function r(){return[0,0,0,0]}function i(t){return[t[0],t[1],t[2],t[3]]}function o(t,n,e,r){return[t,n,e,r]}function u(t,n,e,r){return[t,n,e,r]}function s(t,n=[0,0,0,0]){const e=Math.min(4,t.length);for(let r=0;r<e;++r)n[r]=t[r];return n}function c(){return[0,0,0,0]}function a(){return o(1,1,1,1)}function l(){return o(1,0,0,0)}function f(){return o(0,1,0,0)}function h(){return o(0,0,1,0)}function d(){return o(0,0,0,1)}e.d(n,{AG:function(){return p},Ue:function(){return r},al:function(){return o},d9:function(){return i},hq:function(){return g},iU:function(){return a},nI:function(){return s},vV:function(){return u}});const p=[0,0,0,0],g=a(),m=l(),y=f(),b=h(),M=d();Object.freeze(Object.defineProperty({__proto__:null,ONES:g,UNIT_W:M,UNIT_X:m,UNIT_Y:y,UNIT_Z:b,ZEROS:p,clone:i,create:r,freeze:u,fromArray:s,fromValues:o,ones:a,unitW:d,unitX:l,unitY:f,unitZ:h,zeros:c},Symbol.toStringTag,{value:"Module"}))},96373:function(t,n,e){e.d(n,{Iu:function(){return f},Jp:function(){return l},U1:function(){return h},U_:function(){return c},XL:function(){return m},bA:function(){return d},en:function(){return p},f6:function(){return g},p4:function(){return s},t8:function(){return o},uj:function(){return a},xO:function(){return i},yR:function(){return u}});var r=e(66130);function i(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[4],t[4]=n[5],t[5]=n[6],t[6]=n[8],t[7]=n[9],t[8]=n[10],t}function o(t,n,e,r,i,o,u,s,c,a){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=u,t[6]=s,t[7]=c,t[8]=a,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function s(t,n){if(t===n){const e=n[1],r=n[2],i=n[5];t[1]=n[3],t[2]=n[6],t[3]=e,t[5]=n[7],t[6]=r,t[7]=i}else t[0]=n[0],t[1]=n[3],t[2]=n[6],t[3]=n[1],t[4]=n[4],t[5]=n[7],t[6]=n[2],t[7]=n[5],t[8]=n[8];return t}function c(t,n){const e=n[0],r=n[1],i=n[2],o=n[3],u=n[4],s=n[5],c=n[6],a=n[7],l=n[8],f=l*u-s*a,h=-l*o+s*c,d=a*o-u*c;let p=e*f+r*h+i*d;return p?(p=1/p,t[0]=f*p,t[1]=(-l*r+i*a)*p,t[2]=(s*r-i*u)*p,t[3]=h*p,t[4]=(l*e-i*c)*p,t[5]=(-s*e+i*o)*p,t[6]=d*p,t[7]=(-a*e+r*c)*p,t[8]=(u*e-r*o)*p,t):null}function a(t,n){const e=n[0],r=n[1],i=n[2],o=n[3],u=n[4],s=n[5],c=n[6],a=n[7],l=n[8];return t[0]=u*l-s*a,t[1]=i*a-r*l,t[2]=r*s-i*u,t[3]=s*c-o*l,t[4]=e*l-i*c,t[5]=i*o-e*s,t[6]=o*a-u*c,t[7]=r*c-e*a,t[8]=e*u-r*o,t}function l(t,n,e){const r=n[0],i=n[1],o=n[2],u=n[3],s=n[4],c=n[5],a=n[6],l=n[7],f=n[8],h=e[0],d=e[1],p=e[2],g=e[3],m=e[4],y=e[5],b=e[6],M=e[7],v=e[8];return t[0]=h*r+d*u+p*a,t[1]=h*i+d*s+p*l,t[2]=h*o+d*c+p*f,t[3]=g*r+m*u+y*a,t[4]=g*i+m*s+y*l,t[5]=g*o+m*c+y*f,t[6]=b*r+M*u+v*a,t[7]=b*i+M*s+v*l,t[8]=b*o+M*c+v*f,t}function f(t,n,e){const r=n[0],i=n[1],o=n[2],u=n[3],s=n[4],c=n[5],a=n[6],l=n[7],f=n[8],h=e[0],d=e[1];return t[0]=r,t[1]=i,t[2]=o,t[3]=u,t[4]=s,t[5]=c,t[6]=h*r+d*u+a,t[7]=h*i+d*s+l,t[8]=h*o+d*c+f,t}function h(t,n,e){const r=n[0],i=n[1],o=n[2],u=n[3],s=n[4],c=n[5],a=n[6],l=n[7],f=n[8],h=Math.sin(e),d=Math.cos(e);return t[0]=d*r+h*u,t[1]=d*i+h*s,t[2]=d*o+h*c,t[3]=d*u-h*r,t[4]=d*s-h*i,t[5]=d*c-h*o,t[6]=a,t[7]=l,t[8]=f,t}function d(t,n,e){const r=e[0],i=e[1],o=e[2];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=i*n[3],t[4]=i*n[4],t[5]=i*n[5],t[6]=o*n[6],t[7]=o*n[7],t[8]=o*n[8],t}function p(t,n){const e=n[0],r=n[1],i=n[2],o=n[3],u=e+e,s=r+r,c=i+i,a=e*u,l=r*u,f=r*s,h=i*u,d=i*s,p=i*c,g=o*u,m=o*s,y=o*c;return t[0]=1-f-p,t[3]=l-y,t[6]=h+m,t[1]=l+y,t[4]=1-a-p,t[7]=d-g,t[2]=h-m,t[5]=d+g,t[8]=1-a-f,t}function g(t,n){const e=n[0],r=n[1],i=n[2],o=n[4],u=n[5],s=n[6],c=n[8],a=n[9],l=n[10],f=l*u-s*a,h=-l*o+s*c,d=a*o-u*c,p=e*f+r*h+i*d;if(!p)return null;const g=1/p;return t[0]=f*g,t[1]=(-l*r+i*a)*g,t[2]=(s*r-i*u)*g,t[3]=h*g,t[4]=(l*e-i*c)*g,t[5]=(-s*e+i*o)*g,t[6]=d*g,t[7]=(-a*e+r*c)*g,t[8]=(u*e-r*o)*g,t}function m(t,n){const e=n[0],r=n[1],i=n[2],o=n[3],u=n[4],s=n[5],c=n[6],a=n[7],l=n[8],f=n[9],h=n[10],d=n[11],p=n[12],g=n[13],m=n[14],y=n[15],b=e*s-r*u,M=e*c-i*u,v=e*a-o*u,x=r*c-i*s,_=r*a-o*s,I=i*a-o*c,w=l*g-f*p,S=l*m-h*p,j=l*y-d*p,U=f*m-h*g,O=f*y-d*g,A=h*y-d*m;let R=b*A-M*O+v*U+x*j-_*S+I*w;return R?(R=1/R,t[0]=(s*A-c*O+a*U)*R,t[1]=(c*j-u*A-a*S)*R,t[2]=(u*O-s*j+a*w)*R,t[3]=(i*O-r*A-o*U)*R,t[4]=(e*A-i*j+o*S)*R,t[5]=(r*j-e*O-o*w)*R,t[6]=(g*I-m*_+y*x)*R,t[7]=(m*v-p*I-y*M)*R,t[8]=(p*_-g*v+y*b)*R,t):null}function y(t,n,e){return t[0]=n[0]-e[0],t[1]=n[1]-e[1],t[2]=n[2]-e[2],t[3]=n[3]-e[3],t[4]=n[4]-e[4],t[5]=n[5]-e[5],t[6]=n[6]-e[6],t[7]=n[7]-e[7],t[8]=n[8]-e[8],t}const b=l,M=y;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,n,e){return t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t[3]=n[3]+e[3],t[4]=n[4]+e[4],t[5]=n[5]+e[5],t[6]=n[6]+e[6],t[7]=n[7]+e[7],t[8]=n[8]+e[8],t},adjoint:a,copy:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t},determinant:function(t){const n=t[0],e=t[1],r=t[2],i=t[3],o=t[4],u=t[5],s=t[6],c=t[7],a=t[8];return n*(a*o-u*c)+e*(-a*i+u*s)+r*(c*i-o*s)},equals:function(t,n){const e=t[0],i=t[1],o=t[2],u=t[3],s=t[4],c=t[5],a=t[6],l=t[7],f=t[8],h=n[0],d=n[1],p=n[2],g=n[3],m=n[4],y=n[5],b=n[6],M=n[7],v=n[8],x=(0,r.bn)();return Math.abs(e-h)<=x*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(i-d)<=x*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-p)<=x*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(u-g)<=x*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(s-m)<=x*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(c-y)<=x*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(a-b)<=x*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(l-M)<=x*Math.max(1,Math.abs(l),Math.abs(M))&&Math.abs(f-v)<=x*Math.max(1,Math.abs(f),Math.abs(v))},exactEquals:function(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]},frob:function(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)},fromMat2d:function(t,n){return t[0]=n[0],t[1]=n[1],t[2]=0,t[3]=n[2],t[4]=n[3],t[5]=0,t[6]=n[4],t[7]=n[5],t[8]=1,t},fromMat4:i,fromQuat:p,fromRotation:function(t,n){const e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=-e,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromScaling:function(t,n){return t[0]=n[0],t[1]=0,t[2]=0,t[3]=0,t[4]=n[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromTranslation:function(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=n[0],t[7]=n[1],t[8]=1,t},identity:u,invert:c,isOrthoNormal:function(t){const n=(0,r.bn)(),e=t[0],i=t[1],o=t[2],u=t[3],s=t[4],c=t[5],a=t[6],l=t[7],f=t[8];return Math.abs(1-(e*e+u*u+a*a))<=n&&Math.abs(1-(i*i+s*s+l*l))<=n&&Math.abs(1-(o*o+c*c+f*f))<=n},mul:b,multiply:l,multiplyScalar:function(t,n,e){return t[0]=n[0]*e,t[1]=n[1]*e,t[2]=n[2]*e,t[3]=n[3]*e,t[4]=n[4]*e,t[5]=n[5]*e,t[6]=n[6]*e,t[7]=n[7]*e,t[8]=n[8]*e,t},multiplyScalarAndAdd:function(t,n,e,r){return t[0]=n[0]+e[0]*r,t[1]=n[1]+e[1]*r,t[2]=n[2]+e[2]*r,t[3]=n[3]+e[3]*r,t[4]=n[4]+e[4]*r,t[5]=n[5]+e[5]*r,t[6]=n[6]+e[6]*r,t[7]=n[7]+e[7]*r,t[8]=n[8]+e[8]*r,t},normalFromMat4:m,normalFromMat4Legacy:g,projection:function(t,n,e){return t[0]=2/n,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/e,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},rotate:h,scale:d,scaleByVec2:function(t,n,e){const r=e[0],i=e[1];return t[0]=r*n[0],t[1]=r*n[1],t[2]=r*n[2],t[3]=i*n[3],t[4]=i*n[4],t[5]=i*n[5],t},set:o,str:function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},sub:M,subtract:y,translate:f,transpose:s},Symbol.toStringTag,{value:"Module"}))},9713:function(t,n,e){function r(t){return t&&"getAtOrigin"in t&&"originOf"in t}e.d(n,{l:function(){return r}})},60199:function(t,n,e){e.d(n,{QZ:function(){return o},Rq:function(){return u},bg:function(){return i}});var r=e(59384);function i(t,n=!1){return t<=r.c8?n?new Array(t).fill(0):new Array(t):new Float64Array(t)}function o(t){return((0,r.fU)(t)?t.byteLength/8:t.length)<=r.c8?Array.from(t):new Float64Array(t)}function u(t,n,e){return Array.isArray(t)?t.slice(n,n+e):t.subarray(n,n+e)}},16447:function(t,n,e){e.d(n,{BD:function(){return S},Cb:function(){return x},FY:function(){return c},G1:function(){return m},G_:function(){return G},HH:function(){return f},I7:function(){return A},JR:function(){return C},KE:function(){return Z},TC:function(){return d},Tn:function(){return N},Ue:function(){return u},VK:function(){return p},Wi:function(){return y},Ye:function(){return v},Zp:function(){return O},al:function(){return s},bA:function(){return T},bM:function(){return k},bZ:function(){return V},be:function(){return I},bf:function(){return M},cS:function(){return L},cv:function(){return R},dp:function(){return w},eZ:function(){return l},fS:function(){return W},gy:function(){return B},is:function(){return F},kK:function(){return U},nX:function(){return h},op:function(){return E},pp:function(){return g},r3:function(){return j},re:function(){return D},sU:function(){return b},t8:function(){return P},wp:function(){return z},wq:function(){return a},wz:function(){return _},y8:function(){return q}});var r=e(71354),i=e(47566),o=e(60199);function u(t=k){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function s(t,n,e,r,i,o,s=u()){return s[0]=t,s[1]=n,s[2]=e,s[3]=r,s[4]=i,s[5]=o,s}function c(t,n=u()){return a(t,0,t.length/3,n)}function a(t,n,e,r=u()){return P(r,G),m(r,t,n,e),r}function l(t,n=(0,o.bg)(24)){const[e,r,i,u,s,c]=t;return n[0]=e,n[1]=r,n[2]=i,n[3]=e,n[4]=r,n[5]=c,n[6]=e,n[7]=s,n[8]=i,n[9]=e,n[10]=s,n[11]=c,n[12]=u,n[13]=r,n[14]=i,n[15]=u,n[16]=r,n[17]=c,n[18]=u,n[19]=s,n[20]=i,n[21]=u,n[22]=s,n[23]=c,n}function f(t,n){const e=isFinite(t[2])||isFinite(t[5]);return new r.Z(e?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:n}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:n})}function h(t,n,e=u()){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=n[0],e[4]=n[1],e[5]=n[2],e}function d(t,n){t[0]=Math.min(t[0],n[0]),t[1]=Math.min(t[1],n[1]),t[2]=Math.min(t[2],n[2]),t[3]=Math.max(t[3],n[3]),t[4]=Math.max(t[4],n[4]),t[5]=Math.max(t[5],n[5])}function p(t,n){t[0]=Math.min(t[0],n[0]),t[1]=Math.min(t[1],n[1]),t[3]=Math.max(t[3],n[2]),t[4]=Math.max(t[4],n[3])}function g(t,n){t[0]=Math.min(t[0],n[0]),t[1]=Math.min(t[1],n[1]),t[2]=Math.min(t[2],n[2]),t[3]=Math.max(t[3],n[0]),t[4]=Math.max(t[4],n[1]),t[5]=Math.max(t[5],n[2])}function m(t,n,e=0,r=n.length/3){let i=t[0],o=t[1],u=t[2],s=t[3],c=t[4],a=t[5];for(let t=0;t<r;t++)i=Math.min(i,n[e+3*t]),o=Math.min(o,n[e+3*t+1]),u=Math.min(u,n[e+3*t+2]),s=Math.max(s,n[e+3*t]),c=Math.max(c,n[e+3*t+1]),a=Math.max(a,n[e+3*t+2]);t[0]=i,t[1]=o,t[2]=u,t[3]=s,t[4]=c,t[5]=a}function y(t,n,e){const r=n.length;let i=t[0],o=t[1],u=t[2],s=t[3],c=t[4],a=t[5];if(e)for(let t=0;t<r;t++){const e=n[t];i=Math.min(i,e[0]),o=Math.min(o,e[1]),u=Math.min(u,e[2]),s=Math.max(s,e[0]),c=Math.max(c,e[1]),a=Math.max(a,e[2])}else for(let t=0;t<r;t++){const e=n[t];i=Math.min(i,e[0]),o=Math.min(o,e[1]),s=Math.max(s,e[0]),c=Math.max(c,e[1])}t[0]=i,t[1]=o,t[2]=u,t[3]=s,t[4]=c,t[5]=a}function b(t){for(let n=0;n<6;n++)if(!isFinite(t[n]))return!1;return!0}function M(t){return t[0]>=t[3]?0:t[3]-t[0]}function v(t){return t[1]>=t[4]?0:t[4]-t[1]}function x(t){return t[2]>=t[5]?0:t[5]-t[2]}function _(t){const n=M(t),e=x(t),r=v(t);return Math.sqrt(n*n+e*e+r*r)}function I(t,n=[0,0,0]){return n[0]=t[0]+M(t)/2,n[1]=t[1]+v(t)/2,n[2]=t[2]+x(t)/2,n}function w(t,n=[0,0,0]){return n[0]=M(t),n[1]=v(t),n[2]=x(t),n}function S(t,n){return n[0]>=t[0]&&n[1]>=t[1]&&n[2]>=t[2]&&n[0]<=t[3]&&n[1]<=t[4]&&n[2]<=t[5]}function j(t,n){return n[0]>=t[0]&&n[1]>=t[1]&&n[2]>=t[2]&&n[3]<=t[3]&&n[4]<=t[4]&&n[5]<=t[5]}function U(t,n){return Math.max(n[0],t[0])<=Math.min(n[3],t[3])&&Math.max(n[1],t[1])<=Math.min(n[4],t[4])&&Math.max(n[2],t[2])<=Math.min(n[5],t[5])}function O(t,n){return null==n||U(t,n)}function A(t,n,e){let r=0,i=1;for(let o=0;o<3;++o){const u=t[o],s=t[o+3],c=n[o],a=e[o],l=a<c,f=l?a:c,h=l?c:a,d=Math.max(u,f),p=Math.min(s,h);if(d>p)return!1;if(h===f)break;const g=h-f,m=(d-f)/g,y=(p-f)/g;if(r=Math.max(r,l?1-y:m),i=Math.min(i,l?1-m:y),r>i)return!1}return!0}function R(t,n,e,r,i=t){return i[0]=t[0]+n,i[1]=t[1]+e,i[2]=t[2]+r,i[3]=t[3]+n,i[4]=t[4]+e,i[5]=t[5]+r,i}function T(t,n,e=t){const r=t[0]+M(t)/2,i=t[1]+v(t)/2,o=t[2]+x(t)/2;return e[0]=r+(t[0]-r)*n,e[1]=i+(t[1]-i)*n,e[2]=o+(t[2]-o)*n,e[3]=r+(t[3]-r)*n,e[4]=i+(t[4]-i)*n,e[5]=o+(t[5]-o)*n,e}function Z(t,n){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}function E(t,n,e=t){return e[0]=n[0],e[1]=n[1],e[2]=n[2],e!==t&&(e[3]=t[3],e[4]=t[4],e[5]=t[5]),e}function N(t,n,e=t){return e[3]=n[0],e[4]=n[1],e[5]=n[2],e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2]),t}function P(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t}function L(t){return t?P(t,G):u(G)}function q(t,n){return n||(n=(0,i.Ue)()),n[0]=t[0],n[1]=t[1],n[2]=t[3],n[3]=t[4],n}function C(t,n){return t[0]=n[0],t[1]=n[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=n[2],t[4]=n[3],t[5]=Number.POSITIVE_INFINITY,t}function V(t,n,e,r,i){return t[0]=n,t[1]=e,t[2]=Number.NEGATIVE_INFINITY,t[3]=r,t[4]=i,t[5]=Number.POSITIVE_INFINITY,t}function F(t){return 6===t.length}function z(t){return 0===M(t)&&0===v(t)&&0===x(t)}function W(t,n,e){if(null==t||null==n)return t===n;if(!F(t)||!F(n))return!1;if(e){for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1}else for(let e=0;e<t.length;e++)if(t[e]!==n[e])return!1;return!0}function D(t,n,e,r,i,o){return s(t,n,e,r,i,o,J)}const B=[-1/0,-1/0,-1/0,1/0,1/0,1/0],G=[1/0,1/0,1/0,-1/0,-1/0,-1/0],k=[0,0,0,0,0,0],J=u()},12659:function(t,n,e){e.d(n,{JG:function(){return p},JI:function(){return b},Jk:function(){return y},Ue:function(){return l},_w:function(){return M},al:function(){return m},fS:function(){return h},re:function(){return d},zk:function(){return g}});var r=e(3480),i=e(38949),o=e(96373),u=e(30748),s=e(24910),c=e(82846),a=e(69811);function l(t){return t?f((0,c.d9)(t.origin),(0,c.d9)(t.direction)):f((0,c.Ue)(),(0,c.Ue)())}function f(t,n){return{origin:t,direction:n}}function h(t,n){return(0,r.fS)(t.origin,n.origin)&&(0,r.fS)(t.direction,n.direction)}function d(t,n){const e=v.get();return e.origin=t,e.direction=n,e}function p(t,n=l()){return m(t.origin,t.direction,n)}function g(t,n,e=l()){return(0,s.c)(e.origin,t),(0,s.d)(e.direction,n,t),e}function m(t,n,e=l()){return(0,s.c)(e.origin,t),(0,s.c)(e.direction,n),e}function y(t,n){const e=(0,s.h)(a.WM.get(),(0,s.n)(a.WM.get(),t.direction),(0,s.d)(a.WM.get(),n,t.origin));return(0,s.e)(e,e)}function b(t,n,e){const r=(0,s.e)(t.direction,(0,s.d)(e,n,t.origin));return(0,s.f)(e,t.origin,(0,s.g)(e,t.direction,r)),e}function M(t,n,e,r){const i=t.origin,u=n.origin,c=t.direction,a=n.direction,l=(0,s.e)((0,s.n)(_,c),(0,s.n)(I,a));if(Math.abs(l)>=1)return null;const f=(0,s.h)(_,c,a),h=(0,s.a)(x,u,i),d=(0,o.t8)(w,c[0],c[1],c[2],-a[0],-a[1],-a[2],f[0],f[1],f[2]),p=(0,o.U_)(w,d);if(null==p)return[e,r];const g=(0,s.e)((0,s.i)(_,p[0],p[3],p[6]),h),m=(0,s.e)((0,s.i)(I,p[1],p[4],p[7]),h);return(0,s.f)(e,i,(0,s.g)(x,c,g)),(0,s.f)(r,u,(0,s.g)(x,a,m)),[e,r]}const v=new i.x((()=>l())),x=(0,c.Ue)(),_=(0,c.Ue)(),I=(0,c.Ue)(),w=(0,u.Ue)()},63271:function(t,n,e){e.d(n,{EU:function(){return c},SR:function(){return s},cp:function(){return a},nF:function(){return u}});var r=e(99574),i=e(24910),o=e(82846);function u(t,n,e){const r=(0,i.e)(t,n)/(0,i.e)(t,t);return(0,i.g)(e,t,r)}function s(t,n){return(0,i.e)(t,n)/(0,i.l)(t)}function c(t,n){const e=(0,i.e)(t,n)/((0,i.l)(t)*(0,i.l)(n));return-(0,r.ZF)(e)}function a(t,n,e){(0,i.n)(l,t),(0,i.n)(f,n);const o=(0,i.e)(l,f),u=(0,r.ZF)(o),s=(0,i.h)(l,l,f);return(0,i.e)(s,e)<0?2*Math.PI-u:u}const l=(0,o.Ue)(),f=(0,o.Ue)()},69811:function(t,n,e){e.d(n,{MP:function(){return p},vD:function(){return g},qW:function(){return f},WM:function(){return h},o6:function(){return d}});e(61432);var r=e(94413),i=e(30748),o=e(10934),u=e(21117),s=e(41788),c=e(82846),a=e(27583);class l{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,r.Y)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new l(s.Ue)}static createVec3f64(){return new l(c.Ue)}static createVec4f64(){return new l(a.Ue)}static createMat3f64(){return new l(i.Ue)}static createMat4f64(){return new l(o.Ue)}static createQuatf64(){return new l(u.Ue)}get test(){}}const f=l.createVec2f64(),h=l.createVec3f64(),d=l.createVec4f64(),p=(l.createMat3f64(),l.createMat4f64()),g=l.createQuatf64()},75746:function(t,n,e){e.r(n),e.d(n,{default:function(){return y}});var r=e(73440),i=e(51741),o=e(49052),u=e(99965),s=e(43254),c=e(41145),a=e(84060),l=e(90403),f=e(17155),h=(e(61432),e(96711),e(83850),e(48023)),d=e(38209),p=e(85330);const g=s.Z.ofType(u.Z);let m=class extends((0,p.q)((0,a.R)(d.Z))){constructor(t){super(t),this.type="line-of-sight",this.operationalLayerType="LineOfSightLayer",this.analysis=new i.Z,this.opacity=1}initialize(){this.addHandles((0,l.YP)((()=>this.analysis),((t,n)=>{null!=n&&n.parent===this&&(n.parent=null),null!=t&&(t.parent=this)}),l.tX))}async load(){return null!=this.analysis&&this.addResolvingPromise(this.analysis.waitComputeExtent()),this}get observer(){return this.analysis?.observer}set observer(t){const{analysis:n}=this;n&&(n.observer=t)}get targets(){return null!=this.analysis?this.analysis.targets:new s.Z}set targets(t){(0,c.Z)(t,this.analysis?.targets)}get fullExtent(){return null!=this.analysis?this.analysis.extent:null}get spatialReference(){return null!=this.analysis?this.analysis.spatialReference:null}releaseAnalysis(t){this.analysis===t&&(this.analysis=new i.Z)}};(0,r._)([(0,f.Cb)({json:{read:!1},readOnly:!0})],m.prototype,"type",void 0),(0,r._)([(0,f.Cb)({type:["LineOfSightLayer"]})],m.prototype,"operationalLayerType",void 0),(0,r._)([(0,f.Cb)({type:o.Z,json:{read:!0,write:{isRequired:!0,ignoreOrigin:!0}}})],m.prototype,"observer",null),(0,r._)([(0,f.Cb)({type:g,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],m.prototype,"targets",null),(0,r._)([(0,f.Cb)({type:i.Z,nonNullable:!0,json:{read:!1,write:!1}})],m.prototype,"analysis",void 0),(0,r._)([(0,f.Cb)({readOnly:!0})],m.prototype,"fullExtent",null),(0,r._)([(0,f.Cb)({readOnly:!0})],m.prototype,"spatialReference",null),(0,r._)([(0,f.Cb)({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],m.prototype,"opacity",void 0),(0,r._)([(0,f.Cb)({type:["show","hide"]})],m.prototype,"listMode",void 0),m=(0,r._)([(0,h.j)("esri.layers.LineOfSightLayer")],m);const y=m},84753:function(t,n,e){e.d(n,{B:function(){return i}});var r=e(95490);function i(t){return o[function(t){return"json"===t.type?"application/json":"blob"===t.type?t.blob.type:function(t){const n=(0,r.Ml)(t);return c[n]||u}(t.url)}(t)]||s}const o={},u="text/plain",s=o[u],c={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const t in c)o[c[t]]=t},51870:function(t,n,e){e.d(n,{AA:function(){return p},Jn:function(){return a},LR:function(){return U},Lt:function(){return h},O3:function(){return x},Ou:function(){return b},RL:function(){return f},Uy:function(){return w},VW:function(){return c},W_:function(){return I},Wb:function(){return S},XH:function(){return g},Zz:function(){return u},ap:function(){return y},fl:function(){return d},fm:function(){return O},jG:function(){return A},kf:function(){return j},mF:function(){return s},tR:function(){return R},tq:function(){return _},vQ:function(){return M},vu:function(){return l},zx:function(){return v}});var r=e(26636),i=e(46368);function o(t){return t?A:R}function u(t,n){return n?.mode?n.mode:o(t).mode}function s(t,n){return null!=n?n:o(t)}function c(t,n){return u(null==t||(t.hasZ??!1),n)}function a(t,n){return s(null==t||(t.hasZ??!1),n)}function l(t){const n=m(t);return c(t.geometry,n)}function f(t){const n=m(t),e=c(t.geometry,n),r=null!=n&&"on-the-ground"!==e?O(n):0,i=n?.featureExpressionInfo;return{mode:e,offset:r,featureExpressionInfo:i}}function h(t){return g(f(t))}function d(t){return g(t)||p(t)}function p(t){return"0"===t?.featureExpressionInfo?.expression}function g(t){if(!t)return!1;if("on-the-ground"===t.mode)return!1;const n=t?.featureExpressionInfo?t.featureExpressionInfo.expression:null;return!(!n||"0"===n)}function m(t){return t.layer&&"elevationInfo"in t.layer?t.layer.elevationInfo:null}function y(t,n){if(!t?.offset)return 0;const{offset:e,unit:i}=t;if("decimal-degrees"===i)return 0;const o="unknown"!==i&&i?i:"meters",u=(0,r.y)(n);return u?(0,r.En)(e,o,u):0}function b(t,n,e){if(!e?.mode)return;const r=t.hasZ?t.z:0,i=y(e,t.spatialReference);switch(e.mode){case"absolute-height":return r-i;case"on-the-ground":return 0;case"relative-to-ground":return r-((n.elevationProvider.getElevation(t.x,t.y,r,t.spatialReference,"ground")??0)+i);case"relative-to-scene":return r-((n.elevationProvider.getElevation(t.x,t.y,r,t.spatialReference,"scene")??0)+i)}}function M(t,n,e,r=null){return x(t,n.x,n.y,n.hasZ?n.z:0,n.spatialReference,e,r)}function v(t,n,e,r,i=null){return x(t,n[0],n[1],n.length>2?n[2]:0,e,r,i)}function x(t,n,e,r,i,o,u=null){if(null==o)return;const s=null!=u?u.mode:"absolute-height";if("on-the-ground"===s)return 0;const{absoluteZ:c}=_(n,e,r,i,t,o);return function(t,n,e,r,i,o,u,s){const c=y(u,i);switch(s){case"absolute-height":return t-c;case"relative-to-ground":return t-((o.elevationProvider.getElevation(n,e,r,i,"ground")??0)+c);case"relative-to-scene":return t-((o.elevationProvider.getElevation(n,e,r,i,"scene")??0)+c)}}(c,n,e,r,i,t,u,s)}function _(t,n,e,r,i,o){const u=y(o,r);switch(o.mode){case"absolute-height":return{absoluteZ:e+u,elevation:0};case"on-the-ground":{const e=i.elevationProvider.getElevation(t,n,0,r,"ground")??0;return{absoluteZ:e,elevation:e}}case"relative-to-ground":{const o=i.elevationProvider.getElevation(t,n,e,r,"ground")??0;return{absoluteZ:e+o+u,elevation:o}}case"relative-to-scene":{const o=i.elevationProvider.getElevation(t,n,e,r,"scene")??0;return{absoluteZ:e+o+u,elevation:o}}}}function I(t,n){if(null==n)return!1;const{mode:e}=n;return null!=e&&("scene"===t&&"relative-to-scene"===e||"ground"===t&&"absolute-height"!==e)}function w(t,n,e){return e&&e.mode!==n?`${t} only support ${n} elevation mode`:null}function S(t,n,e){return e?.mode===n?`${t} do not support ${n} elevation mode`:null}function j(t,n){return null!=n?.featureExpressionInfo&&"0"!==n.featureExpressionInfo.expression?`${t} do not support featureExpressionInfo`:null}function U(t,n){n&&t.warn(".elevationInfo=",n)}function O(t){return(t?.offset??0)*(0,i.Z7)(t?.unit)}const A={mode:"absolute-height",offset:0},R={mode:"on-the-ground",offset:null}},94744:function(t,n,e){e.d(n,{A8:function(){return h},AK:function(){return u},BF:function(){return d},DI:function(){return a},GS:function(){return f},a8:function(){return s},f9:function(){return c},lt:function(){return l}});var r=e(32033),i=e(31856),o=e(19821);class u extends i.D{constructor(t,n,e,r){super(n,e),this.point=t,this.createGraphic=r}}function s(t){return(0,r.n)(t)&&t.intersector===o.q.PCL&&!!t.target}class c extends i.Z{constructor(t,n,e,r,i){super(t),this.layerViewUid=t,this.sublayerId=n,this.nodeIndex=e,this.componentIndex=r,this.triangleNr=i}}class a extends i.D{constructor(t,n,e){super(n,null),this.point=t,this.createVoxelGraphic=e}}class l extends i.D{constructor(t,n){super(t,null),this.createTiles3DGraphic=n}}function f(t){return(0,r.n)(t)&&t.intersector===o.q.I3S&&!!t.target}function h(t){return(0,r.n)(t)&&t.intersector===o.q.VOXEL&&!!t.target}function d(t){return(0,r.n)(t)&&t.intersector===o.q.TILES3D&&!!t.target}},38142:function(t,n,e){e.d(n,{T6:function(){return s},TX:function(){return u},j9:function(){return c}});var r=e(32033),i=e(31856),o=e(19821);function u(t){return(0,r.n)(t)&&t.intersector===o.q.TERRAIN&&!!t.target}class s extends i.D{constructor(t,n,e){super(t,n),this.triangleNr=e}}function c(t){return(0,r.n)(t)&&t.intersector===o.q.OVERLAY&&!!t.target}},92181:function(t,n,e){e.d(n,{i_:function(){return s},w0:function(){return c},Wd:function(){return a}});var r=e(82846),i=e(32033),o=e(19821);class u{constructor(t,n,e){this.object=t,this.geometryId=n,this.primitiveIndex=e}}class s extends i.x{constructor(){super(...arguments),this.intersector=o.q.HUD}}class c extends u{constructor(t,n){super(t.object,t.geometryId,t.primitiveIndex),this.center=(0,r.d9)(n)}}function a(t){return(0,i.n)(t)&&t.intersector===o.q.HUD&&!!t.target&&"center"in t.target}},61442:function(t,n,e){e.d(n,{e:function(){return i},o:function(){return r}});class r{constructor(){this.verticalOffset=0,this.selectionMode=!1,this.hud=!0,this.selectOpaqueTerrainOnly=!0,this.invisibleTerrain=!1,this.backfacesTerrain=!0,this.isFiltered=!1,this.filteredLayerViewUids=[],this.store=i.ALL,this.normalRequired=!0,this.excludeLabels=!1}}var i;!function(t){t[t.MIN=0]="MIN",t[t.MINMAX=1]="MINMAX",t[t.ALL=2]="ALL"}(i||(i={}))},32033:function(t,n,e){e.d(n,{n:function(){return h},x:function(){return f}});var r=e(31865),i=e(10934),o=e(24910),u=e(82846),s=e(73749),c=e(27583),a=e(12659),l=e(19821);class f{get ray(){return this._ray}get distanceInRenderSpace(){return null==this.distance?null:((0,o.g)(d,this.ray.direction,this.distance),(0,o.l)(d))}withinDistance(t){return!!h(this)&&this.distanceInRenderSpace<=t}getIntersectionPoint(t){return!!h(this)&&((0,o.g)(d,this.ray.direction,this.distance),(0,o.f)(t,this.ray.origin,d),!0)}getTransformedNormal(t){return(0,o.c)(p,this.normal),p[3]=0,(0,s.t)(p,p,this.transformation),(0,o.c)(t,p),(0,o.n)(t,t)}constructor(t){this.intersector=l.q.OBJECT,this.normal=(0,u.Ue)(),this.transformation=(0,i.Ue)(),this._ray=(0,a.Ue)(),this.init(t)}init(t){this.distance=this.target=this.drapedLayerOrder=this.renderPriority=null,this.intersector=l.q.OBJECT,(0,a.JG)(t,this._ray)}set(t,n,e,s,c,a,l){this.intersector=t,this.distance=e,(0,o.c)(this.normal,s??u.eG),(0,r.JG)(this.transformation,c??i.Wd),this.target=n,this.drapedLayerOrder=a,this.renderPriority=l}copy(t){(0,a.JG)(t.ray,this._ray),this.intersector=t.intersector,this.distance=t.distance,this.target=t.target,this.drapedLayerOrder=t.drapedLayerOrder,this.renderPriority=t.renderPriority,(0,o.c)(this.normal,t.normal),(0,r.JG)(this.transformation,t.transformation)}}function h(t){return null!=t?.distance}const d=(0,u.Ue)(),p=(0,c.Ue)()},31856:function(t,n,e){e.d(n,{D:function(){return i},Z:function(){return r}});class r{constructor(t){this.layerViewUid=t}}class i extends r{constructor(t,n){super(t),this.graphicUid=n}}},19821:function(t,n,e){var r;e.d(n,{q:function(){return r}}),function(t){t[t.OBJECT=0]="OBJECT",t[t.HUD=1]="HUD",t[t.TERRAIN=2]="TERRAIN",t[t.OVERLAY=3]="OVERLAY",t[t.I3S=4]="I3S",t[t.PCL=5]="PCL",t[t.LOD=6]="LOD",t[t.VOXEL=7]="VOXEL",t[t.TILES3D=8]="TILES3D"}(r||(r={}))},90189:function(t,n,e){e.d(n,{VB:function(){return v},_s:function(){return x},tB:function(){return g},bK:function(){return m},J4:function(){return p}});var r=e(31865),i=e(82846),o=e(16447),u=e(69055),s=e(94744),c=e(38142),a=e(92181),l=e(32033),f=e(19821);function h(t){return(0,l.n)(t)&&t.intersector===f.q.OBJECT&&!!t.target}var d=e(32176);function p(t,n){return h(t)||(0,a.Wd)(t)?M(t.target?.object,n):(0,c.TX)(t)?n.map?.ground:(0,s.a8)(t)||(0,s.GS)(t)||(0,c.j9)(t)||(0,s.A8)(t)?M(t.target,n):null}function g(t,n){const e=m(t,n);return"graphic"===e?.type?e.graphic:null}function m(t,n,e={}){if(null==t)return null;if(h(t)||(0,a.Wd)(t))return y(t.target?.object,n,e);if((0,s.a8)(t)){const n=t.target.createGraphic();return{type:"graphic",graphic:n,layer:n.layer}}if((0,s.A8)(t)){const n=t.target.createVoxelGraphic();return{type:"graphic",graphic:n,layer:n.layer}}if((0,s.BF)(t)){const n=t.target.createTiles3DGraphic();return{type:"graphic",graphic:n,layer:n.layer}}return(0,c.j9)(t)||(0,d.w)(t)?y(t.target,n,e):(0,s.GS)(t)?function(t,n,e){const r=M(t,n);if(null==r)return null;const i=n.allLayerViews.find((t=>t.layer===r));if(!i||i.suspended||!("getGraphicFromIntersectorTarget"in i))return null;const o=e.defer;return b(i.getGraphicFromIntersectorTarget(t,{defer:o?async t=>o((async()=>b(await t()))):void 0}))}(t.target,n,e):null}function y(t,n,e){if(null==t?.graphicUid)return null;const r=M(t,n);if(null==r)return null;if(r===n.graphics)return null==n.graphicsView||"number"!=typeof t.graphicUid?null:n.graphicsView.getHit(t.graphicUid,e);const i=n.allLayerViews.find((t=>t.layer===r));return!i||i.suspended||null==t.graphicUid?null:"getHit"in i?i.getHit(t.graphicUid,e):null}function b(t){return null!=t?{type:"graphic",graphic:t,layer:t.layer}:null}function M(t,n){return null==t?.layerViewUid?null:null!=n.graphicsView&&t.layerViewUid===n.graphicsView.uid?n.graphics:n.allLayerViews.find((n=>n.uid===t.layerViewUid))?.layer}function v(t,n){if(h(t)||(0,a.Wd)(t))return(0,u.g)(t.target.object.boundingVolumeWorldSpace.bounds);if((0,d.w)(t)){(0,r.yZ)(_,t.transformation);const n=Math.max(_[0],_[1],_[2]);return t.target.baseBoundingSphere.radius*n}if((0,s.GS)(t)){const e=function(t,n){const e=M(t,n);if(null==e)return null;const r=n.allLayerViews.find((t=>t.layer===e));return r&&!r.suspended&&"getAABBFromIntersectorTarget"in r?r.getAABBFromIntersectorTarget(t):null}(t.target,n);return e?.5*(0,o.wz)(e):null}return null}function x(t){return!h(t)&&!(0,a.Wd)(t)&&((0,d.w)(t)?t.target.numLodLevels>1:!!(0,s.GS)(t))}const _=(0,i.Ue)()},32176:function(t,n,e){e.d(n,{w:function(){return s},x:function(){return u}});var r=e(32033),i=e(31856),o=e(19821);class u extends i.D{constructor(t,n,e,r,i){super(t,n),this.layerViewUid=t,this.graphicUid=n,this.triangleNr=e,this.baseBoundingSphere=r,this.numLodLevels=i}}function s(t){return(0,r.n)(t)&&t.intersector===o.q.LOD&&!!t.target}}}]);