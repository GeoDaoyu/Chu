"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[66739],{62590:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(90819),a=n.n(r),u=n(89933),s=n.n(u),i=n(54191),c=n(4925),o=n(10550),p=n(73193),f=n.n(p);function h(e){return l.apply(this,arguments)}function l(){return(l=s()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/v1/login",{method:"GET",params:f()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return(m=s()(a()().mark((function e(t){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/v1/getRole",{method:"GET",params:f()({},t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=n(31549),k=function(){var e=(0,i.useModel)("@@initialState").setInitialState,t=function(){var t=s()(a()().mark((function t(){var n,r;return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h();case 2:return n=t.sent,t.next=5,d();case 5:r=t.sent,e({name:n.data.name,user:n.data,role:r.data}),(0,o.LX)({name:n.data.name,user:n.data,role:r.data}),i.history.push("/home");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,v.jsx)("div",{children:(0,v.jsx)(c.ZP,{type:"primary",onClick:t,children:"登录"})})}}}]);