"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[66739],{62590:function(t,e,n){n.r(e),n.d(e,{default:function(){return k}});var r=n(90819),a=n.n(r),u=n(89933),s=n.n(u),i=n(70765),c=n(33273),o=n(10550),p=n(73193),f=n.n(p);function h(t){return l.apply(this,arguments)}function l(){return(l=s()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.request)("/api/v1/login",{method:"GET",params:f()({},e)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return m.apply(this,arguments)}function m(){return(m=s()(a()().mark((function t(e){return a()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,i.request)("/api/v1/getRole",{method:"GET",params:f()({},e)}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var v=n(31549),k=function(){var t=(0,i.useModel)("@@initialState").setInitialState,e=function(){var e=s()(a()().mark((function e(){var n,r;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:return n=e.sent,e.next=5,d();case 5:r=e.sent,t({name:n.data.name,user:n.data,role:r.data}),(0,o.LX)({name:n.data.name,user:n.data,role:r.data}),i.history.push("/home");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsx)("div",{children:(0,v.jsx)(c.ZP,{type:"primary",onClick:e,children:"登录"})})}}}]);