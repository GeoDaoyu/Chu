"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[66739],{40869:function(e,r,n){n.r(r),n.d(r,{default:function(){return k}});var t=n(90819),a=n.n(t),s=n(89933),i=n.n(s),u=n(54191),o=n(37071),c=n(66505),l=n(10550),p=n(73193),d=n.n(p);function h(e){return f.apply(this,arguments)}function f(){return(f=i()(a()().mark((function e(r){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/login",{method:"GET",params:d()({},r)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return x.apply(this,arguments)}function x(){return(x=i()(a()().mark((function e(r){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,u.request)("/api/v1/getRole",{method:"GET",params:d()({},r)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=n(55963),v=n(51898),w=n(84377),j="container___XDVhF",y=n(31549),k=function(){var e=(0,u.useModel)("@@initialState").setInitialState,r=function(){var r=i()(a()().mark((function r(){var n,t;return a()().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,h();case 2:return n=r.sent,r.next=5,m();case 5:t=r.sent,e({name:n.data.name,user:n.data,role:t.data}),(0,l.LX)({name:n.data.name,user:n.data,role:t.data}),u.history.push("/home");case 9:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return(0,y.jsx)("div",{className:j,children:(0,y.jsxs)(g.U,{contentStyle:{minWidth:280,maxWidth:"75vw"},logo:(0,y.jsx)("img",{alt:"logo",src:"/logo.svg"}),title:"Chu",subTitle:"现代的WebGIS框架",initialValues:{autoLogin:!0},onFinish:function(){var e=i()(a()().mark((function e(n){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(n);case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),children:[(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(v.Z,{name:"username",fieldProps:{size:"large",prefix:(0,y.jsx)(o.Z,{})},placeholder:"用户名: admin or user",rules:[{required:!0,message:"请输入用户名!"}]}),(0,y.jsx)(v.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,y.jsx)(c.Z,{})},placeholder:"密码: （无密码）",rules:[{required:!0,message:"请输入密码！"}]})]}),(0,y.jsxs)("div",{style:{marginBottom:24},children:[(0,y.jsx)(w.Z,{noStyle:!0,name:"autoLogin",children:"自动登录"}),(0,y.jsx)("a",{style:{float:"right"},children:"忘记密码"})]})]})})}}}]);