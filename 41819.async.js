"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[41819],{41819:function(n,t,e){e.r(t),e.d(t,{registerFunctions:function(){return A}});var r=e(57829),a=e(92530),i=e(12122),o=e(80095),c=e(67161),s=e(10921),u=e(78608),l=e(9079),f=e(3480),d=e(71354),w=e(82890),h=e(82868),m=e(60508),y=e(67764),N=e(62197),g=e(90756),S=e(77601),J=e(10218),p=e(78619);async function O(n,t,e){const r=J.id?.findCredential(n.restUrl);if(!r)return null;if("loaded"===n.loadStatus&&""===t&&n.user?.sourceJSON&&!1===e)return n.user.sourceJSON;const a={responseType:"json",query:{f:"json"}};if(e&&(a.query.returnUserLicenseTypeExtensions=!0),""===t){const t=await(0,p.Z)(n.restUrl+"/community/self",a);if(t.data){const n=t.data;if(n?.username)return n}return null}const i=await(0,p.Z)(n.restUrl+"/community/users/"+t,a);if(i.data){const n=i.data;return n.error?null:n}return null}var v=e(43462);function Z(n){if(null==n)return n;switch(typeof n){case"string":case"number":return n;default:throw new i.aV(null,i.rH.InvalidParameter,null)}}function A(n){"async"===n.mode&&(n.functions.disjoint=function(t,e){return n.standardFunctionAsync(t,e,((n,r,a)=>(a=(0,c.C)(a),(0,u.A9)(a,t,e),null===a[0]||null===a[1]||(0,l.c)("disjoint",[a[0].toJSON(),a[1].toJSON()]))))},n.functions.intersects=function(t,e){return n.standardFunctionAsync(t,e,((n,r,a)=>(a=(0,c.C)(a),(0,u.A9)(a,t,e),null!==a[0]&&null!==a[1]&&(0,l.c)("intersects",[a[0].toJSON(),a[1].toJSON()]))))},n.functions.touches=function(t,e){return n.standardFunctionAsync(t,e,((n,r,a)=>(a=(0,c.C)(a),(0,u.A9)(a,t,e),null!==a[0]&&null!==a[1]&&(0,l.c)("touches",[a[0].toJSON(),a[1].toJSON()]))))},n.functions.crosses=function(t,e){return n.standardFunctionAsync(t,e,((n,r,a)=>(a=(0,c.C)(a),(0,u.A9)(a,t,e),null!==a[0]&&null!==a[1]&&(0,l.c)("crosses",[a[0].toJSON(),a[1].toJSON()]))))},n.functions.within=function(t,e){return n.standardFunctionAsync(t,e,((n,r,a)=>(a=(0,c.C)(a),(0,u.A9)(a,t,e),null!==a[0]&&null!==a[1]&&(0,l.c)("within",[a[0].toJSON(),a[1].toJSON()]))))},n.functions.contains=function(t,e){return n.standardFunctionAsync(t,e,((n,r,a)=>(a=(0,c.C)(a),(0,u.A9)(a,t,e),null!==a[0]&&null!==a[1]&&(0,l.c)("contains",[a[0].toJSON(),a[1].toJSON()]))))},n.functions.overlaps=function(t,e){return n.standardFunctionAsync(t,e,((n,r,a)=>(a=(0,c.C)(a),(0,u.A9)(a,t,e),null!==a[0]&&null!==a[1]&&(0,l.c)("overlaps",[a[0].toJSON(),a[1].toJSON()]))))},n.functions.equals=function(t,e){return n.standardFunctionAsync(t,e,((n,r,a)=>((0,c.B)(a,2,2,t,e),a[0]===a[1]||(a[0]instanceof w.Z&&a[1]instanceof w.Z?(0,l.c)("equals",[a[0].toJSON(),a[1].toJSON()]):((0,c.e)(a[0])&&(0,c.e)(a[1])||!!((0,c.g)(a[0])&&(0,c.g)(a[1])||(0,c.f)(a[0])&&(0,c.f)(a[1])))&&a[0].equals(a[1])))))},n.functions.relate=function(t,e){return n.standardFunctionAsync(t,e,((n,r,a)=>{if(a=(0,c.C)(a),(0,c.B)(a,3,3,t,e),a[0]instanceof w.Z&&a[1]instanceof w.Z)return(0,l.c)("relate",[a[0].toJSON(),a[1].toJSON(),(0,c.w)(a[2])]);if(a[0]instanceof w.Z&&null===a[1])return!1;if(a[1]instanceof w.Z&&null===a[0])return!1;if(null===a[0]&&null===a[1])return!1;throw new i.aV(t,i.rH.InvalidParameter,e)}))},n.functions.intersection=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>(a=(0,c.C)(a),(0,u.A9)(a,t,e),null===a[0]||null===a[1]?null:(0,g.im)(await(0,l.c)("intersection",[a[0].toJSON(),a[1].toJSON()])))))},n.functions.union=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{if(0===(a=(0,c.C)(a)).length)throw new i.aV(t,i.rH.WrongNumberOfParameters,e);const s=[];if(1===a.length)if((0,v.kJ)(a[0])){for(const n of(0,c.C)(a[0]))if(null!==n){if(!(n instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);s.push(n.toJSON())}}else{if(!(0,c.j)(a[0])){if(a[0]instanceof w.Z)return(0,c.D)((0,o.r1)(a[0]),t.spatialReference);if(null===a[0])return null;throw new i.aV(t,i.rH.InvalidParameter,e)}for(const n of(0,c.C)(a[0].toArray()))if(null!==n){if(!(n instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);s.push(n.toJSON())}}else for(const n of a)if(null!==n){if(!(n instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);s.push(n.toJSON())}return 0===s.length?null:(0,g.im)(await(0,l.c)("union",[s]))}))},n.functions.difference=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>(a=(0,c.C)(a),(0,u.A9)(a,t,e),null===a[0]?null:null===a[1]?(0,o.r1)(a[0]):(0,g.im)(await(0,l.c)("difference",[a[0].toJSON(),a[1].toJSON()])))))},n.functions.symmetricdifference=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>(a=(0,c.C)(a),(0,u.A9)(a,t,e),null===a[0]&&null===a[1]?null:null===a[0]?(0,o.r1)(a[1]):null===a[1]?(0,o.r1)(a[0]):(0,g.im)(await(0,l.c)("symmetricDifference",[a[0].toJSON(),a[1].toJSON()])))))},n.functions.clip=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{if(a=(0,c.C)(a),(0,c.B)(a,2,2,t,e),!(a[1]instanceof d.Z)&&null!==a[1])throw new i.aV(t,i.rH.InvalidParameter,e);if(null===a[0])return null;if(!(a[0]instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);return null===a[1]?null:(0,g.im)(await(0,l.c)("clip",[a[0].toJSON(),a[1].toJSON()]))}))},n.functions.cut=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{if(a=(0,c.C)(a),(0,c.B)(a,2,2,t,e),!(a[1]instanceof N.Z)&&null!==a[1])throw new i.aV(t,i.rH.InvalidParameter,e);if(null===a[0])return[];if(!(a[0]instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);return null===a[1]?[(0,o.r1)(a[0])]:(await(0,l.c)("cut",[a[0].toJSON(),a[1].toJSON()])).map((n=>(0,g.im)(n)))}))},n.functions.area=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{if((0,c.B)(a,1,2,t,e),a=(0,c.C)(a),(0,c.m)(a[0])){const n=await a[0].sumArea(Z(a[1]),null,t.abortSignal);if(t.abortSignal.aborted)throw new i.aV(t,i.rH.Cancelled,e);return n}let o=a[0];if(((0,v.kJ)(o)||(0,c.j)(o))&&(o=(0,c.E)(a[0],t.spatialReference)),null===o)return 0;if(!(o instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);return(0,l.c)("area",[o.toJSON(),Z(a[1])])}))},n.functions.areageodetic=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{(0,c.B)(a,1,3,t,e);let o=(a=(0,c.C)(a))[0];((0,v.kJ)(o)||(0,c.j)(o))&&(o=(0,c.E)(o,t.spatialReference));const s=Z(a[1]),f=(0,u.q2)(a[2]);if((0,c.m)(o)){const n=await o.sumArea(s,f,t.abortSignal);if(t.abortSignal.aborted)throw new i.aV(t,i.rH.Cancelled,e);return n}if(null==o)return 0;if(!(0,c.h)(o))throw new i.aV(t,i.rH.InvalidParameter,e);return(0,l.c)("geodeticArea",[o.toJSON(),s,f])}))},n.functions.length=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{if((0,c.B)(a,1,2,t,e),a=(0,c.C)(a),(0,c.m)(a[0])){const n=await a[0].sumLength(Z(a[1]),null,t.abortSignal);if(t.abortSignal.aborted)throw new i.aV(t,i.rH.Cancelled,e);return n}let o=a[0];if(((0,v.kJ)(a[0])||(0,c.j)(a[0]))&&(o=(0,c.F)(a[0],t.spatialReference)),null===o)return 0;if(!(o instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);return(0,l.c)("length",[o.toJSON(),Z(a[1])])}))},n.functions.length3d=function(t,r){return n.standardFunctionAsync(t,r,(async(n,a,o)=>{if((0,c.B)(o,1,2,t,r),null===(o=(0,c.C)(o))[0])return 0;let s=o[0];if(((0,v.kJ)(o[0])||(0,c.j)(o[0]))&&(s=(0,c.F)(o[0],t.spatialReference)),null===s)return 0;if(!(s instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,r);if(!0===s.hasZ){const{convertFromSpatialReferenceUnit:n,toLengthUnit:t}=await Promise.resolve().then(e.bind(e,1631)),r=(0,u.$1)(s);return n(s.spatialReference,t(o[1]),r)}return(0,l.c)("length",[s.toJSON(),Z(o[1])])}))},n.functions.lengthgeodetic=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{(0,c.B)(a,1,3,t,e);let o=(a=(0,c.C)(a))[0];((0,v.kJ)(a[0])||(0,c.j)(a[0]))&&(o=(0,c.F)(a[0],t.spatialReference));const s=Z(a[1]),f=(0,u.q2)(a[2]);if((0,c.m)(o)){const n=await o.sumLength(s,f,t.abortSignal);if(t.abortSignal.aborted)throw new i.aV(t,i.rH.Cancelled,e);return n}if(null===o)return 0;if(!(0,c.h)(o))throw new i.aV(t,i.rH.InvalidParameter,e);return(0,l.c)("geodeticLength",[o.toJSON(),s,f])}))},n.functions.distance=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{a=(0,c.C)(a),(0,c.B)(a,2,3,t,e);let o=a[0];if(((0,v.kJ)(a[0])||(0,c.j)(a[0]))&&(o=(0,c.G)(a[0],t.spatialReference)),!(o instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);let s=a[1];if(((0,v.kJ)(a[1])||(0,c.j)(a[1]))&&(s=(0,c.G)(a[1],t.spatialReference)),!(s instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);return(0,l.c)("distance",[o.toJSON(),s.toJSON(),Z(a[2])])}))},n.functions.distancegeodetic=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{a=(0,c.C)(a),(0,c.B)(a,2,4,t,e);const o=a[0];if(!(o instanceof m.Z))throw new i.aV(t,i.rH.InvalidParameter,e);const s=a[1];if(!(s instanceof m.Z))throw new i.aV(t,i.rH.InvalidParameter,e);const f=new N.Z({paths:[],spatialReference:o.spatialReference});return f.addPath([o,s]),(0,l.c)("geodeticLength",[f.toJSON(),Z(a[2]),(0,u.q2)(a[3])])}))},n.functions.densify=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{if(a=(0,c.C)(a),(0,c.B)(a,2,3,t,e),null===a[0])return null;if(!(a[0]instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);const o=(0,c.u)(a[1]);if(isNaN(o))throw new i.aV(t,i.rH.InvalidParameter,e);if(o<=0)throw new i.aV(t,i.rH.InvalidParameter,e);switch(a[0].type){case"polygon":case"polyline":case"extent":return(0,g.im)(await(0,l.c)("densify",[a[0].toJSON(),o,Z(a[2])]));default:return a[0]}}))},n.functions.densifygeodetic=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{a=(0,c.C)(a),(0,c.B)(a,2,4,t,e);const o=a[0];if(null==o)return null;if(!(0,c.h)(o))throw new i.aV(t,i.rH.InvalidParameter,e);const s=(0,c.u)(a[1]);if(isNaN(s))throw new i.aV(t,i.rH.InvalidParameter,e);if(s<=0)throw new i.aV(t,i.rH.InvalidParameter,e);const f=Z(a[2]),d=(0,u.q2)(a[3]);switch(o.type){case"polygon":case"polyline":case"extent":return(0,g.im)(await(0,l.c)("geodeticDensify",[o.toJSON(),s,f,d]));default:return o}}))},n.functions.generalize=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{if(a=(0,c.C)(a),(0,c.B)(a,2,4,t,e),null===a[0])return null;if(!(a[0]instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);const o=(0,c.u)(a[1]);if(isNaN(o))throw new i.aV(t,i.rH.InvalidParameter,e);const s=(0,c.H)((0,c.J)(a[2],!0));return(0,g.im)(await(0,l.c)("generalize",[a[0].toJSON(),o,Z(a[3]),{removeDegenerateParts:s}]))}))},n.functions.buffer=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{if(a=(0,c.C)(a),(0,c.B)(a,2,3,t,e),null===a[0])return null;if(!(a[0]instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);const s=(0,c.u)(a[1]);if(isNaN(s))throw new i.aV(t,i.rH.InvalidParameter,e);return 0===s?(0,o.r1)(a[0]):(0,g.im)(await(0,l.c)("buffer",[a[0].toJSON(),s,Z(a[2])]))}))},n.functions.buffergeodetic=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{a=(0,c.C)(a),(0,c.B)(a,2,4,t,e);const s=a[0];if(null==s)return null;if(!(0,c.h)(s))throw new i.aV(t,i.rH.InvalidParameter,e);const f=(0,c.u)(a[1]);if(isNaN(f))throw new i.aV(t,i.rH.InvalidParameter,e);if(0===f)return(0,o.r1)(s);const d=Z(a[2]),w=(0,u.q2)(a[3]);return(0,g.im)(await(0,l.c)("geodesicBuffer",[s.toJSON(),f,d,w]))}))},n.functions.offset=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{if(a=(0,c.C)(a),(0,c.B)(a,2,6,t,e),null===a[0])return null;if(!(a[0]instanceof y.Z||a[0]instanceof N.Z))throw new i.aV(t,i.rH.InvalidParameter,e);const o=(0,c.u)(a[1]);if(isNaN(o))throw new i.aV(t,i.rH.InvalidParameter,e);const s=(0,u.NV)(a[3]),f=(0,c.u)((0,c.J)(a[4],10));if(isNaN(f))throw new i.aV(t,i.rH.InvalidParameter,e);const d=(0,c.u)((0,c.J)(a[5],0));if(isNaN(d))throw new i.aV(t,i.rH.InvalidParameter,e);return(0,g.im)(await(0,l.c)("offset",[a[0].toJSON(),o,Z(a[2]),{joins:s,miterLimit:f,flattenError:d}]))}))},n.functions.rotate=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{if(a=(0,c.C)(a),(0,c.B)(a,2,3,t,e),null===a[0])return null;if(!(a[0]instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);const o=a[0]instanceof d.Z?y.Z.fromExtent(a[0]):a[0],s=(0,c.u)(a[1]);if(isNaN(s))throw new i.aV(t,i.rH.InvalidParameter,e);const u=(0,c.J)(a[2],null);if(null===u){const n="point"===o.type?o:o.extent?.center;return(0,g.im)(await(0,l.c)("rotate",[o.toJSON(),s,n?.x,n?.y]))}if(u instanceof m.Z)return(0,g.im)(await(0,l.c)("rotate",[o.toJSON(),s,u.x,u.y]));throw new i.aV(t,i.rH.InvalidParameter,e)}))},n.functions.centroid=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{if(a=(0,c.C)(a),(0,c.B)(a,1,2,t,e),null===a[0])return null;const o=(0,u.Y1)(a[1]);let s=a[0];if(((0,v.kJ)(a[0])||(0,c.j)(a[0]))&&(s="geometric"===o?(0,c.G)(a[0],t.spatialReference):(0,c.E)(a[0],t.spatialReference),null===s))return null;if(!(s instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);return(0,g.im)("geometric"===o?await(0,l.c)("centroid",[s.toJSON()]):await(0,l.c)("labelPoint",[s.toJSON()]))}))},n.functions.measuretocoordinate=function(t,e){return n.standardFunctionAsync(t,e,u.vt)},n.functions.pointtocoordinate=function(t,e){return n.standardFunctionAsync(t,e,u.z$)},n.functions.distancetocoordinate=function(t,e){return n.standardFunctionAsync(t,e,u.gc)},n.functions.multiparttosinglepart=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{if(a=(0,c.C)(a),(0,c.B)(a,1,1,t,e),null===a[0])return null;if(!(a[0]instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);if(a[0]instanceof m.Z)return[(0,c.D)((0,o.r1)(a[0]),t.spatialReference)];if(a[0]instanceof d.Z)return[(0,c.D)((0,o.r1)(a[0]),t.spatialReference)];const s=(0,g.im)(await(0,l.c)("simplify",[a[0].toJSON()]));if(s instanceof y.Z){const n=[],t=[];for(let e=0;e<s.rings.length;e++)if(s.isClockwise(s.rings[e])){const t=(0,g.im)({rings:[s.rings[e]],hasZ:!0===s.hasZ,hasM:!0===s.hasM,spatialReference:s.spatialReference.toJSON()});n.push(t)}else t.push({ring:s.rings[e],pt:s.getPoint(e,0)});for(let e=0;e<t.length;e++)for(let r=0;r<n.length;r++)if(n[r].contains(t[e].pt)){n[r].addRing(t[e].ring);break}return n}if(s instanceof N.Z){const n=[];for(let t=0;t<s.paths.length;t++){const e=(0,g.im)({paths:[s.paths[t]],hasZ:!0===s.hasZ,hasM:!0===s.hasM,spatialReference:s.spatialReference.toJSON()});n.push(e)}return n}if(a[0]instanceof h.Z){const n=[],e=(0,c.D)((0,o.r1)(a[0]),t.spatialReference);for(let t=0;t<e.points.length;t++)n.push(e.getPoint(t));return n}return null}))},n.functions.isselfintersecting=function(t,e){return n.standardFunctionAsync(t,e,(async(n,t,e)=>{(0,c.B)(e,1,1,n,t);let r=(e=(0,c.C)(e))[0];if(((0,v.kJ)(e[0])||(0,c.j)(e[0]))&&(r=(0,c.F)(e[0],n.spatialReference)),r instanceof h.Z){const n=r.points;for(let t=0;t<n.length;t++)for(let e=t+1;e<n.length;e++)if((0,f.fS)(n[t],n[e]))return!0;return!1}return(r instanceof N.Z||r instanceof y.Z)&&await(0,l.c)("isSelfIntersecting",[r.toJSON()])}))},n.functions.issimple=function(t,e){return n.standardFunctionAsync(t,e,((n,r,a)=>{if(a=(0,c.C)(a),(0,c.B)(a,1,1,t,e),null===a[0])return!0;if(!(a[0]instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);return(0,l.c)("isSimple",[a[0].toJSON()])}))},n.functions.simplify=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{if(a=(0,c.C)(a),(0,c.B)(a,1,1,t,e),null===a[0])return null;if(!(a[0]instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);return(0,g.im)(await(0,l.c)("simplify",[a[0].toJSON()]))}))},n.functions.convexhull=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,a)=>{if(a=(0,c.C)(a),(0,c.B)(a,1,1,t,e),null===a[0])return null;if(!(a[0]instanceof w.Z))throw new i.aV(t,i.rH.InvalidParameter,e);return(0,g.im)(await(0,l.c)("convexHull",[a[0].toJSON()]))}))},n.functions.getuser=function(t,e){return n.standardFunctionAsync(t,e,(async(n,o,u)=>{(0,c.B)(u,0,2,t,e);let l=(0,c.J)(u[1],""),f=!0===l;if(l=!0===l||!1===l?"":(0,c.w)(l),0===u.length||u[0]instanceof r.Z){let n;n=t.services?.portal?t.services.portal:S.Z.getDefault(),u.length>0&&(n=(0,s._)(u[0],n));const e=await O(n,l,f);if(e){const n=JSON.parse(JSON.stringify(e));for(const t of["lastLogin","created","modified"])void 0!==n[t]&&null!==n[t]&&(n[t]=new Date(n[t]));return a.Z.convertObjectToArcadeDictionary(n,(0,c.K)(t))}return null}let d=null;if((0,c.m)(u[0])&&(d=u[0]),d){if(f=!1,l)return null;await d.load();const n=await d.getOwningSystemUrl();if(!n){if(!l){const n=await d.getIdentityUser();return n?a.Z.convertObjectToArcadeDictionary({username:n},(0,c.K)(t)):null}return null}let e;e=t.services?.portal?t.services.portal:S.Z.getDefault(),e=(0,s._)(new r.Z(n),e);const i=await O(e,l,f);if(i){const n=JSON.parse(JSON.stringify(i));for(const t of["lastLogin","created","modified"])void 0!==n[t]&&null!==n[t]&&(n[t]=new Date(n[t]));return a.Z.convertObjectToArcadeDictionary(n,(0,c.K)(t))}return null}throw new i.aV(t,i.rH.InvalidParameter,e)}))},n.functions.nearestcoordinate=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,o)=>{if(o=(0,c.C)(o),(0,c.B)(o,2,2,t,e),!(o[0]instanceof w.Z||null===o[0]))throw new i.aV(t,i.rH.InvalidParameter,e);if(!(o[1]instanceof m.Z||null===o[1]))throw new i.aV(t,i.rH.InvalidParameter,e);if(null===o[0]||null===o[1])return null;const s=o[0]instanceof d.Z?y.Z.fromExtent(o[0]):o[0],u=await(0,l.c)("getNearestCoordinate",[s.toJSON(),o[1].toJSON(),{calculateLeftRightSide:!0}]);return null===u?null:a.Z.convertObjectToArcadeDictionary({coordinate:(0,g.im)(u.coordinate),distance:u.distance,sideOfLine:0===u.distance?"straddle":u.isRightSide?"right":"left"},(0,c.K)(t),!1,!0)}))},n.functions.nearestvertex=function(t,e){return n.standardFunctionAsync(t,e,(async(n,r,o)=>{if(o=(0,c.C)(o),(0,c.B)(o,2,2,t,e),!(o[0]instanceof w.Z||null===o[0]))throw new i.aV(t,i.rH.InvalidParameter,e);if(!(o[1]instanceof m.Z||null===o[1]))throw new i.aV(t,i.rH.InvalidParameter,e);if(null===o[0]||null===o[1])return null;const s=o[0]instanceof d.Z?y.Z.fromExtent(o[0]):o[0],u=await(0,l.c)("getNearestVertex",[s.toJSON(),o[1].toJSON()]);return null===u?null:a.Z.convertObjectToArcadeDictionary({coordinate:(0,g.im)(u.coordinate),distance:u.distance,sideOfLine:0===u.distance?"straddle":u.isRightSide?"right":"left"},(0,c.K)(t),!1,!0)}))})}},9079:function(n,t,e){e.d(t,{c:function(){return s}});var r=e(82592);let a,i,o=!1;function c(){return a??=(0,r.bA)("arcadeGeometryOperatorsWorker").then((n=>{i=n,o=!0,a=void 0}))}async function s(n,t){return o?i.apply("invokeGeometryOp",[n,t]):(await c(),s(n,t))}},10921:function(n,t,e){e.d(t,{_:function(){return a}});var r=e(77601);function a(n,t){return null===n?t:new r.Z({url:n.field("url")})}}}]);