"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[65344],{38874:function(t,e,n){function r(t,e,n){n=n||2;var r,i,l,u,a,c,p,h=e&&e.length,x=h?e[0]*n:t.length,y=o(t,0,x,n,!0),d=[];if(!y||y.next===y.prev)return d;if(h&&(y=f(t,e,y,n)),t.length>80*n){r=l=t[0],i=u=t[1];for(var g=n;g<x;g+=n)(a=t[g])<r&&(r=a),(c=t[g+1])<i&&(i=c),a>l&&(l=a),c>u&&(u=c);p=0!==(p=Math.max(l-r,u-i))?1/p:0}return s(y,d,n,r,i,p),d}function o(t,e,n,r,o){var i,s;if(o===N(t,e,n,r)>0)for(i=e;i<n;i+=r)s=Z(i,t[i],t[i+1],s);else for(i=n-r;i>=e;i-=r)s=Z(i,t[i],t[i+1],s);if(s&&b(s,s.next)){var l=s.next;E(s),s=l}return s}function i(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!b(r,r.next)&&0!==w(r.prev,r,r.next))r=r.next;else{var o=r.prev;if(E(r),(r=e=o)===r.next)break;n=!0}}while(n||r!==e);return e}function s(t,e,n,r,o,f,p){if(t){!p&&f&&d(t,r,o,f);for(var h,x,y=t;t.prev!==t.next;)if(h=t.prev,x=t.next,f?u(t,r,o,f):l(t))e.push(h.i/n),e.push(t.i/n),e.push(x.i/n),E(t),t=x.next,y=x.next;else if((t=x)===y){p?1===p?s(t=a(i(t),e,n),e,n,r,o,f,2):2===p&&c(t,e,n,r,o,f):s(i(t),e,n,r,o,f,1);break}}}function l(t){var e=t.prev,n=t,r=t.next;if(w(e,n,r)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(v(e.x,e.y,n.x,n.y,r.x,r.y,o.x,o.y)&&w(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function u(t,e,n,r){var o=t.prev,i=t,s=t.next;if(w(o,i,s)>=0)return!1;for(var l=o.x<i.x?o.x<s.x?o.x:s.x:i.x<s.x?i.x:s.x,u=o.y<i.y?o.y<s.y?o.y:s.y:i.y<s.y?i.y:s.y,a=o.x>i.x?o.x>s.x?o.x:s.x:i.x>s.x?i.x:s.x,c=o.y>i.y?o.y>s.y?o.y:s.y:i.y>s.y?i.y:s.y,f=g(l,u,e,n,r),p=g(a,c,e,n,r),h=t.prevZ,x=t.nextZ;h&&h.z>=f&&x&&x.z<=p;){if(h!==t.prev&&h!==t.next&&v(o.x,o.y,i.x,i.y,s.x,s.y,h.x,h.y)&&w(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,x!==t.prev&&x!==t.next&&v(o.x,o.y,i.x,i.y,s.x,s.y,x.x,x.y)&&w(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;h&&h.z>=f;){if(h!==t.prev&&h!==t.next&&v(o.x,o.y,i.x,i.y,s.x,s.y,h.x,h.y)&&w(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;x&&x.z<=p;){if(x!==t.prev&&x!==t.next&&v(o.x,o.y,i.x,i.y,s.x,s.y,x.x,x.y)&&w(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function a(t,e,n){var r=t;do{var o=r.prev,s=r.next.next;!b(o,s)&&A(o,r,r.next,s)&&M(o,s)&&M(s,o)&&(e.push(o.i/n),e.push(r.i/n),e.push(s.i/n),E(r),E(r.next),r=t=s),r=r.next}while(r!==t);return i(r)}function c(t,e,n,r,o,l){var u=t;do{for(var a=u.next.next;a!==u.prev;){if(u.i!==a.i&&T(u,a)){var c=R(u,a);return u=i(u,u.next),c=i(c,c.next),s(u,e,n,r,o,l),void s(c,e,n,r,o,l)}a=a.next}u=u.next}while(u!==t)}function f(t,e,n,r){var s,l,u,a=[];for(s=0,l=e.length;s<l;s++)(u=o(t,e[s]*r,s<l-1?e[s+1]*r:t.length,r,!1))===u.next&&(u.steiner=!0),a.push(m(u));for(a.sort(p),s=0;s<a.length;s++)n=i(n=x(a[s],n),n.next);return n}function p(t,e){return t.x-e.x}function h(t){if(t.next.prev===t)return t;let e=t;for(;;){const n=e.next;if(n.prev===e||n===e||n===t)break;e=n}return e}function x(t,e){var n=function(t,e){var n,r=e,o=t.x,i=t.y,s=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var l=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(l<=o&&l>s){if(s=l,l===o){if(i===r.y)return r;if(i===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(o===s)return n;var u,a=n,c=n.x,f=n.y,p=1/0;r=n;do{o>=r.x&&r.x>=c&&o!==r.x&&v(i<f?o:s,i,c,f,i<f?s:o,i,r.x,r.y)&&(u=Math.abs(i-r.y)/(o-r.x),M(r,t)&&(u<p||u===p&&(r.x>n.x||r.x===n.x&&y(n,r)))&&(n=r,p=u)),r=r.next}while(r!==a);return n}(t,e);if(!n)return e;var r=R(n,t),o=i(n,n.next);let s=h(r);return i(s,s.next),o=h(o),h(e===n?o:e)}function y(t,e){return w(t.prev,t,e.prev)<0&&w(e.next,t,t.next)<0}function d(t,e,n,r){var o=t;do{null===o.z&&(o.z=g(o.x,o.y,e,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,n,r,o,i,s,l,u,a=1;do{for(n=t,t=null,i=null,s=0;n;){for(s++,r=n,l=0,e=0;e<a&&(l++,r=r.nextZ);e++);for(u=a;l>0||u>0&&r;)0!==l&&(0===u||!r||n.z<=r.z)?(o=n,n=n.nextZ,l--):(o=r,r=r.nextZ,u--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;n=r}i.nextZ=null,a*=2}while(s>1)}(o)}function g(t,e,n,r,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*o)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*o)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function m(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function v(t,e,n,r,o,i,s,l){return(o-s)*(e-l)-(t-s)*(i-l)>=0&&(t-s)*(r-l)-(n-s)*(e-l)>=0&&(n-s)*(i-l)-(o-s)*(r-l)>=0}function T(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&A(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(M(t,e)&&M(e,t)&&function(t,e){var n=t,r=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do{n.y>i!=n.next.y>i&&n.next.y!==n.y&&o<(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(w(t.prev,t,e.prev)||w(t,e.prev,e))||b(t,e)&&w(t.prev,t,t.next)>0&&w(e.prev,e,e.next)>0)}function w(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function A(t,e,n,r){var o=C(w(t,e,n)),i=C(w(t,e,r)),s=C(w(n,r,t)),l=C(w(n,r,e));return o!==i&&s!==l||!(0!==o||!_(t,n,e))||!(0!==i||!_(t,r,e))||!(0!==s||!_(n,t,r))||!(0!==l||!_(n,e,r))}function _(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function C(t){return t>0?1:t<0?-1:0}function M(t,e){return w(t.prev,t,t.next)<0?w(t,e,t.next)>=0&&w(t,t.prev,e)>=0:w(t,e,t.prev)<0||w(t,t.next,e)<0}function R(t,e){var n=new S(t.i,t.x,t.y),r=new S(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,n.next=o,o.prev=n,r.next=n,n.prev=r,i.next=r,r.prev=i,r}function Z(t,e,n,r){var o=new S(t,e,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function S(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function N(t,e,n,r){for(var o=0,i=e,s=n-r;i<n;i+=r)o+=(t[s]-t[i])*(t[i+1]+t[s+1]),s=i;return o}n.d(e,{e:function(){return r}}),r.deviation=function(t,e,n,r){var o=e&&e.length,i=o?e[0]*n:t.length,s=Math.abs(N(t,0,i,n));if(o)for(var l=0,u=e.length;l<u;l++){var a=e[l]*n,c=l<u-1?e[l+1]*n:t.length;s-=Math.abs(N(t,a,c,n))}var f=0;for(l=0;l<r.length;l+=3){var p=r[l]*n,h=r[l+1]*n,x=r[l+2]*n;f+=Math.abs((t[p]-t[x])*(t[h+1]-t[p+1])-(t[p]-t[h])*(t[x+1]-t[p+1]))}return 0===s&&0===f?0:Math.abs((f-s)/s)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var s=0;s<e;s++)n.vertices.push(t[o][i][s]);o>0&&(r+=t[o-1].length,n.holes.push(r))}return n}},91426:function(t,e,n){n.d(e,{a:function(){return i},b:function(){return c},l:function(){return a},n:function(){return l},t:function(){return s}});var r=n(38461),o=(n(61432),n(96711));function i(t,e,n){s(t.typedBuffer,e.typedBuffer,n,t.typedBufferStride,e.typedBufferStride)}function s(t,e,n,r=4,o=r){if(t.length/r!=e.length/o)return;const i=t.length/r,s=n[0],l=n[1],u=n[2],a=n[3],c=n[4],f=n[5],p=n[6],h=n[7],x=n[8];let y=0,d=0;for(let n=0;n<i;n++){const n=e[y],i=e[y+1],g=e[y+2],m=e[y+3];t[d]=s*n+a*i+p*g,t[d+1]=l*n+c*i+h*g,t[d+2]=u*n+f*i+x*g,t[d+3]=m,y+=o,d+=r}}function l(t,e){const n=Math.min(t.count,e.count),r=t.typedBuffer,o=t.typedBufferStride,i=e.typedBuffer,s=e.typedBufferStride;for(let t=0;t<n;t++){const e=t*o,n=t*s,l=i[n],u=i[n+1],a=i[n+2],c=l*l+u*u+a*a;if(c>0){const t=1/Math.sqrt(c);r[e]=t*l,r[e+1]=t*u,r[e+2]=t*a}}}function u(t,e,n,r=4){const o=Math.min(t.length/r,e.count),i=e.typedBuffer,s=e.typedBufferStride;let l=0,u=0;for(let e=0;e<o;e++)t[u]=n*i[l],t[u+1]=n*i[l+1],t[u+2]=n*i[l+2],t[u+3]=n*i[l+3],l+=s,u+=r}function a(t,e,n,r){c(t.typedBuffer,e,n,r,t.typedBufferStride)}function c(t,e,n,o,i=4){const s=Math.min(t.length/i,e.count),l=e.typedBuffer,u=e.typedBufferStride;let a=0,c=0;const f=1/r.jm;for(let e=0;e<s;e++)t[c]=o*(n*l[a])**f,t[c+1]=o*(n*l[a+1])**f,t[c+2]=o*(n*l[a+2])**f,t[c+3]=o*n*l[a+3],a+=u,c+=i}Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:c,linearToSRGBView:a,normalize:l,scale:u,scaleView:function(t,e,n){u(t.typedBuffer,e,n,t.typedBufferStride)},transformMat3:s,transformMat3View:i,transformMat4:function(t,e,n,r=4,i=r){if(t.length/r!=e.length/i)return void o.Z.getLogger("esri.views.3d.support.buffer.math").error("source and destination buffers need to have the same number of elements");const s=t.length/r,l=n[0],u=n[1],a=n[2],c=n[3],f=n[4],p=n[5],h=n[6],x=n[7],y=n[8],d=n[9],g=n[10],m=n[11],v=n[12],T=n[13],w=n[14],b=n[15];let A=0,_=0;for(let n=0;n<s;n++){const n=e[A],o=e[A+1],s=e[A+2],C=e[A+3];t[_]=l*n+f*o+y*s+v*C,t[_+1]=u*n+p*o+d*s+T*C,t[_+2]=a*n+h*o+g*s+w*C,t[_+3]=c*n+x*o+m*s+b*C,A+=i,_+=r}},transformMat4View:function(t,e,n){if(t.count!==e.count)return;const r=t.count,o=n[0],i=n[1],s=n[2],l=n[3],u=n[4],a=n[5],c=n[6],f=n[7],p=n[8],h=n[9],x=n[10],y=n[11],d=n[12],g=n[13],m=n[14],v=n[15],T=t.typedBuffer,w=t.typedBufferStride,b=e.typedBuffer,A=e.typedBufferStride;for(let t=0;t<r;t++){const e=t*w,n=t*A,r=b[n],_=b[n+1],C=b[n+2],M=b[n+3];T[e]=o*r+u*_+p*C+d*M,T[e+1]=i*r+a*_+h*C+g*M,T[e+2]=s*r+c*_+x*C+m*M,T[e+3]=l*r+f*_+y*C+v*M}}},Symbol.toStringTag,{value:"Module"}))},7148:function(t,e,n){n.d(e,{Z:function(){return y}});var r,o=n(73440),i=n(63255),s=n(28947),l=n(96711),u=n(17155),a=n(90775),c=n(48023),f=n(95226),p=n(65122),h=n(99310),x=n(69460);let y=r=class extends i.Z{static from(t){return(0,f.TJ)(r,t)}constructor(t){super(t),this.faces=null,this.material=null,this.name=void 0,this.shading="source",this.trustSourceNormals=!1}castFaces(t){return(0,x.X)(t,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},l.Z.getLogger(this))}castMaterial(t){return(0,f.TJ)(t&&"object"==typeof t&&("metallic"in t||"roughness"in t||"metallicRoughnessTexture"in t)?h.Z:p.Z,t)}clone(){return new r({faces:(0,s.d9)(this.faces),shading:this.shading,material:(0,s.d9)(this.material),trustSourceNormals:this.trustSourceNormals,name:this.name})}cloneWithDeduplication(t,e){const n={faces:(0,s.d9)(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(t,e):null,trustSourceNormals:this.trustSourceNormals,name:this.name};return new r(n)}get memoryUsage(){let t=0;return null!=this.faces&&(t+=this.faces.byteLength),null!=this.material&&(t+=this.material.memoryUsage),t}};(0,o._)([(0,u.Cb)({json:{write:x.d}})],y.prototype,"faces",void 0),(0,o._)([(0,a.p)("faces")],y.prototype,"castFaces",null),(0,o._)([(0,u.Cb)({type:p.Z,json:{write:!0}})],y.prototype,"material",void 0),(0,o._)([(0,a.p)("material")],y.prototype,"castMaterial",null),(0,o._)([(0,u.Cb)({json:{write:!0}})],y.prototype,"name",void 0),(0,o._)([(0,u.Cb)({type:String,json:{write:!0}})],y.prototype,"shading",void 0),(0,o._)([(0,u.Cb)({type:Boolean})],y.prototype,"trustSourceNormals",void 0),y=r=(0,o._)([(0,c.j)("esri.geometry.support.MeshComponent")],y)},65122:function(t,e,n){n.d(e,{Z:function(){return f}});var r,o=n(73440),i=n(53147),s=n(63255),l=n(17155),u=(n(61432),n(96711),n(83850),n(48023)),a=n(59639),c=n(72002);let f=r=class extends s.Z{constructor(t){super(t),this.color=null,this.colorTexture=null,this.colorTextureTransform=null,this.normalTexture=void 0,this.normalTextureTransform=void 0,this.alphaMode="auto",this.alphaCutoff=.5,this.doubleSided=!0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(t,e){const n=null!=t?t.get(this):null;if(n)return n;const o=new r(this.clonePropertiesWithDeduplication(e));return null!=t&&t.set(this,o),o}clonePropertiesWithDeduplication(t){return{color:null!=this.color?this.color.clone():null,colorTexture:this.colorTexture?.cloneWithDeduplication(t),normalTexture:this.normalTexture?.cloneWithDeduplication(t),alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided,colorTextureTransform:this.colorTextureTransform?.clone(),normalTextureTransform:this.normalTextureTransform?.clone()}}get memoryUsage(){return this.getMemoryUsage()}getMemoryUsage(){let t=0;return t+=null!=this.color?16:0,null!=this.colorTexture&&(t+=this.colorTexture.memoryUsage),t+=null!=this.colorTextureTransform?20:0,null!=this.normalTexture&&(t+=this.normalTexture.memoryUsage),t+=null!=this.normalTextureTransform?20:0,t}};(0,o._)([(0,l.Cb)({type:i.Z,json:{write:!0}})],f.prototype,"color",void 0),(0,o._)([(0,l.Cb)({type:a.Z,json:{write:!0}})],f.prototype,"colorTexture",void 0),(0,o._)([(0,l.Cb)({type:c.Z,json:{write:!0}})],f.prototype,"colorTextureTransform",void 0),(0,o._)([(0,l.Cb)({type:a.Z,json:{write:!0}})],f.prototype,"normalTexture",void 0),(0,o._)([(0,l.Cb)({type:c.Z,json:{write:!0}})],f.prototype,"normalTextureTransform",void 0),(0,o._)([(0,l.Cb)({nonNullable:!0,json:{write:!0}})],f.prototype,"alphaMode",void 0),(0,o._)([(0,l.Cb)({nonNullable:!0,json:{write:!0}})],f.prototype,"alphaCutoff",void 0),(0,o._)([(0,l.Cb)({nonNullable:!0,json:{write:!0}})],f.prototype,"doubleSided",void 0),f=r=(0,o._)([(0,u.j)("esri.geometry.support.MeshMaterial")],f)},99310:function(t,e,n){n.d(e,{Z:function(){return f}});var r,o=n(73440),i=n(53147),s=n(17155),l=(n(61432),n(96711),n(83850),n(48023)),u=n(65122),a=n(59639),c=n(72002);let f=r=class extends u.Z{constructor(t){super(t),this.emissiveColor=null,this.emissiveTexture=null,this.emissiveTextureTransform=void 0,this.occlusionTexture=null,this.occlusionTextureTransform=void 0,this.metallic=1,this.roughness=1,this.metallicRoughnessTexture=null,this.metallicRoughnessTextureTransform=void 0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(t,e){const n=null!=t?t.get(this):null;if(n)return n;const o=new r(this.clonePropertiesWithDeduplication(e));return null!=t&&t.set(this,o),o}getMemoryUsage(){let t=super.getMemoryUsage();return t+=null!=this.emissiveColor?16:0,null!=this.emissiveTexture&&(t+=this.emissiveTexture.memoryUsage),t+=null!=this.emissiveTextureTransform?20:0,null!=this.occlusionTexture&&(t+=this.occlusionTexture.memoryUsage),t+=null!=this.occlusionTextureTransform?20:0,null!=this.metallicRoughnessTexture&&(t+=this.metallicRoughnessTexture.memoryUsage),t+=null!=this.metallicRoughnessTextureTransform?20:0,t}clonePropertiesWithDeduplication(t){return{...super.clonePropertiesWithDeduplication(t),emissiveColor:this.emissiveColor?.clone(),emissiveTexture:this.emissiveTexture?.cloneWithDeduplication(t),emissiveTextureTransform:this.emissiveTextureTransform?.clone(),occlusionTexture:this.occlusionTexture?.cloneWithDeduplication(t),occlusionTextureTransform:this.occlusionTextureTransform?.clone(),metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:this.metallicRoughnessTexture?.cloneWithDeduplication(t),metallicRoughnessTextureTransform:this.metallicRoughnessTextureTransform?.clone()}}};(0,o._)([(0,s.Cb)({type:i.Z,json:{write:!0}})],f.prototype,"emissiveColor",void 0),(0,o._)([(0,s.Cb)({type:a.Z,json:{write:!0}})],f.prototype,"emissiveTexture",void 0),(0,o._)([(0,s.Cb)({type:c.Z,json:{write:!0}})],f.prototype,"emissiveTextureTransform",void 0),(0,o._)([(0,s.Cb)({type:a.Z,json:{write:!0}})],f.prototype,"occlusionTexture",void 0),(0,o._)([(0,s.Cb)({type:c.Z,json:{write:!0}})],f.prototype,"occlusionTextureTransform",void 0),(0,o._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],f.prototype,"metallic",void 0),(0,o._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],f.prototype,"roughness",void 0),(0,o._)([(0,s.Cb)({type:a.Z,json:{write:!0}})],f.prototype,"metallicRoughnessTexture",void 0),(0,o._)([(0,s.Cb)({type:c.Z,json:{write:!0}})],f.prototype,"metallicRoughnessTextureTransform",void 0),f=r=(0,o._)([(0,l.j)("esri.geometry.support.MeshMaterialMetallicRoughness")],f)},59639:function(t,e,n){n.d(e,{Z:function(){return y}});var r,o=n(73440),i=(n(61432),n(35236)),s=n(63255),l=n(17155),u=n(95226),a=(n(83850),n(1194)),c=n(48023),f=n(29884),p=n(28938);const h=new WeakMap;let x=0,y=class extends s.Z{static{r=this}constructor(t){super(t),this.wrap="repeat"}get url(){return this._get("url")||null}set url(t){this._set("url",t),t&&this._set("data",null)}get data(){return this._get("data")||null}set data(t){this._set("data",t),t&&this._set("url",null)}writeData(t,e,n,r){if(t instanceof HTMLImageElement){const o={type:"image-element",src:(0,p.t)(t.src,r),crossOrigin:t.crossOrigin};e[n]=o}else if(t instanceof HTMLCanvasElement){const r={type:"canvas-element",imageData:d(t.getContext("2d").getImageData(0,0,t.width,t.height))};e[n]=r}else if(t instanceof HTMLVideoElement){const o={type:"video-element",src:(0,p.t)(t.src,r),autoplay:t.autoplay,loop:t.loop,muted:t.muted,crossOrigin:t.crossOrigin,preload:t.preload};e[n]=o}else if(t instanceof ImageData){const r={type:"image-data",imageData:d(t)};e[n]=r}}readData(t){switch(t.type){case"image-element":{const e=new Image;return e.src=t.src,e.crossOrigin=t.crossOrigin,e}case"canvas-element":{const e=g(t.imageData),n=document.createElement("canvas");return n.width=e.width,n.height=e.height,n.getContext("2d").putImageData(e,0,0),n}case"image-data":return g(t.imageData);case"video-element":{const e=document.createElement("video");return e.src=t.src,e.crossOrigin=t.crossOrigin,e.autoplay=t.autoplay,e.loop=t.loop,e.muted=t.muted,e.preload=t.preload,e}default:return}}get transparent(){const{data:t,url:e}=this,n=t=>t?.toLowerCase().endsWith(".png")||t?.toLocaleLowerCase().startsWith("data:image/png;");return t instanceof HTMLCanvasElement?m(t.getContext("2d").getImageData(0,0,t.width,t.height)):t instanceof ImageData?m(t):!(!e||!n(e))||!!(t instanceof HTMLImageElement&&n(t.src))}set transparent(t){this._overrideIfSome("transparent",t)}get contentHash(){const t="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?`${this.wrap.horizontal}/${this.wrap.vertical}`:"",e=(e="")=>`d:${e},t:${this.transparent},w:${t}`;return null!=this.url?e(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?e(this.data.src):(h.has(this.data)||h.set(this.data,++x),e(h.get(this.data))):e()}get memoryUsage(){let t=0;if(t+=null!=this.url?this.url.length:0,null!=this.data){const e=this.data;"data"in e?t+=e.data.byteLength:e instanceof HTMLImageElement?t+=e.naturalWidth*e.naturalHeight*3:e instanceof HTMLCanvasElement&&(t+=e.width*e.height*3)}return t}clone(){const t={url:this.url,data:this.data,transparent:this.transparent,wrap:this._cloneWrap()};return new r(t)}cloneWithDeduplication(t){const e=t.get(this);if(e)return e;const n=this.clone();return t.set(this,n),n}_cloneWrap(){return"string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}static from(t){return"string"==typeof t?new r({url:t}):t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageData||t instanceof HTMLVideoElement?new r({data:t}):(0,u.TJ)(r,t)}};function d(t){let e="";for(let n=0;n<t.data.length;n++)e+=String.fromCharCode(t.data[n]);return{data:btoa(e),width:t.width,height:t.height}}function g(t){const e=atob(t.data),n=new Uint8ClampedArray(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return(0,i.Jl)(n,t.width,t.height)}function m(t){for(let e=3;e<t.data.length;e+=4)if(255!==t.data[e])return!0;return!1}(0,o._)([(0,l.Cb)({type:String,json:{write:p.w}})],y.prototype,"url",null),(0,o._)([(0,l.Cb)({json:{write:{overridePolicy(){return{enabled:!this.url}}}}}),(0,l.Cb)()],y.prototype,"data",null),(0,o._)([(0,f.c)("data")],y.prototype,"writeData",null),(0,o._)([(0,a.r)("data")],y.prototype,"readData",null),(0,o._)([(0,l.Cb)({type:Boolean,json:{write:{overridePolicy(){return{enabled:this._isOverridden("transparent")}}}}})],y.prototype,"transparent",null),(0,o._)([(0,l.Cb)({json:{write:!0}})],y.prototype,"wrap",void 0),(0,o._)([(0,l.Cb)({readOnly:!0})],y.prototype,"contentHash",null),y=r=(0,o._)([(0,c.j)("esri.geometry.support.MeshTexture")],y)},72002:function(t,e,n){n.d(e,{Z:function(){return u}});var r=n(73440),o=n(89314),i=n(63255),s=n(17155),l=(n(61432),n(96711),n(83850),n(48023));let u=class extends(o.Z.ClonableMixin(i.Z)){constructor(t){super(t),this.offset=[0,0],this.rotation=0,this.scale=[1,1]}};(0,r._)([(0,s.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],u.prototype,"offset",void 0),(0,r._)([(0,s.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],u.prototype,"rotation",void 0),(0,r._)([(0,s.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],u.prototype,"scale",void 0),u=(0,r._)([(0,l.j)("esri.geometry.support.MeshTextureTransform")],u)},69460:function(t,e,n){function r(t,e,n,r){const{loggerTag:o,stride:i}=e;return t.length%i!=0?(r.error(o,`Invalid array length, expected a multiple of ${i}`),new n([])):t}function o(t,e,n,o,i){if(!t)return t;if(t instanceof e)return r(t,o,e,i);for(const s of n)if(t instanceof s)return r(new e(t),o,e,i);if(Array.isArray(t))return r(new e(t),o,e,i);{const r=n.map((t=>`'${t.name}'`));return i.error(`Failed to set property, expected one of ${r}, but got ${t.constructor.name}`),new e([])}}function i(t,e,n){e[n]=function(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=t[n];return e}(t)}n.d(e,{X:function(){return o},d:function(){return i}})},66040:function(t,e,n){n.d(e,{d:function(){return i}});var r=n(99574),o=n(38766);function i(t,e,n){const i=Array.isArray(t),c=i?t.length/e:t.byteLength/(4*e),f=i?t:new Uint32Array(t,0,c*e),p=n?.minReduction??0,h=n?.originalIndices||null,x=h?h.length:0,y=n?.componentOffsets||null;let d=0;if(y)for(let t=0;t<y.length-1;t++){const e=y[t+1]-y[t];e>d&&(d=e)}else d=c;const g=Math.floor(1.1*d)+1;(null==a||a.length<2*g)&&(a=new Uint32Array((0,r.Sf)(2*g)));for(let t=0;t<2*g;t++)a[t]=0;let m=0;const v=!!y&&!!h,T=v?x:c;let w=(0,o.$z)(c);const b=new Uint32Array(x),A=1.96;let _=0!==p?Math.ceil(4*A*A/(p*p)*p*(1-p)):T,C=1,M=y?y[1]:T;for(let t=0;t<T;t++){if(t===_){const e=1-m/t;if(e+A*Math.sqrt(e*(1-e)/t)<p)return null;_*=2}if(t===M){for(let t=0;t<2*g;t++)a[t]=0;if(h)for(let t=y[C-1];t<y[C];t++)b[t]=w[h[t]];M=y[++C]}const n=v?h[t]:t,r=n*e,o=u(f,r,e);let i=o%g,l=m;for(;0!==a[2*i+1];){if(a[2*i]===o){const t=a[2*i+1]-1;if(s(f,r,t*e,e)){l=w[t];break}}i++,i>=g&&(i-=g)}l===m&&(a[2*i]=o,a[2*i+1]=n+1,m++),w[n]=l}if(0!==p&&1-m/c<p)return null;if(v){for(let t=y[C-1];t<b.length;t++)b[t]=w[h[t]];w=(0,o.UB)(b)}const R=i?new Array(m):new Uint32Array(m*e);m=0;for(let t=0;t<T;t++)w[t]===m&&(l(f,(v?h[t]:t)*e,R,m*e,e),m++);if(h&&!v){const t=new Uint32Array(x);for(let e=0;e<t.length;e++)t[e]=w[h[e]];w=(0,o.UB)(t)}return{buffer:Array.isArray(R)?R:R.buffer,indices:w,uniqueCount:m}}function s(t,e,n,r){for(let o=0;o<r;o++)if(t[e+o]!==t[n+o])return!1;return!0}function l(t,e,n,r,o){for(let i=0;i<o;i++)n[r+i]=t[e+i]}function u(t,e,n){let r=0;for(let o=0;o<n;o++)r=t[e+o]+r|0,r=r+(r<<11)+(r>>>2)|0;return r>>>0}let a=null},17966:function(t,e,n){n.d(e,{$s:function(){return R},Gi:function(){return m},Iz:function(){return T},M2:function(){return S},MO:function(){return N},Ot:function(){return M},To:function(){return A},VS:function(){return C},XO:function(){return b},Yk:function(){return w},pn:function(){return v},w9:function(){return _},wi:function(){return E}});var r=n(99574),o=n(96373),i=n(30748),s=n(31865),l=n(10934),u=n(24910),a=n(82846),c=n(74238),f=n(30146),p=n(21414),h=n(8554),x=n(97290),y=n(81342),d=n(2875),g=n(91426);const m="Projection may be possible after calling projection.load().";function v(t,e,n,r){t.error(`Failed to project from (wkid:${e.wkid}) to (wkid:${n.wkid}).${r?" ":""}${r}`)}function T(t,e,n,r,o,i){return P(O.TO_PCPF,y.ct.fromTypedArray(t),N.NORMAL,y.fP.fromTypedArray(e),n,y.fP.fromTypedArray(r),o,y.ct.fromTypedArray(i))?i:null}function w(t,e,n,r,o,i){return P(O.FROM_PCPF,y.ct.fromTypedArray(t),N.NORMAL,y.fP.fromTypedArray(e),n,y.fP.fromTypedArray(r),o,y.ct.fromTypedArray(i))?i:null}function b(t,e,n,r){return(0,f.projectBuffer)(t,e,0,n,r,0)?n:null}function A(t,e,n,r){return(0,f.projectBuffer)(t,e,0,n,r,0)?n:null}function _(t,e,n){return(0,o.XL)(F,n),(0,d.b)(e,t,F),(0,r.oc)(F)&&(0,d.n)(e,e),e}function C(t,e,n){return(0,o.xO)(F,n),(0,g.t)(e,t,F),(0,r.oc)(F)&&(0,d.n)(e,e,4),e}function M(t,e,n,o){const i=e===N.NORMAL;return Z(t,e,n,((t,e)=>{const n=Math.cos((0,r.Vl)(t));e[0]=i?n:1/n,e[1]=1}),o)}function R(t,e,n,r){const o=e===N.NORMAL;return Z(t,e,n,((t,e)=>{const n=Math.cosh(-t/p.sv.radius);e[0]=1,e[1]=o?n:1/n}),r)}function Z(t,e,n,r,o){const i=e===N.NORMAL?3:4,s=[0,0];for(let e=0,l=1;e<t.length;e+=i,l+=3){r(n[l],s);const u=t[e]*s[0],a=t[e+1]*s[1],c=t[e+2],f=1/Math.sqrt(u*u+a*a+c*c);o[e]=u*f,o[e+1]=a*f,o[e+2]=c*f,4===i&&(o[e+3]=t[e+3])}return o}function E(t,e,n,r,o,i){if(!P(O.TO_PCPF,y.ct.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),N.TANGENT,y.fP.fromTypedArray(e),n,y.fP.fromTypedArray(r),o,y.ct.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let e=3;e<t.length;e+=4)i[e]=t[e];return i}function S(t,e,n,r,o,i){if(!P(O.FROM_PCPF,y.ct.fromTypedArray(t,16),N.TANGENT,y.fP.fromTypedArray(e),n,y.fP.fromTypedArray(r),o,y.ct.fromTypedArray(i,16)))return null;for(let e=3;e<t.length;e+=4)i[e]=t[e];return i}var N,O,U;function j(t,e,n,r,i){switch((0,c.B)(r,n,D,r),t===O.FROM_PCPF&&(0,s.U_)(D,D),e){case N.NORMAL:return(0,o.XL)(i,D);case N.TANGENT:return(0,o.xO)(i,D)}}function P(t,e,n,r,o,i,s,l){if(!e)return;const a=r.count;if(function(t){return t.isWGS84||(0,h.yW)(t)||(0,h.BZ)(t)||(0,h.V2)(t)}(o))for(let r=0;r<a;r++)i.getVec(r,B),e.getVec(r,L),(0,u.o)(L,L,j(t,n,B,s,F)),l.setVec(r,L);else for(let o=0;o<a;o++){i.getVec(o,B),e.getVec(o,L);const a=(0,x.mZ)(r.get(o,1));let c=Math.cos(a);n===N.TANGENT!=(t===O.TO_PCPF)&&(c=1/c),j(t,n,B,s,F),t===O.TO_PCPF?(F[0]*=c,F[1]*=c,F[2]*=c,F[3]*=c,F[4]*=c,F[5]*=c):(F[0]*=c,F[3]*=c,F[6]*=c,F[1]*=c,F[4]*=c,F[7]*=c),(0,u.o)(L,L,F),(0,u.n)(L,L),l.setVec(o,L)}return l}(U=N||(N={}))[U.NORMAL=0]="NORMAL",U[U.TANGENT=1]="TANGENT",function(t){t[t.TO_PCPF=0]="TO_PCPF",t[t.FROM_PCPF=1]="FROM_PCPF"}(O||(O={}));const B=(0,a.Ue)(),L=(0,a.Ue)(),D=(0,l.Ue)(),F=(0,i.Ue)()},63827:function(t,e,n){n.d(e,{qk:function(){return w},ur:function(){return R},x1:function(){return T}});var r=n(96711),o=n(99574),i=n(26636),s=n(96373),l=n(30748),u=n(31865),a=n(10934),c=n(24910),f=n(82846),p=n(70331),h=n(74238),x=n(6961),y=n(52861),d=n(8554),g=n(2875),m=n(17966);const v=()=>r.Z.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function T(t,e,{vertexSpace:n,spatialReference:r}){if("georeferenced"===n.type){const o=t;if(!(0,x.K)(e,o,r))return!1;const{origin:i}=n;return(0,c.d)(t,o,i),!0}const o=(0,p.rS)(r),i=t;if(!(0,x.K)(e,i,o))return!1;const{origin:s}=n,l=O;if(!(0,h.B)(r,s,l,o))return!1;const a=(0,u.U_)(O,l);return null!=a&&((0,c.t)(t,i,a),!0)}function w(t,e,n){const{vertexSpace:r,transform:o,vertexAttributes:i}=t,l=(0,y.zZ)(r)?o:null,f=C(t.spatialReference,n,U.SOURCE_AND_TARGET);if((0,y.vI)(r,e)&&(!l||(0,u.I6)(l.localMatrix,a.Wd))&&M(f)){const{position:t,normal:e,tangent:r}=i,o=n?.allowBufferReuse;return{position:o?t:t.slice(),normal:o?e:e?.slice(),tangent:o?r:r?.slice()}}switch(t.vertexSpace.type){case"local":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:n},{origin:r},o,i){const s=b(e,i);if(!(0,h.B)(e,r,Z,s))return(0,m.pn)(v(),e,s),null;if(n&&(0,u.Jp)(Z,Z,n.localMatrix),!(0,h.B)(e,o,E,s))return(0,m.pn)(v(),s,e),null;(0,u.U_)(E,E);const l=(0,u.Jp)(Z,E,Z);return _(l,e,i,U.SOURCE_AND_TARGET),A(t,l)}(t,t.vertexSpace,e.origin,n):function({spatialReference:t,vertexAttributes:e,transform:n},{origin:r},o,i){const s=b(t,i);if(!(0,h.B)(t,r,Z,s))return(0,m.pn)(v(),t,s),null;n&&(0,u.Jp)(Z,Z,n.localMatrix),_(Z,t,i,U.SOURCE);const l=new Float64Array(e.position.length),a=function(t,e,n,r,o){(0,g.t)(r,t,e);const i=new Float64Array(t.length);return(0,m.To)(r,o,i,n)?i:((0,m.pn)(v(),o,n),null)}(e.position,Z,t,l,s);if(!a)return null;const f=function(t,e,n,r,o,i){if(null==o)return null;const s=new Float32Array(o.length);return(0,m.w9)(o,s,i),(0,m.Yk)(s,t,e,n,r,s)?s:((0,m.pn)(v(),r,e),null)}(a,t,l,s,e.normal,Z);if(e.normal&&!f)return null;const p=function(t,e,n,r,o,i){if(null==o)return null;const s=new Float32Array(o.length);return(0,m.VS)(o,s,i),(0,m.M2)(s,t,e,n,r,s)?s:((0,m.pn)(v(),r,e),null)}(a,t,l,s,e.tangent,Z);if(e.tangent&&!p)return null;if(o){const t=(0,c.u)(N,o);(0,g.a)(a,a,t)}return{position:a,normal:f,tangent:p}}(t,t.vertexSpace,e.origin,n);case"georeferenced":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:n},{origin:r},o,i){const l=b(e,i);if(!(0,h.B)(e,o,Z,l))return(0,m.pn)(v(),e,l),null;const a=1/C(e,i,U.TARGET);(0,u.bA)(Z,Z,[a,a,a]);const c=(0,u.U_)(E,Z),{position:f,normal:p,tangent:x}=function(t,e,n){if(!e)return t;if(!n){const{position:n,normal:r,tangent:o}=t;return{position:(0,g.a)(new Float64Array(n.length),n,e),tangent:o,normal:r}}const r=A(t,n.localMatrix);return(0,g.a)(r.position,r.position,e),r}(t,r,n),y=new Float64Array(f.length),d=function(t,e,n,r,o){const i=(0,m.XO)(t,e,r,o);if(!i)return(0,m.pn)(v(),e,o),null;const s=new Float64Array(i.length);return(0,g.t)(s,i,n),s}(f,e,c,y,l);if(!d)return null;const T=(0,s.XL)(S,c),w=function(t,e,n,r,o,i,s){if(null==t)return null;const l=s??new Float32Array(t.length);return(0,m.Iz)(t,e,n,r,o,l)?((0,g.b)(l,l,i),l):((0,m.pn)(v(),n,o),null)}(p,f,e,y,l,T,p!==t.normal?p:void 0);if(!w&&p)return null;const _=function(t,e,n,r,o,i,s){if(null==t)return null;const l=s??new Float32Array(t.length);return(0,m.wi)(t,e,n,r,o,l)?((0,g.b)(l,l,i,4),l):((0,m.pn)(v(),n,o),null)}(x,f,e,y,l,T,x!==t.tangent?x:void 0);return!_&&x?null:{position:d,normal:w,tangent:_}}(t,t.vertexSpace,e.origin,n):function({vertexAttributes:t,transform:e,spatialReference:n},{origin:r},o,i){const s=C(n,i,U.SOURCE_AND_TARGET),l=r||!M(s)?(0,u.JG)(Z,e?.localMatrix??a.Wd):null;l&&_(l,n,i,U.SOURCE_AND_TARGET);const{position:f,normal:p,tangent:h}=l?A(t,l):t,x=i?.allowBufferReuse,y=x?f:new Float64Array(f.length);let d=f;if(r&&(d=(0,g.a)(y,d,r)),o){const t=(0,c.u)(N,o);d=(0,g.a)(y,d,t)}return{position:d!==t.position||x?d:d.slice(),normal:p!==t.normal||x?p:p?.slice(),tangent:h!==t.tangent||x?h:h?.slice()}}(t,t.vertexSpace,e.origin,n)}}function b(t,e){return e?.useEllipsoid&&(0,d.N$)(t)?p.wY:(0,p.rS)(t)}function A(t,e){const n=new Float64Array(t.position.length);(0,g.t)(n,t.position,e);const r=t.normal?new Float32Array(t.normal.length):null,o=t.tangent?new Float32Array(t.tangent.length):null;return r&&t.normal&&(0,m.w9)(t.normal,r,e),o&&t.tangent&&(0,m.VS)(t.tangent,o,e),{position:n,normal:r,tangent:o}}function _(t,e,n,r){const o=C(e,n,r);M(o)||(0,u.bA)(t,t,[o,o,o])}function C(t,e,n){const r=!!(n&U.SOURCE),o=!!(n&U.TARGET),i=e?.sourceUnit,s=e?.targetUnit;if(!i&&!s)return 1;let l=R(i,t);r||!i||M(l)||(v().warn("source unit conversion not supported"),l=1);let u=1/R(s,t);return o||!s||M(u)||(v().warn("target unit conversion not supported"),u=1),l*u}function M(t){return(0,o.Po)(t,1)}function R(t,e){if(null==t)return 1;const n=(0,i.r6)(e);return 1/(0,i.En)(n,"meters",t)}const Z=(0,a.Ue)(),E=(0,a.Ue)(),S=(0,l.Ue)(),N=(0,f.Ue)(),O=(0,a.Ue)();var U,j;(j=U||(U={}))[j.NONE=0]="NONE",j[j.SOURCE=1]="SOURCE",j[j.TARGET=2]="TARGET",j[j.SOURCE_AND_TARGET=3]="SOURCE_AND_TARGET"},18344:function(t,e,n){n.d(e,{i:function(){return u}});var r=n(99574),o=n(26636),i=n(24910),s=n(93070),l=n(77773);function u(t,e,n){const u=function(t,e,n,r){const s=(t=>!Array.isArray(t[0]))(e)?(t,n)=>e[3*t+n]:(t,n)=>e[t][n],u=r?(0,o.c9)(r)/(0,o._R)(r):1;return(0,l.zu)(t,((t,e)=>(0,i.i)(t,s(e,0)*u,s(e,1)*u,s(e,2))),n)}(a,t,e,n)?(0,l.st)(a):[0,0,1];return Math.abs(u[2])>Math.cos((0,r.Vl)(80))?s.R.Z:Math.abs(u[1])>Math.abs(u[0])?s.R.Y:s.R.X}const a=(0,l.Ue)()},53328:function(t,e,n){n.d(e,{Ni:function(){return h},ZI:function(){return r},bT:function(){return p}});var r,o,i=n(38874),s=n(93070),l=n(28931),u=n(60199),a=n(38766),c=n(18344),f=n(66040);function p(t){const e=h(t.rings,t.hasZ,r.CCW_IS_HOLE,t.spatialReference),n=new Array;let o=0,s=0;for(const t of e.polygons){const r=t.count,l=t.index,c=(0,u.Rq)(e.position,3*l,3*r),f=t.holeIndices.map((t=>t-l)),p=(0,a.UB)((0,i.e)(c,f,3));n.push({position:c,faces:p}),o+=c.length,s+=p.length}const l=function(t,e,n){if(1===t.length)return t[0];const r=(0,u.bg)(e),o=new Array(n);let i=0,s=0,l=0;for(const e of t){for(let t=0;t<e.position.length;t++)r[i++]=e.position[t];for(const t of e.faces)o[s++]=t+l;l=i/3}return{position:r,faces:(0,a.UB)(o)}}(n,o,s),c=Array.isArray(l.position)?(0,f.d)(l.position,3,{originalIndices:l.faces}):(0,f.d)(l.position.buffer,6,{originalIndices:l.faces});return l.position=(0,u.QZ)(new Float64Array(c.buffer)),l.faces=c.indices,l}function h(t,e,n,o){const i=t.length,s=new Array(i),l=new Array(i),a=new Array(i);let c=0;for(let e=0;e<i;++e)c+=t[e].length;let f=0,p=0,h=0;const d=(0,u.bg)(3*c);let g=0;for(let u=i-1;u>=0;u--){const c=t[u],m=n===r.CCW_IS_HOLE&&y(c,e,o);if(m&&1!==i)s[f++]=c;else{let t=c.length;for(let e=0;e<f;++e)t+=s[e].length;const n={index:g,pathLengths:new Array(f+1),count:t,holeIndices:new Array(f)};n.pathLengths[0]=c.length,c.length>0&&(a[h++]={index:g,count:c.length}),g=m?x(c,c.length-1,-1,d,g,c.length,e):x(c,0,1,d,g,c.length,e);for(let t=0;t<f;++t){const r=s[t];n.holeIndices[t]=g,n.pathLengths[t+1]=r.length,r.length>0&&(a[h++]={index:g,count:r.length}),g=x(r,0,1,d,g,r.length,e)}f=0,n.count>0&&(l[p++]=n)}}for(let t=0;t<f;++t){const n=s[t];n.length>0&&(a[h++]={index:g,count:n.length}),g=x(n,0,1,d,g,n.length,e)}return l.length=p,a.length=h,{position:d,polygons:l,outlines:a}}function x(t,e,n,r,o,i,s){o*=3;for(let l=0;l<i;++l){const i=t[e];r[o++]=i[0],r[o++]=i[1],r[o++]=s&&i[2]?i[2]:0,e+=n}return o/3}function y(t,e,n){if(!e)return!(0,l.bu)(t);const r=t.length-1;switch((0,c.i)(t,r,n)){case s.R.X:return!(0,l.bu)(t,s.R.Y,s.R.Z);case s.R.Y:return!(0,l.bu)(t,s.R.X,s.R.Z);case s.R.Z:return!(0,l.bu)(t,s.R.X,s.R.Y)}}(o=r||(r={}))[o.NONE=0]="NONE",o[o.CCW_IS_HOLE=1]="CCW_IS_HOLE"}}]);