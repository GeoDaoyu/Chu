"use strict";(self.webpackChunkscene_pro=self.webpackChunkscene_pro||[]).push([[15335],{27737:function(t,e,i){i.d(e,{YV:function(){return r},ZB:function(){return h},iW:function(){return l}});var o=i(53147),n=i(61421);function r(t,e,i,o){if(t)if("CIMTextSymbol"!==t.type){if(i&&t.effects)for(const i of t.effects)a(i,e);if(t.symbolLayers)for(const i of t.symbolLayers){switch(i.type){case"CIMPictureMarker":case"CIMVectorMarker":s(i,e,o);break;case"CIMPictureStroke":case"CIMSolidStroke":case"CIMGradientStroke":!o?.preserveOutlineWidth&&i.width&&(i.width*=e);break;case"CIMPictureFill":i.height&&(i.height*=e),i.offsetX&&(i.offsetX*=e),i.offsetY&&(i.offsetY*=e);break;case"CIMHatchFill":r(i.lineSymbol,e,!0,{...o,preserveOutlineWidth:!1}),i.offsetX&&(i.offsetX*=e),i.offsetY&&(i.offsetY*=e),i.separation&&(i.separation*=e)}if(i.effects)for(const t of i.effects)a(t,e)}}else null!=t.height&&(t.height*=e)}function s(t,e,i){if(t&&(t.markerPlacement&&function(t,e){switch((0,n.gJ)(t)&&t.offset&&(t.offset*=e),t.type){case"CIMMarkerPlacementAlongLineRandomSize":case"CIMMarkerPlacementAlongLineSameSize":if(t.customEndingOffset&&(t.customEndingOffset*=e),t.offsetAlongLine&&(t.offsetAlongLine*=e),t.placementTemplate&&t.placementTemplate.length){const i=t.placementTemplate.map((t=>t*e));t.placementTemplate=i}break;case"CIMMarkerPlacementAlongLineVariableSize":if(t.maxRandomOffset&&(t.maxRandomOffset*=e),t.placementTemplate&&t.placementTemplate.length){const i=t.placementTemplate.map((t=>t*e));t.placementTemplate=i}break;case"CIMMarkerPlacementOnLine":t.startPointOffset&&(t.startPointOffset*=e);break;case"CIMMarkerPlacementAtExtremities":t.offsetAlongLine&&(t.offsetAlongLine*=e);break;case"CIMMarkerPlacementAtMeasuredUnits":case"CIMMarkerPlacementOnVertices":break;case"CIMMarkerPlacementAtRatioPositions":t.beginPosition&&(t.beginPosition*=e),t.endPosition&&(t.endPosition*=e);break;case"CIMMarkerPlacementPolygonCenter":t.offsetX&&(t.offsetX*=e),t.offsetY&&(t.offsetY*=e);break;case"CIMMarkerPlacementInsidePolygon":t.offsetX&&(t.offsetX*=e),t.offsetY&&(t.offsetY*=e),t.stepX&&(t.stepX*=e),t.stepY&&(t.stepY*=e)}}(t.markerPlacement,e),t.offsetX&&(t.offsetX*=e),t.offsetY&&(t.offsetY*=e),t.anchorPoint&&"Absolute"===t.anchorPointUnits&&(t.anchorPoint={x:t.anchorPoint.x*e,y:t.anchorPoint.y*e}),t.size=null!=t.size?t.size*e:0,"CIMVectorMarker"===t.type&&t.markerGraphics))for(const o of t.markerGraphics)t.scaleSymbolsProportionally||r(o.symbol,e,!0,i)}function a(t,e){switch(t.type){case"CIMGeometricEffectArrow":case"CIMGeometricEffectDonut":t.width&&(t.width*=e);break;case"CIMGeometricEffectBuffer":t.size&&(t.size*=e);break;case"CIMGeometricEffectCut":t.beginCut&&(t.beginCut*=e),t.endCut&&(t.endCut*=e),t.middleCut&&(t.middleCut*=e);break;case"CIMGeometricEffectDashes":if(t.customEndingOffset&&(t.customEndingOffset*=e),t.offsetAlongLine&&(t.offsetAlongLine*=e),t.dashTemplate&&t.dashTemplate.length){const i=t.dashTemplate.map((t=>t*e));t.dashTemplate=i}break;case"CIMGeometricEffectExtension":case"CIMGeometricEffectJog":case"CIMGeometricEffectRadial":t.length&&(t.length*=e);break;case"CIMGeometricEffectMove":t.offsetX&&(t.offsetX*=e),t.offsetY&&(t.offsetY*=e);break;case"CIMGeometricEffectOffset":case"CIMGeometricEffectOffsetTangent":t.offset&&(t.offset*=e);break;case"CIMGeometricEffectRegularPolygon":t.radius&&(t.radius*=e);break;case"CIMGeometricEffectTaperedPolygon":t.fromWidth&&(t.fromWidth*=e),t.length&&(t.length*=e),t.toWidth&&(t.toWidth*=e);break;case"CIMGeometricEffectWave":t.amplitude&&(t.amplitude*=e),t.period&&(t.period*=e)}}function l(t){const e=[];return c((0,n.be)(t),e),e.length?new o.Z((0,n.oY)(e[0])):null}function c(t,e){if(!t)return;let i;i="CIMTextSymbol"===t.type?t.symbol:t;const o="CIMPolygonSymbol"===t.type;if(i?.symbolLayers)for(const t of i.symbolLayers)if(!(t.colorLocked||o&&((0,n.yL)(t)||(0,n.zL)(t)&&t.markerPlacement&&(0,n.gJ)(t.markerPlacement))))switch(t.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":t.tintColor&&u(e,t.tintColor);break;case"CIMVectorMarker":t.markerGraphics?.forEach((t=>{c(t.symbol,e)}));break;case"CIMSolidStroke":case"CIMSolidFill":u(e,t.color);break;case"CIMGradientFill":p(e,t);break;case"CIMHatchFill":c(t.lineSymbol,e)}}function u(t,e){for(const i of t)if(i.join(".")===e.join("."))return;t.push(e)}function p(t,e){const i=e.colorRamp?.type;switch(i){case"CIMMultipartColorRamp":e.colorRamp.colorRamps?.forEach((e=>{"CIMLinearContinuousColorRamp"===e.type&&d(t,e)}));break;case"CIMLinearContinuousColorRamp":case"CIMPolarContinuousColorRamp":d(t,e.colorRamp)}}function d(t,e){e&&(e.fromColor&&u(t,e.fromColor),e.toColor&&u(t,e.toColor))}function h(t,e,i){e instanceof o.Z||(e=new o.Z(e));const r=(0,n.be)(t);r&&f(r,e,i)}function f(t,e,i){if(!t)return;let o;o="CIMTextSymbol"===t.type?t.symbol:t;const r="CIMPolygonSymbol"===o?.type;if(o?.symbolLayers)for(const t of o.symbolLayers){if(t.colorLocked)continue;if(r)if(i){const{layersToColor:e}=i;if(((0,n.yL)(t)||(0,n.zL)(t)&&t.markerPlacement&&(0,n.gJ)(t.markerPlacement))&&"fill"===e||(0,n.k5)(t)&&"outline"===e)continue}else if((0,n.yL)(t)||(0,n.zL)(t)&&t.markerPlacement&&(0,n.gJ)(t.markerPlacement))continue;const o=e.toArray();switch(t.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":t.tintColor=o;break;case"CIMVectorMarker":t.markerGraphics?.forEach((t=>{f(t.symbol,e,i)}));break;case"CIMSolidStroke":case"CIMSolidFill":t.color=o;break;case"CIMGradientFill":m(t,e);break;case"CIMHatchFill":f(t.lineSymbol,e,i)}}}function m(t,e){const i=t.colorRamp?.type;switch(i){case"CIMMultipartColorRamp":t.colorRamp.colorRamps?.forEach((t=>{"CIMLinearContinuousColorRamp"===t.type&&y(t,e)}));break;case"CIMLinearContinuousColorRamp":case"CIMPolarContinuousColorRamp":y(t.colorRamp,e)}}function y(t,e){if(t&&(t.fromColor&&(t.fromColor=e.toArray()),t.toColor)){const i=e.clone();i.a=0,t.toColor=i.toArray()}}},14072:function(t,e,i){i.d(e,{T:function(){return wt},I:function(){return xt}});var o,n,r=i(73440),s=i(46451),a=i(70880),l=i(43254),c=i(90403),u=i(17155),p=(i(61432),i(96711),i(83850),i(48023)),d=i(60147);!function(t){t[t.NeverApplied=0]="NeverApplied",t[t.Applied=1]="Applied",t[t.Undone=2]="Undone"}(o||(o={})),function(t){t.UndoRedoUpdating="UndoRedoUpdating",t.UndoInvalidError="UndoInvalidError",t.RedoInvalidError="RedoInvalidError",t.ApplyInvalidError="ApplyInvalidError"}(n||(n={}));const h={[n.UndoRedoUpdating]:"Cannot perform operation whilst undo redo is updating",[n.UndoInvalidError]:"There are no items to Undo",[n.RedoInvalidError]:"There are no items to Redo",[n.ApplyInvalidError]:"Cannot apply an item that is already applied"};class f extends Error{constructor(){super(h[n.UndoRedoUpdating]),this.type="undo-redo-updating-error"}}class m extends Error{constructor(){super(h[n.UndoInvalidError]),this.type="undo-redo-undo-error"}}class y extends Error{constructor(){super(h[n.RedoInvalidError]),this.type="undo-redo-redo-error"}}class g extends Error{constructor(){super(h[n.ApplyInvalidError]),this.type="undo-redo-apply-error"}}var v;!function(t){t[t.Apply=0]="Apply",t[t.Undo=1]="Undo",t[t.Redo=2]="Redo"}(v||(v={}));let b=class extends a.Z{constructor(){super(...arguments),this.name="",this.tag=Symbol(),this.status=o.NeverApplied}get canUndo(){return this.status===o.Applied}get canRedo(){return this.status===o.Undone}async executeUndoRedoOperation(t){switch(t){case v.Apply:if(this.status!==o.NeverApplied)throw new g;return await this.apply(),void(this.status=o.Applied);case v.Undo:if(this.status!==o.Applied)throw new m;return await this.undo(),void(this.status=o.Undone);case v.Redo:if(this.status!==o.Undone)throw new m;return await this.redo(),void(this.status=o.Applied)}}};(0,r._)([(0,u.Cb)()],b.prototype,"name",void 0),(0,r._)([(0,u.Cb)()],b.prototype,"tag",void 0),b=(0,r._)([(0,p.j)("esri.undoredo.UndoableOperation")],b);let C=class extends a.Z{constructor(){super(...arguments),this._stack=new l.Z,this._stackPosition=-1,this._updatingHandles=new d.R}get updating(){return this._updatingHandles.updating}get canUndo(){return this.hasUndo&&!this.updating}get hasUndo(){return this._stackPosition>=0}get canRedo(){return this.hasRedo&&!this.updating}get hasRedo(){return this._stackPosition<this._stack.length-1}_truncateForwardStack(){this._stack.splice(this._stackPosition+1,this._stack.length-this._stackPosition).forEach((t=>t.destroy()))}_drainStack(){this._stack.drain((t=>t.destroy())),this._stackPosition=-1}async undo(){if(!this.hasUndo)throw new m;if(this.updating)throw new f;const t=this._stack.getItemAt(this._stackPosition);t&&await this._updatingHandles.addPromise((async()=>{await t.executeUndoRedoOperation(v.Undo),--this._stackPosition,t.canRedo||this._truncateForwardStack()})())}async redo(){if(!this.hasRedo)throw new y;if(this.updating)throw new f;const t=this._stack.getItemAt(this._stackPosition+1);if(!t)throw new y;await this._updatingHandles.addPromise((async()=>{await t.executeUndoRedoOperation(v.Redo),++this._stackPosition})())}peekUndo(){if(this.canUndo)return this._stack.getItemAt(this._stackPosition)}peekRedo(){if(this.canRedo)return this._stack.getItemAt(this._stackPosition+1)}async inject(t){if(this.updating)throw new f;await this._updatingHandles.addPromise((async()=>{t.status===o.NeverApplied&&await t.executeUndoRedoOperation(v.Apply),t.canUndo?(this._stack.splice(this._stackPosition+1,0,t),this._stackPosition++):this._stackPosition>-1&&(this._stack.splice(0,this._stackPosition+1).forEach((t=>t.destroy())),this._stackPosition=-1)})())}async add(t){if(this.updating)throw new f;await this._updatingHandles.addPromise((async()=>{t.status===o.NeverApplied&&await t.executeUndoRedoOperation(v.Apply),this._stackPosition>=-1&&this._truncateForwardStack(),t.canUndo?(this._stack.push(t),this._stackPosition=this._stack.length-1):this._drainStack()})())}async removeTagged(t,e=!1){if(this.updating&&!e)return;await(0,c.N1)((()=>!this.updating));const i=new l.Z;for(let e=0;e<this._stack.length;e++){const o=this._stack.getItemAt(e);o&&(o.tag===t?(o.destroy(),e===this._stackPosition&&(this._stackPosition=i.length-1)):i.push(o))}this._stack=i,this._stackPosition>i.length-1&&(this._stackPosition=i.length-1)}async clear(t=!1){if(this.updating&&!t)throw new f;await(0,c.N1)((()=>!this.updating)),this._drainStack()}};(0,r._)([(0,u.Cb)()],C.prototype,"_stack",void 0),(0,r._)([(0,u.Cb)()],C.prototype,"_stackPosition",void 0),(0,r._)([(0,u.Cb)()],C.prototype,"updating",null),(0,r._)([(0,u.Cb)({readOnly:!0})],C.prototype,"canUndo",null),(0,r._)([(0,u.Cb)({readOnly:!0})],C.prototype,"hasUndo",null),(0,r._)([(0,u.Cb)({readOnly:!0})],C.prototype,"canRedo",null),(0,r._)([(0,u.Cb)({readOnly:!0})],C.prototype,"hasRedo",null),C=(0,r._)([(0,p.j)("esri.UndoRedo")],C);var _=i(29292),k=i(87833),w=i(50702),M=i(61100),I=i(17256),x=i(53447),O=i(61418);class P{constructor(){this.committedVertices=null,this.cursorVertex=null,this.full=null,this.outline=null,this.cursorEdge=null,this.circle=null,this.rectangle=null}}var A=i(1663),U=i(49609),V=i(1925),R=i(26636),S=i(95226),L=i(60508),E=i(51870);function G(t,e,i){if(null==t)return"noTool";switch(t){case"point":return"point";case"multipoint":return"multipoint";case"polyline":return function(t,e){const i=null!=t&&"polyline"===t.type&&t.paths.length?t.paths[0].length:0;return"freehand"===e?i<2?"freehandStart":"freehandEnd":i<2?"polylineZeroVertices":"polylineOneVertex"}(e,i);case"polygon":return function(t,e){const i=null!=t&&"polygon"===t.type&&t.rings.length?t.rings[0].length:0;if(i<3)switch(e){case"freehand":return"freehandStart";case"hybrid":return"polygonZeroVerticesHybrid";default:return"polygonZeroVertices"}else if(i<4)return"freehand"===e?"freehandEnd":"polygonOneVertex";return"polygonTwoVertices"}(e,i);case"rectangle":case"circle":return function(t,e){if((null!=t&&"polygon"===t.type&&t.rings.length?t.rings[0].length:0)<3)switch(e){case"freehand":return"freehandStart";case"click":return"shapeStartClick";default:return"shapeStartHybrid"}switch(e){case"freehand":return"freehandEnd";case"click":return"shapeEndClick";default:return"shapeEndHybrid"}}(e,i);default:return}}var T=i(24910),F=i(82846);const z=20,D=1,H=.1,Z=(0,F.Ue)();var Y=i(42178),N=i(3943),X=i(40298);let j=class extends X.h{constructor(t){super(t),this.type="draw-circle",this.radius=null,this.xSize=null,this.ySize=null,this.area=V.MQ}get allFields(){return[]}};(0,r._)([(0,u.Cb)()],j.prototype,"type",void 0),(0,r._)([(0,u.Cb)()],j.prototype,"radius",void 0),(0,r._)([(0,u.Cb)()],j.prototype,"xSize",void 0),(0,r._)([(0,u.Cb)()],j.prototype,"ySize",void 0),(0,r._)([(0,u.Cb)()],j.prototype,"area",void 0),(0,r._)([(0,u.Cb)()],j.prototype,"helpMessage",void 0),(0,r._)([(0,u.Cb)()],j.prototype,"allFields",null),j=(0,r._)([(0,p.j)("esri.views.interactive.tooltip.infos.DrawCircleTooltipInfo")],j);var W=i(83768),Q=i(8140);let B=class extends((0,Q.A)(X.h)){constructor(t){super(t),this.type="draw-mesh",this.orientation=(0,W.Zq)({lockable:!1}),this.scale=(0,W.Se)({lockable:!1})}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation,this.orientation,this.scale]}};(0,r._)([(0,u.Cb)()],B.prototype,"helpMessage",void 0),(0,r._)([(0,u.Cb)()],B.prototype,"allFields",null),B=(0,r._)([(0,p.j)("esri.views.interactive.tooltip.infos.DrawMeshTooltipInfo")],B);let q=class extends((0,Q.A)(X.h)){constructor(t){super(t),this.type="draw-multipoint"}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation]}};(0,r._)([(0,u.Cb)()],q.prototype,"helpMessage",void 0),(0,r._)([(0,u.Cb)()],q.prototype,"allFields",null),q=(0,r._)([(0,p.j)("esri.views.interactive.tooltip.infos.DrawMultipointTooltipInfo")],q);let J=class extends((0,Q.A)(X.h)){constructor(t){super(t),this.type="draw-point"}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation]}};(0,r._)([(0,u.Cb)()],J.prototype,"helpMessage",void 0),(0,r._)([(0,u.Cb)()],J.prototype,"allFields",null),J=(0,r._)([(0,p.j)("esri.views.interactive.tooltip.infos.DrawPointTooltipInfo")],J);let K=class extends((0,Q.A)(X.h)){constructor(t){super(t),this.type="draw-polygon",this.direction=(0,W.Cn)(),this.distance=(0,W.JU)(),this.area=(0,W.UR)(),this.xyMode="direction-distance"}get allFields(){return[this.direction,this.distance,this.longitude,this.latitude,this.x,this.y,this.elevation,this.area]}};(0,r._)([(0,u.Cb)()],K.prototype,"xyMode",void 0),(0,r._)([(0,u.Cb)()],K.prototype,"helpMessage",void 0),(0,r._)([(0,u.Cb)()],K.prototype,"allFields",null),K=(0,r._)([(0,p.j)("esri.views.interactive.tooltip.infos.DrawPolygonTooltipInfo")],K);let $=class extends((0,Q.A)(X.h)){constructor(t){super(t),this.type="draw-polyline",this.direction=(0,W.Cn)(),this.distance=(0,W.JU)(),this.totalLength=(0,W.i4)(),this.xyMode="direction-distance"}get allFields(){return[this.direction,this.distance,this.longitude,this.latitude,this.x,this.y,this.elevation,this.totalLength]}};(0,r._)([(0,u.Cb)()],$.prototype,"helpMessage",void 0),(0,r._)([(0,u.Cb)()],$.prototype,"xyMode",void 0),(0,r._)([(0,u.Cb)()],$.prototype,"allFields",null),$=(0,r._)([(0,p.j)("esri.views.interactive.tooltip.infos.DrawPolylineTooltipInfo")],$);let tt=class extends X.h{constructor(t){super(t),this.type="draw-rectangle",this.xSize=V.yP,this.ySize=V.yP,this.area=V.MQ}get allFields(){return[]}};(0,r._)([(0,u.Cb)()],tt.prototype,"type",void 0),(0,r._)([(0,u.Cb)()],tt.prototype,"xSize",void 0),(0,r._)([(0,u.Cb)()],tt.prototype,"ySize",void 0),(0,r._)([(0,u.Cb)()],tt.prototype,"area",void 0),(0,r._)([(0,u.Cb)()],tt.prototype,"helpMessage",void 0),(0,r._)([(0,u.Cb)()],tt.prototype,"allFields",null),tt=(0,r._)([(0,p.j)("esri.views.interactive.tooltip.infos.DrawRectangleTooltipInfo")],tt);var et=i(53257),it=i(49510);function ot(t){const{directionOptions:e,geometryType:i,sketchOptions:o,tooltipInfos:n}=t,r=e=>{const i=yt(t).mode,o=n[e].elevation;"relative-to-ground"===i||"relative-to-scene"===i||"on-the-ground"===i?o.lock(vt(t)):o.unlock()};switch(i){case"polygon":case"polyline":r(i),(t=>{if(e){const i=n[t].direction;i.committed=e.angle,i.unlockOnVertexPlacement=!1,o.values.directionMode=e.mode}})(i);break;case"point":case"mesh":r(i)}}function nt(t,e){const{drawOperation:i,view:o}=e,n=st(e),r=yt(e);if("2d"===o.type||!t||"absolute-height"!==r.mode||1!==i?.numCommittedVertices||!n||"draw-polyline"!==n.type&&"draw-polygon"!==n.type||n.elevation.locked)return;const[s,a,l]=t,c=function(t,e,i,o,n){const{view:r,drawOperation:s}=n;if("3d"!==r.type||!s)return;i??=0;const a=gt(n),l=yt(n),c=(0,E.O3)(r,t,e,i,a,l,o);return(0,it.KY)(c,a)??vt(n)}(s,a,l,r,e);null!=c&&n.elevation.lock(c)}function rt(t){st(t)?.allFields.forEach((t=>{t.unlockOnVertexPlacement&&t.unlock()}))}function st({geometryType:t,graphic:e,tooltipInfos:i}){return e?.geometry?.type!==at[t]?"circle"===t||"rectangle"===t?i[t]:null:i[t]}const at={point:"point",multipoint:"multipoint",mesh:"mesh",polyline:"polyline",polygon:"polygon",circle:"polygon",rectangle:"polygon",freehandPolygon:"polygon",freehandPolyline:"polyline"};function lt(t,e){switch(t?.type){case"draw-point":!function(t,e){const i=e.graphic?.geometry;"point"===i?.type&&(ct(t,i,e),t.helpMessage=G("point",i,e.drawOperation.drawingMode))}(t,e);break;case"draw-multipoint":!function(t,e){const i=e.graphic?.geometry;"multipoint"===i?.type&&(ct(t,i,e),t.helpMessage=G("multipoint",i,e.drawOperation.drawingMode))}(t,e);break;case"draw-polyline":!function(t,e){const{createOperationGeometry:i,drawOperation:o,automaticLengthMeasurementUtils:n}=e,r=null!=i?i.full:null;r&&"polyline"!==r.type||(pt(t,e),t.totalLength.actual=o.lastVertex?(r?n.autoLength2D(r):null)??V.yP:null,t.helpMessage=G("polyline",r,e.drawOperation.drawingMode))}(t,e);break;case"draw-polygon":!function(t,e){const{createOperationGeometry:i,drawOperation:o}=e,n=null!=i?i.full:null;n&&"polygon"!==n.type||(pt(t,e),t.area.actual=o.lastVertex?(n?e.automaticAreaMeasurementUtils.autoArea2D(n):null)??V.MQ:null,t.helpMessage=G("polygon",n,e.drawOperation.drawingMode))}(t,e);break;case"draw-rectangle":!function(t,e){t.sketchOptions=e.sketchOptions,t.xSize=ft(e),t.ySize=mt(e),t.area=ht(e),t.helpMessage=G("rectangle",e.graphic?.geometry,e.drawOperation.drawingMode)}(t,e);break;case"draw-circle":!function(t,e){const{forceUniformSize:i,sketchOptions:o}=e;t.sketchOptions=o,t.radius=i?function({createOperationGeometry:t,automaticLengthMeasurementUtils:e}){return(null!=t?.circle?.center&&null!=t.circle.edge?e.autoDistanceBetweenPoints2D(t.circle.center,t.circle.edge):null)??V.yP}(e):null,t.xSize=i?null:ft(e),t.ySize=i?null:mt(e),t.area=ht(e),t.helpMessage=G("circle",e.graphic?.geometry,e.drawOperation.drawingMode)}(t,e);break;case"draw-mesh":!function(t,e){const{graphic:i,view:o}=e,n=i?.geometry;"3d"!==o.type||n&&"mesh"!==n.type||(ct(t,n?.origin,e),n&&(0,N.kJ)(t,n),t.helpMessage=function(t,e){const i=t?.geometry;if(!t||"mesh"!==i?.type||!e)return;const{renderCoordsHelper:o,elevationProvider:n}=e,{camera:r}=e.state,{extent:s}=i,{center:a,spatialReference:l}=s,c=(0,R.c9)(l),u=(0,R._R)(l),p=(0,R.c9)(o.spatialReference),d=s.width*c,h=s.height*u,f=(s.zmax??0)*u,m=f-(s.zmin??0)*u,y=Math.max(d,h,m)/p,{x:g,y:v}=a,b=a.z??0;(0,T.i)(Z,g,v,b),o.toRenderCoords(Z,l,Z);const C=y/r.computeScreenPixelSizeAt(Z);if(C>r.width*D)return"meshTooClose";if(C<z)return"meshTooFar";const _=(0,E.RL)(t),{absoluteZ:k}=(0,E.tq)(g,v,f,l,e,_);return k<(n.getElevation(g,v,b,l,"ground")??0)*u+m*H?"meshUnderground":"mesh"}(i,o))}(t,e)}}function ct(t,e,i){const{drawOperation:o,view:n,sketchOptions:r}=i,{cursorVertex:s}=o;t.sketchOptions=r,t.viewType=n.type;const a="multipoint"===e?.type?e.getPoint(e.points.length-1):e;if(t.setLocationFromPoint(a,gt(i)),dt(t.elevation,i),!s)return void(o.constraints=void 0);const l=s;o.constraints={context:bt(l,i),x:t.x.committed,y:t.y.committed,longitude:t.longitude.committed,latitude:t.latitude.committed,elevation:t.elevation.committed,distance:null,direction:null}}const ut=(0,S.se)(L.Z);function pt(t,e){const{drawOperation:i,sketchOptions:o,view:n,automaticLengthMeasurementUtils:r}=e,{cursorVertex:s,lastVertex:a,secondToLastVertex:l}=i,c=o.values.effectiveDirectionMode;t.sketchOptions=o,t.viewType=n.type;const u=a&&s?r.autoDistanceBetweenPoints2D(ut(a),ut(s))??V.yP:null;if(t.distance.actual=u,t.distance.readOnly=null==a,t.direction.actual=null,t.direction.readOnly=!0,a&&s&&("absolute"===c||l)){const e=(0,et.zS)(l,a,s,c);t.direction.actual=e??V.qF,t.direction.readOnly=!1}t.setLocationFromPoint(s,gt(e)),dt(t.elevation,e);const p=function(t,{sketchOptions:e}){const i=e.tooltips.xyMode;return"auto"===i?t?"direction-distance":"coordinates":i}(a,e);t.xyMode=p,t.direction.visible="direction-distance"===p,t.distance.visible="direction-distance"===p,t.effectiveX.visible="coordinates"===p,t.effectiveY.visible="coordinates"===p;const d=s??a;i.constraints=d?{context:bt(d,e),x:t.x.committed,y:t.y.committed,longitude:t.longitude.committed,latitude:t.latitude.committed,elevation:t.elevation.committed,distance:t.distance.committed,direction:t.direction.committed}:void 0}function dt(t,e){const{drawOperation:i}=e,o=i?.cursorVertex??i?.lastVertex;t.actual=(0,it.un)(o)??vt(e),t.visible=i.hasZ,t.readOnly=!1,t.showAsZ=!0}function ht(t){const e=t.createOperationGeometry?.full;return"polygon"!==e?.type?V.MQ:t.automaticAreaMeasurementUtils.autoArea2D(e)??V.MQ}function ft({createOperationGeometry:t,automaticLengthMeasurementUtils:e}){const i=t?.rectangle?.midpoints;return(null!=i?e.autoDistanceBetweenPoints2D(i.left,i.right):null)??V.yP}function mt({createOperationGeometry:t,automaticLengthMeasurementUtils:e}){const i=t?.rectangle?.midpoints;return(null!=i?e.autoDistanceBetweenPoints2D(i.top,i.bottom):null)??V.yP}function yt(t){return t.drawOperation.elevationInfo??E.jG}function gt(t){return t.drawOperation.coordinateHelper.spatialReference}function vt(t){const e=(0,R._R)(gt(t));return(0,V.yG)(t.defaultZ*e,"meters")}function bt(t,e){return(0,Y.ND)(t,e.view,gt(e),yt(e),e.drawOperation.coordinateHelper.hasZ(),e.sketchOptions.values.effectiveDirectionMode)}var Ct=i(56128),_t=i(41943),kt=i(21260);let wt=class extends(k.Z.EventedMixin(Ct.m)){constructor(t){super(t),this._graphic=null,this._coordinateFormatterLoadTask=null,this._createOperationGeometry=null,this.defaultZ=0,this.directionOptions=null,this.elevationLockOnVertexAddDisabled=!1,this.geometryType=null,this.hasZ=!0,this.geometryToPlace=null,this.snappingManager=null,this.snapToScene=!1,this.sketchOptions=new _t.Z}initialize(){const{view:t}=this;this.internalGraphicsLayer=new x.Z({listMode:"hide",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer);const e=this.drawOperation=this.makeDrawOperation();this.tooltipInfos=function(t,e){return{point:new J({sketchOptions:e,viewType:t}),multipoint:new q({sketchOptions:e,viewType:t}),polyline:new $({sketchOptions:e,viewType:t}),polygon:new K({sketchOptions:e,viewType:t}),mesh:new B({sketchOptions:e,viewType:t}),rectangle:new tt({sketchOptions:e}),circle:new j({sketchOptions:e})}}(t.type,this.sketchOptions);const i=(0,N.vG)((()=>({view:t,options:this.sketchOptions.tooltips})));this.tooltip=i,ot(this._tooltipsContext),this._coordinateFormatterLoadTask=(0,_.vr)((()=>(0,I.zD)())),this.addHandles([e.on("vertex-add",(t=>this.onVertexAdd(t))),e.on("vertex-remove",(t=>this.onVertexRemove(t))),e.on("vertex-update",(t=>this.onVertexUpdate(t))),e.on("cursor-update",(t=>this.onCursorUpdate(t))),e.on("cursor-remove",(()=>this._updateGraphic())),e.on("complete",(t=>this.onComplete(t))),this._coordinateFormatterLoadTask,i.on("paste",(t=>(0,N.N5)(t,this.activeTooltipInfo))),(0,c.YP)((()=>this.cursor),(t=>{e.cursor=t}),c.tX),(0,kt.EH)((()=>{const{activeTooltipInfo:t,sketchOptions:e}=this;lt(t,this._tooltipsContext),i.info=e.tooltips.effectiveEnabled?t:null})),(0,kt.EH)((()=>{e.constraintZ=function(t){const{geometryType:e,tooltipInfos:i}=t;switch(e){case"point":case"multipoint":case"mesh":case"polyline":case"polygon":{const o=i[e].elevation.committed;if(!o)return;return(0,V.mE)(o,"meters")/(0,R._R)(gt(t))}default:return}}(this._tooltipsContext)}),c.Z_)]),this.finishToolCreation()}destroy(){this.drawOperation=(0,M.SC)(this.drawOperation),this.tooltip=(0,M.SC)(this.tooltip),this._destroyAllVisualizations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=(0,M.SC)(this.internalGraphicsLayer),this._set("view",null)}get _drawSpatialReference(){return this.drawOperation.coordinateHelper.spatialReference}get _tooltipsContext(){const{defaultZ:t,directionOptions:e,drawOperation:i,forceUniformSize:o,geometryType:n,graphic:r,sketchOptions:s,tooltipInfos:a,view:l,automaticAreaMeasurementUtils:c,automaticLengthMeasurementUtils:u}=this;return{createOperationGeometry:this._createOperationGeometry,defaultZ:t,directionOptions:e,drawOperation:i,forceUniformSize:o,geometryType:n,graphic:r,sketchOptions:s,tooltipInfos:a,view:l,automaticAreaMeasurementUtils:c,automaticLengthMeasurementUtils:u}}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(t){this._set("centered",t),this._updateGraphic()}get cursor(){return this._get("cursor")}set cursor(t){this._set("cursor",t)}set enabled(t){this.drawOperation.interactive=t,this._set("enabled",t)}set forceUniformSize(t){this._set("forceUniformSize",t),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(t){this._set("graphicSymbol",t),null!=this._graphic&&(this._graphic.symbol=t)}set mode(t){const e=this.drawOperation;e&&(e.drawingMode=t),this._set("mode",t)}get updating(){return this.drawOperation?.updating??!1}get undoRedo(){const{view:{type:t,map:e}}=this;return"2d"===t&&e&&"undoRedo"in e&&e.undoRedo instanceof C?e.undoRedo:null}set undoRedo(t){this._override("undoRedo",t)}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(t){this.destroyed||(0,N._i)(t,this.tooltip)||this.drawOperation.onInputEvent(t)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo(),0===this.drawOperation.numCommittedVertices&&ot(this._tooltipsContext)}_destroyAllVisualizations(){this.removeHandles(It.outline),this.removeHandles(It.regularVertices),this.removeHandles(It.activeVertex),this.removeHandles(It.activeEdge),this.removeHandles(Mt)}_createOrUpdateGraphic(t){if(null!=this._graphic)return this.updateGraphicGeometry(t),this._graphic;const e=new s.Z({...this.graphicProperties,symbol:this.graphicSymbol});return this._graphic=e,this.updateGraphicGeometry(t),this.internalGraphicsLayer.add(e),this.addHandles(this.initializeGraphic(e)),this.notifyChange("graphic"),this.addHandles((0,w.kB)((()=>{this.internalGraphicsLayer.remove(e),this._graphic===e&&(this._graphic=null)})),Mt),e}updateGraphicGeometry(t){this._graphic.geometry=t}_getCreateOperationGeometry(t={operationComplete:!1}){if(null==this.drawOperation)return;const{coordinateHelper:e,view:i,visualizationCursorVertex:o,lastVertex:n,committedVertices:r,geometryIncludingUncommittedVertices:s,numCommittedVertices:a}=this.drawOperation;if(!(a>0||null!=o))return;const l=t.operationComplete?r:s,c=l.length,u=null!=o?e.pointToArray(o):null,p=this._drawSpatialReference,d="3d"===i.type&&"global"===i.viewingMode,h=new P;h.committedVertices=r,h.cursorVertex=u;const{geometryType:f}=this;switch(f){case"point":case"mesh":h.full=e.arrayToPoint(l[0]);break;case"multipoint":h.full=c>0?(0,A.Nv)(l,p):null;break;case"polyline":case"polygon":c>0&&(h.full="polygon"===f?(0,A.p)([l],p,d,!0):(0,A.DF)([l],p,d),h.cursorEdge=null!=u&&n&&!(0,O.kg)(o,n)?(0,A.DF)([[u,e.pointToArray(n)]],p,d):null,h.outline=c>1?h.full:null);break;case"circle":case"rectangle":{if(h.committedVertices=h.cursorVertex=null,!c)break;const e=(0,U.Gn)(i,l[0]),o=l[0],n=e.makeMapPoint(o[0]+Ot*i.resolution,o[1]);"circle"===f?1===c&&t.operationComplete?h.circle=(0,A.y)([o,n],e,!0):2===c&&(this.forceUniformSize?h.circle=(0,A.y)(l,e,this.centered):h.rectangle=(0,A.n_)(l,e,this.centered)):1===c&&t.operationComplete?h.rectangle=(0,A.yL)([o,n],e,!0):2===c&&(h.rectangle=this.forceUniformSize?(0,A.yL)(l,e,this.centered):(0,A.MC)(l,e,this.centered)),h.full=null!=h.circle?h.circle.geometry:h.rectangle?.geometry,h.outline="polygon"===h.full?.type?h.full:null;break}default:return null}return h}initializeGraphic(t){return(0,w.kB)()}onComplete(t){if(!this.drawOperation)return;this._updateGraphic();let e=null;if(this.drawOperation.isCompleted){const t=this._getCreateOperationGeometry({operationComplete:!0});null!=t&&(e=this._createOrUpdateGraphic(t.full))}this._createOperationGeometry=null,this.emit("complete",{graphic:e,...t})}onCursorUpdate(t){this._updateGraphic(),this.emit("cursor-update",t)}onDeactivate(){const{drawOperation:t}=this;t&&(t.isCompleted||t.cancel())}onOutlineChanged(t){return(0,w.kB)()}onCursorEdgeChanged(t){return(0,w.kB)()}onVertexAdd(t){rt(this._tooltipsContext),this._updateGraphic(),this.elevationLockOnVertexAddDisabled||nt(t.vertices.at(0)?.coordinates,this._tooltipsContext),this.emit("vertex-add",t)}onVertexRemove(t){rt(this._tooltipsContext),this._updateGraphic(),this.emit("vertex-remove",t)}onVertexUpdate(t){this._updateGraphic(),this.emit("vertex-update",t)}_updateGraphic(){const t=this._getCreateOperationGeometry();this._createOperationGeometry=t,null!=t?(null!=t.cursorEdge?this.addHandles(this.onCursorEdgeChanged(t.cursorEdge),It.activeEdge):this.removeHandles(It.activeEdge),null!=t.outline?this.addHandles(this.onOutlineChanged(t.outline),It.outline):this.removeHandles(It.outline),null!=t.committedVertices?this.addHandles(this.onRegularVerticesChanged(t.committedVertices),It.regularVertices):this.removeHandles(It.regularVertices),null!=t.cursorVertex?this.addHandles(this.onActiveVertexChanged(t.cursorVertex),It.activeVertex):this.removeHandles(It.activeVertex),null!=t.full?this._createOrUpdateGraphic(t.full):this.removeHandles(Mt)):this._destroyAllVisualizations()}get activeTooltipInfo(){return this._coordinateFormatterLoadTask?.finished?st(this._tooltipsContext):null}};(0,r._)([(0,u.Cb)()],wt.prototype,"_coordinateFormatterLoadTask",void 0),(0,r._)([(0,u.Cb)()],wt.prototype,"_createOperationGeometry",void 0),(0,r._)([(0,u.Cb)()],wt.prototype,"_tooltipsContext",null),(0,r._)([(0,u.Cb)({value:!0})],wt.prototype,"centered",null),(0,r._)([(0,u.Cb)()],wt.prototype,"cursor",null),(0,r._)([(0,u.Cb)({nonNullable:!0})],wt.prototype,"defaultZ",void 0),(0,r._)([(0,u.Cb)({constructOnly:!0})],wt.prototype,"directionOptions",void 0),(0,r._)([(0,u.Cb)()],wt.prototype,"drawOperation",void 0),(0,r._)([(0,u.Cb)()],wt.prototype,"elevationLockOnVertexAddDisabled",void 0),(0,r._)([(0,u.Cb)({value:!0})],wt.prototype,"enabled",null),(0,r._)([(0,u.Cb)({value:!0})],wt.prototype,"forceUniformSize",null),(0,r._)([(0,u.Cb)({constructOnly:!0})],wt.prototype,"geometryType",void 0),(0,r._)([(0,u.Cb)()],wt.prototype,"graphic",null),(0,r._)([(0,u.Cb)({constructOnly:!0})],wt.prototype,"graphicProperties",void 0),(0,r._)([(0,u.Cb)()],wt.prototype,"graphicSymbol",null),(0,r._)([(0,u.Cb)({constructOnly:!0})],wt.prototype,"hasZ",void 0),(0,r._)([(0,u.Cb)({constructOnly:!0})],wt.prototype,"geometryToPlace",void 0),(0,r._)([(0,u.Cb)()],wt.prototype,"mode",null),(0,r._)([(0,u.Cb)()],wt.prototype,"snappingManager",void 0),(0,r._)([(0,u.Cb)()],wt.prototype,"snapToScene",void 0),(0,r._)([(0,u.Cb)()],wt.prototype,"tooltip",void 0),(0,r._)([(0,u.Cb)()],wt.prototype,"tooltipInfos",void 0),(0,r._)([(0,u.Cb)({constructOnly:!0,type:_t.Z})],wt.prototype,"sketchOptions",void 0),(0,r._)([(0,u.Cb)()],wt.prototype,"updating",null),(0,r._)([(0,u.Cb)({constructOnly:!0,nonNullable:!0})],wt.prototype,"view",void 0),(0,r._)([(0,u.Cb)({constructOnly:!0})],wt.prototype,"automaticAreaMeasurementUtils",void 0),(0,r._)([(0,u.Cb)({constructOnly:!0})],wt.prototype,"automaticLengthMeasurementUtils",void 0),(0,r._)([(0,u.Cb)({constructOnly:!0})],wt.prototype,"undoRedo",null),(0,r._)([(0,u.Cb)()],wt.prototype,"activeTooltipInfo",null),wt=(0,r._)([(0,p.j)("esri.views.draw.DrawGraphicTool")],wt);const Mt=Symbol("create-operation-graphic"),It={outline:Symbol("outline-visual"),regularVertices:Symbol("regular-vertices-visual"),activeVertex:Symbol("active-vertex-visual"),activeEdge:Symbol("active-edge-visual")};function xt(t){switch(t){case"point":case"polyline":case"polygon":case"multipoint":return t;case"circle":case"rectangle":return"segment";case"mesh":return"point"}}const Ot=48},77112:function(t,e,i){i.d(e,{lv:function(){return m},nn:function(){return d},ui:function(){return h}});var o=i(26821),n=i(24910),r=i(82846),s=i(89420),a=i(69811),l=i(90076),c=i(60208),u=i(84695),p=i(33566);function d(t,e){return f(t,e,!1)}function h(t,e){return f(t,e,!0)}function f(t,e,i){if(t instanceof p.y){if(t.operation instanceof l.z)return function(t,e,i=!1){const o=i?-1:1,a=(0,r.al)(o*t.dx,o*t.dy,o*t.dz);(0,n.f)(e.origin,e.origin,a),(0,s.u)(e)}(t.operation,e,i),!0;if(t.operation instanceof c.S)return function(t,e,i=!1){const o=i?-t.angle:t.angle;(0,n.K)(e.basis1,e.basis1,r.AG,o),(0,n.K)(e.basis2,e.basis2,r.AG,o),(0,s.u)(e)}(t.operation,e,i),!0;if(t.operation instanceof u.q)return function(t,e,i=!1){const r=i?1/t.factor1:t.factor1,a=i?1/t.factor2:t.factor2;(0,n.g)(e.basis1,e.basis1,r),(0,n.g)(e.basis2,e.basis2,a),(0,o.LG)(e.origin,e.origin,t.origin,t.axis1,r),(0,o.LG)(e.origin,e.origin,t.origin,t.axis2,a),(0,s.u)(e)}(t.operation,e,i),!0}return!1}function m(t,e,i,r,l=!1){r||(r=(0,s.d)());const c=(0,o.t8)(a.qW.get(),t[1],-t[0]),u=(0,o.t8)(a.qW.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),p=(0,o.t8)(a.qW.get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),d=a.qW.get(),h=e.allVertices;h.forEach((({pos:e})=>{(0,o.t8)(d,(0,o.AK)(t,e),(0,o.AK)(c,e)),(0,o.VV)(u,u,d),(0,o.Fp)(p,p,d)}));const f=1e-6,m=(0,o.t8)(a.qW.get(),p[0]-u[0]<f?i/2:0,p[1]-u[1]<f?i/2:0);(0,o.$X)(u,u,m),(0,o.IH)(p,p,m);const y=l?h.reduce(((t,e)=>t+(e.pos[2]??0)),0)/h.length:0;return(0,o.bA)(r.basis1,t,(p[0]-u[0])/2),(0,o.bA)(r.basis2,c,(p[1]-u[1])/2),(0,n.i)(r.origin,u[0]*t[0]+u[1]*c[0],u[0]*t[1]+u[1]*c[1],y),(0,n.f)(r.origin,r.origin,r.basis1),(0,n.f)(r.origin,r.origin,r.basis2),(0,s.u)(r),r}},83768:function(t,e,i){i.d(e,{UR:function(){return x},Cn:function(){return g},JU:function(){return C},do:function(){return k},f9:function(){return P},H4:function(){return O},Zq:function(){return w},r9:function(){return _},Se:function(){return I},tv:function(){return M},i4:function(){return b},zi:function(){return A},PY:function(){return U}});var o=i(1925),n=i(9424),r=i(73440),s=i(70880),a=i(18764),l=i(17155),c=(i(61432),i(96711),i(83850),i(48023));let u=class extends s.Z{constructor(t){super(t),this.actual=null,this.lockable=!0,this.id=(0,a.DO)(),this.inputValue=null,this.readOnly=!1,this.suffix=null,this.visible=!0,this.invalid=!1,this.unlockOnVertexPlacement=!0}get committed(){return this.lockable?this._get("committed"):null}set committed(t){this.lockable&&this._set("committed",t)}get dirty(){return null!=this.inputValue}get locked(){return this.lockable&&null!=this.committed}onInput(t){this.inputValue=t,this.invalid=!1}onCommit(t,e,i){this.lockable?this._onCommitLockable(t,i):this._onCommitNonLockable(i),this.invalid&&"commit-and-exit"===t||i.onCommit(e,t)}_onCommitLockable(t,e){const{inputValue:i,locked:o}=this;o&&p(i)?this.unlock():("commit-and-exit"===t&&!o||null!=i)&&this._parseInputAndLock(e)}_onCommitNonLockable(t){const{inputValue:e}=this;p(e)?this.lockable?this.setActual(null):this.clearInputValue():null!=e&&this._parseInputAndSetActual(t)}applyValue(t){this.lockable?this.lock(t):this.setActual(t)}clearInputValue(){this.inputValue=null,this.invalid=!1}setActual(t){this.actual=t,this.clearInputValue()}lock(t){this.lockable&&(this.committed=t??this.actual,this.clearInputValue())}unlock(){this.lockable&&(this.committed=null,this.clearInputValue())}toggleLock(t){this.lockable&&(this.locked?this.unlock():this._parseInputAndLock(t))}getSuffix(t){const{suffix:e}=this;return"function"==typeof e?e(t):e}getFormattedValue(t){const{actual:e,committed:i,format:o}=this;return null!=i?o(i,t):null!=e?o(e,t):null}getRawDisplayValue(t){const{actual:e,committed:i,inputValue:o}=this;return null!=o?o:this.lockable&&null!=i?this.formatForInputMode(i,t):null!=e?this.formatForInputMode(e,t):null}_parseInputAndSetActual(t){const{inputValue:e}=this;if(null==e||p(e))return this.setActual(null);const i=this.parse(e,t);null!=i?this.setActual(i):this.invalid=!0}_parseInputAndLock(t){const{inputValue:e,actual:i}=this;if(p(e))return this.unlock();if(null==e)return this.lock(i);const o=this.parse(e,t);null!=o?this.lock(o):this.invalid=!0}};function p(t){return null!=t&&""===t.trim()}(0,r._)([(0,l.Cb)()],u.prototype,"actual",void 0),(0,r._)([(0,l.Cb)()],u.prototype,"committed",null),(0,r._)([(0,l.Cb)()],u.prototype,"dirty",null),(0,r._)([(0,l.Cb)()],u.prototype,"format",void 0),(0,r._)([(0,l.Cb)()],u.prototype,"formatForInputMode",void 0),(0,r._)([(0,l.Cb)()],u.prototype,"lockable",void 0),(0,r._)([(0,l.Cb)()],u.prototype,"locked",null),(0,r._)([(0,l.Cb)()],u.prototype,"id",void 0),(0,r._)([(0,l.Cb)()],u.prototype,"inputValue",void 0),(0,r._)([(0,l.Cb)()],u.prototype,"name",void 0),(0,r._)([(0,l.Cb)()],u.prototype,"parse",void 0),(0,r._)([(0,l.Cb)()],u.prototype,"readOnly",void 0),(0,r._)([(0,l.Cb)()],u.prototype,"suffix",void 0),(0,r._)([(0,l.Cb)()],u.prototype,"title",void 0),(0,r._)([(0,l.Cb)()],u.prototype,"visible",void 0),(0,r._)([(0,l.Cb)()],u.prototype,"invalid",void 0),(0,r._)([(0,l.Cb)()],u.prototype,"unlockOnVertexPlacement",void 0),u=(0,r._)([(0,c.j)("esri.views.interactive.tooltip.fields.TooltipField")],u);let d=class extends u{constructor(t){super(t),this.showAsZ=!1}normalizeCtorArgs(t){const e=t=>t.inputUnitInfos.verticalLength.unit;return{name:"elevation",actual:o.yP,parse:(0,n.xw)({createQuantity:(t,i)=>(0,o.yG)(t,e(i))}),format:(t,e)=>e.formatters.verticalLength(t),formatForInputMode:(t,i)=>i.formatters.scalar((0,o.nn)(t,e(i))),suffix:t=>t.inputUnitInfos.verticalLength.abbreviation,title:t=>t.messages.sketch[this.showAsZ?"z":"elevation"],unlockOnVertexPlacement:!1,...t}}};(0,r._)([(0,l.Cb)()],d.prototype,"showAsZ",void 0),d=(0,r._)([(0,c.j)("esri.views.interactive.tooltip.fields.TooltipFieldElevation")],d);var h=i(55430),f=i(53257);let m=class extends u{constructor(t){super(t),this.precision=1}normalizeCtorArgs(t){return{name:"orientation",actual:null,parse:(0,n.xw)({createQuantity:(t,e)=>(0,o.GJ)(t,(t=>t.inputUnitInfos.angle.unit)(e),"geographic"),sanitize:n.i3}),format:t=>{const e=(0,f.d3)(t);return(0,h.cy)(e,"geographic",this.precision)},formatForInputMode:(t,e)=>{const i=(0,f.d3)(t);return e.formatters.scalar(i)},suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>t.messages.sketch.orientation,...t}}};(0,r._)([(0,l.Cb)()],m.prototype,"precision",void 0),m=(0,r._)([(0,c.j)("esri.views.interactive.tooltip.fields.TooltipFieldOrientation")],m);let y=class extends u{constructor(t){super(t),this.precision=null}normalizeCtorArgs(t){const e=t=>t.inputUnitInfos.length.unit;return{name:"size",actual:null,parse:(0,n.xw)({createQuantity:(t,i)=>(0,o.yG)(t,e(i))}),format:(t,e)=>e.formatters.length(t),formatForInputMode:(t,i)=>i.formatters.scalar((0,o.nn)(t,e(i))),suffix:t=>t.inputUnitInfos.length.abbreviation,title:t=>t.messages.sketch.size,...t}}};function g(t){const e=t=>t.inputUnitInfos.angle.unit,i=t=>t.sketchOptions.values.effectiveDirectionMode;return new u({name:"direction",actual:o.Ww,parse:(0,n.xw)({createQuantity:(t,i)=>(0,o.GJ)(t,e(i),"geographic"),sanitize:n.i3}),format:(t,e)=>{const o=i(e),n=(0,f.Ci)(t,o);switch(o){case f.uE.Absolute:return e.formatters.direction(n);case f.uE.Relative:return e.formatters.directionRelative(n);case f.uE.RelativeBilateral:return e.formatters.directionRelativeBilateral(n)}},formatForInputMode:(t,n)=>{const r=(0,f.Ci)(t,i(n));return n.formatters.scalar((0,o.nn)(r,e(n)))},suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>{const e=i(t),{absolute:o,relative:n}=t.messages.sketch.direction;switch(e){case f.uE.Absolute:return o;case f.uE.Relative:case f.uE.RelativeBilateral:return n}},...t})}function v(t){const e=t=>t.inputUnitInfos.length.unit;return new u({name:"distance",actual:o.yP,parse:(0,n.xw)({createQuantity:(t,i)=>(0,o.yG)(Math.max(t,0),e(i))}),format:(t,e)=>e.formatters.length(t),formatForInputMode:(t,i)=>i.formatters.scalar((0,o.nn)(t,e(i))),suffix:t=>t.inputUnitInfos.length.abbreviation,title:t=>t.messages.sketch.distance,...t})}function b(t){return v({format:(t,e)=>e.formatters.totalLength(t),title:t=>t.messages.sketch.totalLength,readOnly:!0,...t})}function C(t){return v({...t})}function _(t){return v({...t,parse:(0,n.xw)({createQuantity:(t,e)=>(0,o.yG)(t,(t=>t.inputUnitInfos.length.unit)(e))}),format:(t,e)=>e.formatters.lengthRelative(t)})}function k(t){return new d(t)}function w(t){return new m(t)}function M(t){return new y(t)}function I(t){return V("scale",{name:"scale",actual:null,parse:(0,n.xw)({createQuantity:t=>(0,o.M1)(Math.abs(t))}),...t})}function x(t){const e=t=>t.inputUnitInfos.area.unit;return new u({name:"area",actual:o.MQ,parse:(0,n.xw)({createQuantity:(t,i)=>(0,o.ne)(t,e(i))}),format:(t,e)=>e.formatters.area(t),formatForInputMode:(t,i)=>i.formatters.scalar((0,o.nn)(t,e(i))),suffix:t=>t.inputUnitInfos.area.abbreviation,title:t=>t.messages.sketch.area,readOnly:!0,...t})}function O(t){return new u({name:"x",actual:o.Ww,parse:n.OP,format:(t,e)=>e.formatters.longitudeDecimalDegrees(t),formatForInputMode:t=>(0,n.aq)(t),suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>t.messages.sketch.longitude,...t})}function P(t){return new u({name:"y",actual:o.Ww,parse:n.BP,format:(t,e)=>e.formatters.latitudeDecimalDegrees(t),formatForInputMode:t=>(0,n.Vk)(t),suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>t.messages.sketch.latitude,...t})}function A(t){return V("x",{name:"x",...t})}function U(t){return V("y",{name:"y",...t})}function V(t,e){return new u({actual:(0,o.M1)(0),parse:(0,n.xw)({createQuantity:t=>(0,o.M1)(t)}),format:(t,e)=>e.formatters.scalar(t),formatForInputMode:(t,e)=>e.formatters.scalar(t),title:e=>e.messages.sketch[t],...e})}(0,r._)([(0,l.Cb)()],y.prototype,"precision",void 0),y=(0,r._)([(0,c.j)("esri.views.interactive.tooltip.fields.TooltipFieldSize")],y)},8140:function(t,e,i){i.d(e,{A:function(){return p}});var o=i(73440),n=i(1925),r=i(17155),s=(i(61432),i(96711),i(83850),i(48023)),a=i(33551),l=i(83768),c=i(9424),u=i(10618);const p=t=>{let e=class extends t{constructor(){super(...arguments),this.longitude=(0,l.H4)(),this.latitude=(0,l.f9)(),this.x=(0,l.zi)(),this.y=(0,l.PY)(),this.elevation=(0,l.do)(),this.geographic=!1}get effectiveX(){return this.geographic?this.longitude:this.x}get effectiveY(){return this.geographic?this.latitude:this.y}get key(){return{longitude:this.longitude.actual,latitude:this.latitude.actual,x:this.x.actual,y:this.y.actual,elevation:this.elevation.actual,geographic:this.geographic}}setLocationFromPoint(t,e=t?.spatialReference){if(this.geographic=!!e&&(0,u.op)(e),null==t)return this._setActualLonLat(null,null),void this._setActualXY(null,null);if(this.geographic){const e=(0,a.MW)(t,d);this._setActualLonLat((0,c.iY)(e?.[0]),(0,c.iY)(e?.[1]))}else this._setActualXY((0,n.M1)(t.x),(0,n.M1)(t.y))}_setActualLonLat(t,e){this.longitude.actual=t,this.latitude.actual=e}_setActualXY(t,e){this.x.actual=t,this.y.actual=e}};return(0,o._)([(0,r.Cb)()],e.prototype,"geographic",void 0),(0,o._)([(0,r.Cb)()],e.prototype,"effectiveX",null),(0,o._)([(0,r.Cb)()],e.prototype,"effectiveY",null),(0,o._)([(0,r.Cb)()],e.prototype,"key",null),e=(0,o._)([(0,s.j)("esri.views.interactive.tooltip.infos.TooltipInfoWithCoordinates")],e),e},d=[0,0]}}]);